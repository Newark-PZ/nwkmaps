(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"4ZJM":function(t,e,n){t.exports=function(){"use strict";var t,e,n;function i(i,o){if(t)if(e){var r="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(n=o(a)).workerUrl=window.URL.createObjectURL(new Blob([r],{type:"text/javascript"}))}else e=o;else t=o}return i(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i;function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,i,o,r,a;for(void 0===e&&(e=1e-6),o=t,a=0;a<8;a++){if(r=this.sampleCurveX(o)-t,Math.abs(r)<e)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=r/s}if((o=t)<(n=0))return n;if(o>(i=1))return i;for(;n<i;){if(r=this.sampleCurveX(o),Math.abs(r-t)<e)return o;t>r?n=o:i=o,o=.5*(i-n)+n}return o},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var o=r;function r(t,e){this.x=t,this.y=e}function a(t,e,i,o){var r=new n(t,e,i,o);return function(t){return r.solve(t)}}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),o=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-i*(this.y-e.y),this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t};var s=a(.25,.1,.25,1);function u(t,e,n){return Math.min(n,Math.max(e,t))}function c(t,e,n){var i=n-e,o=((t-e)%i+i)%i+e;return o===e?n:o}function l(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,o=e;i<o.length;i+=1){var r=o[i];for(var a in r)t[a]=r[a]}return t}var d=1;function h(){return d++}function p(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function f(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function g(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function m(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var i={};for(var o in t)i[o]=e.call(n||this,t[o],o,t);return i}function y(t,e,n){var i={};for(var o in t)e.call(n||this,t[o],o,t)&&(i[o]=t[o]);return i}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?_(t,b):t}var v={};function C(t){v[t]||("undefined"!=typeof console&&console.warn(t),v[t]=!0)}function x(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function w(t){for(var e=0,n=0,i=t.length,o=i-1,r=void 0,a=void 0;n<i;o=n++)e+=((a=t[o]).x-(r=t[n]).x)*(r.y+a.y);return e}function P(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function M(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,i,o){var r=i||o;return e[n]=!r||r.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var O=null;function k(t){if(null==O){var e=t.navigator?t.navigator.userAgent:null;O=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return O}function E(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var S,T,A,I,D=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),R=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,F=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,L={now:D,frame:function(t){var e=R(t);return{cancel:function(){return F(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=self.document.createElement("canvas"),i=n.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return S||(S=self.document.createElement("a")),S.href=t,S.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(null==T&&(T=self.matchMedia("(prefers-reduced-motion: reduce)")),T.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(t){!N&&I&&(V?U(t):A=t)}},N=!1,V=!1;function U(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,I),t.isContextLost())return;B.supported=!0}catch(t){}t.deleteTexture(e),N=!0}self.document&&((I=self.document.createElement("img")).onload=function(){A&&U(A),A=null,V=!0},I.onerror=function(){N=!0,A=null},I.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var q="01",j=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function G(t){return 0===t.indexOf("mapbox:")}j.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",q,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},j.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},j.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},j.prototype.normalizeStyleURL=function(t,e){if(!G(t))return t;var n=K(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeGlyphsURL=function(t,e){if(!G(t))return t;var n=K(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeSourceURL=function(t,e){if(!G(t))return t;var n=K(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},j.prototype.normalizeSpriteURL=function(t,e,n,i){var o=K(t);return G(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+n,this._makeAPIURL(o,this._customAccessToken||i)):(o.path+=""+e+n,X(o))},j.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!G(t))return t;var n=K(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(L.devicePixelRatio>=2||512===e?"@2x":"")+(B.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var i=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e].match(/^access_token=(.*)$/);if(i)return i[1]}return null}(n.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)},j.prototype.canonicalizeTileURL=function(t,e){var n=K(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var i="mapbox://tiles/";i+=n.path.replace("/v4/","");var o=n.params;return e&&(o=o.filter((function(t){return!t.match(/^access_token=/)}))),o.length&&(i+="?"+o.join("&")),i},j.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&G(e),i=[],o=0,r=t.tiles||[];o<r.length;o+=1){var a=r[o];Z(a)?i.push(this.canonicalizeTileURL(a,n)):i.push(a)}return i},j.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",i=K(z.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!z.REQUIRE_ACCESS_TOKEN)return X(t);if(!(e=e||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter((function(t){return-1===t.indexOf("access_token")})),t.params.push("access_token="+e),X(t)};var H=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(t){return H.test(t)}var W=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(t){var e=t.match(W);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function X(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function $(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(e[1]).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return null}}var Y=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Y.prototype.getStorageKey=function(t){var e,n=$(z.ACCESS_TOKEN);return e=n&&n.u?self.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))}))):z.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Y.prototype.fetchEventData=function(){var t=E("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var i=self.localStorage.getItem(e);i&&(this.eventData=JSON.parse(i));var o=self.localStorage.getItem(n);o&&(this.anonId=o)}catch(t){C("Unable to read from LocalStorage")}},Y.prototype.saveEventData=function(){var t=E("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){C("Unable to write to LocalStorage")}},Y.prototype.processRequests=function(t){},Y.prototype.postEvent=function(t,e,n,i){var o=this;if(z.EVENTS_URL){var r=K(z.EVENTS_URL);r.params.push("access_token="+(i||z.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.8.1",skuId:q,userId:this.anonId},s=e?l(a,e):a,u={url:X(r),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=vt(u,(function(t){o.pendingRequest=null,n(t),o.saveEventData(),o.processRequests(i)}))}},Y.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var Q,J,tt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,i){this.skuToken=n,(z.EVENTS_URL&&i||z.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return G(t)||Z(t)})))&&this.queueRequest({id:e,timestamp:Date.now()},i)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),i=n.id,o=n.timestamp;i&&this.success[i]||(this.anonId||this.fetchEventData(),f(this.anonId)||(this.anonId=p()),this.postEvent(o,{skuToken:this.skuToken},(function(t){t||i&&(e.success[i]=!0)}),t))}},e}(Y),et=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return G(t)||Z(t)}))&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=$(z.ACCESS_TOKEN),i=n?n.u:z.ACCESS_TOKEN,o=i!==this.eventData.tokenU;f(this.anonId)||(this.anonId=p(),o=!0);var r=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(r),u=(r-this.eventData.lastSuccess)/864e5;o=o||u>=1||u<-1||a.getDate()!==s.getDate()}else o=!0;if(!o)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=r,e.eventData.tokenU=i)}),t)}},e}(Y)),nt=et.postTurnstileEvent.bind(et),it=new tt,ot=it.postMapLoadEvent.bind(it),rt="mapbox-tiles",at=500,st=50;function ut(){self.caches&&!Q&&(Q=self.caches.open(rt))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var lt,dt=1/0;function ht(){return null==lt&&(lt=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof self.createImageBitmap),lt}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pt);var ft,gt,mt=function(t){function e(e,n,i){401===n&&Z(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=i,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),_t=P()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===self.location.protocol?self.parent:self).location.href},yt=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(_t())&&!/^\w+:/.test(n))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,i=new self.AbortController,o=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:_t(),signal:i.signal}),r=!1,a=!1,s=(n=o.url).indexOf("sku=")>0&&Z(n);"json"===t.type&&o.headers.set("Accept","application/json");var u=function(n,i,r){if(!a){if(n&&"SecurityError"!==n.message&&C(n),i&&r)return c(i);var u=Date.now();self.fetch(o).then((function(n){if(n.ok){var i=s?n.clone():null;return c(n,i,u)}return e(new mt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))}))}},c=function(n,i,s){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then((function(t){a||(i&&s&&function(t,e,n){if(ut(),Q){var i={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return i.headers.set(e,t)}));var o=M(e.headers.get("Cache-Control")||"");o["no-store"]||(o["max-age"]&&i.headers.set("Expires",new Date(n+1e3*o["max-age"]).toUTCString()),new Date(i.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===J)try{new Response(new ReadableStream),J=!0}catch(t){J=!1}J?e(t.body):t.blob().then(e)}(e,(function(e){var n=new self.Response(e,i);ut(),Q&&Q.then((function(e){return e.put(ct(t.url),n)})).catch((function(t){return C(t.message)}))})))}}(o,i,s),r=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((function(t){a||e(new Error(t.message))}))};return s?function(t,e){if(ut(),!Q)return e(null);var n=ct(t.url);Q.then((function(t){t.match(n).then((function(i){var o=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=M(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(i);t.delete(n),o&&t.put(n,i.clone()),e(null,i,o)})).catch(e)})).catch(e)}(o,u):u(null,null),{cancel:function(){a=!0,r||i.abort()}}}(t,e);if(P()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new self.XMLHttpRequest;for(var i in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(i,t.headers[i]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var i=n.response;if("json"===t.type)try{i=JSON.parse(n.response)}catch(t){return e(t)}e(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new mt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return yt(l(t,{type:"arrayBuffer"}),e)},vt=function(t,e){return yt(l(t,{method:"POST"}),e)};ft=[],gt=0;var Ct=function(t,e){if(B.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),gt>=z.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return ft.push(n),n}gt++;var i=!1,o=function(){if(!i)for(i=!0,gt--;ft.length&&gt<z.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ft.shift();t.cancelled||(t.cancel=Ct(t.requestParameters,t.callback).cancel)}},r=bt(t,(function(t,n,i,r){o(),t?e(t):n&&(ht()?function(t,e){var n=new self.Blob([new Uint8Array(t)],{type:"image/png"});self.createImageBitmap(n).then((function(t){e(null,t)})).catch((function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}))}(n,e):function(t,e,n,i){var o=new self.Image,r=self.URL;o.onload=function(){e(null,o),r.revokeObjectURL(o.src)},o.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var a=new self.Blob([new Uint8Array(t)],{type:"image/png"});o.cacheControl=n,o.expires=i,o.src=t.byteLength?r.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(n,e,i,r))}));return{cancel:function(){r.cancel(),o()}}};function xt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function wt(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}var Pt=function(t,e){void 0===e&&(e={}),l(this,e),this.type=t},Mt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",l({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pt),Ot=function(){};Ot.prototype.on=function(t,e){return this._listeners=this._listeners||{},xt(t,e,this._listeners),this},Ot.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Ot.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},xt(t,e,this._oneTimeListeners),this},Ot.prototype.fire=function(t,e){"string"==typeof t&&(t=new Pt(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var i=0,o=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];i<o.length;i+=1)o[i].call(this,t);for(var r=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];r<a.length;r+=1){var s=a[r];wt(n,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(l(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof Mt&&console.error(t.error);return this},Ot.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Ot.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var kt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Et=function(t,e,n,i){this.message=(t?t+": ":"")+n,i&&(this.identifier=i),null!=e&&e.__line__&&(this.line=e.__line__)};function St(t){var e=t.value;return e?[new Et(t.key,e,"constants have been deprecated as of v8")]:[]}function Tt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,o=e;i<o.length;i+=1){var r=o[i];for(var a in r)t[a]=r[a]}return t}function At(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function It(t){if(Array.isArray(t))return t.map(It);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=It(t[n]);return e}return At(t)}var Dt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Rt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,i=e;n<i.length;n+=1){var o=i[n];this.bindings[o[0]]=o[1]}};Rt.prototype.concat=function(t){return new Rt(this,t)},Rt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Rt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Ft={kind:"null"},Lt={kind:"number"},zt={kind:"string"},Bt={kind:"boolean"},Nt={kind:"color"},Vt={kind:"object"},Ut={kind:"value"},qt={kind:"collator"},jt={kind:"formatted"},Gt={kind:"resolvedImage"};function Ht(t,e){return{kind:"array",itemType:t,N:e}}function Zt(t){if("array"===t.kind){var e=Zt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Wt=[Ft,Lt,zt,Bt,Nt,jt,Vt,Ht(Ut),Gt];function Kt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Kt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,i=Wt;n<i.length;n+=1)if(!Kt(i[n],e))return null}return"Expected "+Zt(t)+" but found "+Zt(e)+" instead."}var Xt=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function r(t){return function(t){return t<0?0:t>1?1:t}("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=s.indexOf("("),c=s.indexOf(")");if(-1!==u&&c+1===s.length){var l=s.substr(0,u),d=s.substr(u+1,c-(u+1)).split(","),h=1;switch(l){case"rgba":if(4!==d.length)return null;h=r(d.pop());case"rgb":return 3!==d.length?null:[o(d[0]),o(d[1]),o(d[2]),h];case"hsla":if(4!==d.length)return null;h=r(d.pop());case"hsl":if(3!==d.length)return null;var p=(parseFloat(d[0])%360+360)%360/360,f=r(d[1]),g=r(d[2]),m=g<=.5?g*(f+1):g+f-g*f,_=2*g-m;return[i(255*a(_,m,p+1/3)),i(255*a(_,m,p)),i(255*a(_,m,p-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,$t=function(t,e,n,i){void 0===i&&(i=1),this.r=t,this.g=e,this.b=n,this.a=i};$t.parse=function(t){if(t){if(t instanceof $t)return t;if("string"==typeof t){var e=Xt(t);if(e)return new $t(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},$t.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],i=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+i+")"},$t.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},$t.black=new $t(0,0,0,1),$t.white=new $t(1,1,1,1),$t.transparent=new $t(0,0,0,0),$t.red=new $t(1,0,0,1);var Yt=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yt.prototype.compare=function(t,e){return this.collator.compare(t,e)},Yt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Qt=function(t,e,n,i,o){this.text=t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=o},Jt=function(t){this.sections=t};Jt.fromString=function(t){return new Jt([new Qt(t,null,null,null,null)])},Jt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},Jt.factory=function(t){return t instanceof Jt?t:Jt.fromString(t)},Jt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},Jt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];if(i.image)t.push(["image",i.image.name]);else{t.push(i.text);var o={};i.fontStack&&(o["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(o["font-scale"]=i.scale),i.textColor&&(o["text-color"]=["rgba"].concat(i.textColor.toArray())),t.push(o)}}return t};var te=function(t){this.name=t.name,this.available=t.available};function ee(t,e,n,i){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[t,e,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ne(t){if(null===t)return Ft;if("string"==typeof t)return zt;if("boolean"==typeof t)return Bt;if("number"==typeof t)return Lt;if(t instanceof $t)return Nt;if(t instanceof Yt)return qt;if(t instanceof Jt)return jt;if(t instanceof te)return Gt;if(Array.isArray(t)){for(var e,n=t.length,i=0,o=t;i<o.length;i+=1){var r=ne(o[i]);if(e){if(e===r)continue;e=Ut;break}e=r}return Ht(e||Ut,n)}return Vt}function ie(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof $t||t instanceof Jt||t instanceof te?t.toString():JSON.stringify(t)}te.prototype.toString=function(){return this.name},te.fromString=function(t){return new te({name:t,available:!1})},te.prototype.serialize=function(){return["image",this.name]};var oe=function(t,e){this.type=t,this.value=e};oe.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof $t)return!0;if(e instanceof Yt)return!0;if(e instanceof Jt)return!0;if(e instanceof te)return!0;if(Array.isArray(e)){for(var n=0,i=e;n<i.length;n+=1)if(!t(i[n]))return!1;return!0}if("object"==typeof e){for(var o in e)if(!t(e[o]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],i=ne(n),o=e.expectedType;return"array"!==i.kind||0!==i.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(i=o),new oe(i,n)},oe.prototype.evaluate=function(){return this.value},oe.prototype.eachChild=function(){},oe.prototype.possibleOutputs=function(){return[this.value]},oe.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof $t?["rgba"].concat(this.value.toArray()):this.value instanceof Jt?this.value.serialize():this.value};var re=function(t){this.name="ExpressionEvaluationError",this.message=t};re.prototype.toJSON=function(){return this.message};var ae={string:zt,number:Lt,boolean:Bt,object:Vt},se=function(t,e){this.type=t,this.args=e};se.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,i=1,o=t[0];if("array"===o){var r,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in ae)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);r=ae[s],i++}else r=Ut;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],i++}n=Ht(r,a)}else n=ae[o];for(var u=[];i<t.length;i++){var c=e.parse(t[i],i,Ut);if(!c)return null;u.push(c)}return new se(n,u)},se.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Kt(this.type,ne(n)))return n;if(e===this.args.length-1)throw new re("Expected value to be of type "+Zt(this.type)+", but found "+Zt(ne(n))+" instead.")}return null},se.prototype.eachChild=function(t){this.args.forEach(t)},se.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},se.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var i=t.N;("number"==typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var ue=function(t){this.type=jt,this.sections=t};ue.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var i=[],o=!1,r=1;r<=t.length-1;++r){var a=t[r];if(o&&"object"==typeof a&&!Array.isArray(a)){o=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Lt)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Ht(zt))))return null;var c=null;if(a["text-color"]&&!(c=e.parse(a["text-color"],1,Nt)))return null;var l=i[i.length-1];l.scale=s,l.font=u,l.textColor=c}else{var d=e.parse(t[r],1,Ut);if(!d)return null;var h=d.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:d,scale:null,font:null,textColor:null})}}return new ue(i)},ue.prototype.evaluate=function(t){return new Jt(this.sections.map((function(e){var n=e.content.evaluate(t);return ne(n)===Gt?new Qt("",n,null,null,null):new Qt(ie(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},ue.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t(i.content),i.scale&&t(i.scale),i.font&&t(i.font),i.textColor&&t(i.textColor)}},ue.prototype.possibleOutputs=function(){return[void 0]},ue.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t.push(i.content.serialize());var o={};i.scale&&(o["font-scale"]=i.scale.serialize()),i.font&&(o["text-font"]=i.font.serialize()),i.textColor&&(o["text-color"]=i.textColor.serialize()),t.push(o)}return t};var ce=function(t){this.type=Gt,this.input=t};ce.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,zt);return n?new ce(n):e.error("No image name provided.")},ce.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=!1;return t.availableImages&&t.availableImages.indexOf(e)>-1&&(n=!0),new te({name:e,available:n})},ce.prototype.eachChild=function(t){t(this.input)},ce.prototype.possibleOutputs=function(){return[void 0]},ce.prototype.serialize=function(){return["image",this.input.serialize()]};var le={"to-boolean":Bt,"to-color":Nt,"to-number":Lt,"to-string":zt},de=function(t,e){this.type=t,this.args=e};de.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var i=le[n],o=[],r=1;r<t.length;r++){var a=e.parse(t[r],r,Ut);if(!a)return null;o.push(a)}return new de(i,o)},de.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,i=0,o=this.args;i<o.length;i+=1){if(n=null,(e=o[i].evaluate(t))instanceof $t)return e;if("string"==typeof e){var r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ee(e[0],e[1],e[2],e[3])))return new $t(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new re(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var c=Number(a);if(!isNaN(c))return c}throw new re("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?Jt.fromString(ie(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?te.fromString(ie(this.args[0].evaluate(t))):ie(this.args[0].evaluate(t))},de.prototype.eachChild=function(t){this.args.forEach(t)},de.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},de.prototype.serialize=function(){if("formatted"===this.type.kind)return new ue([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ce(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var he=["Unknown","Point","LineString","Polygon"],pe=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null};pe.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},pe.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?he[this.feature.type]:this.feature.type:null},pe.prototype.properties=function(){return this.feature&&this.feature.properties||{}},pe.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=$t.parse(t)),e};var fe=function(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i};fe.prototype.evaluate=function(t){return this._evaluate(t,this.args)},fe.prototype.eachChild=function(t){this.args.forEach(t)},fe.prototype.possibleOutputs=function(){return[void 0]},fe.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},fe.parse=function(t,e){var n,i=t[0],o=fe.definitions[i];if(!o)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var r=Array.isArray(o)?o[0]:o.type,a=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,c=0,l=s;c<l.length;c+=1){var d=l[c],h=d[0],p=d[1];u=new ve(e.registry,e.path,null,e.scope);for(var f=[],g=!1,m=1;m<t.length;m++){var _=t[m],y=Array.isArray(h)?h[m-1]:h.type,b=u.parse(_,1+f.length,y);if(!b){g=!0;break}f.push(b)}if(!g)if(Array.isArray(h)&&h.length!==f.length)u.error("Expected "+h.length+" arguments, but found "+f.length+" instead.");else{for(var v=0;v<f.length;v++){var C=Array.isArray(h)?h[v]:h.type,x=f[v];u.concat(v+1).checkSubtype(C,x.type)}if(0===u.errors.length)return new fe(i,r,p,f)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var w=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Zt).join(", ")+")":"("+Zt(e.type)+"...)"})).join(" | "),P=[],M=1;M<t.length;M++){var O=e.parse(t[M],1+P.length);if(!O)return null;P.push(Zt(O.type))}e.error("Expected arguments of type "+w+", but found ("+P.join(", ")+") instead.")}return null},fe.register=function(t,e){for(var n in fe.definitions=e,e)t[n]=fe};var ge=function(t,e,n){this.type=qt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function me(t){if(t instanceof fe){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!me(t)&&(e=!1)})),e}function _e(t){if(t instanceof fe&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!_e(t)&&(e=!1)})),e}function ye(t,e){if(t instanceof fe&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!ye(t,e)&&(n=!1)})),n}ge.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Bt);if(!i)return null;var o=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Bt);if(!o)return null;var r=null;return n.locale&&!(r=e.parse(n.locale,1,zt))?null:new ge(i,o,r)},ge.prototype.evaluate=function(t){return new Yt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ge.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ge.prototype.possibleOutputs=function(){return[void 0]},ge.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var be=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};be.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new be(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},be.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},be.prototype.eachChild=function(){},be.prototype.possibleOutputs=function(){return[void 0]},be.prototype.serialize=function(){return["var",this.name]};var ve=function(t,e,n,i,o){void 0===e&&(e=[]),void 0===i&&(i=new Rt),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=i,this.errors=o,this.expectedType=n};function Ce(t,e){for(var n,i=t.length-1,o=0,r=i,a=0;o<=r;)if((n=t[a=Math.floor((o+r)/2)])<=e){if(a===i||e<t[a+1])return a;o=a+1}else{if(!(n>e))throw new re("Input is not a number.");r=a-1}return 0}ve.prototype.parse=function(t,e,n,i,o){return void 0===o&&(o={}),e?this.concat(e,n,i)._parse(t,o):this._parse(t,o)},ve.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new se(e,[t]):"coerce"===n?new de(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[i];if(o){var r=o.parse(t,this);if(!r)return null;if(this.expectedType){var a=this.expectedType,s=r.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else r=n(r,a,e.typeAnnotation||"coerce");else r=n(r,a,e.typeAnnotation||"assert")}if(!(r instanceof oe)&&"resolvedImage"!==r.type.kind&&function t(e){if(e instanceof be)return t(e.boundExpression);if(e instanceof fe&&"error"===e.name)return!1;if(e instanceof ge)return!1;var n=e instanceof de||e instanceof se,i=!0;return e.eachChild((function(e){i=n?i&&t(e):i&&e instanceof oe})),!!i&&me(e)&&ye(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(r)){var u=new pe;try{r=new oe(r.type,r.evaluate(u))}catch(t){return this.error(t.message),null}}return r}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},ve.prototype.concat=function(t,e,n){var i="number"==typeof t?this.path.concat(t):this.path,o=n?this.scope.concat(n):this.scope;return new ve(this.registry,i,e||null,o,this.errors)},ve.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Dt(i,t))},ve.prototype.checkSubtype=function(t,e){var n=Kt(t,e);return n&&this.error(n),n};var xe=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,o=n;i<o.length;i+=1){var r=o[i],a=r[1];this.labels.push(r[0]),this.outputs.push(a)}};function we(t,e,n){return t*(1-n)+e*n}xe.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Lt);if(!n)return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType);for(var r=1;r<t.length;r+=2){var a=1===r?-1/0:t[r],s=t[r+1],u=r,c=r+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var l=e.parse(s,c,o);if(!l)return null;o=o||l.type,i.push([a,l])}return new xe(o,n,i)},xe.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var o=e.length;return i>=e[o-1]?n[o-1].evaluate(t):n[Ce(e,i)].evaluate(t)},xe.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},xe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},xe.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Pe=Object.freeze({__proto__:null,number:we,color:function(t,e,n){return new $t(we(t.r,e.r,n),we(t.g,e.g,n),we(t.b,e.b,n),we(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,i){return we(t,e[i],n)}))}}),Me=6/29*3*(6/29),Oe=Math.PI/180,ke=180/Math.PI;function Ee(t){return t>.008856451679035631?Math.pow(t,1/3):t/Me+4/29}function Se(t){return t>6/29?t*t*t:Me*(t-4/29)}function Te(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ae(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ie(t){var e=Ae(t.r),n=Ae(t.g),i=Ae(t.b),o=Ee((.4124564*e+.3575761*n+.1804375*i)/.95047),r=Ee((.2126729*e+.7151522*n+.072175*i)/1);return{l:116*r-16,a:500*(o-r),b:200*(r-Ee((.0193339*e+.119192*n+.9503041*i)/1.08883)),alpha:t.a}}function De(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=1*Se(e),n=.95047*Se(n),i=1.08883*Se(i),new $t(Te(3.2404542*n-1.5371385*e-.4985314*i),Te(-.969266*n+1.8760108*e+.041556*i),Te(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function Re(t,e,n){var i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}var Fe={forward:Ie,reverse:De,interpolate:function(t,e,n){return{l:we(t.l,e.l,n),a:we(t.a,e.a,n),b:we(t.b,e.b,n),alpha:we(t.alpha,e.alpha,n)}}},Le={forward:function(t){var e=Ie(t),n=e.l,i=e.a,o=e.b,r=Math.atan2(o,i)*ke;return{h:r<0?r+360:r,c:Math.sqrt(i*i+o*o),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Oe,n=t.c;return De({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:Re(t.h,e.h,n),c:we(t.c,e.c,n),l:we(t.l,e.l,n),alpha:we(t.alpha,e.alpha,n)}}},ze=Object.freeze({__proto__:null,lab:Fe,hcl:Le}),Be=function(t,e,n,i,o){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var r=0,a=o;r<a.length;r+=1){var s=a[r],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function Ne(t,e,n,i){var o=i-n,r=t-n;return 0===o?0:1===e?r/o:(Math.pow(e,r)-1)/(Math.pow(e,o)-1)}Be.interpolationFactor=function(t,e,i,o){var r=0;if("exponential"===t.name)r=Ne(e,t.base,i,o);else if("linear"===t.name)r=Ne(e,1,i,o);else if("cubic-bezier"===t.name){var a=t.controlPoints;r=new n(a[0],a[1],a[2],a[3]).solve(Ne(e,1,i,o))}return r},Be.parse=function(t,e){var n=t[0],i=t[1],o=t[2],r=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var a=i[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:a}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(o=e.parse(o,2,Lt)))return null;var u=[],c=null;"interpolate-hcl"===n||"interpolate-lab"===n?c=Nt:e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var l=0;l<r.length;l+=2){var d=r[l],h=r[l+1],p=l+3,f=l+4;if("number"!=typeof d)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(u.length&&u[u.length-1][0]>=d)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var g=e.parse(h,f,c);if(!g)return null;c=c||g.type,u.push([d,g])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new Be(c,n,i,o,u):e.error("Type "+Zt(c)+" is not interpolatable.")},Be.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var o=e.length;if(i>=e[o-1])return n[o-1].evaluate(t);var r=Ce(e,i),a=Be.interpolationFactor(this.interpolation,i,e[r],e[r+1]),s=n[r].evaluate(t),u=n[r+1].evaluate(t);return"interpolate"===this.operator?Pe[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?Le.reverse(Le.interpolate(Le.forward(s),Le.forward(u),a)):Fe.reverse(Fe.interpolate(Fe.forward(s),Fe.forward(u),a))},Be.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Be.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Be.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Ve=function(t,e){this.type=t,this.args=e};Ve.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,i=e.expectedType;i&&"value"!==i.kind&&(n=i);for(var o=[],r=0,a=t.slice(1);r<a.length;r+=1){var s=e.parse(a[r],1+o.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,o.push(s)}var u=i&&o.some((function(t){return Kt(i,t.type)}));return new Ve(u?Ut:n,o)},Ve.prototype.evaluate=function(t){for(var e,n=null,i=0,o=0,r=this.args;o<r.length&&(i++,(n=r[o].evaluate(t))&&n instanceof te&&!n.available&&(e||(e=n.name),n=null,i===this.args.length&&(n=e)),null===n);o+=1);return n},Ve.prototype.eachChild=function(t){this.args.forEach(t)},Ve.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Ve.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ue=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Ue.prototype.evaluate=function(t){return this.result.evaluate(t)},Ue.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},Ue.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var o=t[i];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",i);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var r=e.parse(t[i+1],i+1);if(!r)return null;n.push([o,r])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new Ue(n,a):null},Ue.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Ue.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var i=n[e];t.push(i[0],i[1].serialize())}return t.push(this.result.serialize()),t};var qe=function(t,e,n){this.type=t,this.index=e,this.input=n};qe.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Lt),i=e.parse(t[2],2,Ht(e.expectedType||Ut));return n&&i?new qe(i.type.itemType,n,i):null},qe.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new re("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new re("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new re("Array index must be an integer, but found "+e+" instead.");return n[e]},qe.prototype.eachChild=function(t){t(this.index),t(this.input)},qe.prototype.possibleOutputs=function(){return[void 0]},qe.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var je=function(t,e){this.type=Bt,this.needle=t,this.haystack=e};je.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n,i=e.parse(t[1],1,Ut),o=e.parse(t[2],2,Ut);return i&&o?"boolean"!==(n=i.type).kind&&"string"!==n.kind&&"number"!==n.kind&&"null"!==n.kind&&"value"!==n.kind?e.error("Expected first argument to be of type boolean, string, number or null, but found "+Zt(i.type)+" instead"):new je(i,o):null},je.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!e||!n)return!1;if(!function(t){return"boolean"==typeof t||"string"==typeof t||"number"==typeof t}(e))throw new re("Expected first argument to be of type boolean, string or number, but found "+Zt(ne(e))+" instead.");if(!function(t){return Array.isArray(t)||"string"==typeof t}(n))throw new re("Expected second argument to be of type array or string, but found "+Zt(ne(n))+" instead.");return n.indexOf(e)>=0},je.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},je.prototype.possibleOutputs=function(){return[!0,!1]},je.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ge=function(t,e,n,i,o,r){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=o,this.otherwise=r};Ge.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o={},r=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var c=e.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(var l=0,d=s;l<d.length;l+=1){var h=d[l];if("number"!=typeof h&&"string"!=typeof h)return c.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,ne(h)))return null}else n=ne(h);if(void 0!==o[String(h)])return c.error("Branch labels must be unique.");o[String(h)]=r.length}var p=e.parse(u,a,i);if(!p)return null;i=i||p.type,r.push(p)}var f=e.parse(t[1],1,Ut);if(!f)return null;var g=e.parse(t[t.length-1],t.length-1,i);return g?"value"!==f.type.kind&&e.concat(1).checkSubtype(n,f.type)?null:new Ge(n,i,f,o,r,g):null},Ge.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ne(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Ge.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Ge.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Ge.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],i={},o=0,r=Object.keys(this.cases).sort();o<r.length;o+=1){var a=r[o];void 0===(d=i[this.cases[a]])?(i[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[d][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,c=n;u<c.length;u+=1){var l=c[u],d=l[0],h=l[1];e.push(1===h.length?s(h[0]):h.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var He=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Ze(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function We(t,e,n,i){return 0===i.compare(e,n)}function Ke(t,e,n){var i="=="!==t&&"!="!==t;return function(){function o(t,e,n){this.type=Bt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return o.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],r=e.parse(t[1],1,Ut);if(!r)return null;if(!Ze(n,r.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Zt(r.type)+"'.");var a=e.parse(t[2],2,Ut);if(!a)return null;if(!Ze(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Zt(a.type)+"'.");if(r.type.kind!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Zt(r.type)+"' and '"+Zt(a.type)+"'.");i&&("value"===r.type.kind&&"value"!==a.type.kind?r=new se(a.type,[r]):"value"!==r.type.kind&&"value"===a.type.kind&&(a=new se(r.type,[a])));var s=null;if(4===t.length){if("string"!==r.type.kind&&"string"!==a.type.kind&&"value"!==r.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,qt)))return null}return new o(r,a,s)},o.prototype.evaluate=function(o){var r=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(i&&this.hasUntypedArgument){var s=ne(r),u=ne(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new re('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var c=ne(r),l=ne(a);if("string"!==c.kind||"string"!==l.kind)return e(o,r,a)}return this.collator?n(o,r,a,this.collator.evaluate(o)):e(o,r,a)},o.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},o.prototype.possibleOutputs=function(){return[!0,!1]},o.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},o}()}He.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],o=1;o<t.length-1;o+=2){var r=e.parse(t[o],o,Bt);if(!r)return null;var a=e.parse(t[o+1],o+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new He(n,i,s):null},He.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],o=i[1];if(i[0].evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},He.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],o=i[1];t(i[0]),t(o)}t(this.otherwise)},He.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},He.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Xe=Ke("==",(function(t,e,n){return e===n}),We),$e=Ke("!=",(function(t,e,n){return e!==n}),(function(t,e,n,i){return!We(0,e,n,i)})),Ye=Ke("<",(function(t,e,n){return e<n}),(function(t,e,n,i){return i.compare(e,n)<0})),Qe=Ke(">",(function(t,e,n){return e>n}),(function(t,e,n,i){return i.compare(e,n)>0})),Je=Ke("<=",(function(t,e,n){return e<=n}),(function(t,e,n,i){return i.compare(e,n)<=0})),tn=Ke(">=",(function(t,e,n){return e>=n}),(function(t,e,n,i){return i.compare(e,n)>=0})),en=function(t,e,n,i,o){this.type=zt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=o};en.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Lt);if(!n)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");var o=null;if(i.locale&&!(o=e.parse(i.locale,1,zt)))return null;var r=null;if(i.currency&&!(r=e.parse(i.currency,1,zt)))return null;var a=null;if(i["min-fraction-digits"]&&!(a=e.parse(i["min-fraction-digits"],1,Lt)))return null;var s=null;return i["max-fraction-digits"]&&!(s=e.parse(i["max-fraction-digits"],1,Lt))?null:new en(n,o,r,a,s)},en.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},en.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},en.prototype.possibleOutputs=function(){return[void 0]},en.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var nn=function(t){this.type=Lt,this.input=t};nn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Zt(n.type)+" instead."):new nn(n):null},nn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new re("Expected value to be of type string or array, but found "+Zt(ne(e))+" instead.")},nn.prototype.eachChild=function(t){t(this.input)},nn.prototype.possibleOutputs=function(){return[void 0]},nn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var on={"==":Xe,"!=":$e,">":Qe,"<":Ye,">=":tn,"<=":Je,array:se,at:qe,boolean:se,case:He,coalesce:Ve,collator:ge,format:ue,image:ce,in:je,interpolate:Be,"interpolate-hcl":Be,"interpolate-lab":Be,length:nn,let:Ue,literal:oe,match:Ge,number:se,"number-format":en,object:se,step:xe,string:se,"to-boolean":de,"to-color":de,"to-number":de,"to-string":de,var:be};function rn(t,e){var n=e[0],i=e[1],o=e[2],r=e[3];n=n.evaluate(t),i=i.evaluate(t),o=o.evaluate(t);var a=r?r.evaluate(t):1,s=ee(n,i,o,a);if(s)throw new re(s);return new $t(n/255*a,i/255*a,o/255*a,a)}function an(t,e){return t in e}function sn(t,e){var n=e[t];return void 0===n?null:n}function un(t){return{type:t}}function cn(t){return{result:"success",value:t}}function ln(t){return{result:"error",value:t}}function dn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function hn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function pn(t){return!!t.expression&&t.expression.interpolated}function fn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function gn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function mn(t){return t}function _n(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function yn(t,e,n,i,o){return _n(typeof n===o?i[n]:void 0,t.default,e.default)}function bn(t,e,n){if("number"!==fn(n))return _n(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Ce(t.stops.map((function(t){return t[0]})),n);return t.stops[o][1]}function vn(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==fn(n))return _n(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[o-1][0])return t.stops[o-1][1];var r=Ce(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,i){var o=i-n,r=t-n;return 0===o?0:1===e?r/o:(Math.pow(e,r)-1)/(Math.pow(e,o)-1)}(n,i,t.stops[r][0],t.stops[r+1][0]),s=t.stops[r][1],u=t.stops[r+1][1],c=Pe[e.type]||mn;if(t.colorSpace&&"rgb"!==t.colorSpace){var l=ze[t.colorSpace];c=function(t,e){return l.reverse(l.interpolate(l.forward(t),l.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),i=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return c(n,i,a)}}:c(s,u,a)}function Cn(t,e,n){return"color"===e.type?n=$t.parse(n):"formatted"===e.type?n=Jt.fromString(n.toString()):"resolvedImage"===e.type?n=te.fromString(n.toString()):fn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),_n(n,t.default,e.default)}fe.register(on,{error:[{kind:"error"},[zt],function(t,e){throw new re(e[0].evaluate(t))}],typeof:[zt,[Ut],function(t,e){return Zt(ne(e[0].evaluate(t)))}],"to-rgba":[Ht(Lt,4),[Nt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Nt,[Lt,Lt,Lt],rn],rgba:[Nt,[Lt,Lt,Lt,Lt],rn],has:{type:Bt,overloads:[[[zt],function(t,e){return an(e[0].evaluate(t),t.properties())}],[[zt,Vt],function(t,e){var n=e[1];return an(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Ut,overloads:[[[zt],function(t,e){return sn(e[0].evaluate(t),t.properties())}],[[zt,Vt],function(t,e){var n=e[1];return sn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Ut,[zt],function(t,e){return sn(e[0].evaluate(t),t.featureState||{})}],properties:[Vt,[],function(t){return t.properties()}],"geometry-type":[zt,[],function(t){return t.geometryType()}],id:[Ut,[],function(t){return t.id()}],zoom:[Lt,[],function(t){return t.globals.zoom}],"heatmap-density":[Lt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Lt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Ut,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Lt,un(Lt),function(t,e){for(var n=0,i=0,o=e;i<o.length;i+=1)n+=o[i].evaluate(t);return n}],"*":[Lt,un(Lt),function(t,e){for(var n=1,i=0,o=e;i<o.length;i+=1)n*=o[i].evaluate(t);return n}],"-":{type:Lt,overloads:[[[Lt,Lt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Lt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Lt,[Lt,Lt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Lt,[Lt,Lt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Lt,[],function(){return Math.LN2}],pi:[Lt,[],function(){return Math.PI}],e:[Lt,[],function(){return Math.E}],"^":[Lt,[Lt,Lt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Lt,[Lt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Lt,[Lt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Lt,[Lt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Lt,[Lt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Lt,[Lt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Lt,[Lt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Lt,[Lt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Lt,[Lt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Lt,[Lt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Lt,[Lt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Lt,un(Lt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Lt,un(Lt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Lt,[Lt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Lt,[Lt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Lt,[Lt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Lt,[Lt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Bt,[zt,Ut],function(t,e){var n=e[0],i=e[1];return t.properties()[n.value]===i.value}],"filter-id-==":[Bt,[Ut],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Bt,[zt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Bt,[zt,Ut],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],r=i.value;return typeof o==typeof r&&o<r}],"filter-id-<":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),o=n.value;return typeof i==typeof o&&i<o}],"filter->":[Bt,[zt,Ut],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],r=i.value;return typeof o==typeof r&&o>r}],"filter-id->":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),o=n.value;return typeof i==typeof o&&i>o}],"filter-<=":[Bt,[zt,Ut],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],r=i.value;return typeof o==typeof r&&o<=r}],"filter-id-<=":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),o=n.value;return typeof i==typeof o&&i<=o}],"filter->=":[Bt,[zt,Ut],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],r=i.value;return typeof o==typeof r&&o>=r}],"filter-id->=":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),o=n.value;return typeof i==typeof o&&i>=o}],"filter-has":[Bt,[Ut],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Bt,[],function(t){return null!==t.id()}],"filter-type-in":[Bt,[Ht(zt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Bt,[Ht(Ut)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Bt,[zt,Ht(Ut)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Bt,[zt,Ht(Ut)],function(t,e){var n=e[0],i=e[1];return function(t,e,n,i){for(;n<=i;){var o=n+i>>1;if(e[o]===t)return!0;e[o]>t?i=o-1:n=o+1}return!1}(t.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[un(Bt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(!i[n].evaluate(t))return!1;return!0}]]},any:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[un(Bt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(i[n].evaluate(t))return!0;return!1}]]},"!":[Bt,[Bt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Bt,[zt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[zt,[zt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[zt,[zt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[zt,un(Ut),function(t,e){return e.map((function(e){return ie(e.evaluate(t))})).join("")}],"resolved-locale":[zt,[qt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var xn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new pe,this._defaultValue=e?function(t){return"color"===t.type&&gn(t.default)?new $t(0,0,0,0):"color"===t.type?$t.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function wn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in on}function Pn(t,e){var n=new ve(on,[],e?function(t){var e={color:Nt,string:zt,number:Lt,enum:zt,boolean:Bt,formatted:jt,resolvedImage:Gt};return"array"===t.type?Ht(e[t.value]||Ut,t.length):e[t.type]}(e):void 0),i=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return i?cn(new xn(i,e)):ln(n.errors)}xn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},xn.prototype.evaluate=function(t,e,n,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var r=this.expression.evaluate(this._evaluator);if(null==r||"number"==typeof r&&r!=r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new re("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Mn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!_e(e.expression)};Mn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,o)},Mn.prototype.evaluate=function(t,e,n,i,o){return this._styleExpression.evaluate(t,e,n,i,o)};var On=function(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!_e(e.expression),this.interpolationType=i};function kn(t,e){if("error"===(t=Pn(t,e)).result)return t;var n=t.value.expression,i=me(n);if(!i&&!dn(e))return ln([new Dt("","data expressions not supported")]);var o=ye(n,["zoom"]);if(!o&&!hn(e))return ln([new Dt("","zoom expressions not supported")]);var r=function t(e){var n=null;if(e instanceof Ue)n=t(e.result);else if(e instanceof Ve)for(var i=0,o=e.args;i<o.length&&!(n=t(o[i]));i+=1);else(e instanceof xe||e instanceof Be)&&e.input instanceof fe&&"zoom"===e.input.name&&(n=e);return n instanceof Dt||e.eachChild((function(e){var i=t(e);i instanceof Dt?n=i:!n&&i?n=new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new Dt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return r||o?r instanceof Dt?ln([r]):r instanceof Be&&!pn(e)?ln([new Dt("",'"interpolate" expressions cannot be used with this property')]):cn(r?new On(i?"camera":"composite",t.value,r.labels,r instanceof Be?r.interpolation:void 0):new Mn(i?"constant":"source",t.value)):ln([new Dt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}On.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,o)},On.prototype.evaluate=function(t,e,n,i,o){return this._styleExpression.evaluate(t,e,n,i,o)},On.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?Be.interpolationFactor(this.interpolationType,t,e,n):0};var En=function(t,e){this._parameters=t,this._specification=e,Tt(this,function t(e,n){var i,o,r,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||!(s||void 0!==e.property),c=e.type||(pn(n)?"exponential":"interval");if(a&&((e=Tt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],$t.parse(t[1])]}))),e.default=$t.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!ze[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)i=vn;else if("interval"===c)i=bn;else if("categorical"===c){i=yn,o=Object.create(null);for(var l=0,d=e.stops;l<d.length;l+=1){var h=d[l];o[h[0]]=h[1]}r=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');i=Cn}if(s){for(var p={},f=[],g=0;g<e.stops.length;g++){var m=e.stops[g],_=m[0].zoom;void 0===p[_]&&(p[_]={zoom:_,type:e.type,property:e.property,default:e.default,stops:[]},f.push(_)),p[_].stops.push([m[0].value,m[1]])}for(var y=[],b=0,v=f;b<v.length;b+=1){var C=v[b];y.push([p[C].zoom,t(p[C],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:Be.interpolationFactor.bind(void 0,x),zoomStops:y.map((function(t){return t[0]})),evaluate:function(t,i){var o=t.zoom;return vn({stops:y,base:e.base},n,o).evaluate(o,i)}}}if(u){var w="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:w,interpolationFactor:Be.interpolationFactor.bind(void 0,w),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return i(e,n,t.zoom,o,r)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?_n(e.default,n.default):i(e,n,s,o,r)}}}(this._parameters,this._specification))};function Sn(t){var e=t.key,n=t.value,i=t.valueSpec||{},o=t.objectElementValidators||{},r=t.style,a=t.styleSpec,s=[],u=fn(n);if("object"!==u)return[new Et(e,n,"object expected, "+u+" found")];for(var c in n){var l=c.split(".")[0],d=i[l]||i["*"],h=void 0;if(o[l])h=o[l];else if(i[l])h=ti;else if(o["*"])h=o["*"];else{if(!i["*"]){s.push(new Et(e,n[c],'unknown property "'+c+'"'));continue}h=ti}s=s.concat(h({key:(e?e+".":e)+c,value:n[c],valueSpec:d,style:r,styleSpec:a,object:n,objectKey:c},n))}for(var p in i)o[p]||i[p].required&&void 0===i[p].default&&void 0===n[p]&&s.push(new Et(e,n,'missing required property "'+p+'"'));return s}function Tn(t){var e=t.value,n=t.valueSpec,i=t.style,o=t.styleSpec,r=t.key,a=t.arrayElementValidator||ti;if("array"!==fn(e))return[new Et(r,e,"array expected, "+fn(e)+" found")];if(n.length&&e.length!==n.length)return[new Et(r,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Et(r,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};o.$version<7&&(s.function=n.function),"object"===fn(n.value)&&(s=n.value);for(var u=[],c=0;c<e.length;c++)u=u.concat(a({array:e,arrayIndex:c,value:e[c],valueSpec:s,style:i,styleSpec:o,key:r+"["+c+"]"}));return u}function An(t){var e=t.key,n=t.value,i=t.valueSpec,o=fn(n);return"number"===o&&n!=n&&(o="NaN"),"number"!==o?[new Et(e,n,"number expected, "+o+" found")]:"minimum"in i&&n<i.minimum?[new Et(e,n,n+" is less than the minimum value "+i.minimum)]:"maximum"in i&&n>i.maximum?[new Et(e,n,n+" is greater than the maximum value "+i.maximum)]:[]}function In(t){var e,n,i,o=t.valueSpec,r=At(t.value.type),a={},s="categorical"!==r&&void 0===t.value.property,u=!s,c="array"===fn(t.value.stops)&&"array"===fn(t.value.stops[0])&&"object"===fn(t.value.stops[0][0]),l=Sn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===r)return[new Et(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Tn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:d})),"array"===fn(n)&&0===n.length&&e.push(new Et(t.key,n,"array must have at least one stop")),e},default:function(t){return ti({key:t.key,value:t.value,valueSpec:o,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===r&&s&&l.push(new Et(t.key,t.value,'missing required property "property"')),"identity"===r||t.value.stops||l.push(new Et(t.key,t.value,'missing required property "stops"')),"exponential"===r&&t.valueSpec.expression&&!pn(t.valueSpec)&&l.push(new Et(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!dn(t.valueSpec)?l.push(new Et(t.key,t.value,"property functions not supported")):s&&!hn(t.valueSpec)&&l.push(new Et(t.key,t.value,"zoom functions not supported"))),"categorical"!==r&&!c||void 0!==t.value.property||l.push(new Et(t.key,t.value,'"property" property is required')),l;function d(t){var e=[],r=t.value,s=t.key;if("array"!==fn(r))return[new Et(s,r,"array expected, "+fn(r)+" found")];if(2!==r.length)return[new Et(s,r,"array length 2 expected, length "+r.length+" found")];if(c){if("object"!==fn(r[0]))return[new Et(s,r,"object expected, "+fn(r[0])+" found")];if(void 0===r[0].zoom)return[new Et(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new Et(s,r,"object stop key must have value")];if(i&&i>At(r[0].zoom))return[new Et(s,r[0].zoom,"stop zoom values must appear in ascending order")];At(r[0].zoom)!==i&&(i=At(r[0].zoom),n=void 0,a={}),e=e.concat(Sn({key:s+"[0]",value:r[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:An,value:h}}))}else e=e.concat(h({key:s+"[0]",value:r[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},r));return wn(It(r[1]))?e.concat([new Et(s+"[1]",r[1],"expressions are not allowed in function stops.")]):e.concat(ti({key:s+"[1]",value:r[1],valueSpec:o,style:t.style,styleSpec:t.styleSpec}))}function h(t,i){var s=fn(t.value),u=At(t.value),c=null!==t.value?t.value:i;if(e){if(s!==e)return[new Et(t.key,c,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Et(t.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){var l="number expected, "+s+" found";return dn(o)&&void 0===r&&(l+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Et(t.key,c,l)]}return"categorical"!==r||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==r&&"number"===s&&void 0!==n&&u<n?[new Et(t.key,c,"stop domain values must appear in ascending order")]:(n=u,"categorical"===r&&u in a?[new Et(t.key,c,"stop domain values must be unique")]:(a[u]=!0,[])):[new Et(t.key,c,"integer expected, found "+u)]}}function Dn(t){var e=("property"===t.expressionContext?kn:Pn)(It(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Et(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Et(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!_e(n))return[new Et(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!_e(n))return[new Et(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!ye(n,["zoom","feature-state"]))return[new Et(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!me(n))return[new Et(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Rn(t){var e=t.key,n=t.value,i=t.valueSpec,o=[];return Array.isArray(i.values)?-1===i.values.indexOf(At(n))&&o.push(new Et(e,n,"expected one of ["+i.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(i.values).indexOf(At(n))&&o.push(new Et(e,n,"expected one of ["+Object.keys(i.values).join(", ")+"], "+JSON.stringify(n)+" found")),o}function Fn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&Array.isArray(t[2]);case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!Fn(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}En.deserialize=function(t){return new En(t._parameters,t._specification)},En.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Ln={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function zn(t){if(null==t)return function(){return!0};Fn(t)||(t=Nn(t));var e=Pn(t,Ln);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function Bn(t,e){return t<e?-1:t>e?1:0}function Nn(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?Vn(t[1],t[2],"=="):"!="===n?jn(Vn(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Vn(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(Nn))):"all"===n?["all"].concat(t.slice(1).map(Nn)):"none"===n?["all"].concat(t.slice(1).map(Nn).map(jn)):"in"===n?Un(t[1],t.slice(2)):"!in"===n?jn(Un(t[1],t.slice(2))):"has"===n?qn(t[1]):"!has"!==n||jn(qn(t[1]))}function Vn(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Un(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Bn)]]:["filter-in-small",t,["literal",e]]}}function qn(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function jn(t){return["!",t]}function Gn(t){return Fn(It(t.value))?Dn(Tt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,i=e.key;if("array"!==fn(n))return[new Et(i,n,"array expected, "+fn(n)+" found")];var o,r=e.styleSpec,a=[];if(n.length<1)return[new Et(i,n,"filter array must have at least 1 element")];switch(a=a.concat(Rn({key:i+"[0]",value:n[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),At(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===At(n[1])&&a.push(new Et(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Et(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(o=fn(n[1]))&&a.push(new Et(i+"[1]",n[1],"string expected, "+o+" found"));for(var s=2;s<n.length;s++)o=fn(n[s]),"$type"===At(n[1])?a=a.concat(Rn({key:i+"["+s+"]",value:n[s],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new Et(i+"["+s+"]",n[s],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:i+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":o=fn(n[1]),2!==n.length?a.push(new Et(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==o&&a.push(new Et(i+"[1]",n[1],"string expected, "+o+" found"))}return a}(t)}function Hn(t,e){var n=t.key,i=t.style,o=t.styleSpec,r=t.value,a=t.objectKey,s=o[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return ti({key:n,value:r,valueSpec:o.transition,style:i,styleSpec:o});var c,l=t.valueSpec||s[a];if(!l)return[new Et(n,r,'unknown property "'+a+'"')];if("string"===fn(r)&&dn(l)&&!l.tokens&&(c=/^{([^}]+)}$/.exec(r)))return[new Et(n,r,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(c[1])+" }`.")];var d=[];return"symbol"===t.layerType&&("text-field"===a&&i&&!i.glyphs&&d.push(new Et(n,r,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&gn(It(r))&&"identity"===At(r.type)&&d.push(new Et(n,r,'"text-font" does not support identity functions'))),d.concat(ti({key:t.key,value:r,valueSpec:l,style:i,styleSpec:o,expressionContext:"property",propertyType:e,propertyKey:a}))}function Zn(t){return Hn(t,"paint")}function Wn(t){return Hn(t,"layout")}function Kn(t){var e=[],n=t.value,i=t.key,o=t.style,r=t.styleSpec;n.type||n.ref||e.push(new Et(i,n,'either "type" or "ref" is required'));var a,s=At(n.type),u=At(n.ref);if(n.id)for(var c=At(n.id),l=0;l<t.arrayIndex;l++){var d=o.layers[l];At(d.id)===c&&e.push(new Et(i,n.id,'duplicate layer id "'+n.id+'", previously used at line '+d.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Et(i,n[t],'"'+t+'" is prohibited for ref layers'))})),o.layers.forEach((function(t){At(t.id)===u&&(a=t)})),a?a.ref?e.push(new Et(i,n.ref,"ref cannot reference another ref layer")):s=At(a.type):e.push(new Et(i,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var h=o.sources&&o.sources[n.source],p=h&&At(h.type);h?"vector"===p&&"raster"===s?e.push(new Et(i,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===p&&"raster"!==s?e.push(new Et(i,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==p||n["source-layer"]?"raster-dem"===p&&"hillshade"!==s?e.push(new Et(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||e.push(new Et(i,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Et(i,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Et(i,n.source,'source "'+n.source+'" not found'))}else e.push(new Et(i,n,'missing required property "source"'));return e=e.concat(Sn({key:i,value:n,valueSpec:r.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ti({key:i+".type",value:n.type,valueSpec:r.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:Gn,layout:function(t){return Sn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Wn(Tt({layerType:s},t))}}})},paint:function(t){return Sn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Zn(Tt({layerType:s},t))}}})}}}))}function Xn(t){var e=t.value,n=t.key,i=fn(e);return"string"!==i?[new Et(n,e,"string expected, "+i+" found")]:[]}var $n={promoteId:function(t){var e=t.key,n=t.value;if("string"===fn(n))return Xn({key:e,value:n});var i=[];for(var o in n)i.push.apply(i,Xn({key:e+"."+o,value:n[o]}));return i}};function Yn(t){var e=t.value,n=t.key,i=t.styleSpec,o=t.style;if(!e.type)return[new Et(n,e,'"type" is required')];var r,a=At(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Sn({key:n,value:e,valueSpec:i["source_"+a.replace("-","_")],style:t.style,styleSpec:i,objectElementValidators:$n});case"geojson":if(r=Sn({key:n,value:e,valueSpec:i.source_geojson,style:o,styleSpec:i,objectElementValidators:$n}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],c=u[0],l="string"==typeof c?[c,["accumulated"],["get",s]]:c;r.push.apply(r,Dn({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),r.push.apply(r,Dn({key:n+"."+s+".reduce",value:l,expressionContext:"cluster-reduce"}))}return r;case"video":return Sn({key:n,value:e,valueSpec:i.source_video,style:o,styleSpec:i});case"image":return Sn({key:n,value:e,valueSpec:i.source_image,style:o,styleSpec:i});case"canvas":return[new Et(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Rn({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:i})}}function Qn(t){var e=t.value,n=t.styleSpec,i=n.light,o=t.style,r=[],a=fn(e);if(void 0===e)return r;if("object"!==a)return r.concat([new Et("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);r=r.concat(u&&i[u[1]]&&i[u[1]].transition?ti({key:s,value:e[s],valueSpec:n.transition,style:o,styleSpec:n}):i[s]?ti({key:s,value:e[s],valueSpec:i[s],style:o,styleSpec:n}):[new Et(s,e[s],'unknown property "'+s+'"')])}return r}var Jn={"*":function(){return[]},array:Tn,boolean:function(t){var e=t.value,n=t.key,i=fn(e);return"boolean"!==i?[new Et(n,e,"boolean expected, "+i+" found")]:[]},number:An,color:function(t){var e=t.key,n=t.value,i=fn(n);return"string"!==i?[new Et(e,n,"color expected, "+i+" found")]:null===Xt(n)?[new Et(e,n,'color expected, "'+n+'" found')]:[]},constants:St,enum:Rn,filter:Gn,function:In,layer:Kn,object:Sn,source:Yn,light:Qn,string:Xn,formatted:function(t){return 0===Xn(t).length?[]:Dn(t)},resolvedImage:function(t){return 0===Xn(t).length?[]:Dn(t)}};function ti(t){var e=t.value,n=t.valueSpec,i=t.styleSpec;return n.expression&&gn(At(e))?In(t):n.expression&&wn(It(e))?Dn(t):n.type&&Jn[n.type]?Jn[n.type](t):Sn(Tt({},t,{valueSpec:n.type?i[n.type]:n}))}function ei(t){var e=t.value,n=t.key,i=Xn(t);return i.length||(-1===e.indexOf("{fontstack}")&&i.push(new Et(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new Et(n,e,'"glyphs" url must include a "{range}" token'))),i}function ni(t,e){void 0===e&&(e=kt);var n=[];return n=n.concat(ti({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:ei,"*":function(){return[]}}})),t.constants&&(n=n.concat(St({key:"constants",value:t.constants,style:t,styleSpec:e}))),ii(n)}function ii(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function oi(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return ii(t.apply(this,e))}}ni.source=oi(Yn),ni.light=oi(Qn),ni.layer=oi(Kn),ni.filter=oi(Gn),ni.paintProperty=oi(Zn),ni.layoutProperty=oi(Wn);var ri=ni,ai=ri.light,si=ri.paintProperty,ui=ri.layoutProperty;function ci(t,e){var n=!1;if(e&&e.length)for(var i=0,o=e;i<o.length;i+=1)t.fire(new Mt(new Error(o[i].message))),n=!0;return n}var li=di;function di(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],this.d=(e=o[1])+2*(n=o[2]);for(var r=0;r<this.d*this.d;r++){var a=o[3+r],s=o[3+r+1];i.push(a===s?null:o.subarray(a,s))}var u=o[3+i.length+1];this.keys=o.subarray(o[3+i.length],u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var l=n/e*t;this.min=-l,this.max=t+l}di.prototype.insert=function(t,e,n,i,o){this._forEachCell(e,n,i,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(o)},di.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},di.prototype._insertCell=function(t,e,n,i,o,r){this.cells[o].push(r)},di.prototype.query=function(t,e,n,i,o){var r=this.min,a=this.max;if(t<=r&&e<=r&&a<=n&&a<=i&&!o)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,i,this._queryCell,s,{},o),s},di.prototype._queryCell=function(t,e,n,i,o,r,a,s){var u=this.cells[o];if(null!==u)for(var c=this.keys,l=this.bboxes,d=0;d<u.length;d++){var h=u[d];if(void 0===a[h]){var p=4*h;(s?s(l[p+0],l[p+1],l[p+2],l[p+3]):t<=l[p+2]&&e<=l[p+3]&&n>=l[p+0]&&i>=l[p+1])?(a[h]=!0,r.push(c[h])):a[h]=!1}}},di.prototype._forEachCell=function(t,e,n,i,o,r,a,s){for(var u=this._convertToCellCoord(t),c=this._convertToCellCoord(e),l=this._convertToCellCoord(n),d=this._convertToCellCoord(i),h=u;h<=l;h++)for(var p=c;p<=d;p++){var f=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&o.call(this,t,e,n,i,f,r,a,s))return}},di.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},di.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},di.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var r=e,a=0;a<t.length;a++){var s=t[a];o[3+a]=r,o.set(s,r),r+=s.length}return o[3+t.length]=r,o.set(this.keys,r),o[3+t.length+1]=r+=this.keys.length,o.set(this.bboxes,r),r+=this.bboxes.length,o.buffer};var hi=self.ImageData,pi=self.ImageBitmap,fi={};function gi(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),fi[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var mi in gi("Object",Object),li.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},li.deserialize=function(t){return new li(t.buffer)},gi("Grid",li),gi("Color",$t),gi("Error",Error),gi("ResolvedImage",te),gi("StylePropertyFunction",En),gi("StyleExpression",xn,{omit:["_evaluator"]}),gi("ZoomDependentExpression",On),gi("ZoomConstantExpression",Mn),gi("CompoundExpression",fe,{omit:["_evaluate"]}),on)on[mi]._classRegistryKey||gi("Expression_"+mi,on[mi]);function _i(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function yi(t){return pi&&t instanceof pi}function bi(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(_i(t)||yi(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof hi)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],o=0,r=t;o<r.length;o+=1)i.push(bi(r[o],e));return i}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(fi[s].omit.indexOf(c)>=0)){var l=t[c];u[c]=fi[s].shallow.indexOf(c)>=0?l:bi(l,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof t)}function vi(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||_i(t)||yi(t)||ArrayBuffer.isView(t)||t instanceof hi)return t;if(Array.isArray(t))return t.map(vi);if("object"==typeof t){var e=t.$name||"Object",n=fi[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var i=Object.create(n.prototype),o=0,r=Object.keys(t);o<r.length;o+=1){var a=r[o];if("$name"!==a){var s=t[a];i[a]=fi[e].shallow.indexOf(a)>=0?s:vi(s)}}return i}throw new Error("can't deserialize object of type "+typeof t)}var Ci=function(){this.first=!0};Ci.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var xi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function wi(t){for(var e=0,n=t;e<n.length;e+=1)if(Mi(n[e].charCodeAt(0)))return!0;return!1}function Pi(t){return!(xi.Arabic(t)||xi["Arabic Supplement"](t)||xi["Arabic Extended-A"](t)||xi["Arabic Presentation Forms-A"](t)||xi["Arabic Presentation Forms-B"](t))}function Mi(t){return!(746!==t&&747!==t&&(t<4352||!(xi["Bopomofo Extended"](t)||xi.Bopomofo(t)||xi["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||xi["CJK Compatibility Ideographs"](t)||xi["CJK Compatibility"](t)||xi["CJK Radicals Supplement"](t)||xi["CJK Strokes"](t)||!(!xi["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||xi["CJK Unified Ideographs Extension A"](t)||xi["CJK Unified Ideographs"](t)||xi["Enclosed CJK Letters and Months"](t)||xi["Hangul Compatibility Jamo"](t)||xi["Hangul Jamo Extended-A"](t)||xi["Hangul Jamo Extended-B"](t)||xi["Hangul Jamo"](t)||xi["Hangul Syllables"](t)||xi.Hiragana(t)||xi["Ideographic Description Characters"](t)||xi.Kanbun(t)||xi["Kangxi Radicals"](t)||xi["Katakana Phonetic Extensions"](t)||xi.Katakana(t)&&12540!==t||!(!xi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!xi["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||xi["Unified Canadian Aboriginal Syllabics"](t)||xi["Unified Canadian Aboriginal Syllabics Extended"](t)||xi["Vertical Forms"](t)||xi["Yijing Hexagram Symbols"](t)||xi["Yi Syllables"](t)||xi["Yi Radicals"](t))))}function Oi(t){return!(Mi(t)||function(t){return!!(xi["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||xi["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||xi["Letterlike Symbols"](t)||xi["Number Forms"](t)||xi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||xi["Control Pictures"](t)&&9251!==t||xi["Optical Character Recognition"](t)||xi["Enclosed Alphanumerics"](t)||xi["Geometric Shapes"](t)||xi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||xi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||xi["CJK Symbols and Punctuation"](t)||xi.Katakana(t)||xi["Private Use Area"](t)||xi["CJK Compatibility Forms"](t)||xi["Small Form Variants"](t)||xi["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function ki(t){return t>=1424&&t<=2303||xi["Arabic Presentation Forms-A"](t)||xi["Arabic Presentation Forms-B"](t)}function Ei(t,e){return!(!e&&ki(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||xi.Khmer(t))}function Si(t){for(var e=0,n=t;e<n.length;e+=1)if(ki(n[e].charCodeAt(0)))return!0;return!1}var Ti="deferred",Ai="loading",Ii="loaded",Di=null,Ri="unavailable",Fi=null,Li=function(t){Di&&Di(t)};function zi(){Bi.fire(new Pt("pluginStateChange",{pluginStatus:Ri,pluginURL:Fi}))}var Bi=new Ot,Ni=function(){return Ri},Vi=function(){if(Ri!==Ti||!Fi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ri=Ai,zi(),Fi&&bt({url:Fi},(function(t){t?Li(t):(Ri=Ii,zi())}))},Ui={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Ri===Ii||null!=Ui.applyArabicShaping},isLoading:function(){return Ri===Ai},setState:function(t){Ri=t.pluginStatus,Fi=t.pluginURL},isParsed:function(){return null!=Ui.applyArabicShaping&&null!=Ui.processBidirectionalText&&null!=Ui.processStyledBidirectionalText},getPluginURL:function(){return Fi}},qi=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ci,this.transition={})};qi.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,i=t;n<i.length;n+=1)if(!Ei(i[n].charCodeAt(0),e))return!1;return!0}(t,Ui.isLoaded())},qi.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},qi.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var ji=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(gn(t))return new En(t,e);if(wn(t)){var n=kn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=$t.parse(t)),{kind:"constant",evaluate:function(){return i}}}(void 0===e?t.specification.default:e,t.specification)};ji.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},ji.prototype.possiblyEvaluate=function(t,e){return this.property.possiblyEvaluate(this,t,e)};var Gi=function(t){this.property=t,this.value=new ji(t,void 0)};Gi.prototype.transitioned=function(t,e){return new Zi(this.property,this.value,e,l({},t.transition,this.transition),t.now)},Gi.prototype.untransitioned=function(){return new Zi(this.property,this.value,null,{},0)};var Hi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Hi.prototype.getValue=function(t){return b(this._values[t].value.value)},Hi.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Gi(this._values[t].property)),this._values[t].value=new ji(this._values[t].property,null===e?void 0:b(e))},Hi.prototype.getTransition=function(t){return b(this._values[t].transition)},Hi.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Gi(this._values[t].property)),this._values[t].transition=b(e)||void 0},Hi.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],o=this.getValue(i);void 0!==o&&(t[i]=o);var r=this.getTransition(i);void 0!==r&&(t[i+"-transition"]=r)}return t},Hi.prototype.transitioned=function(t,e){for(var n=new Wi(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var r=o[i];n._values[r]=this._values[r].transitioned(t,e._values[r])}return n},Hi.prototype.untransitioned=function(){for(var t=new Wi(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e];t._values[i]=this._values[i].untransitioned()}return t};var Zi=function(t,e,n,i,o){this.property=t,this.value=e,this.begin=o+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};Zi.prototype.possiblyEvaluate=function(t,e){var n=t.now||0,i=this.value.possiblyEvaluate(t,e),o=this.prior;if(o){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(t,e);var r=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e),i,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(r))}return i};var Wi=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Wi.prototype.possiblyEvaluate=function(t,e){for(var n=new $i(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var r=o[i];n._values[r]=this._values[r].possiblyEvaluate(t,e)}return n},Wi.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var Ki=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Ki.prototype.getValue=function(t){return b(this._values[t].value)},Ki.prototype.setValue=function(t,e){this._values[t]=new ji(this._values[t].property,null===e?void 0:b(e))},Ki.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],o=this.getValue(i);void 0!==o&&(t[i]=o)}return t},Ki.prototype.possiblyEvaluate=function(t,e){for(var n=new $i(this._properties),i=0,o=Object.keys(this._values);i<o.length;i+=1){var r=o[i];n._values[r]=this._values[r].possiblyEvaluate(t,e)}return n};var Xi=function(t,e,n){this.property=t,this.value=e,this.parameters=n};Xi.prototype.isConstant=function(){return"constant"===this.value.kind},Xi.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},Xi.prototype.evaluate=function(t,e,n){return this.property.evaluate(this.value,this.parameters,t,e,n)};var $i=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};$i.prototype.get=function(t){return this._values[t]};var Yi=function(t){this.specification=t};Yi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Yi.prototype.interpolate=function(t,e,n){var i=Pe[this.specification.type];return i?i(t,e,n):t};var Qi=function(t,e){this.specification=t,this.overrides=e};Qi.prototype.possiblyEvaluate=function(t,e,n){return new Xi(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n)}:t.expression,e)},Qi.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Xi(this,{kind:"constant",value:void 0},t.parameters);var i=Pe[this.specification.type];return i?new Xi(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.parameters):t},Qi.prototype.evaluate=function(t,e,n,i,o){return"constant"===t.kind?t.value:t.evaluate(e,n,i,o)};var Ji=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n){if(void 0===t.value)return new Xi(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n),o="resolvedImage"===t.property.specification.type&&"string"!=typeof i?i.name:i,r=this._calculate(o,o,o,e);return new Xi(this,{kind:"constant",value:r},e)}if("camera"===t.expression.kind){var a=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Xi(this,{kind:"constant",value:a},e)}return new Xi(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,i,o){if("source"===t.kind){var r=t.evaluate(e,n,i,o);return this._calculate(r,r,r,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,i),t.evaluate({zoom:Math.floor(e.zoom)},n,i),t.evaluate({zoom:Math.floor(e.zoom)+1},n,i),e):t.value},e.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Qi),to=function(t){this.specification=t};to.prototype.possiblyEvaluate=function(t,e,n){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e,null,{},n);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new qi(Math.floor(e.zoom-1),e)),t.expression.evaluate(new qi(Math.floor(e.zoom),e)),t.expression.evaluate(new qi(Math.floor(e.zoom+1),e)),e)}},to.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},to.prototype.interpolate=function(t){return t};var eo=function(t){this.specification=t};eo.prototype.possiblyEvaluate=function(t,e,n){return!!t.expression.evaluate(e,null,{},n)},eo.prototype.interpolate=function(){return!1};var no=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var i=this.defaultPropertyValues[e]=new ji(n,void 0),o=this.defaultTransitionablePropertyValues[e]=new Gi(n);this.defaultTransitioningPropertyValues[e]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=i.possiblyEvaluate({})}};gi("DataDrivenProperty",Qi),gi("DataConstantProperty",Yi),gi("CrossFadedDataDrivenProperty",Ji),gi("CrossFadedProperty",to),gi("ColorRampProperty",eo);var io=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter=function(){return!0},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new Ki(n.layout)),n.paint)){for(var i in this._transitionablePaint=new Hi(n.paint),e.paint)this.setPaintProperty(i,e.paint[i],{validate:!1});for(var o in e.layout)this.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(ui,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return m(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(si,"layers."+this.id+".paint."+t,t,e,n))return!1;if(m(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],o="cross-faded-data-driven"===i.property.specification["property-type"],r=i.value.isDataDriven(),a=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||r||o||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),y(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&ci(this,t.call(ri,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:kt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof Xi&&dn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Ot),oo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ro=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ao=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function so(t,e){void 0===e&&(e=1);var n=0,i=0;return{members:t.map((function(t){var o=oo[t.type].BYTES_PER_ELEMENT,r=n=uo(n,Math.max(e,o)),a=t.components||1;return i=Math.max(i,o),n+=o*a,{name:t.name,type:t.type,components:a,offset:r}})),size:uo(n,Math.max(i,e)),alignment:e}}function uo(t,e){return Math.ceil(t/e)*e}ao.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},ao.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},ao.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ao.prototype.clear=function(){this.length=0},ao.prototype.resize=function(t){this.reserve(t),this.length=t},ao.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},ao.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var co=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.int16[i+0]=e,this.int16[i+1]=n,t},e}(ao);co.prototype.bytesPerElement=4,gi("StructArrayLayout2i4",co);var lo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,o){var r=4*t;return this.int16[r+0]=e,this.int16[r+1]=n,this.int16[r+2]=i,this.int16[r+3]=o,t},e}(ao);lo.prototype.bytesPerElement=8,gi("StructArrayLayout4i8",lo);var ho=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,o,r)},e.prototype.emplace=function(t,e,n,i,o,r,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=o,this.int16[s+4]=r,this.int16[s+5]=a,t},e}(ao);ho.prototype.bytesPerElement=12,gi("StructArrayLayout2i4i12",ho);var po=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,o,r)},e.prototype.emplace=function(t,e,n,i,o,r,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[u+4]=i,this.uint8[u+5]=o,this.uint8[u+6]=r,this.uint8[u+7]=a,t},e}(ao);po.prototype.bytesPerElement=8,gi("StructArrayLayout2i4ub8",po);var fo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r,a,s){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,n,i,o,r,a,s)},e.prototype.emplace=function(t,e,n,i,o,r,a,s,u){var c=8*t;return this.uint16[c+0]=e,this.uint16[c+1]=n,this.uint16[c+2]=i,this.uint16[c+3]=o,this.uint16[c+4]=r,this.uint16[c+5]=a,this.uint16[c+6]=s,this.uint16[c+7]=u,t},e}(ao);fo.prototype.bytesPerElement=16,gi("StructArrayLayout8ui16",fo);var go=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r,a,s,u,c,l,d){var h=this.length;return this.resize(h+1),this.emplace(h,t,e,n,i,o,r,a,s,u,c,l,d)},e.prototype.emplace=function(t,e,n,i,o,r,a,s,u,c,l,d,h){var p=12*t;return this.int16[p+0]=e,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=o,this.uint16[p+4]=r,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=u,this.int16[p+8]=c,this.int16[p+9]=l,this.int16[p+10]=d,this.int16[p+11]=h,t},e}(ao);go.prototype.bytesPerElement=24,gi("StructArrayLayout4i4ui4i24",go);var mo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var o=3*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=i,t},e}(ao);mo.prototype.bytesPerElement=12,gi("StructArrayLayout3f12",mo);var _o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(ao);_o.prototype.bytesPerElement=4,gi("StructArrayLayout1ul4",_o);var yo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r,a,s,u,c,l){var d=this.length;return this.resize(d+1),this.emplace(d,t,e,n,i,o,r,a,s,u,c,l)},e.prototype.emplace=function(t,e,n,i,o,r,a,s,u,c,l,d){var h=12*t,p=6*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=i,this.int16[h+3]=o,this.int16[h+4]=r,this.int16[h+5]=a,this.uint32[p+3]=s,this.uint16[h+8]=u,this.uint16[h+9]=c,this.int16[h+10]=l,this.int16[h+11]=d,t},e}(ao);yo.prototype.bytesPerElement=24,gi("StructArrayLayout6i1ul2ui2i24",yo);var bo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,o,r)},e.prototype.emplace=function(t,e,n,i,o,r,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=o,this.int16[s+4]=r,this.int16[s+5]=a,t},e}(ao);bo.prototype.bytesPerElement=12,gi("StructArrayLayout2i2i2i12",bo);var vo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,o){var r=12*t,a=3*t;return this.uint8[r+0]=e,this.uint8[r+1]=n,this.float32[a+1]=i,this.float32[a+2]=o,t},e}(ao);vo.prototype.bytesPerElement=12,gi("StructArrayLayout2ub2f12",vo);var Co=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m){var _=this.length;return this.resize(_+1),this.emplace(_,t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m)},e.prototype.emplace=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_){var y=24*t,b=12*t,v=48*t;return this.int16[y+0]=e,this.int16[y+1]=n,this.uint16[y+2]=i,this.uint16[y+3]=o,this.uint32[b+2]=r,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=c,this.uint16[y+12]=l,this.float32[b+7]=d,this.float32[b+8]=h,this.uint8[v+36]=p,this.uint8[v+37]=f,this.uint8[v+38]=g,this.uint32[b+10]=m,this.int16[y+22]=_,t},e}(ao);Co.prototype.bytesPerElement=48,gi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Co);var xo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_,y,b,v,C,x,w,P,M){var O=this.length;return this.resize(O+1),this.emplace(O,t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_,y,b,v,C,x,w,P,M)},e.prototype.emplace=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_,y,b,v,C,x,w,P,M,O){var k=30*t,E=15*t;return this.int16[k+0]=e,this.int16[k+1]=n,this.int16[k+2]=i,this.int16[k+3]=o,this.int16[k+4]=r,this.int16[k+5]=a,this.int16[k+6]=s,this.int16[k+7]=u,this.uint16[k+8]=c,this.uint16[k+9]=l,this.uint16[k+10]=d,this.uint16[k+11]=h,this.uint16[k+12]=p,this.uint16[k+13]=f,this.uint16[k+14]=g,this.uint16[k+15]=m,this.uint16[k+16]=_,this.uint16[k+17]=y,this.uint16[k+18]=b,this.uint16[k+19]=v,this.uint16[k+20]=C,this.uint16[k+21]=x,this.uint32[E+11]=w,this.float32[E+12]=P,this.float32[E+13]=M,this.float32[E+14]=O,t},e}(ao);xo.prototype.bytesPerElement=60,gi("StructArrayLayout8i14ui1ul3f60",xo);var wo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(ao);wo.prototype.bytesPerElement=4,gi("StructArrayLayout1f4",wo);var Po=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var o=3*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=i,t},e}(ao);Po.prototype.bytesPerElement=6,gi("StructArrayLayout3i6",Po);var Mo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var o=4*t;return this.uint32[2*t+0]=e,this.uint16[o+2]=n,this.uint16[o+3]=i,t},e}(ao);Mo.prototype.bytesPerElement=8,gi("StructArrayLayout1ul2ui8",Mo);var Oo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var o=3*t;return this.uint16[o+0]=e,this.uint16[o+1]=n,this.uint16[o+2]=i,t},e}(ao);Oo.prototype.bytesPerElement=6,gi("StructArrayLayout3ui6",Oo);var ko=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,t},e}(ao);ko.prototype.bytesPerElement=4,gi("StructArrayLayout2ui4",ko);var Eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(ao);Eo.prototype.bytesPerElement=2,gi("StructArrayLayout1ui2",Eo);var So=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.float32[i+0]=e,this.float32[i+1]=n,t},e}(ao);So.prototype.bytesPerElement=8,gi("StructArrayLayout2f8",So);var To=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,o){var r=4*t;return this.float32[r+0]=e,this.float32[r+1]=n,this.float32[r+2]=i,this.float32[r+3]=o,t},e}(ao);To.prototype.bytesPerElement=16,gi("StructArrayLayout4f16",To);var Ao=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new o(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(ro);Ao.prototype.size=24;var Io=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Ao(this,t)},e}(yo);gi("CollisionBoxArray",Io);var Do=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},n.associatedIconIndex.set=function(t){this._structArray.int16[this._pos2+22]=t},Object.defineProperties(e.prototype,n),e}(ro);Do.prototype.size=48;var Ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Do(this,t)},e}(Co);gi("PlacedSymbolArray",Ro);var Fo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.placedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+6]=t},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.verticalPlacedIconSymbolIndex.set=function(t){this._structArray.int16[this._pos2+7]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.key.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.verticalTextBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+13]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+14]=t},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+15]=t},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.verticalIconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+16]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+17]=t},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+18]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+19]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+20]=t},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.numVerticalIconVertices.set=function(t){this._structArray.uint16[this._pos2+21]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+11]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+11]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+12]},n.textBoxScale.set=function(t){this._structArray.float32[this._pos4+12]=t},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.set=function(t){this._structArray.float32[this._pos4+13]=t},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.set=function(t){this._structArray.float32[this._pos4+14]=t},Object.defineProperties(e.prototype,n),e}(ro);Fo.prototype.size=60;var Lo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Fo(this,t)},e}(xo);gi("SymbolInstanceArray",Lo);var zo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(ro);zo.prototype.size=4;var Bo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new zo(this,t)},e}(wo);gi("GlyphOffsetArray",Bo);var No=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(ro);No.prototype.size=6;var Vo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new No(this,t)},e}(Po);gi("SymbolLineVertexArray",Vo);var Uo=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(ro);Uo.prototype.size=8;var qo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Uo(this,t)},e}(Mo);gi("FeatureIndexArray",qo);var jo=so([{name:"a_pos",components:2,type:"Int16"}],4).members,Go=function(t){void 0===t&&(t=[]),this.segments=t};function Ho(t,e){return 256*(t=u(Math.floor(t),0,255))+u(Math.floor(e),0,255)}Go.prototype.prepareSegment=function(t,e,n,i){var o=this.segments[this.segments.length-1];return t>Go.MAX_VERTEX_ARRAY_LENGTH&&C("Max vertices per segment is "+Go.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!o||o.vertexLength+t>Go.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==i)&&(o={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(o.sortKey=i),this.segments.push(o)),o},Go.prototype.get=function(){return this.segments},Go.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var i in n.vaos)n.vaos[i].destroy()}},Go.simpleSegment=function(t,e,n,i){return new Go([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])},Go.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,gi("SegmentVector",Go);var Zo=e((function(t){t.exports=function(t,e){var n,i,o,r,a,s,u,c;for(i=t.length-(n=3&t.length),o=e,a=3432918353,s=461845907,c=0;c<i;)u=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,o=27492+(65535&(r=5*(65535&(o=(o^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(c+2))<<16;case 2:u^=(255&t.charCodeAt(c+1))<<8;case 1:o^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return o^=t.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}})),Wo=e((function(t){t.exports=function(t,e){for(var n,i=t.length,o=e^i,r=0;i>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++r;switch(i){case 3:o^=(255&t.charCodeAt(r+2))<<16;case 2:o^=(255&t.charCodeAt(r+1))<<8;case 1:o=1540483477*(65535&(o^=255&t.charCodeAt(r)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}})),Ko=Zo,Xo=Wo;Ko.murmur3=Zo,Ko.murmur2=Xo;var $o=function(){this.ids=[],this.positions=[],this.indexed=!1};$o.prototype.add=function(t,e,n,i){this.ids.push(Qo(t)),this.positions.push(e,n,i)},$o.prototype.getPositions=function(t){for(var e=Qo(t),n=0,i=this.ids.length-1;n<i;){var o=n+i>>1;this.ids[o]>=e?i=o:n=o+1}for(var r=[];this.ids[n]===e;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r},$o.serialize=function(t,e){var n=new Float64Array(t.ids),i=new Uint32Array(t.positions);return function t(e,n,i,o){if(!(i>=o)){for(var r=e[i+o>>1],a=i-1,s=o+1;;){do{a++}while(e[a]<r);do{s--}while(e[s]>r);if(a>=s)break;Jo(e,a,s),Jo(n,3*a,3*s),Jo(n,3*a+1,3*s+1),Jo(n,3*a+2,3*s+2)}t(e,n,i,s),t(e,n,s+1,o)}}(n,i,0,n.length-1),e&&e.push(n.buffer,i.buffer),{ids:n,positions:i}},$o.deserialize=function(t){var e=new $o;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var Yo=Math.pow(2,53)-1;function Qo(t){var e=+t;return!isNaN(e)&&e<=Yo?e:Ko(String(t))}function Jo(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}gi("FeaturePositionMap",$o);var tr=function(t,e){this.gl=t.gl,this.location=e},er=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(tr),nr=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(tr),ir=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(tr),or=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(tr),rr=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(tr),ar=function(t){function e(e,n){t.call(this,e,n),this.current=$t.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(tr),sr=new Float32Array(16),ur=function(t){function e(e,n){t.call(this,e,n),this.current=sr}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(tr);function cr(t){return[Ho(255*t.r,255*t.g),Ho(255*t.b,255*t.a)]}var lr=function(t,e,n){this.value=t,this.uniformNames=e.map((function(t){return"u_"+t})),this.type=n};lr.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},lr.prototype.getBinding=function(t,e){return"color"===this.type?new ar(t,e):new nr(t,e)};var dr=function(t,e){this.uniformNames=e.map((function(t){return"u_"+t})),this.patternFrom=null,this.patternTo=null};dr.prototype.setConstantPatternPositions=function(t,e){this.patternTo=t.tlbr,this.patternFrom=e.tlbr},dr.prototype.setUniform=function(t,e,n,i){var o="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:null;o&&t.set(o)},dr.prototype.getBinding=function(t,e){return new rr(t,e)};var hr=function(t,e,n,i){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new i};hr.prototype.populatePaintArray=function(t,e,n,i){var o=this.paintVertexArray.length,r=this.expression.evaluate(new qi(0),e,{},[],i);this.paintVertexArray.resize(t),this._setPaintValue(o,t,r)},hr.prototype.updatePaintArray=function(t,e,n,i){var o=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(t,e,o)},hr.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var i=cr(n),o=t;o<e;o++)this.paintVertexArray.emplace(o,i[0],i[1]);else{for(var r=t;r<e;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},hr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},hr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var pr=function(t,e,n,i,o,r){this.expression=t,this.uniformNames=e.map((function(t){return"u_"+t+"_t"})),this.type=n,this.useIntegerZoom=i,this.zoom=o,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new r};pr.prototype.populatePaintArray=function(t,e,n,i){var o=this.expression.evaluate(new qi(this.zoom),e,{},[],i),r=this.expression.evaluate(new qi(this.zoom+1),e,{},[],i),a=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(a,t,o,r)},pr.prototype.updatePaintArray=function(t,e,n,i){var o=this.expression.evaluate({zoom:this.zoom},n,i),r=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(t,e,o,r)},pr.prototype._setPaintValue=function(t,e,n,i){if("color"===this.type)for(var o=cr(n),r=cr(i),a=t;a<e;a++)this.paintVertexArray.emplace(a,o[0],o[1],r[0],r[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}},pr.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},pr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},pr.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,i=u(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(i)},pr.prototype.getBinding=function(t,e){return new nr(t,e)};var fr=function(t,e,n,i,o,r,a){this.expression=t,this.type=n,this.useIntegerZoom=i,this.zoom=o,this.layerId=a,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r};fr.prototype.populatePaintArray=function(t,e,n){var i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(i,t,e.patterns&&e.patterns[this.layerId],n)},fr.prototype.updatePaintArray=function(t,e,n,i,o){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],o)},fr.prototype._setPaintValues=function(t,e,n,i){if(i&&n){var o=i[n.min],r=i[n.mid],a=i[n.max];if(o&&r&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,r.tl[0],r.tl[1],r.br[0],r.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1]),this.zoomOutPaintVertexArray.emplace(s,r.tl[0],r.tl[1],r.br[0],r.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1])}},fr.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},fr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var gr=function(t,e,n,i){this.binders={},this.layoutAttributes=i,this._buffers=[];var o=[];for(var r in t.paint._values)if(n(r)){var a=t.paint.get(r);if(a instanceof Xi&&dn(a.property.specification)){var s=_r(r,t.type),u=a.value,c=a.property.specification.type,l=a.property.useIntegerZoom,d=a.property.specification["property-type"],h="cross-faded"===d||"cross-faded-data-driven"===d;if("constant"===u.kind)this.binders[r]=h?new dr(u.value,s):new lr(u.value,s,c),o.push("/u_"+r);else if("source"===u.kind||h){var p=yr(r,c,"source");this.binders[r]=h?new fr(u,s,c,l,e,p,t.id):new hr(u,s,c,p),o.push("/a_"+r)}else{var f=yr(r,c,"composite");this.binders[r]=new pr(u,s,c,l,e,f),o.push("/z_"+r)}}}this.cacheKey=o.sort().join("")};gr.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof hr||e instanceof pr?e.maxValue:0},gr.prototype.populatePaintArrays=function(t,e,n,i){for(var o in this.binders){var r=this.binders[o];(r instanceof hr||r instanceof pr||r instanceof fr)&&r.populatePaintArray(t,e,n,i)}},gr.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var i=this.binders[n];i instanceof dr&&i.setConstantPatternPositions(t,e)}},gr.prototype.updatePaintArrays=function(t,e,n,i,o){var r=!1;for(var a in t)for(var s=0,u=e.getPositions(a);s<u.length;s+=1){var c=u[s],l=n.feature(c.index);for(var d in this.binders){var h=this.binders[d];if((h instanceof hr||h instanceof pr||h instanceof fr)&&!0===h.expression.isStateDependent){var p=i.paint.get(d);h.expression=p.value,h.updatePaintArray(c.start,c.end,l,t[a],o),r=!0}}}return r},gr.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof lr||n instanceof dr)&&t.push.apply(t,n.uniformNames.map((function(t){return"#define HAS_UNIFORM_"+t})))}return t},gr.prototype.getPaintVertexBuffers=function(){return this._buffers},gr.prototype.getUniforms=function(t,e){var n=[];for(var i in this.binders){var o=this.binders[i];if(o instanceof lr||o instanceof dr||o instanceof pr)for(var r=0,a=o.uniformNames;r<a.length;r+=1){var s=a[r];if(e[s]){var u=o.getBinding(t,e[s]);n.push({name:s,property:i,binding:u})}}}return n},gr.prototype.setUniforms=function(t,e,n,i){for(var o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,i,n.get(u),s)}},gr.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof fr){var i=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&this._buffers.push(i)}else(n instanceof hr||n instanceof pr)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},gr.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof hr||n instanceof pr||n instanceof fr)&&n.upload(t)}this.updatePaintBuffers()},gr.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof hr||e instanceof pr||e instanceof fr)&&e.destroy()}};var mr=function(t,e,n,i){void 0===i&&(i=function(){return!0}),this.programConfigurations={};for(var o=0,r=e;o<r.length;o+=1){var a=r[o];this.programConfigurations[a.id]=new gr(a,n,i,t)}this.needsUpload=!1,this._featureMap=new $o,this._bufferOffset=0};function _r(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function yr(t,e,n){var i={color:{source:So,composite:To},number:{source:wo,composite:So}},o=function(t){return{"line-pattern":{source:fo,composite:fo},"fill-pattern":{source:fo,composite:fo},"fill-extrusion-pattern":{source:fo,composite:fo}}[t]}(t);return o&&o[n]||i[e][n]}mr.prototype.populatePaintArrays=function(t,e,n,i,o){for(var r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,i,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},mr.prototype.updatePaintArrays=function(t,e,n,i){for(var o=0,r=n;o<r.length;o+=1){var a=r[o];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,i)||this.needsUpload}},mr.prototype.get=function(t){return this.programConfigurations[t]},mr.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},mr.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},gi("ConstantBinder",lr),gi("CrossFadedConstantBinder",dr),gi("SourceExpressionBinder",hr),gi("CrossFadedCompositeBinder",fr),gi("CompositeExpressionBinder",pr),gi("ProgramConfiguration",gr,{omit:["_buffers"]}),gi("ProgramConfigurationSet",mr);var br=8192,vr={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function Cr(t){for(var e=br/t.extent,n=t.loadGeometry(),i=0;i<n.length;i++)for(var o=n[i],r=0;r<o.length;r++){var a=o[r];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<vr.min||a.x>vr.max||a.y<vr.min||a.y>vr.max)&&(C("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a.x=u(a.x,vr.min,vr.max),a.y=u(a.y,vr.min,vr.max))}return n}function xr(t,e,n,i,o){t.emplaceBack(2*e+(i+1)/2,2*n+(o+1)/2)}var wr=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new co,this.indexArray=new Oo,this.segments=new Go,this.programConfigurations=new mr(jo,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Pr(t,e){for(var n=0;n<t.length;n++)if(Dr(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(Dr(t,e[i]))return!0;return!!Er(t,e)}function Mr(t,e,n){return!!Dr(t,e)||!!Tr(e,t,n)}function Or(t,e){if(1===t.length)return Ir(e,t[0]);for(var n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++)if(Dr(t,i[o]))return!0;for(var r=0;r<t.length;r++)if(Ir(e,t[r]))return!0;for(var a=0;a<e.length;a++)if(Er(t,e[a]))return!0;return!1}function kr(t,e,n){if(t.length>1){if(Er(t,e))return!0;for(var i=0;i<e.length;i++)if(Tr(e[i],t,n))return!0}for(var o=0;o<t.length;o++)if(Tr(t[o],e,n))return!0;return!1}function Er(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var i=t[n],o=t[n+1],r=0;r<e.length-1;r++)if(Sr(i,o,e[r],e[r+1]))return!0;return!1}function Sr(t,e,n,i){return x(t,n,i)!==x(e,n,i)&&x(t,e,n)!==x(t,e,i)}function Tr(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var o=1;o<e.length;o++)if(Ar(t,e[o-1],e[o])<i)return!0;return!1}function Ar(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var o=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return t.distSqr(o<0?e:o>1?n:n.sub(e)._mult(o)._add(e))}function Ir(t,e){for(var n,i,o,r=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)(i=n[s]).y>e.y!=(o=n[u]).y>e.y&&e.x<(o.x-i.x)*(e.y-i.y)/(o.y-i.y)+i.x&&(r=!r);return r}function Dr(t,e){for(var n=!1,i=0,o=t.length-1;i<t.length;o=i++){var r=t[i],a=t[o];r.y>e.y!=a.y>e.y&&e.x<(a.x-r.x)*(e.y-r.y)/(a.y-r.y)+r.x&&(n=!n)}return n}function Rr(t,e,n){var i=n[0],o=n[2];if(t.x<i.x&&e.x<i.x||t.x>o.x&&e.x>o.x||t.y<i.y&&e.y<i.y||t.y>o.y&&e.y>o.y)return!1;var r=x(t,e,n[0]);return r!==x(t,e,n[1])||r!==x(t,e,n[2])||r!==x(t,e,n[3])}function Fr(t,e,n){var i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).getMaxValue(t)}function Lr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function zr(t,e,n,i,r){if(!e[0]&&!e[1])return t;var a=o.convert(e)._mult(r);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<t.length;u++)s.push(t[u].sub(a));return s}wr.prototype.populate=function(t,e){var n=this.layers[0],i=[],o=null;"circle"===n.type&&(o=n.layout.get("circle-sort-key"));for(var r=0,a=t;r<a.length;r+=1){var s=a[r],u=s.feature,c=s.id,l=s.index,d=s.sourceLayerIndex;if(this.layers[0]._featureFilter(new qi(this.zoom),u)){var h=Cr(u),p=o?o.evaluate(u,{}):void 0;i.push({id:c,properties:u.properties,type:u.type,sourceLayerIndex:d,index:l,geometry:h,patterns:{},sortKey:p})}}o&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var f=0,g=i;f<g.length;f+=1){var m=g[f],_=m.geometry,y=m.index,b=m.sourceLayerIndex,v=t[y].feature;this.addFeature(m,_,y),e.featureIndex.insert(v,_,y,b,this.index)}},wr.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},wr.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},wr.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wr.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,jo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},wr.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wr.prototype.addFeature=function(t,e,n){for(var i=0,o=e;i<o.length;i+=1)for(var r=0,a=o[i];r<a.length;r+=1){var s=a[r],u=s.x,c=s.y;if(!(u<0||u>=br||c<0||c>=br)){var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),d=l.vertexLength;xr(this.layoutVertexArray,u,c,-1,-1),xr(this.layoutVertexArray,u,c,1,-1),xr(this.layoutVertexArray,u,c,1,1),xr(this.layoutVertexArray,u,c,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),l.vertexLength+=4,l.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},gi("CircleBucket",wr,{omit:["layers"]});var Br,Nr=new no({"circle-sort-key":new Qi(kt.layout_circle["circle-sort-key"])}),Vr={paint:new no({"circle-radius":new Qi(kt.paint_circle["circle-radius"]),"circle-color":new Qi(kt.paint_circle["circle-color"]),"circle-blur":new Qi(kt.paint_circle["circle-blur"]),"circle-opacity":new Qi(kt.paint_circle["circle-opacity"]),"circle-translate":new Yi(kt.paint_circle["circle-translate"]),"circle-translate-anchor":new Yi(kt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Yi(kt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Yi(kt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Qi(kt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Qi(kt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Qi(kt.paint_circle["circle-stroke-opacity"])}),layout:Nr},Ur="undefined"!=typeof Float32Array?Float32Array:Array;function qr(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3];return t[0]=n[0]*i+n[4]*o+n[8]*r+n[12]*a,t[1]=n[1]*i+n[5]*o+n[9]*r+n[13]*a,t[2]=n[2]*i+n[6]*o+n[10]*r+n[14]*a,t[3]=n[3]*i+n[7]*o+n[11]*r+n[15]*a,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)}),Br=new Ur(3),Ur!=Float32Array&&(Br[0]=0,Br[1]=0,Br[2]=0),function(){var t=new Ur(4);Ur!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var jr=(function(){var t=new Ur(2);Ur!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,Vr)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new wr(t)},e.prototype.queryRadius=function(t){var e=t;return Fr("circle-radius",this,e)+Fr("circle-stroke-width",this,e)+Lr(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,r,a,s){for(var u=zr(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),r.angle,a),c=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),l="map"===this.paint.get("circle-pitch-alignment"),d=l?u:function(t,e){return t.map((function(t){return Gr(t,e)}))}(u,s),h=l?c*a:c,p=0,f=i;p<f.length;p+=1)for(var g=0,m=f[p];g<m.length;g+=1){var _=m[g],y=l?_:Gr(_,s),b=h,v=qr([],[_.x,_.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?b*=v[3]/r.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(b*=r.cameraToCenterDistance/v[3]),Mr(d,y,b))return!0}return!1},e}(io));function Gr(t,e){var n=qr([],[t.x,t.y,0,1],e);return new o(n[0]/n[3],n[1]/n[3])}var Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wr);function Zr(t,e,n,i){var o=e.width,r=e.height;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==o*r*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(o*r*n);return t.width=o,t.height=r,t.data=i,t}function Wr(t,e,n){var i=e.width,o=e.height;if(i!==t.width||o!==t.height){var r=Zr({},{width:i,height:o},n);Kr(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,o)},n),t.width=i,t.height=o,t.data=r.data}}function Kr(t,e,n,i,o,r){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||n.x>t.width-o.width||n.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||i.x>e.width-o.width||i.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<o.height;u++)for(var c=((n.y+u)*t.width+n.x)*r,l=((i.y+u)*e.width+i.x)*r,d=0;d<o.width*r;d++)s[l+d]=a[c+d];return e}gi("HeatmapBucket",Hr,{omit:["layers"]});var Xr=function(t,e){Zr(this,t,1,e)};Xr.prototype.resize=function(t){Wr(this,t,1)},Xr.prototype.clone=function(){return new Xr({width:this.width,height:this.height},new Uint8Array(this.data))},Xr.copy=function(t,e,n,i,o){Kr(t,e,n,i,o,1)};var $r=function(t,e){Zr(this,t,4,e)};$r.prototype.resize=function(t){Wr(this,t,4)},$r.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},$r.prototype.clone=function(){return new $r({width:this.width,height:this.height},new Uint8Array(this.data))},$r.copy=function(t,e,n,i,o){Kr(t,e,n,i,o,4)},gi("AlphaImage",Xr),gi("RGBAImage",$r);var Yr={paint:new no({"heatmap-radius":new Qi(kt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Qi(kt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Yi(kt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new eo(kt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Yi(kt.paint_heatmap["heatmap-opacity"])})};function Qr(t,e){for(var n=new Uint8Array(1024),i={},o=0,r=0;o<256;o++,r+=4){i[e]=o/255;var a=t.evaluate(i);n[r+0]=Math.floor(255*a.r/a.a),n[r+1]=Math.floor(255*a.g/a.a),n[r+2]=Math.floor(255*a.b/a.a),n[r+3]=Math.floor(255*a.a)}return new $r({width:256,height:1},n)}var Jr=function(t){function e(e){t.call(this,e,Yr),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Hr(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=Qr(this._transitionablePaint._values["heatmap-color"].value.expression,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(io),ta={paint:new no({"hillshade-illumination-direction":new Yi(kt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Yi(kt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Yi(kt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Yi(kt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Yi(kt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Yi(kt.paint_hillshade["hillshade-accent-color"])})},ea=function(t){function e(e){t.call(this,e,ta)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(io),na=so([{name:"a_pos",components:2,type:"Int16"}],4).members,ia=ra,oa=ra;function ra(t,e,n){n=n||2;var i,o,r,a,s,u,c,l=e&&e.length,d=l?e[0]*n:t.length,h=aa(t,0,d,n,!0),p=[];if(!h||h.next===h.prev)return p;if(l&&(h=function(t,e,n,i){var o,r,a,s=[];for(o=0,r=e.length;o<r;o++)(a=aa(t,e[o]*i,o<r-1?e[o+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(_a(a));for(s.sort(pa),o=0;o<s.length;o++)fa(s[o],n),n=sa(n,n.next);return n}(t,e,h,n)),t.length>80*n){i=r=t[0],o=a=t[1];for(var f=n;f<d;f+=n)(s=t[f])<i&&(i=s),(u=t[f+1])<o&&(o=u),s>r&&(r=s),u>a&&(a=u);c=0!==(c=Math.max(r-i,a-o))?1/c:0}return ua(h,p,n,i,o,c),p}function aa(t,e,n,i,o){var r,a;if(o===Ta(t,e,n,i)>0)for(r=e;r<n;r+=i)a=ka(r,t[r],t[r+1],a);else for(r=n-i;r>=e;r-=i)a=ka(r,t[r],t[r+1],a);return a&&Ca(a,a.next)&&(Ea(a),a=a.next),a}function sa(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Ca(i,i.next)&&0!==va(i.prev,i,i.next))i=i.next;else{if(Ea(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function ua(t,e,n,i,o,r,a){if(t){!a&&r&&function(t,e,n,i){var o=t;do{null===o.z&&(o.z=ma(o.x,o.y,e,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,i,o,r,a,s,u,c=1;do{for(n=t,t=null,r=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ);e++);for(u=c;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(o=n,n=n.nextZ,s--):(o=i,i=i.nextZ,u--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;n=i}r.nextZ=null,c*=2}while(a>1)}(o)}(t,i,o,r);for(var s,u,c=t;t.prev!==t.next;)if(s=t.prev,u=t.next,r?la(t,i,o,r):ca(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Ea(t),t=u.next,c=u.next;else if((t=u)===c){a?1===a?ua(t=da(sa(t),e,n),e,n,i,o,r,2):2===a&&ha(t,e,n,i,o,r):ua(sa(t),e,n,i,o,r,1);break}}}function ca(t){var e=t.prev,n=t,i=t.next;if(va(e,n,i)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(ya(e.x,e.y,n.x,n.y,i.x,i.y,o.x,o.y)&&va(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function la(t,e,n,i){var o=t.prev,r=t,a=t.next;if(va(o,r,a)>=0)return!1;for(var s=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,u=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,c=ma(o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,e,n,i),l=ma(s,u,e,n,i),d=t.prevZ,h=t.nextZ;d&&d.z>=c&&h&&h.z<=l;){if(d!==t.prev&&d!==t.next&&ya(o.x,o.y,r.x,r.y,a.x,a.y,d.x,d.y)&&va(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&ya(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&va(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&ya(o.x,o.y,r.x,r.y,a.x,a.y,d.x,d.y)&&va(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&ya(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&va(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function da(t,e,n){var i=t;do{var o=i.prev,r=i.next.next;!Ca(o,r)&&xa(o,i,i.next,r)&&Ma(o,r)&&Ma(r,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(r.i/n),Ea(i),Ea(i.next),i=t=r),i=i.next}while(i!==t);return sa(i)}function ha(t,e,n,i,o,r){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ba(a,s)){var u=Oa(a,s);return a=sa(a,a.next),u=sa(u,u.next),ua(a,e,n,i,o,r),void ua(u,e,n,i,o,r)}s=s.next}a=a.next}while(a!==t)}function pa(t,e){return t.x-e.x}function fa(t,e){if(e=function(t,e){var n,i=e,o=t.x,r=t.y,a=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){var s=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=o&&s>a){if(a=s,s===o){if(r===i.y)return i;if(r===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(o===a)return n;var u,c=n,l=n.x,d=n.y,h=1/0;i=n;do{o>=i.x&&i.x>=l&&o!==i.x&&ya(r<d?o:a,r,l,d,r<d?a:o,r,i.x,i.y)&&(u=Math.abs(r-i.y)/(o-i.x),Ma(i,t)&&(u<h||u===h&&(i.x>n.x||i.x===n.x&&ga(n,i)))&&(n=i,h=u)),i=i.next}while(i!==c);return n}(t,e)){var n=Oa(e,t);sa(e,e.next),sa(n,n.next)}}function ga(t,e){return va(t.prev,t,e.prev)<0&&va(e.next,t,t.next)<0}function ma(t,e,n,i,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _a(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ya(t,e,n,i,o,r,a,s){return(o-a)*(e-s)-(t-a)*(r-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(r-s)-(o-a)*(i-s)>=0}function ba(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&xa(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Ma(t,e)&&Ma(e,t)&&function(t,e){var n=t,i=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;do{n.y>r!=n.next.y>r&&n.next.y!==n.y&&o<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(va(t.prev,t,e.prev)||va(t,e.prev,e))||Ca(t,e)&&va(t.prev,t,t.next)>0&&va(e.prev,e,e.next)>0)}function va(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ca(t,e){return t.x===e.x&&t.y===e.y}function xa(t,e,n,i){var o=Pa(va(t,e,n)),r=Pa(va(t,e,i)),a=Pa(va(n,i,t)),s=Pa(va(n,i,e));return o!==r&&a!==s||!(0!==o||!wa(t,n,e))||!(0!==r||!wa(t,i,e))||!(0!==a||!wa(n,t,i))||!(0!==s||!wa(n,e,i))}function wa(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Pa(t){return t>0?1:t<0?-1:0}function Ma(t,e){return va(t.prev,t,t.next)<0?va(t,e,t.next)>=0&&va(t,t.prev,e)>=0:va(t,e,t.prev)<0||va(t,t.next,e)<0}function Oa(t,e){var n=new Sa(t.i,t.x,t.y),i=new Sa(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function ka(t,e,n,i){var o=new Sa(t,e,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function Ea(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Sa(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ta(t,e,n,i){for(var o=0,r=e,a=n-i;r<n;r+=i)o+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return o}function Aa(t,e,n,i,o){!function t(e,n,i,o,r){for(;o>i;){if(o-i>600){var a=o-i+1,s=n-i+1,u=Math.log(a),c=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*c*(a-c)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*c/a+l)),Math.min(o,Math.floor(n+(a-s)*c/a+l)),r)}var d=e[n],h=i,p=o;for(Ia(e,i,n),r(e[o],d)>0&&Ia(e,i,o);h<p;){for(Ia(e,h,p),h++,p--;r(e[h],d)<0;)h++;for(;r(e[p],d)>0;)p--}0===r(e[i],d)?Ia(e,i,p):Ia(e,++p,o),p<=n&&(i=p+1),n<=p&&(o=p-1)}}(t,e,n||0,i||t.length-1,o||Da)}function Ia(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Da(t,e){return t<e?-1:t>e?1:0}function Ra(t,e){var n=t.length;if(n<=1)return[t];for(var i,o,r=[],a=0;a<n;a++){var s=w(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(i&&r.push(i),i=[t[a]]):i.push(t[a]))}if(i&&r.push(i),e>1)for(var u=0;u<r.length;u++)r[u].length<=e||(Aa(r[u],e,1,r[u].length-1,Fa),r[u]=r[u].slice(0,e));return r}function Fa(t,e){return e.area-t.area}function La(t,e,n){for(var i=n.patternDependencies,o=!1,r=0,a=e;r<a.length;r+=1){var s=a[r].paint.get(t+"-pattern");s.isConstant()||(o=!0);var u=s.constantOr(null);u&&(o=!0,i[u.to]=!0,i[u.from]=!0)}return o}function za(t,e,n,i,o){for(var r=o.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],c=u.paint.get(t+"-pattern").value;if("constant"!==c.kind){var l=c.evaluate({zoom:i-1},n,{},o.availableImages),d=c.evaluate({zoom:i},n,{},o.availableImages),h=c.evaluate({zoom:i+1},n,{},o.availableImages);d=d&&d.name?d.name:d,h=h&&h.name?h.name:h,r[l=l&&l.name?l.name:l]=!0,r[d]=!0,r[h]=!0,n.patterns[u.id]={min:l,mid:d,max:h}}}return n}ra.deviation=function(t,e,n,i){var o=e&&e.length,r=Math.abs(Ta(t,0,o?e[0]*n:t.length,n));if(o)for(var a=0,s=e.length;a<s;a++)r-=Math.abs(Ta(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,l=i[a+1]*n,d=i[a+2]*n;u+=Math.abs((t[c]-t[d])*(t[l+1]-t[c+1])-(t[c]-t[l])*(t[d+1]-t[c+1]))}return 0===r&&0===u?0:Math.abs((u-r)/r)},ra.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var a=0;a<e;a++)n.vertices.push(t[o][r][a]);o>0&&n.holes.push(i+=t[o-1].length)}return n},ia.default=oa;var Ba=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new co,this.indexArray=new Oo,this.indexArray2=new ko,this.programConfigurations=new mr(na,t.layers,t.zoom),this.segments=new Go,this.segments2=new Go,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Ba.prototype.populate=function(t,e){this.hasPattern=La("fill",this.layers,e);for(var n=this.layers[0].layout.get("fill-sort-key"),i=[],o=0,r=t;o<r.length;o+=1){var a=r[o],s=a.feature,u=a.id,c=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new qi(this.zoom),s)){var d=Cr(s),h=n?n.evaluate(s,{},e.availableImages):void 0;i.push({id:u,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:d,patterns:{},sortKey:h})}}n&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var p=0,f=i;p<f.length;p+=1){var g=f[p],m=g.geometry,_=g.index,y=g.sourceLayerIndex;if(this.hasPattern){var b=za("fill",this.layers,g,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(g,m,_,{});e.featureIndex.insert(t[_].feature,m,_,y,this.index)}},Ba.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ba.prototype.addFeatures=function(t,e){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,e)}},Ba.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ba.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ba.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,na),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},Ba.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ba.prototype.addFeature=function(t,e,n,i){for(var o=0,r=Ra(e,500);o<r.length;o+=1){for(var a=r[o],s=0,u=0,c=a;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),d=l.vertexLength,h=[],p=[],f=0,g=a;f<g.length;f+=1){var m=g[f];if(0!==m.length){m!==a[0]&&p.push(h.length/2);var _=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),y=_.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(y+m.length-1,y),h.push(m[0].x),h.push(m[0].y);for(var b=1;b<m.length;b++)this.layoutVertexArray.emplaceBack(m[b].x,m[b].y),this.indexArray2.emplaceBack(y+b-1,y+b),h.push(m[b].x),h.push(m[b].y);_.vertexLength+=m.length,_.primitiveLength+=m.length}}for(var v=ia(h,p),C=0;C<v.length;C+=3)this.indexArray.emplaceBack(d+v[C],d+v[C+1],d+v[C+2]);l.vertexLength+=s,l.primitiveLength+=v.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i)},gi("FillBucket",Ba,{omit:["layers","patternFeatures"]});var Na=new no({"fill-sort-key":new Qi(kt.layout_fill["fill-sort-key"])}),Va={paint:new no({"fill-antialias":new Yi(kt.paint_fill["fill-antialias"]),"fill-opacity":new Qi(kt.paint_fill["fill-opacity"]),"fill-color":new Qi(kt.paint_fill["fill-color"]),"fill-outline-color":new Qi(kt.paint_fill["fill-outline-color"]),"fill-translate":new Yi(kt.paint_fill["fill-translate"]),"fill-translate-anchor":new Yi(kt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ji(kt.paint_fill["fill-pattern"])}),layout:Na},Ua=function(t){function e(e){t.call(this,e,Va)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new Ba(t)},e.prototype.queryRadius=function(){return Lr(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,r,a){return Or(zr(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),r.angle,a),i)},e.prototype.isTileClipped=function(){return!0},e}(io),qa=so([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ja=Ga;function Ga(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(Ha,this,e)}function Ha(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[i]=o}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function Za(t){for(var e,n,i=0,o=0,r=t.length,a=r-1;o<r;a=o++)i+=((n=t[a]).x-(e=t[o]).x)*(e.y+n.y);return i}Ga.types=["Unknown","Point","LineString","Polygon"],Ga.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,a=0,s=0,u=[];t.pos<n;){if(r<=0){var c=t.readVarint();i=7&c,r=c>>3}if(r--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new o(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},Ga.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,o=0,r=0,a=1/0,s=-1/0,u=1/0,c=-1/0;t.pos<e;){if(i<=0){var l=t.readVarint();n=7&l,i=l>>3}if(i--,1===n||2===n)(o+=t.readSVarint())<a&&(a=o),o>s&&(s=o),(r+=t.readSVarint())<u&&(u=r),r>c&&(c=r);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,c]},Ga.prototype.toGeoJSON=function(t,e,n){var i,o,r=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),c=Ga.types[this.type];function l(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/r-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/r)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(i=0;i<u.length;i++)d[i]=u[i][0];l(u=d);break;case 2:for(i=0;i<u.length;i++)l(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,o=[],r=0;r<e;r++){var a=Za(t[r]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&o.push(n),n=[t[r]]):n.push(t[r]))}return n&&o.push(n),o}(u),i=0;i<u.length;i++)for(o=0;o<u[i].length;o++)l(u[i][o])}1===u.length?u=u[0]:c="Multi"+c;var h={type:"Feature",geometry:{type:c,coordinates:u},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Wa=Ka;function Ka(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(Xa,this,e),this.length=this._features.length}function Xa(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function $a(t,e,n){if(3===t){var i=new Wa(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}Ka.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ja(this._pbf,e,this.extent,this._keys,this._values)};var Ya={VectorTile:function(t,e){this.layers=t.readFields($a,{},e)},VectorTileFeature:ja,VectorTileLayer:Wa},Qa=Ya.VectorTileFeature.types,Ja=Math.pow(2,13);function ts(t,e,n,i,o,r,a,s){t.emplaceBack(e,n,2*Math.floor(i*Ja)+a,o*Ja*2,r*Ja*2,Math.round(s))}var es=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new ho,this.indexArray=new Oo,this.programConfigurations=new mr(qa,t.layers,t.zoom),this.segments=new Go,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function ns(t,e){return t.x===e.x&&(t.x<0||t.x>br)||t.y===e.y&&(t.y<0||t.y>br)}function is(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>br}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>br}))}es.prototype.populate=function(t,e){this.features=[],this.hasPattern=La("fill-extrusion",this.layers,e);for(var n=0,i=t;n<i.length;n+=1){var o=i[n],r=o.feature,a=o.id,s=o.index,u=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new qi(this.zoom),r)){var c=Cr(r),l={id:a,sourceLayerIndex:u,index:s,geometry:c,properties:r.properties,type:r.type,patterns:{}};void 0!==r.id&&(l.id=r.id),this.hasPattern?this.features.push(za("fill-extrusion",this.layers,l,this.zoom,e)):this.addFeature(l,c,s,{}),e.featureIndex.insert(r,c,s,u,this.index,!0)}}},es.prototype.addFeatures=function(t,e){for(var n=0,i=this.features;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,e)}},es.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},es.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},es.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,qa),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},es.prototype.addFeature=function(t,e,n,i){for(var o=0,r=Ra(e,500);o<r.length;o+=1){for(var a=r[o],s=0,u=0,c=a;u<c.length;u+=1)s+=c[u].length;for(var l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,h=a;d<h.length;d+=1){var p=h[d];if(0!==p.length&&!is(p))for(var f=0,g=0;g<p.length;g++){var m=p[g];if(g>=1){var _=p[g-1];if(!ns(m,_)){l.vertexLength+4>Go.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=m.sub(_)._perp()._unit(),b=_.dist(m);f+b>32768&&(f=0),ts(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,0,f),ts(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,1,f),ts(this.layoutVertexArray,_.x,_.y,y.x,y.y,0,0,f+=b),ts(this.layoutVertexArray,_.x,_.y,y.x,y.y,0,1,f);var v=l.vertexLength;this.indexArray.emplaceBack(v,v+2,v+1),this.indexArray.emplaceBack(v+1,v+2,v+3),l.vertexLength+=4,l.primitiveLength+=2}}}}if(l.vertexLength+s>Go.MAX_VERTEX_ARRAY_LENGTH&&(l=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Qa[t.type]){for(var C=[],x=[],w=l.vertexLength,P=0,M=a;P<M.length;P+=1){var O=M[P];if(0!==O.length){O!==a[0]&&x.push(C.length/2);for(var k=0;k<O.length;k++){var E=O[k];ts(this.layoutVertexArray,E.x,E.y,0,0,1,1,0),C.push(E.x),C.push(E.y)}}}for(var S=ia(C,x),T=0;T<S.length;T+=3)this.indexArray.emplaceBack(w+S[T],w+S[T+2],w+S[T+1]);l.primitiveLength+=S.length/3,l.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,i)},gi("FillExtrusionBucket",es,{omit:["layers","features"]});var os={paint:new no({"fill-extrusion-opacity":new Yi(kt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Qi(kt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Yi(kt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Yi(kt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ji(kt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Qi(kt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Qi(kt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Yi(kt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},rs=function(t){function e(e){t.call(this,e,os)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new es(t)},e.prototype.queryRadius=function(){return Lr(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,a,s,u){var c=zr(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),l=this.paint.get("fill-extrusion-height").evaluate(e,n),d=this.paint.get("fill-extrusion-base").evaluate(e,n),h=function(t,e,n,i){for(var r=[],a=0,s=t;a<s.length;a+=1){var u=s[a],c=[u.x,u.y,0,1];qr(c,c,e),r.push(new o(c[0]/c[3],c[1]/c[3]))}return r}(c,u),p=function(t,e,n,i){for(var r=[],a=[],s=i[8]*e,u=i[9]*e,c=i[10]*e,l=i[11]*e,d=i[8]*n,h=i[9]*n,p=i[10]*n,f=i[11]*n,g=0,m=t;g<m.length;g+=1){for(var _=[],y=[],b=0,v=m[g];b<v.length;b+=1){var C=v[b],x=C.x,w=C.y,P=i[0]*x+i[4]*w+i[12],M=i[1]*x+i[5]*w+i[13],O=i[2]*x+i[6]*w+i[14],k=i[3]*x+i[7]*w+i[15],E=O+c,S=k+l,T=P+d,A=M+h,I=O+p,D=k+f,R=new o((P+s)/S,(M+u)/S);R.z=E/S,_.push(R);var F=new o(T/D,A/D);F.z=I/D,y.push(F)}r.push(_),a.push(y)}return[r,a]}(i,d,l,u);return function(t,e,n){var i=1/0;Or(n,e)&&(i=ss(n,e[0]));for(var o=0;o<e.length;o++)for(var r=e[o],a=t[o],s=0;s<r.length-1;s++){var u=r[s],c=[u,r[s+1],a[s+1],a[s],u];Pr(n,c)&&(i=Math.min(i,ss(n,c)))}return i!==1/0&&i}(p[0],p[1],h)},e}(io);function as(t,e){return t.x*e.x+t.y*e.y}function ss(t,e){if(1===t.length){for(var n,i,o=0,r=e[o++];!n||r.equals(n);)if(!(n=e[o++]))return 1/0;for(;!i||r.equals(i)||n.equals(i);)if(!(i=e[o++]))return 1/0;var a=t[0],s=n.sub(r),u=i.sub(r),c=a.sub(r),l=as(s,s),d=as(s,u),h=as(u,u),p=as(c,s),f=as(c,u),g=l*h-d*d,m=(h*p-d*f)/g,_=(l*f-d*p)/g;return r.z*(1-m-_)+n.z*m+i.z*_}for(var y=1/0,b=0,v=e;b<v.length;b+=1)y=Math.min(y,v[b].z);return y}var us=so([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,cs=Ya.VectorTileFeature.types,ls=Math.cos(Math.PI/180*37.5),ds=Math.pow(2,14)/.5,hs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new po,this.indexArray=new Oo,this.programConfigurations=new mr(us,t.layers,t.zoom),this.segments=new Go,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};hs.prototype.populate=function(t,e){this.hasPattern=La("line",this.layers,e);for(var n=this.layers[0].layout.get("line-sort-key"),i=[],o=0,r=t;o<r.length;o+=1){var a=r[o],s=a.feature,u=a.id,c=a.index,l=a.sourceLayerIndex;if(this.layers[0]._featureFilter(new qi(this.zoom),s)){var d=Cr(s),h=n?n.evaluate(s,{}):void 0;i.push({id:u,properties:s.properties,type:s.type,sourceLayerIndex:l,index:c,geometry:d,patterns:{},sortKey:h})}}n&&i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var p=0,f=i;p<f.length;p+=1){var g=f[p],m=g.geometry,_=g.index,y=g.sourceLayerIndex;if(this.hasPattern){var b=za("line",this.layers,g,this.zoom,e);this.patternFeatures.push(b)}else this.addFeature(g,m,_,{});e.featureIndex.insert(t[_].feature,m,_,y,this.index)}},hs.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},hs.prototype.addFeatures=function(t,e){for(var n=0,i=this.patternFeatures;n<i.length;n+=1){var o=i[n];this.addFeature(o,o.geometry,o.index,e)}},hs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},hs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},hs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,us),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},hs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},hs.prototype.addFeature=function(t,e,n,i){for(var o=this.layers[0].layout,r=o.get("line-join").evaluate(t,{}),a=o.get("line-cap"),s=o.get("line-miter-limit"),u=o.get("line-round-limit"),c=0,l=e;c<l.length;c+=1)this.addLine(l[c],t,r,a,s,u,n,i)},hs.prototype.addLine=function(t,e,n,i,o,r,a,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var u=0;u<t.length-1;u++)this.totalDistance+=t[u].dist(t[u+1]);this.updateScaledDistance()}for(var c="Polygon"===cs[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var d=0;d<l-1&&t[d].equals(t[d+1]);)d++;if(!(l<(c?3:2))){"bevel"===n&&(o=1.05);var h,p=this.overscaling<=16?15*br/(512*this.overscaling):0,f=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),g=void 0,m=void 0,_=void 0,y=void 0;this.e1=this.e2=-1,c&&(y=t[d].sub(h=t[l-2])._unit()._perp());for(var b=d;b<l;b++)if(!(m=b===l-1?c?t[d+1]:void 0:t[b+1])||!t[b].equals(m)){y&&(_=y),h&&(g=h),h=t[b],y=m?m.sub(h)._unit()._perp():_;var v=(_=_||y).add(y);0===v.x&&0===v.y||v._unit();var C=_.x*y.x+_.y*y.y,x=v.x*y.x+v.y*y.y,w=0!==x?1/x:1/0,P=2*Math.sqrt(2-2*x),M=x<ls&&g&&m,O=_.x*y.y-_.y*y.x>0;if(M&&b>d){var k=h.dist(g);if(k>2*p){var E=h.sub(h.sub(g)._mult(p/k)._round());this.updateDistance(g,E),this.addCurrentVertex(E,_,0,0,f),g=E}}var S=g&&m,T=S?n:c?"butt":i;if(S&&"round"===T&&(w<r?T="miter":w<=2&&(T="fakeround")),"miter"===T&&w>o&&(T="bevel"),"bevel"===T&&(w>2&&(T="flipbevel"),w<o&&(T="miter")),g&&this.updateDistance(g,h),"miter"===T)v._mult(w),this.addCurrentVertex(h,v,0,0,f);else if("flipbevel"===T){if(w>100)v=y.mult(-1);else{var A=w*_.add(y).mag()/_.sub(y).mag();v._perp()._mult(A*(O?-1:1))}this.addCurrentVertex(h,v,0,0,f),this.addCurrentVertex(h,v.mult(-1),0,0,f)}else if("bevel"===T||"fakeround"===T){var I=-Math.sqrt(w*w-1),D=O?I:0,R=O?0:I;if(g&&this.addCurrentVertex(h,_,D,R,f),"fakeround"===T)for(var F=Math.round(180*P/Math.PI/20),L=1;L<F;L++){var z=L/F;if(.5!==z){var B=z-.5;z+=z*B*(z-1)*((1.0904+C*(C*(3.55645-1.43519*C)-3.2452))*B*B+(.848013+C*(.215638*C-1.06021)))}var N=y.sub(_)._mult(z)._add(_)._unit()._mult(O?-1:1);this.addHalfVertex(h,N.x,N.y,!1,O,0,f)}m&&this.addCurrentVertex(h,y,-D,-R,f)}else if("butt"===T)this.addCurrentVertex(h,v,0,0,f);else if("square"===T){var V=g?1:-1;this.addCurrentVertex(h,v,V,V,f)}else"round"===T&&(g&&(this.addCurrentVertex(h,_,0,0,f),this.addCurrentVertex(h,_,1,1,f,!0)),m&&(this.addCurrentVertex(h,y,-1,-1,f,!0),this.addCurrentVertex(h,y,0,0,f)));if(M&&b<l-1){var U=h.dist(m);if(U>2*p){var q=h.add(m.sub(h)._mult(p/U)._round());this.updateDistance(h,q),this.addCurrentVertex(q,y,0,0,f),h=q}}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},hs.prototype.addCurrentVertex=function(t,e,n,i,o,r){void 0===r&&(r=!1);var a=e.y*i-e.x,s=-e.y-e.x*i;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,r,!1,n,o),this.addHalfVertex(t,a,s,r,!0,-i,o),this.distance>ds/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,i,o,r))},hs.prototype.addHalfVertex=function(t,e,n,i,o,r,a){var s=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((t.x<<1)+(i?1:0),(t.y<<1)+(o?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===r?0:r<0?-1:1)|(63&s)<<2,s>>6);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),o?this.e2=u:this.e1=u},hs.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(ds-1):this.distance},hs.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},gi("LineBucket",hs,{omit:["layers","patternFeatures"]});var ps=new no({"line-cap":new Yi(kt.layout_line["line-cap"]),"line-join":new Qi(kt.layout_line["line-join"]),"line-miter-limit":new Yi(kt.layout_line["line-miter-limit"]),"line-round-limit":new Yi(kt.layout_line["line-round-limit"]),"line-sort-key":new Qi(kt.layout_line["line-sort-key"])}),fs={paint:new no({"line-opacity":new Qi(kt.paint_line["line-opacity"]),"line-color":new Qi(kt.paint_line["line-color"]),"line-translate":new Yi(kt.paint_line["line-translate"]),"line-translate-anchor":new Yi(kt.paint_line["line-translate-anchor"]),"line-width":new Qi(kt.paint_line["line-width"]),"line-gap-width":new Qi(kt.paint_line["line-gap-width"]),"line-offset":new Qi(kt.paint_line["line-offset"]),"line-blur":new Qi(kt.paint_line["line-blur"]),"line-dasharray":new to(kt.paint_line["line-dasharray"]),"line-pattern":new Ji(kt.paint_line["line-pattern"]),"line-gradient":new eo(kt.paint_line["line-gradient"])}),layout:ps},gs=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new qi(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,i,o){return n=l({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,i,o)},e}(Qi))(fs.paint.properties["line-width"].specification);gs.useIntegerZoom=!0;var ms=function(t){function e(e){t.call(this,e,fs)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=Qr(this._transitionablePaint._values["line-gradient"].value.expression,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=gs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new hs(t)},e.prototype.queryRadius=function(t){var e=t,n=_s(Fr("line-width",this,e),Fr("line-gap-width",this,e)),i=Fr("line-offset",this,e);return n/2+Math.abs(i)+Lr(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,a,s){var u=zr(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),c=s/2*_s(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),l=this.paint.get("line-offset").evaluate(e,n);return l&&(i=function(t,e){for(var n=[],i=new o(0,0),r=0;r<t.length;r++){for(var a=t[r],s=[],u=0;u<a.length;u++){var c=a[u],l=a[u+1],d=0===u?i:c.sub(a[u-1])._unit()._perp(),h=u===a.length-1?i:l.sub(c)._unit()._perp(),p=d._add(h)._unit();p._mult(1/(p.x*h.x+p.y*h.y)),s.push(p._mult(e)._add(c))}n.push(s)}return n}(i,l*s)),function(t,e,n){for(var i=0;i<e.length;i++){var o=e[i];if(t.length>=3)for(var r=0;r<o.length;r++)if(Dr(t,o[r]))return!0;if(kr(t,o,n))return!0}return!1}(u,i,c)},e.prototype.isTileClipped=function(){return!0},e}(io);function _s(t,e){return e>0?e+2*t:t}var ys=so([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bs=so([{name:"a_projected_pos",components:3,type:"Float32"}],4),vs=(so([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),so([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Cs=(so([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),so([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),xs=so([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function ws(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),Ui.applyArabicShaping&&(t=Ui.applyArabicShaping(t)),t}(t.text,e,n)})),t}so([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),so([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"}]),so([{type:"Float32",name:"offsetX"}]),so([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ps={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ms=function(t,e,n,i,o){var r,a,s=8*o-i-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?o-1:0,h=n?-1:1,p=t[e+d];for(d+=h,r=p&(1<<-l)-1,p>>=-l,l+=s;l>0;r=256*r+t[e+d],d+=h,l-=8);for(a=r&(1<<-l)-1,r>>=-l,l+=i;l>0;a=256*a+t[e+d],d+=h,l-=8);if(0===r)r=1-c;else{if(r===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),r-=c}return(p?-1:1)*a*Math.pow(2,r-i)},Os=function(t,e,n,i,o,r){var a,s,u,c=8*r-o-1,l=(1<<c)-1,d=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(e*u-1)*Math.pow(2,o),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=f,a/=256,c-=8);t[n+p-f]|=128*g},ks=Es;function Es(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Es.Varint=0,Es.Fixed64=1,Es.Bytes=2,Es.Fixed32=5;var Ss="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Ts(t){return t.type===Es.Bytes?t.readVarint()+t.pos:t.pos+1}function As(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Is(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var o=n.pos-1;o>=t;o--)n.buf[o+i]=n.buf[o]}function Ds(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Rs(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function Fs(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Ls(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function zs(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Bs(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Ns(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Vs(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function Us(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function qs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function js(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Gs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Hs(t,e,n){1===t&&n.readMessage(Zs,e)}function Zs(t,e,n){if(3===t){var i=n.readMessage(Ws,{}),o=i.width,r=i.height,a=i.left,s=i.top,u=i.advance;e.push({id:i.id,bitmap:new Xr({width:o+6,height:r+6},i.bitmap),metrics:{width:o,height:r,left:a,top:s,advance:u}})}}function Ws(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function Ks(t){for(var e=0,n=0,i=0,o=t;i<o.length;i+=1){var r=o[i];e+=r.w*r.h,n=Math.max(n,r.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,u=0,c=0,l=t;c<l.length;c+=1)for(var d=l[c],h=a.length-1;h>=0;h--){var p=a[h];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,u=Math.max(u,d.y+d.h),s=Math.max(s,d.x+d.w),d.w===p.w&&d.h===p.h){var f=a.pop();h<a.length&&(a[h]=f)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(a.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}Es.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),o=i>>3,r=this.pos;this.type=7&i,t(o,e,this),this.pos===r&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=qs(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Gs(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=qs(this.buf,this.pos)+4294967296*qs(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=qs(this.buf,this.pos)+4294967296*Gs(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Ms(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ms(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,o,r=n.buf;if(i=(112&(o=r[n.pos++]))>>4,o<128)return As(t,i,e);if(i|=(127&(o=r[n.pos++]))<<3,o<128)return As(t,i,e);if(i|=(127&(o=r[n.pos++]))<<10,o<128)return As(t,i,e);if(i|=(127&(o=r[n.pos++]))<<17,o<128)return As(t,i,e);if(i|=(127&(o=r[n.pos++]))<<24,o<128)return As(t,i,e);if(i|=(1&(o=r[n.pos++]))<<31,o<128)return As(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Ss?function(t,e,n){return Ss.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",o=e;o<n;){var r,a,s,u=t[o],c=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l>n)break;1===l?u<128&&(c=u):2===l?128==(192&(r=t[o+1]))&&(c=(31&u)<<6|63&r)<=127&&(c=null):3===l?(a=t[o+2],128==(192&(r=t[o+1]))&&128==(192&a)&&((c=(15&u)<<12|(63&r)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===l&&(a=t[o+2],s=t[o+3],128==(192&(r=t[o+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&u)<<18|(63&r)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,l=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),o+=l}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Es.Bytes)return t.push(this.readVarint(e));var n=Ts(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Es.Bytes)return t.push(this.readSVarint());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Es.Bytes)return t.push(this.readBoolean());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Es.Bytes)return t.push(this.readFloat());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Es.Bytes)return t.push(this.readDouble());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Es.Bytes)return t.push(this.readFixed32());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Es.Bytes)return t.push(this.readSFixed32());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Es.Bytes)return t.push(this.readFixed64());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Es.Bytes)return t.push(this.readSFixed64());var e=Ts(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Es.Varint)for(;this.buf[this.pos++]>127;);else if(e===Es.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Es.Fixed32)this.pos+=4;else{if(e!==Es.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),js(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),js(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),js(this.buf,-1&t,this.pos),js(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),js(this.buf,-1&t,this.pos),js(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,o,r=0;r<e.length;r++){if((i=e.charCodeAt(r))>55295&&i<57344){if(!o){i>56319||r+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):o=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,o=i;continue}i=o-55296<<10|i-56320|65536,o=null}else o&&(t[n++]=239,t[n++]=191,t[n++]=189,o=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&Is(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Os(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Os(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&Is(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Es.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Ds,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Rs,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,zs,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Fs,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Ls,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Bs,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Ns,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Vs,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Us,e)},writeBytesField:function(t,e){this.writeTag(t,Es.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Es.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Es.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Es.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Es.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Es.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Es.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Es.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Es.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Es.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Xs=function(t,e){var n=e.pixelRatio,i=e.version,o=e.stretchX,r=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=o,this.stretchY=r,this.content=a,this.version=i},$s={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};$s.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},$s.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},$s.tlbr.get=function(){return this.tl.concat(this.br)},$s.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Xs.prototype,$s);var Ys=function(t,e){var n={},i={};this.haveRenderCallbacks=[];var o=[];this.addImages(t,n,o),this.addImages(e,i,o);var r=Ks(o),a=new $r({width:r.w||1,height:r.h||1});for(var s in t){var u=t[s],c=n[s].paddedRect;$r.copy(u.data,a,{x:0,y:0},{x:c.x+1,y:c.y+1},u.data)}for(var l in e){var d=e[l],h=i[l].paddedRect,p=h.x+1,f=h.y+1,g=d.data.width,m=d.data.height;$r.copy(d.data,a,{x:0,y:0},{x:p,y:f},d.data),$r.copy(d.data,a,{x:0,y:m-1},{x:p,y:f-1},{width:g,height:1}),$r.copy(d.data,a,{x:0,y:0},{x:p,y:f+m},{width:g,height:1}),$r.copy(d.data,a,{x:g-1,y:0},{x:p-1,y:f},{width:1,height:m}),$r.copy(d.data,a,{x:0,y:0},{x:p+g,y:f},{width:1,height:m})}this.image=a,this.iconPositions=n,this.patternPositions=i};Ys.prototype.addImages=function(t,e,n){for(var i in t){var o=t[i],r={x:0,y:0,w:o.data.width+2,h:o.data.height+2};n.push(r),e[i]=new Xs(r,o),o.hasRenderCallback&&this.haveRenderCallbacks.push(i)}},Ys.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},Ys.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var i=t.tl;n.update(e.data,void 0,{x:i[0],y:i[1]})}},gi("ImagePosition",Xs),gi("ImageAtlas",Ys);var Qs={horizontal:1,vertical:2,horizontalOnly:3},Js=function(){this.scale=1,this.fontStack="",this.imageName=null};Js.forText=function(t,e){var n=new Js;return n.scale=t||1,n.fontStack=e,n},Js.forImage=function(t){var e=new Js;return e.imageName=t,e};var tu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function eu(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g){var m,_=tu.fromFeature(t,o);d===Qs.vertical&&_.verticalizePunctuation();var y=Ui.processBidirectionalText,b=Ui.processStyledBidirectionalText;if(y&&1===_.sections.length){m=[];for(var v=0,C=y(_.toString(),uu(_,c,r,e,i,p,f));v<C.length;v+=1){var x=C[v],w=new tu;w.text=x,w.sections=_.sections;for(var P=0;P<x.length;P++)w.sectionIndex.push(0);m.push(w)}}else if(b){m=[];for(var M=0,O=b(_.text,_.sectionIndex,uu(_,c,r,e,i,p,f));M<O.length;M+=1){var k=O[M],E=new tu;E.text=k[0],E.sectionIndex=k[1],E.sections=_.sections,m.push(E)}}else m=function(t,e){for(var n=[],i=t.text,o=0,r=0,a=e;r<a.length;r+=1){var s=a[r];n.push(t.substring(o,s)),o=s}return o<i.length&&n.push(t.substring(o,i.length)),n}(_,uu(_,c,r,e,i,p,f));var S=[],T={positionedLines:S,text:_.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(t,e,n,i,o,r,a,s,u,c,l,d){for(var h=0,p=-17,f=0,g=0,m="right"===s?1:"left"===s?0:.5,_=0,y=0,b=o;y<b.length;y+=1){var v=b[y];v.trim();var C=v.getMaxScale(),x=24*(C-1),w={positionedGlyphs:[],lineOffset:0};t.positionedLines[_]=w;var P=w.positionedGlyphs,M=0;if(v.length()){for(var O=0;O<v.length();O++){var k=v.getSection(O),E=v.getSectionIndex(O),S=v.getCharCode(O),T=0,A=null,I=null,D=null,R=24,F=!(u===Qs.horizontal||!l&&!Mi(S)||l&&(nu[S]||(G=S,xi.Arabic(G)||xi["Arabic Supplement"](G)||xi["Arabic Extended-A"](G)||xi["Arabic Presentation Forms-A"](G)||xi["Arabic Presentation Forms-B"](G))));if(k.imageName){var L=i[k.imageName];if(!L)continue;D=k.imageName,t.iconsInText=t.iconsInText||!0,I=L.paddedRect;var z=L.displaySize;k.scale=24*k.scale/d,T=x+(24-z[1]*k.scale),R=(A={width:z[0],height:z[1],left:1,top:-3,advance:F?z[1]:z[0]}).advance;var B=F?z[0]*k.scale-24*C:z[1]*k.scale-24*C;B>0&&B>M&&(M=B)}else{var N=n[k.fontStack],V=N&&N[S];if(V&&V.rect)I=V.rect,A=V.metrics;else{var U=e[k.fontStack],q=U&&U[S];if(!q)continue;A=q.metrics}T=24*(C-k.scale)}F?(t.verticalizable=!0,P.push({glyph:S,imageName:D,x:h,y:p+T,vertical:F,scale:k.scale,fontStack:k.fontStack,sectionIndex:E,metrics:A,rect:I}),h+=R*k.scale+c):(P.push({glyph:S,imageName:D,x:h,y:p+T,vertical:F,scale:k.scale,fontStack:k.fontStack,sectionIndex:E,metrics:A,rect:I}),h+=A.advance*k.scale+c)}0!==P.length&&(f=Math.max(h-c,f),lu(P,0,P.length-1,m,M)),h=0;var j=r*C+M;w.lineOffset=Math.max(M,x),p+=j,g=Math.max(j,g),++_}else p+=r,++_}var G,H=p- -17,Z=cu(a),W=Z.horizontalAlign,K=Z.verticalAlign;(function(t,e,n,i,o,r,a,s,u){var c,l=(e-n)*o;c=r!==a?-s*i- -17:(-i*u+.5)*a;for(var d=0,h=t;d<h.length;d+=1)for(var p=0,f=h[d].positionedGlyphs;p<f.length;p+=1){var g=f[p];g.x+=l,g.y+=c}})(t.positionedLines,m,W,K,f,g,r,H,o.length),t.top+=-K*H,t.bottom=t.top+H,t.left+=-W*f,t.right=t.left+f}(T,e,n,i,m,a,s,u,d,c,h,g),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(S)&&T}tu.fromFeature=function(t,e){for(var n=new tu,i=0;i<t.sections.length;i++){var o=t.sections[i];o.image?n.addImageSection(o):n.addTextSection(o,e)}return n},tu.prototype.length=function(){return this.text.length},tu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},tu.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},tu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},tu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n+1)||null,o=t.charCodeAt(n-1)||null;i&&Oi(i)&&!Ps[t[n+1]]||o&&Oi(o)&&!Ps[t[n-1]]||!Ps[t[n]]?e+=t[n]:e+=Ps[t[n]]}return e}(this.text)},tu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&nu[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,i=this.text.length-1;i>=0&&i>=t&&nu[this.text.charCodeAt(i)];i--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},tu.prototype.substring=function(t,e){var n=new tu;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},tu.prototype.toString=function(){return this.text},tu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)},tu.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(Js.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,i=0;i<t.text.length;++i)this.sectionIndex.push(n)},tu.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Js.forImage(e)),this.sectionIndex.push(this.sections.length-1)):C("Reached maximum number of images 6401")}else C("Can't add FormattedSection with an empty image.")},tu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var nu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iu={};function ou(t,e,n,i,o,r){if(e.imageName){var a=i[e.imageName];return a?a.displaySize[0]*e.scale*24/r+o:0}var s=n[e.fontStack],u=s&&s[t];return u?u.metrics.advance*e.scale+o:0}function ru(t,e,n,i){var o=Math.pow(t-e,2);return i?t<e?o/2:2*o:o+Math.abs(n)*n}function au(t,e,n){var i=0;return 10===t&&(i-=1e4),n&&(i+=150),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function su(t,e,n,i,o,r){for(var a=null,s=ru(e,n,o,r),u=0,c=i;u<c.length;u+=1){var l=c[u],d=ru(e-l.x,n,o,r)+l.badness;d<=s&&(a=l,s=d)}return{index:t,x:e,priorBreak:a,badness:s}}function uu(t,e,n,i,o,r,a){if("point"!==r)return[];if(!t)return[];for(var s,u=[],c=function(t,e,n,i,o,r){for(var a=0,s=0;s<t.length();s++){var u=t.getSection(s);a+=ou(t.getCharCode(s),u,i,o,e,r)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,i,o,a),l=t.text.indexOf("\u200b")>=0,d=0,h=0;h<t.length();h++){var p=t.getSection(h),f=t.getCharCode(h);if(nu[f]||(d+=ou(f,p,i,o,e,a)),h<t.length()-1){var g=!((s=f)<11904||!(xi["Bopomofo Extended"](s)||xi.Bopomofo(s)||xi["CJK Compatibility Forms"](s)||xi["CJK Compatibility Ideographs"](s)||xi["CJK Compatibility"](s)||xi["CJK Radicals Supplement"](s)||xi["CJK Strokes"](s)||xi["CJK Symbols and Punctuation"](s)||xi["CJK Unified Ideographs Extension A"](s)||xi["CJK Unified Ideographs"](s)||xi["Enclosed CJK Letters and Months"](s)||xi["Halfwidth and Fullwidth Forms"](s)||xi.Hiragana(s)||xi["Ideographic Description Characters"](s)||xi["Kangxi Radicals"](s)||xi["Katakana Phonetic Extensions"](s)||xi.Katakana(s)||xi["Vertical Forms"](s)||xi["Yi Radicals"](s)||xi["Yi Syllables"](s)));(iu[f]||g||p.imageName)&&u.push(su(h+1,d,c,u,au(f,t.getCharCode(h+1),g&&l),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(su(t.length(),d,c,u,0,!0))}function cu(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function lu(t,e,n,i,o){if(i||o)for(var r=t[n],a=(t[n].x+r.metrics.advance*r.scale)*i,s=e;s<=n;s++)t[s].x-=a,t[s].y+=o}function du(t,e,n,i,o,r){var a,s=t.image;if(s.content){var u=s.content,c=s.pixelRatio||1;a=[u[0]/c,u[1]/c,s.displaySize[0]-u[2]/c,s.displaySize[1]-u[3]/c]}var l,d,h,p,f=e.left*r,g=e.right*r;"width"===n||"both"===n?(p=o[0]+f-i[3],d=o[0]+g+i[1]):d=(p=o[0]+(f+g-s.displaySize[0])/2)+s.displaySize[0];var m=e.top*r,_=e.bottom*r;return"height"===n||"both"===n?(l=o[1]+m-i[0],h=o[1]+_+i[2]):h=(l=o[1]+(m+_-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:l,right:d,bottom:h,left:p,collisionPadding:a}}iu[10]=!0,iu[32]=!0,iu[38]=!0,iu[40]=!0,iu[41]=!0,iu[43]=!0,iu[45]=!0,iu[47]=!0,iu[173]=!0,iu[183]=!0,iu[8203]=!0,iu[8208]=!0,iu[8211]=!0,iu[8231]=!0;var hu=function(t){function e(e,n,i,o){t.call(this,e,n),this.angle=i,void 0!==o&&(this.segment=o)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(o);gi("Anchor",hu);var pu=128;function fu(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new qi(t+1))};if("source"===n.kind)return{kind:"source"};for(var i=n.zoomStops,o=n.interpolationType,r=0;r<i.length&&i[r]<=t;)r++;for(var a=r=Math.max(0,r-1);a<i.length&&i[a]<t+1;)a++;a=Math.min(i.length-1,a);var s=i[r],u=i[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:o}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new qi(s)),maxSize:n.evaluate(new qi(u)),interpolationType:o}}function gu(t,e,n){var i=e.uSize,o=n.lowerSize;return"source"===t.kind?o/pu:"composite"===t.kind?we(o/pu,n.upperSize/pu,e.uSizeT):i}function mu(t,e){var n=0,i=0;if("constant"===t.kind)i=t.layoutSize;else if("source"!==t.kind){var o=t.interpolationType,r=o?u(Be.interpolationFactor(o,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?i=we(t.minSize,t.maxSize,r):n=r}return{uSizeT:n,uSize:i}}var _u=Object.freeze({__proto__:null,getSizeData:fu,evaluateSizeForFeature:gu,evaluateSizeForZoom:mu,SIZE_PACK_FACTOR:pu});function yu(t,e,n,i,o){if(void 0===e.segment)return!0;for(var r=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(r),r=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],c=0;s<n/2;){var l=t[a],d=t[a+1];if(!d)return!1;var h=t[a-1].angleTo(l)-l.angleTo(d);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),c+=h;s-u[0].distance>i;)c-=u.shift().angleDelta;if(c>o)return!1;a++,s+=l.dist(d)}return!0}function bu(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function vu(t,e,n){return t?.6*e*n:0}function Cu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function xu(t,e,n,i,o,r){for(var a=vu(n,o,r),s=Cu(n,i)*r,u=0,c=bu(t)/2,l=0;l<t.length-1;l++){var d=t[l],h=t[l+1],p=d.dist(h);if(u+p>c){var f=(c-u)/p,g=we(d.x,h.x,f),m=we(d.y,h.y,f),_=new hu(g,m,h.angleTo(d),l);return _._round(),!a||yu(t,_,s,a,e)?_:void 0}u+=p}}function wu(t,e,n,i,o,r,a,s,u){var c=vu(i,r,a),l=Cu(i,o),d=l*a,h=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-d<e/4&&(e=d+e/4),function t(e,n,i,o,r,a,s,u,c){for(var l=a/2,d=bu(e),h=0,p=n-i,f=[],g=0;g<e.length-1;g++){for(var m=e[g],_=e[g+1],y=m.dist(_),b=_.angleTo(m);p+i<h+y;){var v=((p+=i)-h)/y,C=we(m.x,_.x,v),x=we(m.y,_.y,v);if(C>=0&&C<c&&x>=0&&x<c&&p-l>=0&&p+l<=d){var w=new hu(C,x,b,g);w._round(),o&&!yu(e,w,a,o,r)||f.push(w)}}h+=y}return u||f.length||s||(f=t(e,h/2,i,o,r,a,s,!0,c)),f}(t,h?e/2*s%e:(l/2+2*r)*a*s%e,e,c,n,d,h,!1,u)}function Pu(t,e,n,i){var r=[],a=t.image,s=a.pixelRatio,u=a.paddedRect.w-2,c=a.paddedRect.h-2,l=t.right-t.left,d=t.bottom-t.top,h=a.stretchX||[[0,u]],p=a.stretchY||[[0,c]],f=function(t,e){return t+e[1]-e[0]},g=h.reduce(f,0),m=p.reduce(f,0),_=u-g,y=c-m,b=0,v=g,C=0,x=m,w=0,P=_,M=0,O=y;if(a.content&&i){var k=a.content;b=Mu(h,0,k[0]),C=Mu(p,0,k[1]),v=Mu(h,k[0],k[2]),x=Mu(p,k[1],k[3]),w=k[0]-b,M=k[1]-C,P=k[2]-k[0]-v,O=k[3]-k[1]-x}var E=function(i,r,u,c){var h=ku(i.stretch-b,v,l,t.left),p=Eu(i.fixed-w,P,i.stretch,g),f=ku(r.stretch-C,x,d,t.top),_=Eu(r.fixed-M,O,r.stretch,m),y=ku(u.stretch-b,v,l,t.left),k=Eu(u.fixed-w,P,u.stretch,g),E=ku(c.stretch-C,x,d,t.top),S=Eu(c.fixed-M,O,c.stretch,m),T=new o(h,f),A=new o(y,f),I=new o(y,E),D=new o(h,E),R=new o(p/s,_/s),F=new o(k/s,S/s),L=e*Math.PI/180;if(L){var z=Math.sin(L),B=Math.cos(L),N=[B,-z,z,B];T._matMult(N),A._matMult(N),D._matMult(N),I._matMult(N)}var V=i.stretch+i.fixed,U=r.stretch+r.fixed;return{tl:T,tr:A,bl:D,br:I,tex:{x:a.paddedRect.x+1+V,y:a.paddedRect.y+1+U,w:u.stretch+u.fixed-V,h:c.stretch+c.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:F,minFontScaleX:P/s/l,minFontScaleY:O/s/d,isSDF:n}};if(i&&(a.stretchX||a.stretchY))for(var S=Ou(h,_,g),T=Ou(p,y,m),A=0;A<S.length-1;A++)for(var I=S[A],D=S[A+1],R=0;R<T.length-1;R++)r.push(E(I,T[R],D,T[R+1]));else r.push(E({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:c+1}));return r}function Mu(t,e,n){for(var i=0,o=0,r=t;o<r.length;o+=1){var a=r[o];i+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return i}function Ou(t,e,n){for(var i=[{fixed:-1,stretch:0}],o=0,r=t;o<r.length;o+=1){var a=r[o],s=a[0],u=a[1],c=i[i.length-1];i.push({fixed:s-c.stretch,stretch:c.stretch}),i.push({fixed:s-c.stretch,stretch:c.stretch+(u-s)})}return i.push({fixed:e+1,stretch:n}),i}function ku(t,e,n,i){return t/e*n+i}function Eu(t,e,n,i){return t-e*n/i}var Su=function(t,e,n,i,r,a,s,u,c,l,d,h){var p=s.top*u-c,f=s.bottom*u+c,g=s.left*u-c,m=s.right*u+c,_=s.collisionPadding;if(_&&(g-=_[0]*u,p-=_[1]*u,m+=_[2]*u,f+=_[3]*u),this.boxStartIndex=t.length,l){var y=f-p,b=m-g;y>0&&(y=Math.max(10*u,y),this._addLineCollisionCircles(t,e,n,n.segment,b,y,i,r,a,d))}else{if(h){var v=new o(g,p),C=new o(m,p),x=new o(g,f),w=new o(m,f),P=h*Math.PI/180;v._rotate(P),C._rotate(P),x._rotate(P),w._rotate(P),g=Math.min(v.x,C.x,x.x,w.x),m=Math.max(v.x,C.x,x.x,w.x),p=Math.min(v.y,C.y,x.y,w.y),f=Math.max(v.y,C.y,x.y,w.y)}t.emplaceBack(n.x,n.y,g,p,m,f,i,r,a,0,0)}this.boxEndIndex=t.length};Su.prototype._addLineCollisionCircles=function(t,e,n,i,o,r,a,s,u,c){var l=r/2,d=Math.floor(o/l)||1,h=1+.4*Math.log(c)/Math.LN2,p=Math.floor(d*h/2),f=-r/2,g=n,m=i+1,_=f,y=-o/2,b=y-o/4;do{if(--m<0){if(_>y)return;m=0;break}_-=e[m].dist(g),g=e[m]}while(_>b);for(var v=e[m].dist(e[m+1]),C=-p;C<d+p;C++){var x=C*l,w=y+x;if(x<0&&(w+=x),x>o&&(w+=x-o),!(w<_)){for(;_+v<w;){if(_+=v,++m+1>=e.length)return;v=e[m].dist(e[m+1])}var P=w-_,M=e[m],O=e[m+1].sub(M)._unit()._mult(P)._add(M)._round(),k=Math.abs(w-f)<l?0:.8*(w-f);t.emplaceBack(O.x,O.y,-r/2,-r/2,r/2,r/2,a,s,u,r/2,k)}}};var Tu=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=Au),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function Au(t,e){return t<e?-1:t>e?1:0}function Iu(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,r=1/0,a=-1/0,s=-1/0,u=t[0],c=0;c<u.length;c++){var l=u[c];(!c||l.x<i)&&(i=l.x),(!c||l.y<r)&&(r=l.y),(!c||l.x>a)&&(a=l.x),(!c||l.y>s)&&(s=l.y)}var d=Math.min(a-i,s-r),h=d/2,p=new Tu([],Du);if(0===d)return new o(i,r);for(var f=i;f<a;f+=d)for(var g=r;g<s;g+=d)p.push(new Ru(f+h,g+h,h,t));for(var m=function(t){for(var e=0,n=0,i=0,o=t[0],r=0,a=o.length,s=a-1;r<a;s=r++){var u=o[r],c=o[s],l=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*l,i+=(u.y+c.y)*l,e+=3*l}return new Ru(n/e,i/e,0,t)}(t),_=p.length;p.length;){var y=p.pop();(y.d>m.d||!m.d)&&(m=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,_)),y.max-m.d<=e||(p.push(new Ru(y.p.x-(h=y.h/2),y.p.y-h,h,t)),p.push(new Ru(y.p.x+h,y.p.y-h,h,t)),p.push(new Ru(y.p.x-h,y.p.y+h,h,t)),p.push(new Ru(y.p.x+h,y.p.y+h,h,t)),_+=4)}return n&&(console.log("num probes: "+_),console.log("best distance: "+m.d)),m.p}function Du(t,e){return e.max-t.max}function Ru(t,e,n,i){this.p=new o(t,e),this.h=n,this.d=function(t,e){for(var n=!1,i=1/0,o=0;o<e.length;o++)for(var r=e[o],a=0,s=r.length,u=s-1;a<s;u=a++){var c=r[a],l=r[u];c.y>t.y!=l.y>t.y&&t.x<(l.x-c.x)*(t.y-c.y)/(l.y-c.y)+c.x&&(n=!n),i=Math.min(i,Ar(t,c,l))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}Tu.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Tu.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Tu.prototype.peek=function(){return this.data[0]},Tu.prototype._up=function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var o=t-1>>1,r=e[o];if(n(i,r)>=0)break;e[t]=r,t=o}e[t]=i},Tu.prototype._down=function(t){for(var e=this.data,n=this.compare,i=this.length>>1,o=e[t];t<i;){var r=1+(t<<1),a=e[r],s=r+1;if(s<this.length&&n(e[s],a)<0&&(r=s,a=e[s]),n(a,o)>=0)break;e[t]=a,t=r}e[t]=o};var Fu=Number.POSITIVE_INFINITY;function Lu(t,e){return e[1]!==Fu?function(t,e,n){var i=0,o=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":o=n-7;break;case"bottom-right":case"bottom-left":case"bottom":o=7-n}switch(t){case"top-right":case"bottom-right":case"right":i=-e;break;case"top-left":case"bottom-left":case"left":i=e}return[i,o]}(t,e[0],e[1]):function(t,e){var n=0,i=0;e<0&&(e=0);var o=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":i=o-7;break;case"bottom-right":case"bottom-left":i=7-o;break;case"bottom":i=7-e;break;case"top":i=e-7}switch(t){case"top-right":case"bottom-right":n=-o;break;case"top-left":case"bottom-left":n=o;break;case"left":n=e;break;case"right":n=-e}return[n,i]}(t,e[0])}function zu(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Bu=32640;function Nu(t,e,n,i,r,a,s,u,c,l,d,h,p,f){var g=function(t,e,n,i,r,a,s,u){for(var c=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,l=[],d=0,h=e.positionedLines;d<h.length;d+=1)for(var p=h[d],f=0,g=p.positionedGlyphs;f<g.length;f+=1){var m=g[f];if(m.rect){var _=m.rect||{},y=4,b=!0,v=1,C=0,x=(r||u)&&m.vertical,w=m.metrics.advance*m.scale/2;if(u&&e.verticalizable&&(C=p.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var P=s[m.imageName];b=P.sdf,y=1/(v=P.pixelRatio)}var M=r?[m.x+w,m.y]:[0,0],O=r?[0,0]:[m.x+w+n[0],m.y+n[1]-C],k=[0,0];x&&(k=O,O=[0,0]);var E=(m.metrics.left-y)*m.scale-w+O[0],S=(-m.metrics.top-y)*m.scale+O[1],T=E+_.w*m.scale/v,A=S+_.h*m.scale/v,I=new o(E,S),D=new o(T,S),R=new o(E,A),F=new o(T,A);if(x){var L=new o(-w,w- -17),z=-Math.PI/2,B=12-w,N=new o(22-B,-(m.imageName?B:0)),V=new(Function.prototype.bind.apply(o,[null].concat(k)));I._rotateAround(z,L)._add(N)._add(V),D._rotateAround(z,L)._add(N)._add(V),R._rotateAround(z,L)._add(N)._add(V),F._rotateAround(z,L)._add(N)._add(V)}if(c){var U=Math.sin(c),q=Math.cos(c),j=[q,-U,U,q];I._matMult(j),D._matMult(j),R._matMult(j),F._matMult(j)}var G=new o(0,0),H=new o(0,0);l.push({tl:I,tr:D,bl:R,br:F,tex:_,writingMode:e.writingMode,glyphOffset:M,sectionIndex:m.sectionIndex,isSDF:b,pixelOffsetTL:G,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return l}(0,n,u,r,a,s,i,t.allowVerticalPlacement),m=t.textSizeData,_=null;"source"===m.kind?(_=[pu*r.layout.get("text-size").evaluate(s,{})])[0]>Bu&&C(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===m.kind&&((_=[pu*f.compositeTextSizes[0].evaluate(s,{}),pu*f.compositeTextSizes[1].evaluate(s,{})])[0]>Bu||_[1]>Bu)&&C(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,_,u,a,s,l,e,c.lineStartIndex,c.lineLength,p);for(var y=0,b=d;y<b.length;y+=1)h[b[y]]=t.text.placedSymbolArray.length-1;return 4*g.length}function Vu(t){for(var e in t)return t[e];return null}function Uu(t,e,n,i){var o=t.compareText;if(e in o){for(var r=o[e],a=r.length-1;a>=0;a--)if(i.dist(r[a])<n)return!0}else o[e]=[];return o[e].push(i),!1}var qu=Ya.VectorTileFeature.types,ju=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gu(t,e,n,i,o,r,a,s,u,c,l,d,h){var p=s?Math.min(Bu,Math.round(s[0])):0,f=s?Math.min(Bu,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*i),Math.round(32*o),r,a,(p<<1)+(u?1:0),f,16*c,16*l,256*d,256*h)}function Hu(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function Zu(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Si(n[e].text))return!0;return!1}var Wu=function(t){this.layoutVertexArray=new go,this.indexArray=new Oo,this.programConfigurations=t,this.segments=new Go,this.dynamicLayoutVertexArray=new mo,this.opacityVertexArray=new _o,this.placedSymbolArray=new Ro};Wu.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},Wu.prototype.upload=function(t,e,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ys.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,bs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ju,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(t))},Wu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},gi("SymbolBuffers",Wu);var Ku=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new Go,this.collisionVertexArray=new vo};Ku.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,vs.members,!0)},Ku.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},gi("CollisionBuffers",Ku);var Xu=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[];var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=fu(this.zoom,e["text-size"]),this.iconSizeData=fu(this.zoom,e["icon-size"]);var n=this.layers[0].layout,i=n.get("symbol-sort-key"),o=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==o&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map((function(t){return Qs[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};Xu.prototype.createArrays=function(){this.text=new Wu(new mr(ys.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new Wu(new mr(ys.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new Bo,this.lineVertexArray=new Vo,this.symbolInstances=new Lo},Xu.prototype.calculateGlyphDependencies=function(t,e,n,i,o){for(var r=0;r<t.length;r++)if(e[t.charCodeAt(r)]=!0,(n||i)&&o){var a=Ps[t.charAt(r)];a&&(e[a.charCodeAt(0)]=!0)}},Xu.prototype.populate=function(t,e){var n=this.layers[0],i=n.layout,o=i.get("text-font"),r=i.get("text-field"),a=i.get("icon-image"),s=("constant"!==r.value.kind||r.value.value instanceof Jt&&!r.value.value.isEmpty()||r.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u=("constant"!==a.value.kind||!!a.value.value)&&Object.keys(a.parameters).length>0,c=i.get("symbol-sort-key");if(this.features=[],s||u){for(var l=e.iconDependencies,d=e.glyphDependencies,h=e.availableImages,p=new qi(this.zoom),f=0,g=t;f<g.length;f+=1){var m=g[f],_=m.feature,y=m.id,b=m.index,v=m.sourceLayerIndex;if(n._featureFilter(p,_)){var C=void 0;if(s){var x=n.getValueAndResolveTokens("text-field",_,h),w=Jt.factory(x);Zu(w)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Ni()||this.hasRTLText&&Ui.isParsed())&&(C=ws(w,n,_))}var P=void 0;if(u){var M=n.getValueAndResolveTokens("icon-image",_,h);P=M instanceof te?M:te.fromString(M)}if(C||P){var O=this.sortFeaturesByKey?c.evaluate(_,{}):void 0,k={id:y,text:C,icon:P,index:b,sourceLayerIndex:v,geometry:Cr(_),properties:_.properties,type:qu[_.type],sortKey:O};if(this.features.push(k),P&&(l[P.name]=!0),C){var E=o.evaluate(_,{}).join(","),S="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Qs.vertical)>=0;for(var T=0,A=C.sections;T<A.length;T+=1){var I=A[T];if(I.image)l[I.image.name]=!0;else{var D=wi(C.toString()),R=I.fontStack||E,F=d[R]=d[R]||{};this.calculateGlyphDependencies(I.text,F,S,this.allowVerticalPlacement,D)}}}}}}"line"===i.get("symbol-placement")&&(this.features=function(t){var e={},n={},i=[],o=0;function r(e){i.push(t[e]),o++}function a(t,e,o){var r=n[t];return delete n[t],n[e]=r,i[r].geometry[0].pop(),i[r].geometry[0]=i[r].geometry[0].concat(o[0]),r}function s(t,n,o){var r=e[n];return delete e[n],e[t]=r,i[r].geometry[0].shift(),i[r].geometry[0]=o[0].concat(i[r].geometry[0]),r}function u(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var c=0;c<t.length;c++){var l=t[c],d=l.geometry,h=l.text?l.text.toString():null;if(h){var p=u(h,d),f=u(h,d,!0);if(p in n&&f in e&&n[p]!==e[f]){var g=s(p,f,d),m=a(p,f,i[g].geometry);delete e[p],delete n[f],n[u(h,i[m].geometry,!0)]=m,i[g].geometry=null}else p in n?a(p,f,d):f in e?s(p,f,d):(r(c),e[p]=o-1,n[f]=o-1)}else r(c)}return i.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},Xu.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},Xu.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},Xu.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Xu.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t),this.textCollisionCircle.upload(t),this.iconCollisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Xu.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy(),this.textCollisionCircle.destroy(),this.iconCollisionCircle.destroy()},Xu.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Xu.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),r={},a=t.segment+1;a<e.length;a++)r[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:i},a<e.length-1&&(i+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)r[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:o},s>0&&(o+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var c=r[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Xu.prototype.addSymbols=function(t,e,n,i,o,r,a,s,u,c,l){for(var d=t.indexArray,h=t.layoutVertexArray,p=t.segments.prepareSegment(4*e.length,h,d,r.sortKey),f=this.glyphOffsetArray.length,g=p.vertexLength,m=this.allowVerticalPlacement&&a===Qs.vertical?Math.PI/2:0,_=r.text&&r.text.sections,y=0;y<e.length;y++){var b=e[y],v=b.tl,C=b.tr,x=b.bl,w=b.br,P=b.tex,M=b.pixelOffsetTL,O=b.pixelOffsetBR,k=b.minFontScaleX,E=b.minFontScaleY,S=b.glyphOffset,T=b.isSDF,A=b.sectionIndex,I=p.vertexLength,D=S[1];Gu(h,s.x,s.y,v.x,D+v.y,P.x,P.y,n,T,M.x,M.y,k,E),Gu(h,s.x,s.y,C.x,D+C.y,P.x+P.w,P.y,n,T,O.x,M.y,k,E),Gu(h,s.x,s.y,x.x,D+x.y,P.x,P.y+P.h,n,T,M.x,O.y,k,E),Gu(h,s.x,s.y,w.x,D+w.y,P.x+P.w,P.y+P.h,n,T,O.x,O.y,k,E),Hu(t.dynamicLayoutVertexArray,s,m),d.emplaceBack(I,I+1,I+2),d.emplaceBack(I+1,I+2,I+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),y!==e.length-1&&A===e[y+1].sectionIndex||t.programConfigurations.populatePaintArrays(h.length,r,r.index,{},_&&_[A])}t.placedSymbolArray.emplaceBack(s.x,s.y,f,this.glyphOffsetArray.length-f,g,u,c,s.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,l)},Xu.prototype._addCollisionDebugVertex=function(t,e,n,i,o,r){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,i,o,Math.round(r.x),Math.round(r.y))},Xu.prototype.addCollisionDebugVertices=function(t,e,n,i,r,a,s,u){var c=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=c.vertexLength,d=r.layoutVertexArray,h=r.collisionVertexArray,p=s.anchorX,f=s.anchorY;if(this._addCollisionDebugVertex(d,h,a,p,f,new o(t,e)),this._addCollisionDebugVertex(d,h,a,p,f,new o(n,e)),this._addCollisionDebugVertex(d,h,a,p,f,new o(n,i)),this._addCollisionDebugVertex(d,h,a,p,f,new o(t,i)),c.vertexLength+=4,u){var g=r.indexArray;g.emplaceBack(l,l+1,l+2),g.emplaceBack(l,l+2,l+3),c.primitiveLength+=2}else{var m=r.indexArray;m.emplaceBack(l,l+1),m.emplaceBack(l+1,l+2),m.emplaceBack(l+2,l+3),m.emplaceBack(l+3,l),c.primitiveLength+=4}},Xu.prototype.addDebugCollisionBoxes=function(t,e,n,i){for(var o=t;o<e;o++){var r=this.collisionBoxArray.get(o),a=r.radius>0;this.addCollisionDebugVertices(r.x1,r.y1,r.x2,r.y2,a?i?this.textCollisionCircle:this.iconCollisionCircle:i?this.textCollisionBox:this.iconCollisionBox,r.anchorPoint,n,a)}},Xu.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ku(bo,Cs.members,ko),this.iconCollisionBox=new Ku(bo,Cs.members,ko),this.textCollisionCircle=new Ku(bo,xs.members,Oo),this.iconCollisionCircle=new Ku(bo,xs.members,Oo);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},Xu.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,i,o,r,a,s,u){for(var c={},l=e;l<n;l++){var d=t.get(l);if(0===d.radius){c.textBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},c.textFeatureIndex=d.featureIndex;break}c.textCircles||(c.textCircles=[],c.textFeatureIndex=d.featureIndex),c.textCircles.push(d.anchorPointX,d.anchorPointY,d.radius,d.signedDistanceFromAnchor,1)}for(var h=i;h<o;h++){var p=t.get(h);if(0===p.radius){c.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.verticalTextFeatureIndex=p.featureIndex;break}}for(var f=r;f<a;f++){var g=t.get(f);if(0===g.radius){c.iconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},c.iconFeatureIndex=g.featureIndex;break}}for(var m=s;m<u;m++){var _=t.get(m);if(0===_.radius){c.verticalIconBox={x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2,anchorPointX:_.anchorPointX,anchorPointY:_.anchorPointY},c.verticalIconFeatureIndex=_.featureIndex;break}}return c},Xu.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},Xu.prototype.hasTextData=function(){return this.text.segments.get().length>0},Xu.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Xu.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox&&this.textCollisionCircle&&this.iconCollisionCircle},Xu.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Xu.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Xu.prototype.hasTextCollisionCircleData=function(){return this.hasDebugData()&&this.textCollisionCircle.segments.get().length>0},Xu.prototype.hasIconCollisionCircleData=function(){return this.hasDebugData()&&this.iconCollisionCircle.segments.get().length>0},Xu.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),i=n.vertexStartIndex+4*n.numGlyphs,o=n.vertexStartIndex;o<i;o+=4)t.indexArray.emplaceBack(o,o+1,o+2),t.indexArray.emplaceBack(o+1,o+2,o+3)},Xu.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),i=[],o=[],r=[],a=0;a<this.symbolInstances.length;++a){r.push(a);var s=this.symbolInstances.get(a);i.push(0|Math.round(e*s.anchorX+n*s.anchorY)),o.push(s.featureIndex)}return r.sort((function(t,e){return i[t]-i[e]||o[e]-o[t]})),r},Xu.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},Xu.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,i=this.symbolInstanceIndexes;n<i.length;n+=1){var o=this.symbolInstances.get(i[n]);this.featureSortOrder.push(o.featureIndex),[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((function(t,n,i){t>=0&&i.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)})),o.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,o.verticalPlacedTextSymbolIndex),o.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.placedIconSymbolIndex),o.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,o.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},gi("SymbolBucket",Xu,{omit:["layers","collisionBoxArray","features","compareText"]}),Xu.MAX_GLYPHS=65535,Xu.addDynamicAttributes=Hu;var $u=new no({"symbol-placement":new Yi(kt.layout_symbol["symbol-placement"]),"symbol-spacing":new Yi(kt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Yi(kt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Qi(kt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Yi(kt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Yi(kt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Yi(kt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Yi(kt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Yi(kt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Qi(kt.layout_symbol["icon-size"]),"icon-text-fit":new Yi(kt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Yi(kt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Qi(kt.layout_symbol["icon-image"]),"icon-rotate":new Qi(kt.layout_symbol["icon-rotate"]),"icon-padding":new Yi(kt.layout_symbol["icon-padding"]),"icon-keep-upright":new Yi(kt.layout_symbol["icon-keep-upright"]),"icon-offset":new Qi(kt.layout_symbol["icon-offset"]),"icon-anchor":new Qi(kt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Yi(kt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Yi(kt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Yi(kt.layout_symbol["text-rotation-alignment"]),"text-field":new Qi(kt.layout_symbol["text-field"]),"text-font":new Qi(kt.layout_symbol["text-font"]),"text-size":new Qi(kt.layout_symbol["text-size"]),"text-max-width":new Qi(kt.layout_symbol["text-max-width"]),"text-line-height":new Yi(kt.layout_symbol["text-line-height"]),"text-letter-spacing":new Qi(kt.layout_symbol["text-letter-spacing"]),"text-justify":new Qi(kt.layout_symbol["text-justify"]),"text-radial-offset":new Qi(kt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Yi(kt.layout_symbol["text-variable-anchor"]),"text-anchor":new Qi(kt.layout_symbol["text-anchor"]),"text-max-angle":new Yi(kt.layout_symbol["text-max-angle"]),"text-writing-mode":new Yi(kt.layout_symbol["text-writing-mode"]),"text-rotate":new Qi(kt.layout_symbol["text-rotate"]),"text-padding":new Yi(kt.layout_symbol["text-padding"]),"text-keep-upright":new Yi(kt.layout_symbol["text-keep-upright"]),"text-transform":new Qi(kt.layout_symbol["text-transform"]),"text-offset":new Qi(kt.layout_symbol["text-offset"]),"text-allow-overlap":new Yi(kt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Yi(kt.layout_symbol["text-ignore-placement"]),"text-optional":new Yi(kt.layout_symbol["text-optional"])}),Yu={paint:new no({"icon-opacity":new Qi(kt.paint_symbol["icon-opacity"]),"icon-color":new Qi(kt.paint_symbol["icon-color"]),"icon-halo-color":new Qi(kt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Qi(kt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Qi(kt.paint_symbol["icon-halo-blur"]),"icon-translate":new Yi(kt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Yi(kt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Qi(kt.paint_symbol["text-opacity"]),"text-color":new Qi(kt.paint_symbol["text-color"],{runtimeType:Nt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new Qi(kt.paint_symbol["text-halo-color"]),"text-halo-width":new Qi(kt.paint_symbol["text-halo-width"]),"text-halo-blur":new Qi(kt.paint_symbol["text-halo-blur"]),"text-translate":new Yi(kt.paint_symbol["text-translate"]),"text-translate-anchor":new Yi(kt.paint_symbol["text-translate-anchor"])}),layout:$u},Qu=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Ft,this.defaultValue=t};Qu.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},Qu.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},Qu.prototype.possibleOutputs=function(){return[void 0]},Qu.prototype.serialize=function(){return null},gi("FormatSectionOverride",Qu,{omit:["defaultValue"]});var Ju=function(t){function e(e){t.call(this,e,Yu)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var i=this.layout.get("text-writing-mode");if(i){for(var o=[],r=0,a=i;r<a.length;r+=1){var s=a[r];o.indexOf(s)<0&&o.push(s)}this.layout._values["text-writing-mode"]=o}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n){var i=this.layout.get(t).evaluate(e,{},n),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||wn(o.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,n){return n in t?String(t[n]):""}))}(e.properties,i)},e.prototype.createBucket=function(t){return new Xu(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=Yu.paint.overridableProperties;t<n.length;t+=1){var i=n[t];if(e.hasPaintOverride(this.layout,i)){var o,r=this.paint.get(i),a=new Qu(r),s=new xn(a,r.property.specification);o="constant"===r.value.kind||"source"===r.value.kind?new Mn("source",s):new On("composite",s,r.value.zoomStops,r.value._interpolationType),this.paint._values[i]=new Xi(r.property,o,r.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),i=Yu.paint.properties[e],o=!1,r=function(t){for(var e=0,n=t;e<n.length;e+=1)if(i.overrides&&i.overrides.hasOverride(n[e]))return void(o=!0)};if("constant"===n.value.kind&&n.value.value instanceof Jt)r(n.value.value.sections);else if("source"===n.value.kind){var a=function(t){o||(t instanceof oe&&ne(t.value)===jt?r(t.value.sections):t instanceof ue?r(t.sections):t.eachChild(a))},s=n.value;s._styleExpression&&a(s._styleExpression.expression)}return o},e}(io),tc={paint:new no({"background-color":new Yi(kt.paint_background["background-color"]),"background-pattern":new to(kt.paint_background["background-pattern"]),"background-opacity":new Yi(kt.paint_background["background-opacity"])})},ec=function(t){function e(e){t.call(this,e,tc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(io),nc={paint:new no({"raster-opacity":new Yi(kt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Yi(kt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Yi(kt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Yi(kt.paint_raster["raster-brightness-max"]),"raster-saturation":new Yi(kt.paint_raster["raster-saturation"]),"raster-contrast":new Yi(kt.paint_raster["raster-contrast"]),"raster-resampling":new Yi(kt.paint_raster["raster-resampling"]),"raster-fade-duration":new Yi(kt.paint_raster["raster-fade-duration"])})},ic=function(t){function e(e){t.call(this,e,nc)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(io),oc=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(io),rc={circle:jr,heatmap:Jr,hillshade:ea,fill:Ua,"fill-extrusion":rs,line:ms,symbol:Ju,background:ec,raster:ic},ac=self.HTMLImageElement,sc=self.HTMLCanvasElement,uc=self.HTMLVideoElement,cc=self.ImageData,lc=self.ImageBitmap,dc=function(t,e,n,i){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)};dc.prototype.update=function(t,e,n){var i=t.width,o=t.height,r=!(this.size&&this.size[0]===i&&this.size[1]===o||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),r)this.size=[i,o],t instanceof ac||t instanceof sc||t instanceof uc||t instanceof cc||lc&&t instanceof lc?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,o,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},c=u.x,l=u.y;t instanceof ac||t instanceof sc||t instanceof uc||t instanceof cc||lc&&t instanceof lc?s.texSubImage2D(s.TEXTURE_2D,0,c,l,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,c,l,i,o,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},dc.prototype.bind=function(t,e,n){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)},dc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},dc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var hc=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};hc.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},hc.prototype.remove=function(){delete this._channel,this._callback=function(){}};var pc=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g(["receive","process"],this),this.invoker=new hc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=P()?t:self};function fc(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}pc.prototype.send=function(t,e,n,i,o){var r=this;void 0===o&&(o=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=k(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:i,mustQueue:o,sourceMapId:this.mapId,data:bi(e,s)},s),{cancel:function(){n&&delete r.callbacks[a],r.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:r.mapId})}}},pc.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var i=this.cancelCallbacks[n];delete this.cancelCallbacks[n],i&&i()}else P()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},pc.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},pc.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(vi(e.error)):i(null,vi(e.data)))}else{var o=!1,r=k(this.globalScope)?void 0:[],a=e.hasCallback?function(e,i){o=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?bi(e):null,data:bi(i,r)},r)}:function(t){o=!0},s=null,u=vi(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,u,a);else if(this.parent.getWorkerSource){var c=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,c[0],u.source)[c[1]](u,a)}else a(new Error("Could not find function "+e.type));!o&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},pc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var gc=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};gc.prototype.setNorthEast=function(t){return this._ne=t instanceof mc?new mc(t.lng,t.lat):mc.convert(t),this},gc.prototype.setSouthWest=function(t){return this._sw=t instanceof mc?new mc(t.lng,t.lat):mc.convert(t),this},gc.prototype.extend=function(t){var e,n,i=this._sw,o=this._ne;if(t instanceof mc)e=t,n=t;else{if(!(t instanceof gc))return Array.isArray(t)?t.every(Array.isArray)?this.extend(gc.convert(t)):this.extend(mc.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return i||o?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),o.lng=Math.max(n.lng,o.lng),o.lat=Math.max(n.lat,o.lat)):(this._sw=new mc(e.lng,e.lat),this._ne=new mc(n.lng,n.lat)),this},gc.prototype.getCenter=function(){return new mc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},gc.prototype.getSouthWest=function(){return this._sw},gc.prototype.getNorthEast=function(){return this._ne},gc.prototype.getNorthWest=function(){return new mc(this.getWest(),this.getNorth())},gc.prototype.getSouthEast=function(){return new mc(this.getEast(),this.getSouth())},gc.prototype.getWest=function(){return this._sw.lng},gc.prototype.getSouth=function(){return this._sw.lat},gc.prototype.getEast=function(){return this._ne.lng},gc.prototype.getNorth=function(){return this._ne.lat},gc.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},gc.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},gc.prototype.isEmpty=function(){return!(this._sw&&this._ne)},gc.prototype.contains=function(t){var e=mc.convert(t),n=e.lng,i=e.lat,o=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(o=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&o},gc.convert=function(t){return!t||t instanceof gc?t:new gc(t)};var mc=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};mc.prototype.wrap=function(){return new mc(c(this.lng,-180,180),this.lat)},mc.prototype.toArray=function(){return[this.lng,this.lat]},mc.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},mc.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,i=t.lat*e,o=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(o,1))},mc.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new gc(new mc(this.lng-n,this.lat-e),new mc(this.lng+n,this.lat+e))},mc.convert=function(t){if(t instanceof mc)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new mc(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new mc(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var _c=2*Math.PI*6371008.8;function yc(t){return _c*Math.cos(t*Math.PI/180)}function bc(t){return(180+t)/360}function vc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Cc(t,e){return t/yc(e)}function xc(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var wc=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};wc.fromLngLat=function(t,e){void 0===e&&(e=0);var n=mc.convert(t);return new wc(bc(n.lng),vc(n.lat),Cc(e,n.lat))},wc.prototype.toLngLat=function(){return new mc(360*this.x-180,xc(this.y))},wc.prototype.toAltitude=function(){return this.z*yc(xc(this.y))},wc.prototype.meterInMercatorCoordinateUnits=function(){return 1/_c*(t=xc(this.y),1/Math.cos(t*Math.PI/180));var t};var Pc=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=kc(0,t,t,e,n)};Pc.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Pc.prototype.url=function(t,e){var n,i,o,r,a,s=(i=this.y,o=this.z,r=fc(256*(n=this.x),256*(i=Math.pow(2,o)-i-1),o),a=fc(256*(n+1),256*(i+1),o),r[0]+","+r[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var i,o="",r=t;r>0;r--)o+=(e&(i=1<<r-1)?1:0)+(n&i?2:0);return o}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Pc.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new o((t.x*e-this.x)*br,(t.y*e-this.y)*br)},Pc.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Mc=function(t,e){this.wrap=t,this.canonical=e,this.key=kc(t,e.z,e.z,e.x,e.y)},Oc=function(t,e,n,i,o){this.overscaledZ=t,this.wrap=e,this.canonical=new Pc(n,+i,+o),this.key=kc(e,t,n,i,o)};function kc(t,e,n,i,o){(t*=2)<0&&(t=-1*t-1);var r=1<<n;return(r*r*t+r*o+i).toString(36)+n.toString(36)+e.toString(36)}Oc.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Oc.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Oc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Oc(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Oc.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?kc(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):kc(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Oc.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Oc.prototype.children=function(t){if(this.overscaledZ>=t)return[new Oc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Oc(e,this.wrap,e,n,i),new Oc(e,this.wrap,e,n+1,i),new Oc(e,this.wrap,e,n,i+1),new Oc(e,this.wrap,e,n+1,i+1)]},Oc.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Oc.prototype.wrapped=function(){return new Oc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Oc.prototype.unwrapTo=function(t){return new Oc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Oc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Oc.prototype.toUnwrapped=function(){return new Mc(this.wrap,this.canonical)},Oc.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Oc.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new wc(t.x-this.wrap,t.y))},gi("CanonicalTileID",Pc),gi("OverscaledTileID",Oc,{omit:["posMatrix"]});var Ec=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return C('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var i=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var o=0;o<i;o++)this.data[this._idx(-1,o)]=this.data[this._idx(0,o)],this.data[this._idx(i,o)]=this.data[this._idx(i-1,o)],this.data[this._idx(o,-1)]=this.data[this._idx(o,0)],this.data[this._idx(o,i)]=this.data[this._idx(o,i-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(i,-1)]=this.data[this._idx(i-1,0)],this.data[this._idx(-1,i)]=this.data[this._idx(0,i-1)],this.data[this._idx(i,i)]=this.data[this._idx(i-1,i-1)]};Ec.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),i=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[i],n[i+1],n[i+2])},Ec.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Ec.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Ec.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Ec.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Ec.prototype.getPixels=function(){return new $r({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Ec.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var i=e*this.dim,o=e*this.dim+this.dim,r=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:i=o-1;break;case 1:o=i+1}switch(n){case-1:r=a-1;break;case 1:a=r+1}for(var s=-e*this.dim,u=-n*this.dim,c=r;c<a;c++)for(var l=i;l<o;l++)this.data[this._idx(l,c)]=t.data[this._idx(l+s,c+u)]},gi("DEMData",Ec);var Sc=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Sc.prototype.encode=function(t){return this._stringToNumber[t]},Sc.prototype.decode=function(t){return this._numberToString[t]};var Tc=function(t,e,n,i,o){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,this.id=o},Ac={geometry:{configurable:!0}};Ac.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ac.geometry.set=function(t){this._geometry=t},Tc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Tc.prototype,Ac);var Ic=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ic.prototype.updateState=function(t,e,n){var i=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},l(this.stateChanges[t][i],n),null===this.deletedStates[t])for(var o in this.deletedStates[t]={},this.state[t])o!==i&&(this.deletedStates[t][o]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][i])for(var r in this.deletedStates[t][i]={},this.state[t][i])n[r]||(this.deletedStates[t][i][r]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][a]&&delete this.deletedStates[t][i][a]},Ic.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var i=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][i]&&(this.deletedStates[t][i]=this.deletedStates[t][i]||{},this.deletedStates[t][i][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][i])for(n in this.deletedStates[t][i]={},this.stateChanges[t][i])this.deletedStates[t][i][n]=null;else this.deletedStates[t][i]=null;else this.deletedStates[t]=null}},Ic.prototype.getState=function(t,e){var n=String(e),i=l({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var o=this.deletedStates[t][e];if(null===o)return{};for(var r in o)delete i[r]}return i},Ic.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Ic.prototype.coalesceChanges=function(t,e){var n={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var o={};for(var r in this.stateChanges[i])this.state[i][r]||(this.state[i][r]={}),l(this.state[i][r],this.stateChanges[i][r]),o[r]=this.state[i][r];n[i]=o}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var c in this.deletedStates[a]){if(null===this.deletedStates[a][c])this.state[a][c]={};else for(var d=0,h=Object.keys(this.deletedStates[a][c]);d<h.length;d+=1)delete this.state[a][c][h[d]];s[c]=this.state[a][c]}n[a]=n[a]||{},l(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var p in t)t[p].setFeatureState(n,e)};var Dc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new li(br,16,0),this.grid3D=new li(br,16,0),this.featureIndexArray=new qo,this.promoteId=e};function Rc(t){for(var e=1/0,n=1/0,i=-1/0,o=-1/0,r=0,a=t;r<a.length;r+=1){var s=a[r];e=Math.min(e,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),o=Math.max(o,s.y)}return{minX:e,minY:n,maxX:i,maxY:o}}function Fc(t,e){return e-t}Dc.prototype.insert=function(t,e,n,i,o,r){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,o);for(var s=r?this.grid3D:this.grid,u=0;u<e.length;u++){for(var c=e[u],l=[1/0,1/0,-1/0,-1/0],d=0;d<c.length;d++){var h=c[d];l[0]=Math.min(l[0],h.x),l[1]=Math.min(l[1],h.y),l[2]=Math.max(l[2],h.x),l[3]=Math.max(l[3],h.y)}l[0]<br&&l[1]<br&&l[2]>=0&&l[3]>=0&&s.insert(a,l[0],l[1],l[2],l[3])}},Dc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ya.VectorTile(new ks(this.rawTileData)).layers,this.sourceLayerCoder=new Sc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Dc.prototype.query=function(t,e,n){var i=this;this.loadVTLayers();for(var r=t.params||{},a=br/t.tileSize/t.scale,s=zn(r.filter),u=t.queryGeometry,c=t.queryPadding*a,l=Rc(u),d=this.grid.query(l.minX-c,l.minY-c,l.maxX+c,l.maxY+c),h=Rc(t.cameraQueryGeometry),p=0,f=this.grid3D.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c,(function(e,n,i,r){return function(t,e,n,i,r){for(var a=0,s=t;a<s.length;a+=1){var u=s[a];if(e<=u.x&&n<=u.y&&i>=u.x&&r>=u.y)return!0}var c=[new o(e,n),new o(e,r),new o(i,r),new o(i,n)];if(t.length>2)for(var l=0,d=c;l<d.length;l+=1)if(Dr(t,d[l]))return!0;for(var h=0;h<t.length-1;h++)if(Rr(t[h],t[h+1],c))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,i+c,r+c)}));p<f.length;p+=1)d.push(f[p]);d.sort(Fc);for(var g,m={},_=function(o){var c=d[o];if(c!==g){g=c;var l=i.featureIndexArray.get(c),h=null;i.loadMatchingFeature(m,l.bucketIndex,l.sourceLayerIndex,l.featureIndex,s,r.layers,e,(function(e,o,r){h||(h=Cr(e));var s={};return void 0!==r&&(s=n.getState(o.sourceLayer||"_geojsonTileLayer",r)),o.queryIntersectsFeature(u,e,s,h,i.z,t.transform,a,t.pixelPosMatrix)}))}},y=0;y<d.length;y++)_(y);return m},Dc.prototype.loadMatchingFeature=function(t,e,n,i,o,r,a,s){var u=this.bucketLayerIDs[e];if(!r||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(r,u)){var c=this.sourceLayerCoder.decode(n),l=this.vtLayers[c].feature(i);if(o(new qi(this.tileID.overscaledZ),l))for(var d=this.getId(l,c),h=0;h<u.length;h++){var p=u[h];if(!(r&&r.indexOf(p)<0)){var f=a[p];if(f){var g=!s||s(l,f,d);if(g){var m=new Tc(l,this.z,this.x,this.y,d);m.layer=f.serialize();var _=t[p];void 0===_&&(_=t[p]=[]),_.push({featureIndex:i,feature:m,intersectionZ:g})}}}}}},Dc.prototype.lookupSymbolFeatures=function(t,e,n,i,o,r){var a={};this.loadVTLayers();for(var s=zn(i),u=0,c=t;u<c.length;u+=1)this.loadMatchingFeature(a,e,n,c[u],s,o,r);return a},Dc.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var i=0,o=n[e];i<o.length;i+=1)if(t===o[i])return!0;return!1},Dc.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},gi("FeatureIndex",Dc,{omit:["rawTileData","sourceLayerCoder"]});var Lc=function(t,e){this.tileID=t,this.uid=h(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Lc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<L.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},Lc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Lc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var i in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var i=function(){var t=r[o],i=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==i.length){t.layers=i,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return i.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=i;a<s.length;a+=1)n[s[a].id]=t}},o=0,r=t;o<r.length;o+=1)i();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var o=this.buckets[i];if(o instanceof Xu){if(this.hasSymbolBuckets=!0,!n)break;o.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var r in this.buckets){var a=this.buckets[r];if(a instanceof Xu&&a.hasRTLText){this.hasRTLText=!0,Ui.isLoading()||Ui.isLoaded()||"deferred"!==Ni()||Vi();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(u))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Io},Lc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Lc.prototype.getBucket=function(t){return this.buckets[t.id]},Lc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var i=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new dc(t,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new dc(t,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},Lc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},Lc.prototype.queryRenderedFeatures=function(t,e,n,i,o,r,a,s,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:a,params:r,queryPadding:this.queryPadding*s},t,e):{}},Lc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var i=n.loadVTLayers(),o=e?e.sourceLayer:"",r=i._geojsonTileLayer||i[o];if(r)for(var a=zn(e&&e.filter),s=this.tileID.canonical,u=s.z,c=s.x,l=s.y,d={z:u,x:c,y:l},h=0;h<r.length;h++){var p=r.feature(h);if(a(new qi(this.tileID.overscaledZ),p)){var f=n.getId(p,o),g=new Tc(p,u,c,l,f);g.tile=d,t.push(g)}}}},Lc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Lc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Lc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=M(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var r=this.expirationTime-e;r?this.expirationTime=i+Math.max(r,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Lc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Lc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var i in this.buckets){var o=this.buckets[i],r=o.layers[0].sourceLayer||"_geojsonTileLayer",a=n[r],s=t[r];a&&s&&0!==Object.keys(s).length&&(o.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(i).queryRadius(o))))}}},Lc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Lc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<L.now()},Lc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Lc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=L.now()+t},Lc.prototype.setDependencies=function(t,e){for(var n={},i=0,o=e;i<o.length;i+=1)n[o[i]]=!0;this.dependencies[t]=n},Lc.prototype.hasDependency=function(t,e){for(var n=0,i=t;n<i.length;n+=1){var o=this.dependencies[i[n]];if(o)for(var r=0,a=e;r<a.length;r+=1)if(o[a[r]])return!0}return!1};var zc=self.performance,Bc=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},zc.mark(this._marks.start)};Bc.prototype.finish=function(){zc.mark(this._marks.end);var t=zc.getEntriesByName(this._marks.measure);return 0===t.length&&(zc.measure(this._marks.measure,this._marks.start,this._marks.end),t=zc.getEntriesByName(this._marks.measure),zc.clearMarks(this._marks.start),zc.clearMarks(this._marks.end),zc.clearMeasures(this._marks.measure)),t},t.Actor=pc,t.AlphaImage=Xr,t.CanonicalTileID=Pc,t.CollisionBoxArray=Io,t.Color=$t,t.DEMData=Ec,t.DataConstantProperty=Yi,t.DictionaryCoder=Sc,t.EXTENT=br,t.ErrorEvent=Mt,t.EvaluationParameters=qi,t.Event=Pt,t.Evented=Ot,t.FeatureIndex=Dc,t.FillBucket=Ba,t.FillExtrusionBucket=es,t.ImageAtlas=Ys,t.ImagePosition=Xs,t.LineBucket=hs,t.LngLat=mc,t.LngLatBounds=gc,t.MercatorCoordinate=wc,t.ONE_EM=24,t.OverscaledTileID=Oc,t.Point=o,t.Point$1=o,t.Properties=no,t.Protobuf=ks,t.RGBAImage=$r,t.RequestManager=j,t.RequestPerformance=Bc,t.ResourceType=pt,t.SegmentVector=Go,t.SourceFeatureState=Ic,t.StructArrayLayout1ui2=Eo,t.StructArrayLayout2i4=co,t.StructArrayLayout2ui4=ko,t.StructArrayLayout3ui6=Oo,t.StructArrayLayout4i8=lo,t.SymbolBucket=Xu,t.Texture=dc,t.Tile=Lc,t.Transitionable=Hi,t.Uniform1f=nr,t.Uniform1i=er,t.Uniform2f=ir,t.Uniform3f=or,t.Uniform4f=rr,t.UniformColor=ar,t.UniformMatrix4f=ur,t.UnwrappedTileID=Mc,t.ValidationError=Et,t.WritingMode=Qs,t.ZoomHistory=Ci,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=Hu,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,o=new Array(t.length),r=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(r=t),o[a]=e,0==--i&&n(r,o)}))}))},t.bezier=a,t.bindAll=g,t.browser=L,t.cacheEntryPossiblyAdded=function(t){++dt>st&&(t.getActor().send("enforceCacheSizeLimit",at),dt=0)},t.clamp=u,t.clearTileCache=function(t){var e=self.caches.delete(rt);t&&e.catch(t).then((function(){return t()}))},t.clone=function(t){var e=new Ur(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=b,t.clone$2=function(t){var e=new Ur(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.config=z,t.create=function(){var t=new Ur(16);return Ur!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new Ur(9);return Ur!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new Ur(4);return Ur!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Pn,t.createLayout=so,t.createStyleLayer=function(t){return"custom"===t.type?new oc(t):new rc[t.type](t)},t.cross=function(t,e,n){var i=e[0],o=e[1],r=e[2],a=n[0],s=n[1],u=n[2];return t[0]=o*u-r*s,t[1]=r*a-i*u,t[2]=i*s-o*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var o in e)if(!t(e[o],n[o]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=s,t.emitValidationErrors=ci,t.endsWith=m,t.enforceCacheSizeLimit=function(t){ut(),Q&&Q.then((function(e){e.keys().then((function(n){for(var i=0;i<n.length-t;i++)e.delete(n[i])}))}))},t.evaluateSizeForFeature=gu,t.evaluateSizeForZoom=mu,t.evaluateVariableOffset=Lu,t.evented=Bi,t.extend=l,t.featureFilter=zn,t.filterObject=y,t.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=cu,t.getAnchorJustification=zu,t.getArrayBuffer=bt,t.getImage=Ct,t.getJSON=function(t,e){return yt(l(t,{type:"json"}),e)},t.getRTLTextPluginStatus=Ni,t.getReferrer=_t,t.getVideo=function(t,e){var n,i,o=self.document.createElement("video");o.muted=!0,o.onloadstart=function(){e(null,o)};for(var r=0;r<t.length;r++){var a=self.document.createElement("source");n=t[r],i=void 0,(i=self.document.createElement("a")).href=n,(i.protocol!==self.document.location.protocol||i.host!==self.document.location.host)&&(o.crossOrigin="Anonymous"),a.src=t[r],o.appendChild(a)}return{cancel:function(){}}},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],d=e[9],h=e[10],p=e[11],f=e[12],g=e[13],m=e[14],_=e[15],y=n*s-i*a,b=n*u-o*a,v=n*c-r*a,C=i*u-o*s,x=i*c-r*s,w=o*c-r*u,P=l*g-d*f,M=l*m-h*f,O=l*_-p*f,k=d*m-h*g,E=d*_-p*g,S=h*_-p*m,T=y*S-b*E+v*k+C*O-x*M+w*P;return T?(t[0]=(s*S-u*E+c*k)*(T=1/T),t[1]=(o*E-i*S-r*k)*T,t[2]=(g*w-m*x+_*C)*T,t[3]=(h*x-d*w-p*C)*T,t[4]=(u*O-a*S-c*M)*T,t[5]=(n*S-o*O+r*M)*T,t[6]=(m*v-f*w-_*b)*T,t[7]=(l*w-h*v+p*b)*T,t[8]=(a*E-s*O+c*P)*T,t[9]=(i*O-n*E-r*P)*T,t[10]=(f*x-g*v+_*y)*T,t[11]=(d*v-l*x-p*y)*T,t[12]=(s*M-a*k-u*P)*T,t[13]=(n*k-i*M+o*P)*T,t[14]=(g*b-f*C-m*y)*T,t[15]=(l*C-d*b+h*y)*T,t):null},t.isChar=xi,t.isMapboxURL=G,t.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},t.makeRequest=yt,t.mapObject=_,t.mercatorXfromLng=bc,t.mercatorYfromLat=vc,t.mercatorZfromAltitude=Cc,t.multiply=function(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],d=e[8],h=e[9],p=e[10],f=e[11],g=e[12],m=e[13],_=e[14],y=e[15],b=n[0],v=n[1],C=n[2],x=n[3];return t[0]=b*i+v*s+C*d+x*g,t[1]=b*o+v*u+C*h+x*m,t[2]=b*r+v*c+C*p+x*_,t[3]=b*a+v*l+C*f+x*y,t[4]=(b=n[4])*i+(v=n[5])*s+(C=n[6])*d+(x=n[7])*g,t[5]=b*o+v*u+C*h+x*m,t[6]=b*r+v*c+C*p+x*_,t[7]=b*a+v*l+C*f+x*y,t[8]=(b=n[8])*i+(v=n[9])*s+(C=n[10])*d+(x=n[11])*g,t[9]=b*o+v*u+C*h+x*m,t[10]=b*r+v*c+C*p+x*_,t[11]=b*a+v*l+C*f+x*y,t[12]=(b=n[12])*i+(v=n[13])*s+(C=n[14])*d+(x=n[15])*g,t[13]=b*o+v*u+C*h+x*m,t[14]=b*r+v*c+C*p+x*_,t[15]=b*a+v*l+C*f+x*y,t},t.mvt=Ya,t.normalize=function(t,e){var n=e[0],i=e[1],o=e[2],r=n*n+i*i+o*o;return r>0&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},t.number=we,t.offscreenCanvasSupported=ht,t.ortho=function(t,e,n,i,o,r,a){var s=1/(e-n),u=1/(i-o),c=1/(r-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+i)*u,t[14]=(a+r)*c,t[15]=1,t},t.parseGlyphPBF=function(t){return new ks(t).readFields(Hs,[])},t.pbf=ks,t.performSymbolLayout=function(t,e,n,i,r,a){t.createArrays(),t.tilePixelRatio=br/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.kind){var l=t.textSizeData,d=l.maxZoom;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new qi(l.minZoom)),u["text-size"].possiblyEvaluate(new qi(d))]}if("composite"===t.iconSizeData.kind){var h=t.iconSizeData,p=h.maxZoom;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new qi(h.minZoom)),u["icon-size"].possiblyEvaluate(new qi(p))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new qi(t.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new qi(t.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new qi(18));for(var f=24*s.get("text-line-height"),g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),_=s.get("text-size"),y=function(){var a=v[b],u=s.get("text-font").evaluate(a,{}).join(","),l=_.evaluate(a,{}),d=c.layoutTextSize.evaluate(a,{}),h=c.layoutIconSize.evaluate(a,{}),p={horizontal:{},vertical:void 0},y=a.text,x=[0,0];if(y){var w=y.toString(),P=24*s.get("text-letter-spacing").evaluate(a,{}),M=function(t){for(var e=0,n=t;e<n.length;e+=1)if(!Pi(n[e].charCodeAt(0)))return!1;return!0}(w)?P:0,O=s.get("text-anchor").evaluate(a,{}),k=s.get("text-variable-anchor");if(!k){var E=s.get("text-radial-offset").evaluate(a,{});x=E?Lu(O,[24*E,Fu]):s.get("text-offset").evaluate(a,{}).map((function(t){return 24*t}))}var S=g?"center":s.get("text-justify").evaluate(a,{}),T=s.get("symbol-placement"),A="point"===T?24*s.get("text-max-width").evaluate(a,{}):0,I=function(){t.allowVerticalPlacement&&wi(w)&&(p.vertical=eu(y,e,n,r,u,A,f,O,"left",M,x,Qs.vertical,!0,T,d,l))};if(!g&&k){for(var D="auto"===S?k.map((function(t){return zu(t)})):[S],R=!1,F=0;F<D.length;F++){var L=D[F];if(!p.horizontal[L])if(R)p.horizontal[L]=p.horizontal[0];else{var z=eu(y,e,n,r,u,A,f,"center",L,M,x,Qs.horizontal,!1,T,d,l);z&&(p.horizontal[L]=z,R=1===z.positionedLines.length)}}I()}else{"auto"===S&&(S=zu(O));var B=eu(y,e,n,r,u,A,f,O,S,M,x,Qs.horizontal,!1,T,d,l);B&&(p.horizontal[S]=B),I(),wi(w)&&g&&m&&(p.vertical=eu(y,e,n,r,u,A,f,O,S,M,x,Qs.vertical,!1,T,d,l))}}var N=void 0,V=!1;if(a.icon&&a.icon.name){var U=i[a.icon.name];U&&(N=function(t,e,n){var i=cu(n),o=e[0]-t.displaySize[0]*i.horizontalAlign,r=e[1]-t.displaySize[1]*i.verticalAlign;return{image:t,top:r,bottom:r+t.displaySize[1],left:o,right:o+t.displaySize[0]}}(r[a.icon.name],s.get("icon-offset").evaluate(a,{}),s.get("icon-anchor").evaluate(a,{})),V=U.sdf,void 0===t.sdfIcons?t.sdfIcons=U.sdf:t.sdfIcons!==U.sdf&&C("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var q=Vu(p.horizontal)||p.vertical;t.iconsInText=!!q&&q.iconsInText,(q||N)&&function(t,e,n,i,r,a,s,u,c,l){var d=a.textMaxSize.evaluate(e,{});void 0===d&&(d=s);var h,p=t.layers[0].layout,f=p.get("icon-offset").evaluate(e,{}),g=Vu(n.horizontal),m=s/24,_=t.tilePixelRatio*m,y=t.tilePixelRatio*d/24,b=t.tilePixelRatio*u,v=t.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*t.tilePixelRatio,w=p.get("icon-padding")*t.tilePixelRatio,P=p.get("text-max-angle")/180*Math.PI,M="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),O="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),k=p.get("symbol-placement"),E=v/2,S=p.get("icon-text-fit");i&&"none"!==S&&(t.allowVerticalPlacement&&n.vertical&&(h=du(i,n.vertical,S,p.get("icon-text-fit-padding"),f,m)),g&&(i=du(i,g,S,p.get("icon-text-fit-padding"),f,m)));var T=function(o,s){s.x<0||s.x>=br||s.y<0||s.y>=br||function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_,y,b,v,x,w){var P,M,O,k,E,S=t.addToLineVertexArray(e,n),T=0,A=0,I=0,D=0,R=-1,F=-1,L={},z=Ko(""),B=0,N=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(B=(P=s.layout.get("text-offset").evaluate(v,{}).map((function(t){return 24*t})))[0],N=P[1]):(B=24*s.layout.get("text-radial-offset").evaluate(v,{}),N=Fu),t.allowVerticalPlacement&&i.vertical){var V=s.layout.get("text-rotate").evaluate(v,{})+90;k=new Su(u,n,e,c,l,d,i.vertical,h,p,f,t.overscaling,V),a&&(E=new Su(u,n,e,c,l,d,a,m,_,f,t.overscaling,V))}if(o){var U=s.layout.get("icon-rotate").evaluate(v,{}),q="none"!==s.layout.get("icon-text-fit"),j=Pu(o,U,w,q),G=a?Pu(a,U,w,q):void 0;O=new Su(u,n,e,c,l,d,o,m,_,!1,t.overscaling,U),T=4*j.length;var H=t.iconSizeData,Z=null;"source"===H.kind?(Z=[pu*s.layout.get("icon-size").evaluate(v,{})])[0]>Bu&&C(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===H.kind&&((Z=[pu*x.compositeIconSizes[0].evaluate(v,{}),pu*x.compositeIconSizes[1].evaluate(v,{})])[0]>Bu||Z[1]>Bu)&&C(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,j,Z,b,y,v,!1,e,S.lineStartIndex,S.lineLength,-1),R=t.icon.placedSymbolArray.length-1,G&&(A=4*G.length,t.addSymbols(t.icon,G,Z,b,y,v,Qs.vertical,e,S.lineStartIndex,S.lineLength,-1),F=t.icon.placedSymbolArray.length-1)}for(var W in i.horizontal){var K=i.horizontal[W];if(!M){z=Ko(K.text);var X=s.layout.get("text-rotate").evaluate(v,{});M=new Su(u,n,e,c,l,d,K,h,p,f,t.overscaling,X)}var $=1===K.positionedLines.length;if(I+=Nu(t,e,K,r,s,f,v,g,S,i.vertical?Qs.horizontal:Qs.horizontalOnly,$?Object.keys(i.horizontal):[W],L,R,x),$)break}i.vertical&&(D+=Nu(t,e,i.vertical,r,s,f,v,g,S,Qs.vertical,["vertical"],L,F,x));var Y=M?M.boxStartIndex:t.collisionBoxArray.length,Q=M?M.boxEndIndex:t.collisionBoxArray.length,J=k?k.boxStartIndex:t.collisionBoxArray.length,tt=k?k.boxEndIndex:t.collisionBoxArray.length,et=O?O.boxStartIndex:t.collisionBoxArray.length,nt=O?O.boxEndIndex:t.collisionBoxArray.length,it=E?E.boxStartIndex:t.collisionBoxArray.length,ot=E?E.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=Xu.MAX_GLYPHS&&C("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==v.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,v.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,L.right>=0?L.right:-1,L.center>=0?L.center:-1,L.left>=0?L.left:-1,L.vertical||-1,R,F,z,Y,Q,J,tt,et,nt,it,ot,c,I,D,T,A,0,h,B,N)}(t,s,o,n,i,r,h,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,_,x,M,c,b,w,O,f,e,a,l)};if("line"===k)for(var A=0,I=function(t,e,n,i,r){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],c=void 0,l=0;l<u.length-1;l++){var d=u[l],h=u[l+1];d.x<0&&h.x<0||(d.x<0?d=new o(0,d.y+(0-d.x)/(h.x-d.x)*(h.y-d.y))._round():h.x<0&&(h=new o(0,d.y+(0-d.x)/(h.x-d.x)*(h.y-d.y))._round()),d.y<0&&h.y<0||(d.y<0?d=new o(d.x+(0-d.y)/(h.y-d.y)*(h.x-d.x),0)._round():h.y<0&&(h=new o(d.x+(0-d.y)/(h.y-d.y)*(h.x-d.x),0)._round()),d.x>=i&&h.x>=i||(d.x>=i?d=new o(i,d.y+(i-d.x)/(h.x-d.x)*(h.y-d.y))._round():h.x>=i&&(h=new o(i,d.y+(i-d.x)/(h.x-d.x)*(h.y-d.y))._round()),d.y>=r&&h.y>=r||(d.y>=r?d=new o(d.x+(r-d.y)/(h.y-d.y)*(h.x-d.x),r)._round():h.y>=r&&(h=new o(d.x+(r-d.y)/(h.y-d.y)*(h.x-d.x),r)._round()),c&&d.equals(c[c.length-1])||a.push(c=[d]),c.push(h)))))}return a}(e.geometry,0,0,br,br);A<I.length;A+=1)for(var D=I[A],R=0,F=wu(D,v,P,n.vertical||g,i,24,y,t.overscaling,br);R<F.length;R+=1){var L=F[R];g&&Uu(t,g.text,E,L)||T(D,L)}else if("line-center"===k)for(var z=0,B=e.geometry;z<B.length;z+=1){var N=B[z];if(N.length>1){var V=xu(N,P,n.vertical||g,i,24,y);V&&T(N,V)}}else if("Polygon"===e.type)for(var U=0,q=Ra(e.geometry,0);U<q.length;U+=1){var j=q[U],G=Iu(j,16);T(j[0],new hu(G.x,G.y,0))}else if("LineString"===e.type)for(var H=0,Z=e.geometry;H<Z.length;H+=1){var W=Z[H];T(W,new hu(W[0].x,W[0].y,0))}else if("Point"===e.type)for(var K=0,X=e.geometry;K<X.length;K+=1)for(var $=0,Y=X[K];$<Y.length;$+=1){var Q=Y[$];T([Q],new hu(Q.x,Q.y,0))}}(t,a,p,N,i,c,d,h,x,V)},b=0,v=t.features;b<v.length;b+=1)y();a&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,i,o){var r,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(t[10]=(o+i)*(r=1/(i-o)),t[14]=2*o*i*r):(t[10]=-1,t[14]=-2*i),t},t.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var o=e[i];o in t&&(n[o]=t[o])}return n},t.plugin=Ui,t.polygonIntersectsPolygon=Pr,t.postMapLoadEvent=ot,t.postTurnstileEvent=nt,t.potpack=Ks,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=gi,t.registerForPluginStateChange=function(t){return t({pluginStatus:Ri,pluginURL:Fi}),Bi.on("pluginStateChange",t),t},t.rotate=function(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*s,t[1]=o*u+a*s,t[2]=i*-s+r*u,t[3]=o*-s+a*u,t},t.rotateX=function(t,e,n){var i=Math.sin(n),o=Math.cos(n),r=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*o+c*i,t[5]=a*o+l*i,t[6]=s*o+d*i,t[7]=u*o+h*i,t[8]=c*o-r*i,t[9]=l*o-a*i,t[10]=d*o-s*i,t[11]=h*o-u*i,t},t.rotateZ=function(t,e,n){var i=Math.sin(n),o=Math.cos(n),r=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o+c*i,t[1]=a*o+l*i,t[2]=s*o+d*i,t[3]=u*o+h*i,t[4]=c*o-r*i,t[5]=l*o-a*i,t[6]=d*o-s*i,t[7]=h*o-u*i,t},t.scale=function(t,e,n){var i=n[0],o=n[1],r=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){at=t,st=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),Ri===Ti||Ri===Ai||Ri===Ii)throw new Error("setRTLTextPlugin cannot be called multiple times.");Fi=L.resolveURL(t),Ri=Ti,Di=e,zi(),n||Vi()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(i),y:e*Math.sin(n)*Math.sin(i),z:e*Math.cos(i)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=kt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=_u,t.transformMat3=function(t,e,n){var i=e[0],o=e[1],r=e[2];return t[0]=i*n[0]+o*n[3]+r*n[6],t[1]=i*n[1]+o*n[4]+r*n[7],t[2]=i*n[2]+o*n[5]+r*n[8],t},t.transformMat4=qr,t.translate=function(t,e,n){var i,o,r,a,s,u,c,l,d,h,p,f,g=n[0],m=n[1],_=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*_+e[12],t[13]=e[1]*g+e[5]*m+e[9]*_+e[13],t[14]=e[2]*g+e[6]*m+e[10]*_+e[14],t[15]=e[3]*g+e[7]*m+e[11]*_+e[15]):(o=e[1],r=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],d=e[8],h=e[9],p=e[10],f=e[11],t[0]=i=e[0],t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=d,t[9]=h,t[10]=p,t[11]=f,t[12]=i*g+s*m+d*_+e[12],t[13]=o*g+u*m+h*_+e[13],t[14]=r*g+c*m+p*_+e[14],t[15]=a*g+l*m+f*_+e[15]),t},t.triggerPluginCompletionEvent=Li,t.uniqueId=h,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=ai,t.validateStyle=ri,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=Ya,t.version="1.8.1",t.warnOnce=C,t.webpSupported=B,t.window=self,t.wrap=c})),i(0,(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",o=0,r=t;o<r.length;o+=1)i+=e(r[o])+",";return i+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+e(t[a[u]])+",";return s+"}"}function n(n){for(var i="",o=0,r=t.refProperties;o<r.length;o+=1)i+="/"+e(n[r[o]]);return i}var i=function(t){this.keyCache={},t&&this.replace(t)};i.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},i.prototype.update=function(e,i){for(var o=this,r=0,a=e;r<a.length;r+=1){var s=a[r];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=t.createStyleLayer(s);u._featureFilter=t.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var c=0,l=i;c<l.length;c+=1){var d=l[c];delete this.keyCache[d],delete this._layerConfigs[d],delete this._layers[d]}this.familiesBySource={};for(var h=0,p=function(t,e){for(var i={},o=0;o<t.length;o++){var r=e&&e[t[o].id]||n(t[o]);e&&(e[t[o].id]=r);var a=i[r];a||(a=i[r]=[]),a.push(t[o])}var s=[];for(var u in i)s.push(i[u]);return s}(t.values(this._layerConfigs),this.keyCache);h<p.length;h+=1){var f=p[h].map((function(t){return o._layers[t.id]})),g=f[0];if("none"!==g.visibility){var m=g.source||"",_=this.familiesBySource[m];_||(_=this.familiesBySource[m]={});var y=g.sourceLayer||"_geojsonTileLayer",b=_[y];b||(b=_[y]=[]),b.push(f)}}};var o=function(e){var n={},i=[];for(var o in e){var r=e[o],a=n[o]={};for(var s in r){var u=r[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var c={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};i.push(c),a[s]={rect:c,metrics:u.metrics}}}}var l=t.potpack(i),d=new t.AlphaImage({width:l.w||1,height:l.h||1});for(var h in e){var p=e[h];for(var f in p){var g=p[+f];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var m=n[h][f].rect;t.AlphaImage.copy(g.bitmap,d,{x:0,y:0},{x:m.x+1,y:m.y+1},g.bitmap)}}}this.image=d,this.positions=n};t.register("GlyphAtlas",o);var r=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,i){for(var o=new t.EvaluationParameters(n),r=0,a=e;r<a.length;r+=1)a[r].recalculate(o,i)}function s(e,n){var i=t.getArrayBuffer(e.request,(function(e,i,o,r){e?n(e):i&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(i)),rawData:i,cacheControl:o,expires:r})}));return function(){i.cancel(),n()}}r.prototype.parse=function(e,n,i,r,s){var u=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var c=new t.DictionaryCoder(Object.keys(e.layers).sort()),l=new t.FeatureIndex(this.tileID,this.promoteId);l.bucketLayerIDs=[];var d,h,p,f,g={},m={featureIndex:l,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},_=n.familiesBySource[this.source];for(var y in _){var b=e.layers[y];if(b){1===b.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=c.encode(y),C=[],x=0;x<b.length;x++){var w=b.feature(x),P=l.getId(w,y);C.push({feature:w,id:P,index:x,sourceLayerIndex:v})}for(var M=0,O=_[y];M<O.length;M+=1){var k=O[M],E=k[0];E.minzoom&&this.zoom<Math.floor(E.minzoom)||E.maxzoom&&this.zoom>=E.maxzoom||"none"!==E.visibility&&(a(k,this.zoom,i),(g[E.id]=E.createBucket({index:l.bucketLayerIDs.length,layers:k,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:v,sourceID:this.source})).populate(C,m),l.bucketLayerIDs.push(k.map((function(t){return t.id}))))}}}var S=t.mapObject(m.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(S).length?r.send("getGlyphs",{uid:this.uid,stacks:S},(function(t,e){d||(d=t,h=e,I.call(u))})):h={};var T=Object.keys(m.iconDependencies);T.length?r.send("getImages",{icons:T,source:this.source,tileID:this.tileID,type:"icons"},(function(t,e){d||(d=t,p=e,I.call(u))})):p={};var A=Object.keys(m.patternDependencies);function I(){if(d)return s(d);if(h&&p&&f){var e=new o(h),n=new t.ImageAtlas(p,f);for(var r in g){var u=g[r];u instanceof t.SymbolBucket?(a(u.layers,this.zoom,i),t.performSymbolLayout(u,h,e.positions,p,n.iconPositions,this.showCollisionBoxes)):u.hasPattern&&(u instanceof t.LineBucket||u instanceof t.FillBucket||u instanceof t.FillExtrusionBucket)&&(a(u.layers,this.zoom,i),u.addFeatures(m,n.patternPositions))}this.status="done",s(null,{buckets:t.values(g).filter((function(t){return!t.isEmpty()})),featureIndex:l,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}A.length?r.send("getImages",{icons:A,source:this.source,tileID:this.tileID,type:"patterns"},(function(t,e){d||(d=t,f=e,I.call(u))})):f={},I.call(this)};var u=function(t,e,n,i){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=i||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(e,n){var i=this,o=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[o]=new r(e);s.abort=this.loadVectorData(e,(function(e,r){if(delete i.loading[o],e||!r)return s.status="done",i.loaded[o]=s,n(e);var u=r.rawData,c={};r.expires&&(c.expires=r.expires),r.cacheControl&&(c.cacheControl=r.cacheControl);var l={};if(a){var d=a.finish();d&&(l.resourceTiming=JSON.parse(JSON.stringify(d)))}s.vectorTile=r.vectorTile,s.parse(r.vectorTile,i.layerIndex,i.availableImages,i.actor,(function(e,i){if(e||!i)return n(e);n(null,t.extend({rawTileData:u.slice(0)},i,c,l))})),i.loaded=i.loaded||{},i.loaded[o]=s}))},u.prototype.reloadTile=function(t,e){var n=this,i=this.loaded,o=t.uid,r=this;if(i&&i[o]){var a=i[o];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,i){var o=a.reloadCallback;o&&(delete a.reloadCallback,a.parse(a.vectorTile,r.layerIndex,n.availableImages,r.actor,o)),e(t,i)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(t,e){var n=this.loading,i=t.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),e()},u.prototype.removeTile=function(t,e){var n=this.loaded,i=t.uid;n&&n[i]&&delete n[i],e()};var c=t.window.ImageBitmap,l=function(){this.loaded={}};function d(t){var e=0;if(t&&t.length>0){e+=Math.abs(h(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(h(t[n]))}return e}function h(t){var e,n,i,o,r,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(i=u-2,o=u-1,r=0):a===u-1?(i=u-1,o=0,r=1):(i=a,o=a+1,r=a+2),e=t[i],n=t[o],s+=(p(t[r][0])-p(e[0]))*Math.sin(p(n[1]));s=6378137*s*6378137/2}return s}function p(t){return t*Math.PI/180}l.prototype.loadTile=function(e,n){var i=e.uid,o=e.encoding,r=e.rawImageData,a=c&&r instanceof c?this.getImageData(r):r,s=new t.DEMData(i,a,o);this.loaded=this.loaded||{},this.loaded[i]=s,n(null,s)},l.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},l.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f={geometry:function t(e){var n,i=0;switch(e.type){case"Polygon":return d(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=d(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}},ring:h};function g(t,e){return function(n){return t(n,e)}}function m(t,e){t[0]=_(t[0],e=!!e);for(var n=1;n<t.length;n++)t[n]=_(t[n],!e);return t}function _(t,e){return function(t){return f.ring(t)>=0}(t)===e?t:t.reverse()}var y=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,b=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};b.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var o=i[n];e.push([new t.Point$1(o[0],o[1])])}return e}for(var r=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],c=0,l=s[a];c<l.length;c+=1){var d=l[c];u.push(new t.Point$1(d[0],d[1]))}r.push(u)}return r},b.prototype.toGeoJSON=function(t,e,n){return y.call(this,t,e,n)};var v=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};v.prototype.feature=function(t){return new b(this._features[t])};var C=t.vectorTile.VectorTileFeature,x=w;function w(t,e){this.options=e||{},this.features=t,this.length=t.length}function P(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}w.prototype.feature=function(t){return new P(this.features[t],this.options.extent)},P.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],o=[],r=0;r<i.length;r++)o.push(new t.Point$1(i[r][0],i[r][1]));this.geometry.push(o)}return this.geometry},P.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,o=-1/0,r=0;r<t.length;r++)for(var a=t[r],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),o=Math.max(o,u.y)}return[e,i,n,o]},P.prototype.toGeoJSON=C.prototype.toGeoJSON;var M=k,O=x;function k(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,E,t.layers[n])}(e,n),n.finish()}function E(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,S,i);var o=i.keys;for(n=0;n<o.length;n++)e.writeStringField(3,o[n]);var r=i.values;for(n=0;n<r.length;n++)e.writeMessage(4,R,r[n])}function S(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,T,t),e.writeVarintField(3,n.type),e.writeMessage(4,D,n)}function T(t,e){var n=t.feature,i=t.keys,o=t.values,r=t.keycache,a=t.valuecache;for(var s in n.properties){var u=r[s];void 0===u&&(i.push(s),r[s]=u=i.length-1),e.writeVarint(u);var c=n.properties[s],l=typeof c;"string"!==l&&"boolean"!==l&&"number"!==l&&(c=JSON.stringify(c));var d=l+":"+c,h=a[d];void 0===h&&(o.push(c),a[d]=h=o.length-1),e.writeVarint(h)}}function A(t,e){return(e<<3)+(7&t)}function I(t){return t<<1^t>>31}function D(t,e){for(var n=t.loadGeometry(),i=t.type,o=0,r=0,a=n.length,s=0;s<a;s++){var u=n[s],c=1;1===i&&(c=u.length),e.writeVarint(A(1,c));for(var l=3===i?u.length-1:u.length,d=0;d<l;d++){1===d&&1!==i&&e.writeVarint(A(2,l-1));var h=u[d].x-o,p=u[d].y-r;e.writeVarint(I(h)),e.writeVarint(I(p)),o+=h,r+=p}3===i&&e.writeVarint(A(7,1))}}function R(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function F(t,e,n,i){L(t,n,i),L(e,2*n,2*i),L(e,2*n+1,2*i+1)}function L(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function z(t,e,n,i){var o=t-n,r=e-i;return o*o+r*r}M.fromVectorTileJs=k,M.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var i in t)n[i]=new x(t[i].features,e),n[i].name=i,n[i].version=e.version,n[i].extent=e.extent;return k({layers:n})},M.GeoJSONWrapper=O;var B=function(t){return t[0]},N=function(t){return t[1]},V=function(t,e,n,i,o){void 0===e&&(e=B),void 0===n&&(n=N),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i,this.points=t;for(var r=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new r(t.length),s=this.coords=new o(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=n(t[u]);!function t(e,n,i,o,r,a){if(!(r-o<=i)){var s=o+r>>1;!function t(e,n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,u=i-o+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);t(e,n,i,Math.max(o,Math.floor(i-u*l/s+d)),Math.min(r,Math.floor(i+(s-u)*l/s+d)),a)}var h=n[2*i+a],p=o,f=r;for(F(e,n,o,i),n[2*r+a]>h&&F(e,n,o,r);p<f;){for(F(e,n,p,f),p++,f--;n[2*p+a]<h;)p++;for(;n[2*f+a]>h;)f--}n[2*o+a]===h?F(e,n,o,f):F(e,n,++f,r),f<=i&&(o=f+1),i<=f&&(r=f-1)}}(e,n,s,o,r,a%2),t(e,n,i,o,s-1,a+1),t(e,n,i,s+1,r,a+1)}}(a,s,i,0,a.length-1,0)};V.prototype.range=function(t,e,n,i){return function(t,e,n,i,o,r,a){for(var s,u,c=[0,t.length-1,0],l=[];c.length;){var d=c.pop(),h=c.pop(),p=c.pop();if(h-p<=a)for(var f=p;f<=h;f++)u=e[2*f+1],(s=e[2*f])>=n&&s<=o&&u>=i&&u<=r&&l.push(t[f]);else{var g=Math.floor((p+h)/2);u=e[2*g+1],(s=e[2*g])>=n&&s<=o&&u>=i&&u<=r&&l.push(t[g]);var m=(d+1)%2;(0===d?n<=s:i<=u)&&(c.push(p),c.push(g-1),c.push(m)),(0===d?o>=s:r>=u)&&(c.push(g+1),c.push(h),c.push(m))}}return l}(this.ids,this.coords,t,e,n,i,this.nodeSize)},V.prototype.within=function(t,e,n){return function(t,e,n,i,o,r){for(var a=[0,t.length-1,0],s=[],u=o*o;a.length;){var c=a.pop(),l=a.pop(),d=a.pop();if(l-d<=r)for(var h=d;h<=l;h++)z(e[2*h],e[2*h+1],n,i)<=u&&s.push(t[h]);else{var p=Math.floor((d+l)/2),f=e[2*p],g=e[2*p+1];z(f,g,n,i)<=u&&s.push(t[p]);var m=(c+1)%2;(0===c?n-o<=f:i-o<=g)&&(a.push(d),a.push(p-1),a.push(m)),(0===c?n+o>=f:i+o>=g)&&(a.push(p+1),a.push(l),a.push(m))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var U={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},q=function(t){this.options=X(Object.create(U),t),this.trees=new Array(this.options.maxZoom+1)};function j(t,e,n,i,o){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:i,properties:o}}function G(t,e){var n=t.geometry.coordinates,i=n[1];return{x:W(n[0]),y:K(i),zoom:1/0,index:e,parentId:-1}}function H(t){return{type:"Feature",id:t.id,properties:Z(t),geometry:{type:"Point",coordinates:[(i=t.x,360*(i-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,i}function Z(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return X(X({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function W(t){return t/360+.5}function K(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function X(t,e){for(var n in e)t[n]=e[n];return t}function $(t){return t.x}function Y(t){return t.y}function Q(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var u=((t-n)*a+(e-i)*s)/(a*a+s*s);u>1?(n=o,i=r):u>0&&(n+=a*u,i+=s*u)}return(a=t-n)*a+(s=e-i)*s}function J(t,e,n,i){var o={id:void 0===t?null:t,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)tt(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)tt(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)tt(t,e[i][o])}(o),o}function tt(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function et(t,e,n,i){if(e.geometry){var o=e.geometry.coordinates,r=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=i||0),"Point"===r)nt(o,s);else if("MultiPoint"===r)for(var c=0;c<o.length;c++)nt(o[c],s);else if("LineString"===r)it(o,s,a,!1);else if("MultiLineString"===r){if(n.lineMetrics){for(c=0;c<o.length;c++)it(o[c],s=[],a,!1),t.push(J(u,"LineString",s,e.properties));return}ot(o,s,a,!1)}else if("Polygon"===r)ot(o,s,a,!0);else{if("MultiPolygon"!==r){if("GeometryCollection"===r){for(c=0;c<e.geometry.geometries.length;c++)et(t,{id:u,geometry:e.geometry.geometries[c],properties:e.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<o.length;c++){var l=[];ot(o[c],l,a,!0),s.push(l)}}t.push(J(u,r,s,e.properties))}}function nt(t,e){e.push(rt(t[0])),e.push(at(t[1])),e.push(0)}function it(t,e,n,i){for(var o,r,a=0,s=0;s<t.length;s++){var u=rt(t[s][0]),c=at(t[s][1]);e.push(u),e.push(c),e.push(0),s>0&&(a+=i?(o*c-u*r)/2:Math.sqrt(Math.pow(u-o,2)+Math.pow(c-r,2))),o=u,r=c}var l=e.length-3;e[2]=1,function t(e,n,i,o){for(var r,a=o,s=i-n>>1,u=i-n,c=e[n],l=e[n+1],d=e[i],h=e[i+1],p=n+3;p<i;p+=3){var f=Q(e[p],e[p+1],c,l,d,h);if(f>a)r=p,a=f;else if(f===a){var g=Math.abs(p-s);g<u&&(r=p,u=g)}}a>o&&(r-n>3&&t(e,n,r,o),e[r+2]=a,i-r>3&&t(e,r,i,o))}(e,0,l,n),e[l+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function ot(t,e,n,i){for(var o=0;o<t.length;o++){var r=[];it(t[o],r,n,i),e.push(r)}}function rt(t){return t/360+.5}function at(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function st(t,e,n,i,o,r,a,s){if(i/=e,r>=(n/=e)&&a<i)return t;if(a<n||r>=i)return null;for(var u=[],c=0;c<t.length;c++){var l=t[c],d=l.geometry,h=l.type,p=0===o?l.minX:l.minY,f=0===o?l.maxX:l.maxY;if(p>=n&&f<i)u.push(l);else if(!(f<n||p>=i)){var g=[];if("Point"===h||"MultiPoint"===h)ut(d,g,n,i,o);else if("LineString"===h)ct(d,g,n,i,o,!1,s.lineMetrics);else if("MultiLineString"===h)dt(d,g,n,i,o,!1);else if("Polygon"===h)dt(d,g,n,i,o,!0);else if("MultiPolygon"===h)for(var m=0;m<d.length;m++){var _=[];dt(d[m],_,n,i,o,!0),_.length&&g.push(_)}if(g.length){if(s.lineMetrics&&"LineString"===h){for(m=0;m<g.length;m++)u.push(J(l.id,h,g[m],l.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===g.length?(h="LineString",g=g[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===g.length?"Point":"MultiPoint"),u.push(J(l.id,h,g,l.tags))}}}return u.length?u:null}function ut(t,e,n,i,o){for(var r=0;r<t.length;r+=3){var a=t[r+o];a>=n&&a<=i&&(e.push(t[r]),e.push(t[r+1]),e.push(t[r+2]))}}function ct(t,e,n,i,o,r,a){for(var s,u,c=lt(t),l=0===o?pt:ft,d=t.start,h=0;h<t.length-3;h+=3){var p=t[h],f=t[h+1],g=t[h+2],m=t[h+3],_=t[h+4],y=0===o?p:f,b=0===o?m:_,v=!1;a&&(s=Math.sqrt(Math.pow(p-m,2)+Math.pow(f-_,2))),y<n?b>n&&(u=l(c,p,f,m,_,n),a&&(c.start=d+s*u)):y>i?b<i&&(u=l(c,p,f,m,_,i),a&&(c.start=d+s*u)):ht(c,p,f,g),b<n&&y>=n&&(u=l(c,p,f,m,_,n),v=!0),b>i&&y<=i&&(u=l(c,p,f,m,_,i),v=!0),!r&&v&&(a&&(c.end=d+s*u),e.push(c),c=lt(t)),a&&(d+=s)}var C=t.length-3;p=t[C],f=t[C+1],g=t[C+2],(y=0===o?p:f)>=n&&y<=i&&ht(c,p,f,g),C=c.length-3,r&&C>=3&&(c[C]!==c[0]||c[C+1]!==c[1])&&ht(c,c[0],c[1],c[2]),c.length&&e.push(c)}function lt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function dt(t,e,n,i,o,r){for(var a=0;a<t.length;a++)ct(t[a],e,n,i,o,r,!1)}function ht(t,e,n,i){t.push(e),t.push(n),t.push(i)}function pt(t,e,n,i,o,r){var a=(r-e)/(i-e);return t.push(r),t.push(n+(o-n)*a),t.push(1),a}function ft(t,e,n,i,o,r){var a=(r-n)/(o-n);return t.push(e+(i-e)*a),t.push(r),t.push(1),a}function gt(t,e){for(var n=[],i=0;i<t.length;i++){var o,r=t[i],a=r.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=mt(r.geometry,e);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<r.geometry.length;s++)o.push(mt(r.geometry[s],e))}else if("MultiPolygon"===a)for(o=[],s=0;s<r.geometry.length;s++){for(var u=[],c=0;c<r.geometry[s].length;c++)u.push(mt(r.geometry[s][c],e));o.push(u)}n.push(J(r.id,a,o,r.tags))}return n}function mt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}function _t(t,e){if(t.transformed)return t;var n,i,o,r=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],c=u.geometry,l=u.type;if(u.geometry=[],1===l)for(i=0;i<c.length;i+=2)u.geometry.push(yt(c[i],c[i+1],e,r,a,s));else for(i=0;i<c.length;i++){var d=[];for(o=0;o<c[i].length;o+=2)d.push(yt(c[i][o],c[i][o+1],e,r,a,s));u.geometry.push(d)}}return t.transformed=!0,t}function yt(t,e,n,i,o,r){return[Math.round(n*(t*i-o)),Math.round(n*(e*i-r))]}function bt(t,e,n,i,o){for(var r=e===o.maxZoom?0:o.tolerance/((1<<e)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,vt(a,t[s],r,o);var u=t[s].minX,c=t[s].minY,l=t[s].maxX,d=t[s].maxY;u<a.minX&&(a.minX=u),c<a.minY&&(a.minY=c),l>a.maxX&&(a.maxX=l),d>a.maxY&&(a.maxY=d)}return a}function vt(t,e,n,i){var o=e.geometry,r=e.type,a=[];if("Point"===r||"MultiPoint"===r)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===r)Ct(a,o,t,n,!1,!1);else if("MultiLineString"===r||"Polygon"===r)for(s=0;s<o.length;s++)Ct(a,o[s],t,n,"Polygon"===r,0===s);else if("MultiPolygon"===r)for(var u=0;u<o.length;u++){var c=o[u];for(s=0;s<c.length;s++)Ct(a,c[s],t,n,!0,0===s)}if(a.length){var l=e.tags||null;if("LineString"===r&&i.lineMetrics){for(var d in l={},e.tags)l[d]=e.tags[d];l.mapbox_clip_start=o.start/o.size,l.mapbox_clip_end=o.end/o.size}var h={geometry:a,type:"Polygon"===r||"MultiPolygon"===r?3:"LineString"===r||"MultiLineString"===r?2:1,tags:l};null!==e.id&&(h.id=e.id),t.features.push(h)}}function Ct(t,e,n,i,o,r){var a=i*i;if(i>0&&e.size<(o?a:i))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===i||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;o&&function(t,e){for(var n=0,i=0,o=t.length,r=o-2;i<o;r=i,i+=2)n+=(t[i]-t[r])*(t[i+1]+t[r+1]);if(n>0===e)for(i=0,o=t.length;i<o/2;i+=2){var a=t[i],s=t[i+1];t[i]=t[o-2-i],t[i+1]=t[o-1-i],t[o-2-i]=a,t[o-1-i]=s}}(s,r),t.push(s)}}function xt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)et(n,t.features[i],e,i);else et(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(t,e){var n=e.buffer/e.extent,i=t,o=st(t,1,-1-n,n,0,-1,2,e),r=st(t,1,1-n,2+n,0,-1,2,e);return(o||r)&&(i=st(t,1,-n,1+n,0,-1,2,e)||[],o&&(i=gt(o,1).concat(i)),r&&(i=i.concat(gt(r,-1)))),i}(i,e)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function wt(t,e,n){return 32*((1<<t)*n+e)+t}function Pt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return e(null,null);var o=new v(i.features),r=M(o);0===r.byteOffset&&r.byteLength===r.buffer.byteLength||(r=new Uint8Array(r)),e(null,{vectorTile:o,rawData:r.buffer})}q.prototype.load=function(t){var e=this.options,n=e.log,i=e.minZoom,o=e.maxZoom,r=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(G(t[u],u));this.trees[o+1]=new V(s,$,Y,r,Float32Array),n&&console.timeEnd(a);for(var c=o;c>=i;c--){var l=+Date.now();s=this._cluster(s,c),this.trees[c]=new V(s,$,Y,r,Float32Array),n&&console.log("z%d: %d clusters in %dms",c,s.length,+Date.now()-l)}return n&&console.timeEnd("total time"),this},q.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),o=180===t[2]?180:((t[2]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,o=180;else if(n>o){var a=this.getClusters([n,i,180,r],e),s=this.getClusters([-180,i,o,r],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],c=[],l=0,d=u.range(W(n),K(r),W(o),K(i));l<d.length;l+=1){var h=u.points[d[l]];c.push(h.numPoints?H(h):this.points[h.index])}return c},q.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);var r=o.points[e];if(!r)throw new Error(i);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,c=o.within(r.x,r.y,a);u<c.length;u+=1){var l=o.points[c[u]];l.parentId===t&&s.push(l.numPoints?H(l):this.points[l.index])}if(0===s.length)throw new Error(i);return s},q.prototype.getLeaves=function(t,e,n){var i=[];return this._appendLeaves(i,t,e=e||10,n=n||0,0),i},q.prototype.getTile=function(t,e,n){var i=this.trees[this._limitZoom(t)],o=Math.pow(2,t),r=this.options,a=r.radius/r.extent,s=(n-a)/o,u=(n+1+a)/o,c={features:[]};return this._addTileFeatures(i.range((e-a)/o,s,(e+1+a)/o,u),i.points,e,n,o,c),0===e&&this._addTileFeatures(i.range(1-a/o,s,1,u),i.points,o,n,o,c),e===o-1&&this._addTileFeatures(i.range(0,s,a/o,u),i.points,-1,n,o,c),c.features.length?c:null},q.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},q.prototype._appendLeaves=function(t,e,n,i,o){for(var r=0,a=this.getChildren(e);r<a.length;r+=1){var s=a[r],u=s.properties;if(u&&u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(t,u.cluster_id,n,i,o):o<i?o++:t.push(s),t.length===n)break}return o},q.prototype._addTileFeatures=function(t,e,n,i,o,r){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],c=u.numPoints,l={type:1,geometry:[[Math.round(this.options.extent*(u.x*o-n)),Math.round(this.options.extent*(u.y*o-i))]],tags:c?Z(u):this.points[u.index].properties},d=void 0;c?d=u.id:this.options.generateId?d=u.index:this.points[u.index].id&&(d=this.points[u.index].id),void 0!==d&&(l.id=d),r.features.push(l)}},q.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},q.prototype._cluster=function(t,e){for(var n=[],i=this.options,o=i.reduce,r=i.radius/(i.extent*Math.pow(2,e)),a=0;a<t.length;a++){var s=t[a];if(!(s.zoom<=e)){s.zoom=e;for(var u=this.trees[e+1],c=u.within(s.x,s.y,r),l=s.numPoints||1,d=s.x*l,h=s.y*l,p=o&&l>1?this._map(s,!0):null,f=(a<<5)+(e+1)+this.points.length,g=0,m=c;g<m.length;g+=1){var _=u.points[m[g]];if(!(_.zoom<=e)){_.zoom=e;var y=_.numPoints||1;d+=_.x*y,h+=_.y*y,l+=y,_.parentId=f,o&&(p||(p=this._map(s,!0)),o(p,this._map(_)))}}1===l?n.push(s):(s.parentId=f,n.push(j(d/l,h/l,f,l,p)))}}return n},q.prototype._getOriginId=function(t){return t-this.points.length>>5},q.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},q.prototype._map=function(t,e){if(t.numPoints)return e?X({},t.properties):t.properties;var n=this.points[t.index].properties,i=this.options.map(n);return e&&i===n?X({},i):i},xt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},xt.prototype.splitTile=function(t,e,n,i,o,r,a){for(var s=[t,e,n,i],u=this.options,c=u.debug;s.length;){i=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var l=1<<e,d=wt(e,n,i),h=this.tiles[d];if(!h&&(c>1&&console.time("creation"),h=this.tiles[d]=bt(t,e,n,i,u),this.tileCoords.push({z:e,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var p="z"+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,o){if(e===u.maxZoom||e===o)continue;var f=1<<o-e;if(n!==Math.floor(r/f)||i!==Math.floor(a/f))continue}else if(e===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,0!==t.length){c>1&&console.time("clipping");var g,m,_,y,b,v,C=.5*u.buffer/u.extent,x=.5-C,w=.5+C,P=1+C;g=m=_=y=null,b=st(t,l,n-C,n+w,0,h.minX,h.maxX,u),v=st(t,l,n+x,n+P,0,h.minX,h.maxX,u),t=null,b&&(g=st(b,l,i-C,i+w,1,h.minY,h.maxY,u),m=st(b,l,i+x,i+P,1,h.minY,h.maxY,u),b=null),v&&(_=st(v,l,i-C,i+w,1,h.minY,h.maxY,u),y=st(v,l,i+x,i+P,1,h.minY,h.maxY,u),v=null),c>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*i),s.push(m||[],e+1,2*n,2*i+1),s.push(_||[],e+1,2*n+1,2*i),s.push(y||[],e+1,2*n+1,2*i+1)}}},xt.prototype.getTile=function(t,e,n){var i=this.options,o=i.extent,r=i.debug;if(t<0||t>24)return null;var a=1<<t,s=wt(t,e=(e%a+a)%a,n);if(this.tiles[s])return _t(this.tiles[s],o);r>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,c=t,l=e,d=n;!u&&c>0;)c--,l=Math.floor(l/2),d=Math.floor(d/2),u=this.tiles[wt(c,l,d)];return u&&u.source?(r>1&&console.log("found parent tile z%d-%d-%d",c,l,d),r>1&&console.time("drilling down"),this.splitTile(u.source,c,l,d,t,e,n),r>1&&console.timeEnd("drilling down"),this.tiles[s]?_t(this.tiles[s],o):null):null};var Mt=function(e){function n(t,n,i,o){e.call(this,t,n,i,Pt),o&&(this.loadGeoJSON=o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var o=!!(i&&i.request&&i.request.collectResourceTiming)&&new t.RequestPerformance(i.request);this.loadGeoJSON(i,(function(r,a){if(r||!a)return n(r);if("object"!=typeof a)return n(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(g(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(g(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=m(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(g(m,e))),t}(e,n);default:return e}}(a,!0);try{e._geoJSONIndex=i.cluster?new q(function(e){var n=e.superclusterOptions,i=e.clusterProperties;if(!i||!n)return n;for(var o={},r={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(i),c=0,l=u;c<l.length;c+=1){var d=l[c],h=i[d],p=h[0],f=t.createExpression(h[1]),g=t.createExpression("string"==typeof p?[p,["accumulated"],["get",d]]:p);o[d]=f.value,r[d]=g.value}return n.map=function(t){s.properties=t;for(var e={},n=0,i=u;n<i.length;n+=1){var r=i[n];e[r]=o[r].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,i=u;n<i.length;n+=1){var o=i[n];a.accumulated=t[o],t[o]=r[o].evaluate(a,s)}},n}(i)).load(a.features):function(t,e){return new xt(t,e)}(a,i.geojsonVtOptions)}catch(r){return n(r)}e.loaded={};var s={};if(o){var u=o.finish();u&&(s.resourceTiming={},s.resourceTiming[i.source]=JSON.parse(JSON.stringify(u)))}n(null,s)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var i=this.loaded;return i&&i[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(u),Ot=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Mt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return Ot.prototype.setReferrer=function(t,e){this.referrer=e},Ot.prototype.setImages=function(t,e,n){this.availableImages[t]=e,n()},Ot.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},Ot.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},Ot.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},Ot.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},Ot.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},Ot.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},Ot.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},Ot.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Ot.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var i=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==i.removeSource?i.removeSource(e,n):n()}},Ot.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},Ot.prototype.syncRTLPluginState=function(e,n,i){try{t.plugin.setState(n);var o=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=o){this.self.importScripts(o);var r=t.plugin.isParsed();i(r?void 0:new Error("RTL Text Plugin failed to import scripts from "+o),r)}}catch(t){i(t.toString())}},Ot.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},Ot.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},Ot.prototype.getWorkerSource=function(t,e,n){var i=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,o){i.actor.send(e,n,o,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},Ot.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new l),this.demWorkerSources[t][e]},Ot.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&void 0!==t.window&&t.window instanceof WorkerGlobalScope&&(t.window.worker=new Ot(t.window)),Ot})),i(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),i=Object.create(e.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",i)||n.probablySupportsContext("experimental-webgl",i):n.supportsContext?n.supportsContext("webgl",i)||n.supportsContext("experimental-webgl",i):n.getContext("webgl",i)||n.getContext("experimental-webgl",i)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,i){var o=t.window.document.createElement(e);return void 0!==n&&(o.className=n),i&&i.appendChild(o),o},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},i=t.window.document.documentElement.style;function o(t){if(!i)return t[0];for(var e=0;e<t.length;e++)if(t[e]in i)return t[e];return t[0]}var r,a=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){i&&a&&(r=i[a],i[a]="none")},n.enableDrag=function(){i&&a&&(i[a]=r)};var s=o(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){u=!0}});t.window.addEventListener("test",c,c),t.window.removeEventListener("test",c,c)}catch(t){u=!1}n.addEventListener=function(t,e,n,i){void 0===i&&(i={}),t.addEventListener(e,n,"passive"in i&&u?i:i.capture)},n.removeEventListener=function(t,e,n,i){void 0===i&&(i={}),t.removeEventListener(e,n,"passive"in i&&u?i:i.capture)};var l=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",l,!0)};function d(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",l,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",l,!0)}),0)},n.mousePos=function(e,n){var i=e.getBoundingClientRect(),o=t.window.TouchEvent&&n instanceof t.window.TouchEvent?n.touches[0]:n;return new t.Point(o.clientX-i.left-e.clientLeft,o.clientY-i.top-e.clientTop)},n.touchPos=function(e,n){for(var i=e.getBoundingClientRect(),o=[],r="touchend"===n.type?n.changedTouches:n.touches,a=0;a<r.length;a++)o.push(new t.Point(r[a].clientX-i.left-e.clientLeft,r[a].clientY-i.top-e.clientTop));return o},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var i=n[e];this._notify(i.ids,i.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),i=!1),i},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,i=0,o=t;i<o.length;i+=1){var r=o[i];if(r[0]<n||r[1]<r[0]||e<r[1])return!1;n=r[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var i=0,o=t;i<o.length;i+=1)this.images[o[i]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var i={},o=0,r=e;o<r.length;o+=1){var a=r[o];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,i)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{var o={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new t.ImagePosition(o,i);this.patterns[e]={bin:o,position:r}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var i=t.potpack(e),o=i.w,r=i.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:r||1}),this.patterns){var u=this.patterns[s].bin,c=u.x+1,l=u.y+1,d=this.images[s].data,h=d.width,p=d.height;t.RGBAImage.copy(d,a,{x:0,y:0},{x:c,y:l},{width:h,height:p}),t.RGBAImage.copy(d,a,{x:0,y:p-1},{x:c,y:l-1},{width:h,height:1}),t.RGBAImage.copy(d,a,{x:0,y:0},{x:c,y:l+p},{width:h,height:1}),t.RGBAImage.copy(d,a,{x:h-1,y:0},{x:c-1,y:l},{width:1,height:p}),t.RGBAImage.copy(d,a,{x:0,y:0},{x:c+h,y:l},{width:1,height:p})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var o=this.images[i];d(o)&&this.updateImage(i,o)}}},n}(t.Evented),p=m,f=m,g=1e20;function m(t,e,n,i,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=i||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function _(t,e,n,i,o,r,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)i[u]=t[u*e+s];for(y(i,o,r,a,n),u=0;u<n;u++)t[u*e+s]=o[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)i[s]=t[u*e+s];for(y(i,o,r,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(o[s])}}function y(t,e,n,i,o){n[0]=0,i[0]=-g,i[1]=+g;for(var r=1,a=0;r<o;r++){for(var s=(t[r]+r*r-(t[n[a]]+n[a]*n[a]))/(2*r-2*n[a]);s<=i[a];)a--,s=(t[r]+r*r-(t[n[a]]+n[a]*n[a]))/(2*r-2*n[a]);n[++a]=r,i[a]=s,i[a+1]=+g}for(r=0,a=0;r<o;r++){for(;i[a+1]<r;)a++;e[r]=(r-n[a])*(r-n[a])+t[n[a]]}}m.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var o=e.data[4*i+3]/255;this.gridOuter[i]=1===o?0:0===o?g:Math.pow(Math.max(0,.5-o),2),this.gridInner[i]=1===o?g:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++)n[i]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[i]-this.gridInner[i])/this.radius+this.cutoff))));return n},p.default=f;var b=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};b.prototype.setURL=function(t){this.url=t},b.prototype.getGlyphs=function(e,n){var i=this,o=[];for(var r in e)for(var a=0,s=e[r];a<s.length;a+=1)o.push({stack:r,id:s[a]});t.asyncAll(o,(function(t,e){var n=t.stack,o=t.id,r=i.entries[n];r||(r=i.entries[n]={glyphs:{},requests:{}});var a=r.glyphs[o];if(void 0===a){if(a=i._tinySDF(r,n,o))return r.glyphs[o]=a,void e(null,{stack:n,id:o,glyph:a});var s=Math.floor(o/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var u=r.requests[s];u||(u=r.requests[s]=[],b.loadGlyphRange(n,s,i.url,i.requestManager,(function(t,e){if(e)for(var n in e)i._doesCharSupportLocalGlyph(+n)||(r.glyphs[+n]=e[+n]);for(var o=0,a=u;o<a.length;o+=1)(0,a[o])(t,e);delete r.requests[s]}))),u.push((function(t,i){t?e(t):i&&e(null,{stack:n,id:o,glyph:i[o]||null})}))}}else e(null,{stack:n,id:o,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var i={},o=0,r=e;o<r.length;o+=1){var a=r[o],s=a.stack,u=a.id,c=a.glyph;(i[s]||(i[s]={}))[u]=c&&{id:c.id,bitmap:c.bitmap.clone(),metrics:c.metrics}}n(null,i)}}))},b.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},b.prototype._tinySDF=function(e,n,i){var o=this.localIdeographFontFamily;if(o&&this._doesCharSupportLocalGlyph(i)){var r=e.tinySDF;if(!r){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),r=e.tinySDF=new b.TinySDF(24,3,8,.25,o,a)}return{id:i,bitmap:new t.AlphaImage({width:30,height:30},r.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},b.loadGlyphRange=function(e,n,i,o,r){var a=256*n,s=a+255,u=o.transformRequest(o.normalizeGlyphsURL(i).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,(function(e,n){if(e)r(e);else if(n){for(var i={},o=0,a=t.parseGlyphPBF(n);o<a.length;o+=1){var s=a[o];i[s.id]=s}r(null,i)}}))},b.TinySDF=p;var v=function(){this.specification=t.styleSpec.light.position};v.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},v.prototype.interpolate=function(e,n,i){return{x:t.number(e.x,n.x,i),y:t.number(e.y,n.y,i),z:t.number(e.z,n.z,i)}};var C=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new v,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),x=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(C),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var i in e){var o=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),o):this._transitionable.setValue(i,o)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),w=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};w.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},w.prototype.getDashRanges=function(t,e,n){var i=[],o=t.length%2==1?-t[t.length-1]*n:0,r=t[0]*n,a=!0;i.push({left:o,right:r,isDash:a,zeroLength:0===t[0]});for(var s=t[0],u=1;u<t.length;u++){var c=t[u];o=s*n,r=(s+=c)*n,i.push({left:o,right:r,isDash:a=!a,zeroLength:0===c})}return i},w.prototype.addRoundDash=function(t,e,n){for(var i=e/2,o=-n;o<=n;o++)for(var r=this.width*(this.nextRow+n+o),a=0,s=t[a],u=0;u<this.width;u++){u/s.right>1&&(s=t[++a]);var c=Math.abs(u-s.left),l=Math.abs(u-s.right),d=Math.min(c,l),h=void 0,p=o/n*(i+1);if(s.isDash){var f=i-Math.abs(p);h=Math.sqrt(d*d+f*f)}else h=i-Math.sqrt(d*d+p*p);this.data[r+u]=Math.max(0,Math.min(255,h+128))}},w.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],i=t[e+1];n.zeroLength?t.splice(e,1):i&&i.isDash===n.isDash&&(i.left=n.left,t.splice(e,1))}var o=t[0],r=t[t.length-1];o.isDash===r.isDash&&(o.left=r.left-this.width,r.right=o.right+this.width);for(var a=this.width*this.nextRow,s=0,u=t[s],c=0;c<this.width;c++){c/u.right>1&&(u=t[++s]);var l=Math.abs(c-u.left),d=Math.abs(c-u.right),h=Math.min(l,d);this.data[a+c]=Math.max(0,Math.min(255,(u.isDash?h:-h)+128))}},w.prototype.addDash=function(e,n){var i=n?7:0,o=2*i+1;if(this.nextRow+o>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var r=0,a=0;a<e.length;a++)r+=e[a];var s=this.width/r,u=this.getDashRanges(e,this.width,s);n?this.addRoundDash(u,s,i):this.addRegularDash(u);var c={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:r};return this.nextRow+=o,this.dirty=!0,c},w.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var P=function e(n,i){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var o=this.workerPool.acquire(this.id),r=0;r<o.length;r++){var a=new e.Actor(o[r],i,this.id);a.name="Worker "+r,this.actors.push(a)}};function M(e,n,i){var o=function(o,r){if(o)return i(o);if(r){var a=t.pick(t.extend(r,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(a.vectorLayers=r.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(t){return t.id}))),a.tiles=n.canonicalizeTileset(a,e.url),i(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),o):t.browser.frame((function(){return o(null,e)}))}P.prototype.broadcast=function(e,n,i){t.asyncAll(this.actors,(function(t,i){t.send(e,n,i)}),i=i||function(){})},P.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},P.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},P.Actor=t.Actor;var O=function(e,n,i){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=i||24};O.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},O.prototype.contains=function(e){var n=Math.pow(2,e.z),i=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),o=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),r=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=i&&e.x<r&&e.y>=o&&e.y<a};var k=function(e){function n(n,i,o,r){if(e.call(this),this.id=n,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(i,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._requestManager,(function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new O(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),o={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function r(i,o){return delete e.request,e.aborted?n(null):i&&404!==i.status?n(i):(o&&o.resourceTiming&&(e.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&o&&e.setExpiryData(o),e.loadVectorData(o,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",o,r.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",o,r.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),E=function(e){function n(n,i,o,r){e.call(this),this.id=n,this.dispatcher=o,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},i),t.extend(this,t.pick(i,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=M(this._options,this.map._requestManager,(function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new O(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var i=this,o=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(o,t.ResourceType.Tile),(function(o,r){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(o)e.state="errored",n(o);else if(r){i.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=i.map.painter.context,s=a.gl;e.texture=i.map.painter.getTileTexture(r.width),e.texture?e.texture.update(r,{useMipmap:!0}):(e.texture=new t.Texture(a,r,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(i.dispatcher),n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),S=function(e){function n(n,i,o,r){e.call(this,n,i,o,r),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function o(t,i){t&&(e.state="errored",n(t)),i&&(e.dem=i,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,r){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var a=t.window.ImageBitmap&&r instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?r:t.browser.getImageData(r,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,o.bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,i=Math.pow(2,n.z),o=(n.x-1+i)%i,r=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+i)%i,s=n.x+1===i?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,r,n.z,o,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,r,n.z,o,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(u[new t.OverscaledTileID(e.overscaledZ,r,n.z,o,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(E),T=function(e){function n(n,i,o,r){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=t.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(i.clusterRadius||50)*a,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties},i.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",i))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var i={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(i.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",i))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},i),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var i=t.extend({},this.workerOptions),o=this._data;"string"==typeof o?(i.request=this.map._requestManager.transformRequest(t.browser.resolveURL(o),t.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(o),this.actor.send(this.type+".loadData",i,(function(t,o){n._removed||o&&o.abandoned||(n._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[n.id]&&(n._resourceTiming=o.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:i.source},null),e(t))}))},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var i=this,o=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(o,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(t,r){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(r,i.map.painter,"reloadTile"===o),n(null))}))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),A=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),I=function(e){function n(t,n,i,o){e.call(this),this.id=t,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var i=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),(function(o,r){i._loaded=!0,o?i.fire(new t.ErrorEvent(o)):r&&(i.image=r,e&&(i.coordinates=e),n&&n(),i._finishLoading())}))},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var i=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,i=1/0,o=-1/0,r=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),r=Math.max(r,u.y)}var c=Math.max(o-n,r-i),l=Math.max(0,Math.floor(-Math.log(c)/Math.LN2)),d=Math.pow(2,l);return new t.CanonicalTileID(l,Math.floor((n+o)/2*d),Math.floor((i+r)/2*d))}(i),this.minzoom=this.maxzoom=this.tileID.z;var o=i.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(o[2].x,o[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),D=function(e){function n(t,n,i,o){e.call(this,t,n,i,o),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var i=0,o=n.urls;i<o.length;i+=1)this.urls.push(this.map._requestManager.transformRequest(o[i],t.ResourceType.Source).url);t.getVideo(this.urls,(function(n,i){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(e.video=i,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(I),R=function(e){function n(n,i,o,r){e.call(this,n,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,A.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,i.RGBA,{premultiply:!0}),this.tiles){var r=this.tiles[o];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(I),F={vector:k,raster:E,"raster-dem":S,geojson:T,video:D,image:I,canvas:R};function L(e,n){var i=t.identity([]);return t.translate(i,i,[1,1,0]),t.scale(i,i,[.5*e.width,.5*e.height,1]),t.multiply(i,i,e.calculatePosMatrix(n.toUnwrapped()))}function z(t,e,n,i,o){var r=function(t,e,n){if(t)for(var i=0,o=t;i<o.length;i+=1){var r=e[o[i]];if(r&&r.source===n&&"fill-extrusion"===r.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,e,t.id),a=o.maxPitchScaleFactor(),s=t.tilesIn(n,a,r);s.sort(B);for(var u=[],c=0,l=s;c<l.length;c+=1){var d=l[c];u.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,t._state,d.queryGeometry,d.cameraQueryGeometry,d.scale,i,o,a,L(t.transform,d.tileID))})}var h=function(t){for(var e={},n={},i=0,o=t;i<o.length;i+=1){var r=o[i],a=r.queryResults,s=r.wrappedTileID,u=n[s]=n[s]||{};for(var c in a)for(var l=a[c],d=u[c]=u[c]||{},h=e[c]=e[c]||[],p=0,f=l;p<f.length;p+=1){var g=f[p];d[g.featureIndex]||(d[g.featureIndex]=!0,h.push(g))}}return e}(u);for(var p in h)h[p].forEach((function(e){var n=e.feature,i=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return h}function B(t,e){var n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}var N=function(t,e){this.max=t,this.onRemove=e,this.reset()};N.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var i=n[e];i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value)}return this.data={},this.order=[],this},N.prototype.add=function(t,e,n){var i=this,o=t.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var r={value:e,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((function(){i.remove(t,r)}),n)),this.data[o].push(r),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},N.prototype.has=function(t){return t.wrapped().key in this.data},N.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},N.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},N.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},N.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},N.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,i=void 0===e?0:this.data[n].indexOf(e),o=this.data[n][i];return this.data[n].splice(i,1),o.timeout&&clearTimeout(o.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(o.value),this.order.splice(this.order.indexOf(n),1),this},N.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},N.prototype.filter=function(t){var e=[];for(var n in this.data)for(var i=0,o=this.data[n];i<o.length;i+=1){var r=o[i];t(r.value)||e.push(r)}for(var a=0,s=e;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var V=function(t,e,n){this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};V.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},V.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},V.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},q=function(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;var o=t.gl;this.buffer=o.createBuffer(),t.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};q.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},q.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},q.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var i=e.attributes[this.attributes[n].name];void 0!==i&&t.enableVertexAttribArray(i)}},q.prototype.setVertexAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var o=this.attributes[i],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[U[o.type]],!1,this.itemSize,o.offset+this.itemSize*(n||0))}},q.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var j=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};j.prototype.get=function(){return this.current},j.prototype.set=function(t){},j.prototype.getDefault=function(){return this.default},j.prototype.setDefault=function(){this.set(this.default)};var G=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(j),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(j),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(j),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(j),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(j),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(j),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(j),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(j),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(j),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(j),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(j),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(j),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(j),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(j),ot=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(j),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(j),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(j),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(j),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(j),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(j),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(j),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(j),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(j),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(j),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(j),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(j),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(j),_t=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(j),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(j),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(j),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(j),Ct=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(j),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(Ct),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(Ct),Pt=function(t,e,n){this.context=t,this.width=e,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new xt(t,i),this.depthAttachment=new wt(t,i)};Pt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var Mt=function(t,e,n){this.func=t,this.mask=e,this.range=n};Mt.ReadOnly=!1,Mt.ReadWrite=!0,Mt.disabled=new Mt(519,Mt.ReadOnly,[0,1]);var Ot=function(t,e,n,i,o,r){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=o,this.pass=r};Ot.disabled=new Ot({func:519,mask:0},0,0,7680,7680,7680);var kt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};kt.disabled=new kt(kt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),kt.unblended=new kt(kt.Replace,t.Color.transparent,[!0,!0,!0,!0]),kt.alphaBlended=new kt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Et=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Et.disabled=new Et(!1,1029,2305),Et.backCCW=new Et(!0,1029,2305);var St=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new G(this),this.clearDepth=new H(this),this.clearStencil=new Z(this),this.colorMask=new W(this),this.depthMask=new K(this),this.stencilMask=new X(this),this.stencilFunc=new $(this),this.stencilOp=new Y(this),this.stencilTest=new Q(this),this.depthRange=new J(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new it(this),this.blendColor=new ot(this),this.blendEquation=new rt(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new ut(this),this.program=new ct(this),this.activeTexture=new lt(this),this.viewport=new dt(this),this.bindFramebuffer=new ht(this),this.bindRenderbuffer=new pt(this),this.bindTexture=new ft(this),this.bindVertexBuffer=new gt(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _t(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new bt(this),this.pixelStoreUnpackFlipY=new vt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear"),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query")};St.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},St.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},St.prototype.createIndexBuffer=function(t,e){return new V(this,t,e)},St.prototype.createVertexBuffer=function(t,e,n){return new q(this,t,e,n)},St.prototype.createRenderbuffer=function(t,e,n){var i=this.gl,o=i.createRenderbuffer();return this.bindRenderbuffer.set(o),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),o},St.prototype.createFramebuffer=function(t,e){return new Pt(this,t,e)},St.prototype.clear=function(t){var e=t.color,n=t.depth,i=this.gl,o=0;e&&(o|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(o|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(o)},St.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},St.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},St.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},St.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,kt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},St.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Tt=function(e){function n(n,i,o){var r=this;e.call(this),this.id=n,this.dispatcher=o,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))})),this.on("error",(function(){r._sourceErrored=!0})),this._source=function(e,n,i,o){var r=new F[n.type](e,n,i,o);if(r.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+r.id);return t.bindAll(["load","abort","unload","serialize","prepare"],r),r}(n,i,o,this),this._tiles={},this._cache=new N(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},n.prototype.getRenderableIds=function(e){var n=this,i=[];for(var o in this._tiles)this._isIdRenderable(o,e)&&i.push(this._tiles[o]);return e?i.sort((function(e,i){var o=e.tileID,r=i.tileID,a=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle),s=new t.Point(r.canonical.x,r.canonical.y)._rotate(n.transform.angle);return o.overscaledZ-r.overscaledZ||s.y-a.y||s.x-a.x})).map((function(t){return t.tileID.key})):i.map((function(t){return t.tileID})).sort(At).map((function(t){return t.key}))},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,i,o){if(o)return e.state="errored",void(404!==o.status?this._source.fire(new t.ErrorEvent(o,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){var o=this.getTileByID(i);r(t,o),r(o,t)}}function r(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,i=e.tileID.canonical.y-t.tileID.canonical.y,o=Math.pow(2,t.tileID.canonical.z),r=e.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+o)?n+=o:1===Math.abs(n-o)&&(n-=o)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[r]&&(t.neighboringTiles[r].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,i){for(var o in this._tiles){var r=this._tiles[o];if(!(i[o]||!r.hasData()||r.tileID.overscaledZ<=e||r.tileID.overscaledZ>n)){for(var a=r.tileID;r&&r.tileID.overscaledZ>e+1;){var s=r.tileID.scaledTo(r.tileID.overscaledZ-1);(r=this._tiles[s.key])&&r.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){i[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var i=t.overscaledZ-1;i>=e;i--){var o=t.scaledTo(i),r=this._getLoadedTile(o);if(r)return r}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+e),n[o.tileID.key]=o}for(var r in this._tiles=n,this._timers)clearTimeout(this._timers[r]),delete this._timers[r];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(o=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter((function(t){return i._source.hasTile(t)})))):o=[];var r=e.coveringZoomLevel(this._source),a=Math.max(r-n.maxOverzooming,this._source.minzoom),s=Math.max(r+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(o,r);if(It(this._source.type)){for(var c={},l={},d=0,h=Object.keys(u);d<h.length;d+=1){var p=h[d],f=u[p],g=this._tiles[p];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=t.browser.now())){var m=this.findLoadedParent(f,a);m&&(this._addTile(m.tileID),c[m.tileID.key]=m.tileID),l[p]=f}}for(var _ in this._retainLoadedChildren(l,r,s,u),c)u[_]||(this._coveredTiles[_]=!0,u[_]=c[_])}for(var y in u)this._tiles[y].clearFadeHold();for(var b=0,v=t.keysDifference(this._tiles,u);b<v.length;b+=1){var C=v[b],x=this._tiles[C];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(C)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var i={},o={},r=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},u=0,c=t;u<c.length;u+=1){var l=c[u],d=this._addTile(l);i[l.key]=l,d.hasData()||e<this._source.maxzoom&&(s[l.key]=l)}this._retainLoadedChildren(s,e,a,i);for(var h=0,p=t;h<p.length;h+=1){var f=p[h],g=this._tiles[f.key];if(!g.hasData()){if(e+1>this._source.maxzoom){var m=f.children(this._source.maxzoom)[0],_=this.getTile(m);if(_&&_.hasData()){i[m.key]=m;continue}}else{var y=f.children(this._source.maxzoom);if(i[y[0].key]&&i[y[1].key]&&i[y[2].key]&&i[y[3].key])continue}for(var b=g.wasRequested(),v=f.overscaledZ-1;v>=r;--v){var C=f.scaledTo(v);if(o[C.key])break;if(o[C.key]=!0,!(g=this.getTile(C))&&b&&(g=this._addTile(C)),g&&(i[C.key]=C,b=g.wasRequested(),g.hasData()))break}}}return i},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,i=this._tiles[t].tileID;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);var o=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(o))break;i=o}for(var r=0,a=e;r<a.length;r+=1)this._loadedParentTiles[a[r]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var i=Boolean(n);return i||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,i||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),i))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,i){var o=this,r=[],a=this.transform;if(!a)return r;for(var s=i?a.getCameraQueryGeometry(e):e,u=e.map((function(t){return a.pointCoordinate(t)})),c=s.map((function(t){return a.pointCoordinate(t)})),l=this.getIds(),d=1/0,h=1/0,p=-1/0,f=-1/0,g=0,m=c;g<m.length;g+=1){var _=m[g];d=Math.min(d,_.x),h=Math.min(h,_.y),p=Math.max(p,_.x),f=Math.max(f,_.y)}for(var y=function(e){var i=o._tiles[l[e]];if(!i.holdingForFade()){var s=i.tileID,g=Math.pow(2,a.zoom-i.tileID.overscaledZ),m=n*i.queryPadding*t.EXTENT/i.tileSize/g,_=[s.getTilePoint(new t.MercatorCoordinate(d,h)),s.getTilePoint(new t.MercatorCoordinate(p,f))];if(_[0].x-m<t.EXTENT&&_[0].y-m<t.EXTENT&&_[1].x+m>=0&&_[1].y+m>=0){var y=u.map((function(t){return s.getTilePoint(t)})),b=c.map((function(t){return s.getTilePoint(t)}));r.push({tile:i,tileID:s,queryGeometry:y,cameraQueryGeometry:b,scale:g})}}},b=0;b<l.length;b++)y(b);return r},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),i=0,o=n;i<o.length;i+=1){var r=o[i];r.posMatrix=this.transform.calculatePosMatrix(r.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(It(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var i=this._tiles[t];i&&i.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter((function(n){return!n.hasDependency(t,e)}))},n}(t.Evented);function At(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),i=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||i-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function It(t){return"raster"===t||"image"===t||"video"===t}function Dt(){return new t.window.Worker(oo.workerUrl)}Tt.maxOverzooming=10,Tt.maxUnderzooming=3;var Rt=function(){this.active={}};Rt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Rt.workerCount;)this.workers.push(new Dt);return this.active[t]=!0,this.workers.slice()},Rt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var Ft,Lt=Math.floor(t.browser.hardwareConcurrency/2);function zt(e,n){var i={};for(var o in e)"ref"!==o&&(i[o]=e[o]);return t.refProperties.forEach((function(t){t in n&&(i[t]=n[t])})),i}function Bt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=zt(t[i],e[t[i].ref]));return t}Rt.workerCount=Math.max(Math.min(Lt,6),1);var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Vt(t,e,n){n.push({command:Nt.addSource,args:[t,e[t]]})}function Ut(t,e,n){e.push({command:Nt.removeSource,args:[t]}),n[t]=!0}function qt(t,e,n,i){Ut(t,n,i),Vt(t,e,n)}function jt(e,n,i){var o;for(o in e[i])if(e[i].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[i][o],n[i][o]))return!1;for(o in n[i])if(n[i].hasOwnProperty(o)&&"data"!==o&&!t.deepEqual(e[i][o],n[i][o]))return!1;return!0}function Gt(e,n,i,o,r,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[o,s,n[s],r]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[o,s,n[s],r]}))}function Ht(t){return t.id}function Zt(t,e){return t[e.id]=e,t}var Wt=function(t,e,n){var i=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var r=0;r<this.xCellCount*this.yCellCount;r++)i.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Kt(e,n,i,o,r){var a=t.create();return n?(t.scale(a,a,[1/r,1/r,1]),i||t.rotateZ(a,a,o.angle)):t.multiply(a,o.labelPlaneMatrix,e),a}function Xt(e,n,i,o,r){if(n){var a=t.clone(e);return t.scale(a,a,[r,r,1]),i||t.rotateZ(a,a,-o.angle),a}return o.glCoordMatrix}function $t(e,n){var i=[e.x,e.y,0,1];ae(i,i,n);var o=i[3];return{point:new t.Point(i[0]/o,i[1]/o),signedDistanceFromCamera:o}}function Yt(t,e){var n=t[0]/t[3],i=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&i>=-e[1]&&i<=e[1]}function Qt(e,n,i,o,r,a,s,u){var c=o?e.textSizeData:e.iconSizeData,l=t.evaluateSizeForZoom(c,i.transform.zoom),d=[256/i.width*2+1,256/i.height*2+1],h=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;h.clear();for(var p=e.lineVertexArray,f=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=i.transform.width/i.transform.height,m=!1,_=0;_<f.length;_++){var y=f.get(_);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!m)re(y.numGlyphs,h);else{m=!1;var b=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(b,b,n),Yt(b,d)){var v=.5+b[3]/i.transform.cameraToCenterDistance*.5,C=t.evaluateSizeForFeature(c,l,y),x=s?C*v:C/v,w=new t.Point(y.anchorX,y.anchorY),P=$t(w,r).point,M={},O=ee(y,x,!1,u,n,r,a,e.glyphOffsetArray,p,h,P,w,M,g);m=O.useVertical,(O.notEnoughRoom||m||O.needsFlipping&&ee(y,x,!0,u,n,r,a,e.glyphOffsetArray,p,h,P,w,M,g).notEnoughRoom)&&re(y.numGlyphs,h)}else re(y.numGlyphs,h)}}o?e.text.dynamicLayoutVertexBuffer.updateData(h):e.icon.dynamicLayoutVertexBuffer.updateData(h)}function Jt(t,e,n,i,o,r,a,s,u,c,l,d){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,g=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(h-1),_=ie(t*g,n,i,o,r,a,s.segment,p,f,u,c,l,d);if(!_)return null;var y=ie(t*m,n,i,o,r,a,s.segment,p,f,u,c,l,d);return y?{first:_,last:y}:null}function te(e,n,i,o){return e===t.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*o?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function ee(e,n,i,o,r,a,s,u,c,l,d,h,p,f){var g,m=n/24,_=e.lineOffsetX*m,y=e.lineOffsetY*m;if(e.numGlyphs>1){var b=e.glyphStartIndex+e.numGlyphs,v=e.lineStartIndex,C=e.lineStartIndex+e.lineLength,x=Jt(m,u,_,y,i,d,h,e,c,a,p,!1);if(!x)return{notEnoughRoom:!0};var w=$t(x.first.point,s).point,P=$t(x.last.point,s).point;if(o&&!i){var M=te(e.writingMode,w,P,f);if(M)return M}g=[x.first];for(var O=e.glyphStartIndex+1;O<b-1;O++)g.push(ie(m*u.getoffsetX(O),_,y,i,d,h,e.segment,v,C,c,a,p,!1));g.push(x.last)}else{if(o&&!i){var k=$t(h,r).point,E=e.lineStartIndex+e.segment+1,S=new t.Point(c.getx(E),c.gety(E)),T=$t(S,r),A=T.signedDistanceFromCamera>0?T.point:ne(h,S,k,1,r),I=te(e.writingMode,k,A,f);if(I)return I}var D=ie(m*u.getoffsetX(e.glyphStartIndex),_,y,i,d,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,c,a,p,!1);if(!D)return{notEnoughRoom:!0};g=[D]}for(var R=0,F=g;R<F.length;R+=1){var L=F[R];t.addDynamicAttributes(l,L.point,L.angle)}return{}}function ne(t,e,n,i,o){var r=$t(t.add(t.sub(e)._unit()),o).point,a=n.sub(r);return n.add(a._mult(i/a.mag()))}function ie(e,n,i,o,r,a,s,u,c,l,d,h,p){var f=o?e-n:e+n,g=f>0?1:-1,m=0;o&&(g*=-1,m=Math.PI),g<0&&(m+=Math.PI);for(var _=g>0?u+s:u+s+1,y=_,b=r,v=r,C=0,x=0,w=Math.abs(f);C+x<=w;){if((_+=g)<u||_>=c)return null;if(v=b,void 0===(b=h[_])){var P=new t.Point(l.getx(_),l.gety(_)),M=$t(P,d);if(M.signedDistanceFromCamera>0)b=h[_]=M.point;else{var O=_-g;b=ne(0===C?a:new t.Point(l.getx(O),l.gety(O)),P,v,w-C+1,d)}}C+=x,x=v.dist(b)}var k=(w-C)/x,E=b.sub(v),S=E.mult(k)._add(v);return S._add(E._unit()._perp()._mult(i*g)),{point:S,angle:m+Math.atan2(b.y-v.y,b.x-v.x),tileDistance:p?{prevTileDistance:_-g===y?0:l.gettileUnitDistanceFromAnchor(_-g),lastSegmentViewportDistance:w-C}:null}}Wt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Wt.prototype.insert=function(t,e,n,i,o){this._forEachCell(e,n,i,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(o)},Wt.prototype.insertCircle=function(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)},Wt.prototype._insertBoxCell=function(t,e,n,i,o,r){this.boxCells[o].push(r)},Wt.prototype._insertCircleCell=function(t,e,n,i,o,r){this.circleCells[o].push(r)},Wt.prototype._query=function(t,e,n,i,o,r){if(n<0||t>this.width||i<0||e>this.height)return!o&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var c=this.circles[3*u],l=this.circles[3*u+1],d=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:c-d,y1:l-d,x2:c+d,y2:l+d})}return r?a.filter(r):a}return this._forEachCell(t,e,n,i,this._queryCell,a,{hitTest:o,seenUids:{box:{},circle:{}}},r),o?a.length>0:a},Wt.prototype._queryCircle=function(t,e,n,i,o){var r=t-n,a=t+n,s=e-n,u=e+n;if(a<0||r>this.width||u<0||s>this.height)return!i&&[];var c=[];return this._forEachCell(r,s,a,u,this._queryCellCircle,c,{hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},o),i?c.length>0:c},Wt.prototype.query=function(t,e,n,i,o){return this._query(t,e,n,i,!1,o)},Wt.prototype.hitTest=function(t,e,n,i,o){return this._query(t,e,n,i,!0,o)},Wt.prototype.hitTestCircle=function(t,e,n,i){return this._queryCircle(t,e,n,!0,i)},Wt.prototype._queryCell=function(t,e,n,i,o,r,a,s){var u=a.seenUids,c=this.boxCells[o];if(null!==c)for(var l=this.bboxes,d=0,h=c;d<h.length;d+=1){var p=h[d];if(!u.box[p]){u.box[p]=!0;var f=4*p;if(t<=l[f+2]&&e<=l[f+3]&&n>=l[f+0]&&i>=l[f+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return r.push(!0),!0;r.push({key:this.boxKeys[p],x1:l[f],y1:l[f+1],x2:l[f+2],y2:l[f+3]})}}}var g=this.circleCells[o];if(null!==g)for(var m=this.circles,_=0,y=g;_<y.length;_+=1){var b=y[_];if(!u.circle[b]){u.circle[b]=!0;var v=3*b;if(this._circleAndRectCollide(m[v],m[v+1],m[v+2],t,e,n,i)&&(!s||s(this.circleKeys[b]))){if(a.hitTest)return r.push(!0),!0;var C=m[v],x=m[v+1],w=m[v+2];r.push({key:this.circleKeys[b],x1:C-w,y1:x-w,x2:C+w,y2:x+w})}}}},Wt.prototype._queryCellCircle=function(t,e,n,i,o,r,a,s){var u=a.circle,c=a.seenUids,l=this.boxCells[o];if(null!==l)for(var d=this.bboxes,h=0,p=l;h<p.length;h+=1){var f=p[h];if(!c.box[f]){c.box[f]=!0;var g=4*f;if(this._circleAndRectCollide(u.x,u.y,u.radius,d[g+0],d[g+1],d[g+2],d[g+3])&&(!s||s(this.boxKeys[f])))return r.push(!0),!0}}var m=this.circleCells[o];if(null!==m)for(var _=this.circles,y=0,b=m;y<b.length;y+=1){var v=b[y];if(!c.circle[v]){c.circle[v]=!0;var C=3*v;if(this._circlesCollide(_[C],_[C+1],_[C+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[v])))return r.push(!0),!0}}},Wt.prototype._forEachCell=function(t,e,n,i,o,r,a,s){for(var u=this._convertToXCellCoord(t),c=this._convertToYCellCoord(e),l=this._convertToXCellCoord(n),d=this._convertToYCellCoord(i),h=u;h<=l;h++)for(var p=c;p<=d;p++)if(o.call(this,t,e,n,i,this.xCellCount*p+h,r,a,s))return},Wt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Wt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Wt.prototype._circlesCollide=function(t,e,n,i,o,r){var a=i-t,s=o-e,u=n+r;return u*u>a*a+s*s},Wt.prototype._circleAndRectCollide=function(t,e,n,i,o,r,a){var s=(r-i)/2,u=Math.abs(t-(i+s));if(u>s+n)return!1;var c=(a-o)/2,l=Math.abs(e-(o+c));if(l>c+n)return!1;if(u<=s||l<=c)return!0;var d=u-s,h=l-c;return d*d+h*h<=n*n};var oe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function re(t,e){for(var n=0;n<t;n++){var i=e.length;e.resize(i+4),e.float32.set(oe,3*i)}}function ae(t,e,n){var i=e[0],o=e[1];return t[0]=n[0]*i+n[4]*o+n[12],t[1]=n[1]*i+n[5]*o+n[13],t[3]=n[3]*i+n[7]*o+n[15],t}var se=function(t,e,n){void 0===e&&(e=new Wt(t.width+200,t.height+200,25)),void 0===n&&(n=new Wt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function ue(t,e,n){t[e+4]=n?1:0}function ce(e,n,i){return n*(t.EXTENT/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}se.prototype.placeCollisionBox=function(t,e,n,i,o){var r=this.projectAndGetPerspectiveRatio(i,t.anchorPointX,t.anchorPointY),a=n*r.perspectiveRatio,s=t.x1*a+r.point.x,u=t.y1*a+r.point.y,c=t.x2*a+r.point.x,l=t.y2*a+r.point.y;return!this.isInsideGrid(s,u,c,l)||!e&&this.grid.hitTest(s,u,c,l,o)?{box:[],offscreen:!1}:{box:[s,u,c,l],offscreen:this.isOffscreen(s,u,c,l)}},se.prototype.approximateTileDistance=function(t,e,n,i,o){var r=t.lastSegmentViewportDistance*n;return t.prevTileDistance+r+((o?1:i/this.pitchfactor)-1)*r*Math.abs(Math.sin(e))},se.prototype.placeCollisionCircles=function(e,n,i,o,r,a,s,u,c,l,d,h,p){var f=[],g=this.projectAnchor(c,r.anchorX,r.anchorY),m=u/24,_=r.lineOffsetX*u,y=r.lineOffsetY*u,b=new t.Point(r.anchorX,r.anchorY),v=Jt(m,s,_,y,!1,$t(b,l).point,b,r,a,l,{},!0),C=!1,x=!1,w=!0,P=g.perspectiveRatio*o,M=1/(o*i),O=0,k=0;v&&(O=this.approximateTileDistance(v.first.tileDistance,v.first.angle,M,g.cameraDistance,h),k=this.approximateTileDistance(v.last.tileDistance,v.last.angle,M,g.cameraDistance,h));for(var E=0;E<e.length;E+=5){var S=e[E],T=e[E+1],A=e[E+2],I=e[E+3];if(!v||I<-O||I>k)ue(e,E,!1);else{var D=this.projectPoint(c,S,T),R=A*P;if(f.length>0){var F=D.x-f[f.length-4],L=D.y-f[f.length-3];if(R*R*2>F*F+L*L&&E+8<e.length){var z=e[E+8];if(z>-O&&z<k){ue(e,E,!1);continue}}}f.push(D.x,D.y,R,E/5),ue(e,E,!0);var B=D.x-R,N=D.y-R,V=D.x+R,U=D.y+R;if(w=w&&this.isOffscreen(B,N,V,U),x=x||this.isInsideGrid(B,N,V,U),!n&&this.grid.hitTestCircle(D.x,D.y,R,p)){if(!d)return{circles:[],offscreen:!1};C=!0}}}return{circles:C||!x?[]:f,offscreen:w}},se.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],i=1/0,o=1/0,r=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var c=u[s],l=new t.Point(c.x+100,c.y+100);i=Math.min(i,l.x),o=Math.min(o,l.y),r=Math.max(r,l.x),a=Math.max(a,l.y),n.push(l)}for(var d={},h={},p=0,f=this.grid.query(i,o,r,a).concat(this.ignoredGrid.query(i,o,r,a));p<f.length;p+=1){var g=f[p],m=g.key;if(void 0===d[m.bucketInstanceId]&&(d[m.bucketInstanceId]={}),!d[m.bucketInstanceId][m.featureIndex]){var _=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(n,_)&&(d[m.bucketInstanceId][m.featureIndex]=!0,void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]=[]),h[m.bucketInstanceId].push(m.featureIndex))}}return h},se.prototype.insertCollisionBox=function(t,e,n,i,o){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:o},t[0],t[1],t[2],t[3])},se.prototype.insertCollisionCircles=function(t,e,n,i,o){for(var r=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:o},s=0;s<t.length;s+=4)r.insertCircle(a,t[s],t[s+1],t[s+2])},se.prototype.projectAnchor=function(t,e,n){var i=[e,n,0,1];return ae(i,i,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5,cameraDistance:i[3]}},se.prototype.projectPoint=function(e,n,i){var o=[n,i,0,1];return ae(o,o,e),new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},se.prototype.projectAndGetPerspectiveRatio=function(e,n,i){var o=[n,i,0,1];return ae(o,o,e),{point:new t.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},se.prototype.isOffscreen=function(t,e,n,i){return n<100||t>=this.screenRightBoundary||i<100||e>this.screenBottomBoundary},se.prototype.isInsideGrid=function(t,e,n,i){return n>=0&&t<this.gridRightBoundary&&i>=0&&e<this.gridBottomBoundary};var le=function(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n};le.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var de=function(t,e,n,i,o){this.text=new le(t?t.text:null,e,n,o),this.icon=new le(t?t.icon:null,e,i,o)};de.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var he=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},pe=function(t,e,n,i,o){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=o},fe=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function ge(e,n,i,o,r){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*i,c=t.evaluateVariableOffset(e,o);return new t.Point(s+c[0]*r,u+c[1]*r)}function me(e,n,i,o,r,a){var s=e.x1,u=e.x2,c=e.y1,l=e.y2,d=e.anchorPointX,h=e.anchorPointY,p=new t.Point(n,i);return o&&p._rotate(r?a:-a),{x1:s+p.x,y1:c+p.y,x2:u+p.x,y2:l+p.y,anchorPointX:d,anchorPointY:h}}fe.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var _e=function(t,e,n,i){this.transform=t.clone(),this.collisionIndex=new se(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new fe(n),this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}};function ye(t,e,n,i,o){t.emplaceBack(e?1:0,n?1:0,i||0,o||0),t.emplaceBack(e?1:0,n?1:0,i||0,o||0),t.emplaceBack(e?1:0,n?1:0,i||0,o||0),t.emplaceBack(e?1:0,n?1:0,i||0,o||0)}_e.prototype.getBucketParts=function(e,n,i,o){var r=i.getBucket(n),a=i.latestFeatureIndex;if(r&&a&&n.id===r.layerIds[0]){var s=i.collisionBoxArray,u=r.layers[0].layout,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),l=i.tileSize/t.EXTENT,d=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),h=Kt(d,"map"===u.get("text-pitch-alignment"),"map"===u.get("text-rotation-alignment"),this.transform,ce(i,1,this.transform.zoom));this.retainedQueryData[r.bucketInstanceId]=new pe(r.bucketInstanceId,a,r.sourceLayerIndex,r.index,i.tileID);var p={bucket:r,layout:u,posMatrix:d,textLabelPlaneMatrix:h,scale:c,textPixelRatio:l,holdingForFade:i.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(r.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(r.sourceID)};if(o)for(var f=0,g=r.sortKeyRanges;f<g.length;f+=1){var m=g[f];e.push({sortKey:m.sortKey,symbolInstanceStart:m.symbolInstanceStart,symbolInstanceEnd:m.symbolInstanceEnd,parameters:p})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:r.symbolInstances.length,parameters:p})}},_e.prototype.attemptAnchorPlacement=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f){var g,m=[d.textOffset0,d.textOffset1],_=ge(t,n,i,m,o),y=this.collisionIndex.placeCollisionBox(me(e,_.x,_.y,r,a,this.transform.angle),l,s,u,c.predicate);if(!f||0!==this.collisionIndex.placeCollisionBox(me(f,_.x,_.y,r,a,this.transform.angle),l,s,u,c.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(g=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:m,width:n,height:i,anchor:t,textBoxScale:o,prevAnchor:g},this.markUsedJustification(h,t,d,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,d),this.placedOrientations[d.crossTileID]=p),{shift:_,placedGlyphBoxes:y}):void 0},_e.prototype.placeLayerBucketPart=function(e,n,i){var o=this,r=e.parameters,a=r.bucket,s=r.layout,u=r.posMatrix,c=r.textLabelPlaneMatrix,l=r.scale,d=r.textPixelRatio,h=r.holdingForFade,p=r.collisionBoxArray,f=r.partiallyEvaluatedTextSize,g=r.collisionGroup,m=s.get("text-optional"),_=s.get("icon-optional"),y=s.get("text-allow-overlap"),b=s.get("icon-allow-overlap"),v="map"===s.get("text-rotation-alignment"),C="map"===s.get("text-pitch-alignment"),x="none"!==s.get("icon-text-fit"),w="viewport-y"===s.get("symbol-z-order"),P=y&&(b||!a.hasIconData()||_),M=b&&(y||!a.hasTextData()||m);!a.collisionArrays&&p&&a.deserializeCollisionBoxes(p);var O=function(e,r){if(!n[e.crossTileID])if(h)o.placements[e.crossTileID]=new he(!1,!1,!1);else{var p,w=!1,O=!1,k=!0,E=null,S={box:null,offscreen:null},T={box:null,offscreen:null},A=null,I=null,D=0,R=0,F=0;r.textFeatureIndex&&(D=r.textFeatureIndex),r.verticalTextFeatureIndex&&(R=r.verticalTextFeatureIndex);var L=r.textBox;if(L){var z=function(n){var i=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&o.prevPlacement){var r=o.prevPlacement.placedOrientations[e.crossTileID];r&&(o.placedOrientations[e.crossTileID]=r,o.markUsedOrientation(a,i=r,e))}return i},B=function(n,i){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&r.verticalTextBox)for(var o=0,s=a.writingModes;o<s.length&&(s[o]===t.WritingMode.vertical?(S=i(),T=S):S=n(),!(S&&S.box&&S.box.length));o+=1);else S=n()};if(s.get("text-variable-anchor")){var N=s.get("text-variable-anchor");if(o.prevPlacement&&o.prevPlacement.variableOffsets[e.crossTileID]){var V=o.prevPlacement.variableOffsets[e.crossTileID];N.indexOf(V.anchor)>0&&(N=N.filter((function(t){return t!==V.anchor}))).unshift(V.anchor)}var U=function(t,n,i){for(var r=t.x2-t.x1,s=t.y2-t.y1,c=e.textBoxScale,l=x&&!b?n:null,h={box:[],offscreen:!1},p=y?2*N.length:N.length,f=0;f<p;++f){var m=o.attemptAnchorPlacement(N[f%N.length],t,r,s,c,v,C,d,u,g,f>=N.length,e,a,i,l);if(m&&(h=m.placedGlyphBoxes)&&h.box&&h.box.length){w=!0,E=m.shift;break}}return h};B((function(){return U(L,r.iconBox,t.WritingMode.horizontal)}),(function(){var n=r.verticalTextBox;return a.allowVerticalPlacement&&!(S&&S.box&&S.box.length)&&e.numVerticalGlyphVertices>0&&n?U(n,r.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}})),S&&(w=S.box,k=S.offscreen);var q=z(S&&S.box);if(!w&&o.prevPlacement){var j=o.prevPlacement.variableOffsets[e.crossTileID];j&&(o.variableOffsets[e.crossTileID]=j,o.markUsedJustification(a,j.anchor,e,q))}}else{var G=function(t,n){var i=o.collisionIndex.placeCollisionBox(t,y,d,u,g.predicate);return i&&i.box&&i.box.length&&(o.markUsedOrientation(a,n,e),o.placedOrientations[e.crossTileID]=n),i};B((function(){return G(L,t.WritingMode.horizontal)}),(function(){var n=r.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?G(n,t.WritingMode.vertical):{box:null,offscreen:null}})),z(S&&S.box&&S.box.length)}}w=(p=S)&&p.box&&p.box.length>0,k=p&&p.offscreen;var H=r.textCircles;if(H){var Z=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),W=t.evaluateSizeForFeature(a.textSizeData,f,Z);A=o.collisionIndex.placeCollisionCircles(H,y,l,d,Z,a.lineVertexArray,a.glyphOffsetArray,W,u,c,i,C,g.predicate),w=y||A.circles.length>0,k=k&&A.offscreen}if(r.iconFeatureIndex&&(F=r.iconFeatureIndex),r.iconBox){var K=function(t){var e=x&&E?me(t,E.x,E.y,v,C,o.transform.angle):t;return o.collisionIndex.placeCollisionBox(e,b,d,u,g.predicate)};O=T&&T.box&&T.box.length&&r.verticalIconBox?(I=K(r.verticalIconBox)).box.length>0:(I=K(r.iconBox)).box.length>0,k=k&&I.offscreen}var X=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,$=_||0===e.numIconVertices;X||$?$?X||(O=O&&w):w=O&&w:O=w=O&&w,w&&p&&p.box&&o.collisionIndex.insertCollisionBox(p.box,s.get("text-ignore-placement"),a.bucketInstanceId,T&&T.box&&R?R:D,g.ID),O&&I&&o.collisionIndex.insertCollisionBox(I.box,s.get("icon-ignore-placement"),a.bucketInstanceId,F,g.ID),w&&A&&o.collisionIndex.insertCollisionCircles(A.circles,s.get("text-ignore-placement"),a.bucketInstanceId,D,g.ID),o.placements[e.crossTileID]=new he(w||P,O||M,k||a.justReloaded),n[e.crossTileID]=!0}};if(w)for(var k=a.getSortedSymbolIndexes(this.transform.angle),E=k.length-1;E>=0;--E){var S=k[E];O(a.symbolInstances.get(S),a.collisionArrays[S])}else for(var T=e.symbolInstanceStart;T<e.symbolInstanceEnd;T++)O(a.symbolInstances.get(T),a.collisionArrays[T]);a.justReloaded=!1},_e.prototype.markUsedJustification=function(e,n,i,o){var r;r=o===t.WritingMode.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(e.text.placedSymbolArray.get(u).crossTileID=r>=0&&u!==r?0:i.crossTileID)}},_e.prototype.markUsedOrientation=function(e,n,i){for(var o=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,r=n===t.WritingMode.vertical?n:0,a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=o;i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=r)},_e.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var i=e?e.symbolFadeChange(t):1,o=e?e.opacities:{},r=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],c=o[s];c?(this.opacities[s]=new de(c,i,u.text,u.icon),n=n||u.text!==c.text.placed||u.icon!==c.icon.placed):(this.opacities[s]=new de(null,i,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var l in o){var d=o[l];if(!this.opacities[l]){var h=new de(d,i,!1,!1);h.isHidden()||(this.opacities[l]=h,n=n||d.text.placed||d.icon.placed)}}for(var p in r)this.variableOffsets[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.variableOffsets[p]=r[p]);for(var f in a)this.placedOrientations[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.placedOrientations[f]=a[f]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},_e.prototype.updateLayerOpacities=function(t,e){for(var n={},i=0,o=e;i<o.length;i+=1){var r=o[i],a=r.getBucket(t);a&&r.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,r.collisionBoxArray)}},_e.prototype.updateBucketOpacities=function(e,n,i){var o=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear(),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexArray.clear(),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexArray.clear();var r=e.layers[0].layout,a=new de(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),u=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),l="map"===r.get("text-rotation-alignment"),d="map"===r.get("text-pitch-alignment"),h="none"!==r.get("icon-text-fit"),p=new de(null,0,s&&(u||!e.hasIconData()||r.get("icon-optional")),u&&(s||!e.hasTextData()||r.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData())&&e.deserializeCollisionBoxes(i);for(var f=function(t,e,n){for(var i=0;i<e/4;i++)t.opacityVertexArray.emplaceBack(n)},g=function(i){var r=e.symbolInstances.get(i),s=r.numHorizontalGlyphVertices,u=r.numVerticalGlyphVertices,g=r.crossTileID,m=n[g],_=o.opacities[g];m?_=a:_||(o.opacities[g]=_=p),n[g]=!0;var y=r.numIconVertices>0,b=o.placedOrientations[r.crossTileID],v=b===t.WritingMode.vertical,C=b===t.WritingMode.horizontal||b===t.WritingMode.horizontalOnly;if(s>0||u>0){var x=Oe(_.text);f(e.text,s,v?ke:x),f(e.text,u,C?ke:x);var w=_.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||v?1:0)})),r.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=w||C?1:0);var P=o.variableOffsets[r.crossTileID];P&&o.markUsedJustification(e,P.anchor,r,b);var M=o.placedOrientations[r.crossTileID];M&&(o.markUsedJustification(e,"left",r,M),o.markUsedOrientation(e,M,r))}if(y){var O=Oe(_.icon),k=!(h&&r.verticalPlacedIconSymbolIndex&&v);r.placedIconSymbolIndex>=0&&(f(e.icon,r.numIconVertices,k?O:ke),e.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=_.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(f(e.icon,r.numVerticalIconVertices,k?ke:O),e.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=_.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasIconCollisionCircleData()||e.hasTextCollisionBoxData()||e.hasTextCollisionCircleData()){var E=e.collisionArrays[i];if(E){var S=new t.Point(0,0);if(E.textBox||E.verticalTextBox){var T=!0;if(c){var A=o.variableOffsets[g];A?(S=ge(A.anchor,A.width,A.height,A.textOffset,A.textBoxScale),l&&S._rotate(d?o.transform.angle:-o.transform.angle)):T=!1}E.textBox&&ye(e.textCollisionBox.collisionVertexArray,_.text.placed,!T||v,S.x,S.y),E.verticalTextBox&&ye(e.textCollisionBox.collisionVertexArray,_.text.placed,!T||C,S.x,S.y)}var I=Boolean(!C&&E.verticalIconBox);E.iconBox&&ye(e.iconCollisionBox.collisionVertexArray,_.icon.placed,I,h?S.x:0,h?S.y:0),E.verticalIconBox&&ye(e.iconCollisionBox.collisionVertexArray,_.icon.placed,!I,h?S.x:0,h?S.y:0);var D=E.textCircles;if(D&&e.hasTextCollisionCircleData())for(var R=0;R<D.length;R+=5)ye(e.textCollisionCircle.collisionVertexArray,_.text.placed,m||0===D[R+4])}}},m=0;m<e.symbolInstances.length;m++)g(m);e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.hasIconCollisionCircleData()&&e.iconCollisionCircle.collisionVertexBuffer&&e.iconCollisionCircle.collisionVertexBuffer.updateData(e.iconCollisionCircle.collisionVertexArray),e.hasTextCollisionCircleData()&&e.textCollisionCircle.collisionVertexBuffer&&e.textCollisionCircle.collisionVertexBuffer.updateData(e.textCollisionCircle.collisionVertexArray)},_e.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},_e.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},_e.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},_e.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},_e.prototype.setStale=function(){this.stale=!0};var be=Math.pow(2,25),ve=Math.pow(2,24),Ce=Math.pow(2,17),xe=Math.pow(2,16),we=Math.pow(2,9),Pe=Math.pow(2,8),Me=Math.pow(2,1);function Oe(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*be+e*ve+n*Ce+e*xe+n*we+e*Pe+n*Me+e}var ke=0,Ee=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Ee.prototype.continuePlacement=function(t,e,n,i,o){for(var r=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(r,i,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,o())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,r.sort((function(t,e){return t.sortKey-e.sortKey})));this._currentPartIndex<r.length;)if(e.placeLayerBucketPart(r[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,o())return!0;return!1};var Se=function(t,e,n,i,o,r,a){this.placement=new _e(t,o,r,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1};Se.prototype.isDone=function(){return this._done},Se.prototype.continuePlacement=function(e,n,i){for(var o=this,r=t.browser.now(),a=function(){var e=t.browser.now()-r;return!o._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Ee(s)),this._inProgressLayer.continuePlacement(i[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Se.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Te=512/t.EXTENT/2,Ae=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0;i<e.length;i++){var o=e.get(i),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,t)})}};Ae.prototype.getScaledCoordinates=function(e,n){var i=Te/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*i)}},Ae.prototype.findMatches=function(t,e,n){for(var i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0;o<t.length;o++){var r=t.get(o);if(!r.crossTileID){var a=this.indexedSymbolInstances[r.key];if(a)for(var s=this.getScaledCoordinates(r,e),u=0,c=a;u<c.length;u+=1){var l=c[u];if(Math.abs(l.coord.x-s.x)<=i&&Math.abs(l.coord.y-s.y)<=i&&!n[l.crossTileID]){n[l.crossTileID]=!0,r.crossTileID=l.crossTileID;break}}}}};var Ie=function(){this.maxCrossTileID=0};Ie.prototype.generate=function(){return++this.maxCrossTileID};var De=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};De.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var i=this.indexes[n],o={};for(var r in i){var a=i[r];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),o[a.tileID.key]=a}this.indexes[n]=o}this.lng=t},De.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var i=0;i<e.symbolInstances.length;i++)e.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var o=this.usedCrossTileIDs[t.overscaledZ];for(var r in this.indexes){var a=this.indexes[r];if(Number(r)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,o)}else{var c=a[t.scaledTo(Number(r)).key];c&&c.findMatches(e.symbolInstances,t,o)}}for(var l=0;l<e.symbolInstances.length;l++){var d=e.symbolInstances.get(l);d.crossTileID||(d.crossTileID=n.generate(),o[d.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Ae(t,e.symbolInstances,e.bucketInstanceId),!0},De.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var i=0,o=e.indexedSymbolInstances[n];i<o.length;i+=1)delete this.usedCrossTileIDs[t][o[i].crossTileID]},De.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var i=this.indexes[n];for(var o in i)t[i[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[o]),delete i[o],e=!0)}return e};var Re=function(){this.layerIndexes={},this.crossTileIDs=new Ie,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Re.prototype.addLayer=function(t,e,n){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new De);var o=!1,r={};i.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],c=u.getBucket(t);c&&t.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(u.tileID,c,this.crossTileIDs)&&(o=!0),r[c.bucketInstanceId]=!0)}return i.removeStaleBuckets(r)&&(o=!0),o},Re.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Fe=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Le=t.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),ze=t.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),Be=function(){var e={},n=t.styleSpec.$version;for(var i in t.styleSpec.$root){var o,r=t.styleSpec.$root[i];r.required&&null!=(o="version"===i?n:"array"===r.type?[]:{})&&(e[i]=o)}return e}(),Ne=function(e){function n(i,o){var r=this;void 0===o&&(o={}),e.call(this),this.map=i,this.dispatcher=new P((Ft||(Ft=new Rt),Ft),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new b(i._requestManager,o.localIdeographFontFamily),this.lineAtlas=new w(256,512),this.crossTileSymbolIndex=new Re,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange((function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},(function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every((function(t){return t})))for(var i in a.sourceCaches)a.sourceCaches[i].reload()}))})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var i in r._layers){var o=r._layers[i];o.source===n.id&&r._validateLayer(o)}}}}))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var r=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(r,(function(e,n){i._request=null,e?i.fire(new t.ErrorEvent(e)):n&&i._load(n,o)}))},n.prototype.loadJSON=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){i._request=null,i._load(e,!1!==n.validate)}))},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Be,!1)},n.prototype._load=function(e,n){if(!n||!Fe(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=Bt(this.stylesheet.layers);this._order=o.map((function(t){return t.id})),this._layers={};for(var r=0,a=o;r<a.length;r+=1){var s=a[r];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,i){var o,r,a,s=t.browser.devicePixelRatio>1?"@2x":"",u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){u=null,a||(a=t,o=e,l())})),c=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){c=null,a||(a=t,r=e,l())}));function l(){if(a)i(a);else if(o&&r){var e=t.browser.getImageData(r),n={};for(var s in o){var u=o[s],c=u.width,l=u.height,d=u.x,h=u.y,p=u.sdf,f=u.pixelRatio,g=u.stretchX,m=u.stretchY,_=u.content,y=new t.RGBAImage({width:c,height:l});t.RGBAImage.copy(e,y,{x:d,y:h},{x:0,y:0},{width:c,height:l}),n[s]={data:y,pixelRatio:f,sdf:p,stretchX:g,stretchY:m,content:_}}i(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(e,this.map._requestManager,(function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var o in i)n.imageManager.addImage(o,i[o]);n.imageManager.setLoaded(!0),n.dispatcher.broadcast("setImages",n.imageManager.listImages()),n.fire(new t.Event("data",{dataType:"style"}))}))},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var i=e.sourceLayer;if(i){var o=n.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(i))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+i+'" does not exist on source "'+o.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var o=this._layers[i[n]];"custom"!==o.type&&e.push(o.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var i=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var r in(i.length||o.length)&&this._updateWorkerLayers(i,o),this._updatedSources){var a=this._updatedSources[r];"reload"===a?this._reloadSource(r):"clear"===a&&this._clearSource(r)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var u in this.sourceCaches)this.sourceCaches[u].used=!1;for(var c=this.imageManager.listImages(),l=0,d=this._order;l<d.length;l+=1){var h=this._layers[d[l]];h.recalculate(e,c),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Fe(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Bt(e.layers);var i=function(e,n){if(!e)return[{command:Nt.setStyle,args:[n]}];var i=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Nt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||i.push({command:Nt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||i.push({command:Nt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||i.push({command:Nt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||i.push({command:Nt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||i.push({command:Nt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||i.push({command:Nt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||i.push({command:Nt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||i.push({command:Nt.setLight,args:[n.light]});var o={},r=[];!function(e,n,i,o){var r;for(r in n=n||{},e=e||{})e.hasOwnProperty(r)&&(n.hasOwnProperty(r)||Ut(r,i,o));for(r in n)n.hasOwnProperty(r)&&(e.hasOwnProperty(r)?t.deepEqual(e[r],n[r])||("geojson"===e[r].type&&"geojson"===n[r].type&&jt(e,n,r)?i.push({command:Nt.setGeoJSONSourceData,args:[r,n[r].data]}):qt(r,n,i,o)):Vt(r,n,i))}(e.sources,n.sources,r,o);var a=[];e.layers&&e.layers.forEach((function(t){o[t.source]?i.push({command:Nt.removeLayer,args:[t.id]}):a.push(t)})),i=i.concat(r),function(e,n,i){n=n||[];var o,r,a,s,u,c,l,d=(e=e||[]).map(Ht),h=n.map(Ht),p=e.reduce(Zt,{}),f=n.reduce(Zt,{}),g=d.slice(),m=Object.create(null);for(o=0,r=0;o<d.length;o++)f.hasOwnProperty(a=d[o])?r++:(i.push({command:Nt.removeLayer,args:[a]}),g.splice(g.indexOf(a,r),1));for(o=0,r=0;o<h.length;o++)g[g.length-1-o]!==(a=h[h.length-1-o])&&(p.hasOwnProperty(a)?(i.push({command:Nt.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-r),1)):r++,i.push({command:Nt.addLayer,args:[f[a],c=g[g.length-o]]}),g.splice(g.length-o,0,a),m[a]=!0);for(o=0;o<h.length;o++)if(s=p[a=h[o]],u=f[a],!m[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(l in Gt(s.layout,u.layout,i,a,null,Nt.setLayoutProperty),Gt(s.paint,u.paint,i,a,null,Nt.setPaintProperty),t.deepEqual(s.filter,u.filter)||i.push({command:Nt.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||i.push({command:Nt.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Gt(s[l],u[l],i,a,l.slice(6),Nt.setPaintProperty):t.deepEqual(s[l],u[l])||i.push({command:Nt.setLayerProperty,args:[a,l,u[l]]}));for(l in u)u.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?Gt(s[l],u[l],i,a,l.slice(6),Nt.setPaintProperty):t.deepEqual(s[l],u[l])||i.push({command:Nt.setLayerProperty,args:[a,l,u[l]]}))}else i.push({command:Nt.removeLayer,args:[a]}),c=g[g.lastIndexOf(a)+1],i.push({command:Nt.addLayer,args:[u,c]})}(a,n.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Nt.setStyle,args:[n]}]}return i}(this.serialize(),e).filter((function(t){return!(t.command in ze)}));if(0===i.length)return!1;var o=i.filter((function(t){return!(t.command in Le)}));if(o.length>0)throw new Error("Unimplemented: "+o.map((function(t){return t.command})).join(", ")+".");return i.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._changedImages[e]=!0,this._changed=!0,this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,i){var o=this;if(void 0===i&&(i={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var r=this.sourceCaches[e]=new Tt(e,n,this.dispatcher);r.style=this,r.setEventedParent(this,(function(){return{isSourceLoaded:o.loaded(),source:r.serialize(),sourceId:e}})),r.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var o=e.id;if(this.getLayer(o))this.fire(new t.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else{var r;if("custom"===e.type){if(Fe(this,t.validateCustomStyleLayer(e)))return;r=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(o,e.source),e=t.clone$1(e),e=t.extend(e,{source:o})),this._validate(t.validateStyle.layer,"layers."+o,e,{arrayIndex:-1},i))return;r=t.createStyleLayer(e),this._validateLayer(r),r.setEventedParent(this,{layer:{id:o}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=r,this._removedLayers[o]&&r.source&&"custom"!==r.type){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==r.type?this._updatedSources[r.source]="clear":(this._updatedSources[r.source]="reload",this.sourceCaches[r.source].pause())}this._updateLayer(r),r.onAdd&&r.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var i=this._order.indexOf(e);this._order.splice(i,1);var o=n?this._order.indexOf(n):this._order.length;n&&-1===o?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(o,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.setLayerZoomRange=function(e,n,i){this._checkLoaded();var o=this.getLayer(e);o?o.minzoom===n&&o.maxzoom===i||(null!=n&&(o.minzoom=n),null!=i&&(o.maxzoom=i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);if(o){if(!t.deepEqual(o.filter,n))return null==n?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(t.validateStyle.filter,"layers."+o.id+".filter",n,null,i)||(o.filter=t.clone$1(n),this._updateLayer(o)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,i,o){void 0===o&&(o={}),this._checkLoaded();var r=this.getLayer(e);r?t.deepEqual(r.getLayoutProperty(n),i)||(r.setLayoutProperty(n,i,o),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,i,o){void 0===o&&(o={}),this._checkLoaded();var r=this.getLayer(e);r?t.deepEqual(r.getPaintProperty(n),i)||(r.setPaintProperty(n,i,o)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var i=e.source,o=e.sourceLayer,r=this.sourceCaches[i];if(void 0!==r){var a=r.getSource().type;"geojson"===a&&o?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||o?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),r.setFeatureState(o,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var i=e.source,o=this.sourceCaches[i];if(void 0!==o){var r=o.getSource().type,a="vector"===r?e.sourceLayer:void 0;"vector"!==r||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):o.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,i=e.sourceLayer,o=this.sourceCaches[n];if(void 0!==o){if("vector"!==o.getSource().type||i)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.getFeatureState(i,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},i={},o=[],r=this._order.length-1;r>=0;r--){var a=this._order[r];if(n(a)){i[a]=r;for(var s=0,u=t;s<u.length;s+=1){var c=u[s][a];if(c)for(var l=0,d=c;l<d.length;l+=1)o.push(d[l])}}}o.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var h=[],p=this._order.length-1;p>=0;p--){var f=this._order[p];if(n(f))for(var g=o.length-1;g>=0;g--){var m=o[g].feature;if(i[m.layer.id]<p)break;h.push(m),o.pop()}else for(var _=0,y=t;_<y.length;_+=1){var b=y[_][f];if(b)for(var v=0,C=b;v<C.length;v+=1)h.push(C[v].feature)}}return h},n.prototype.queryRenderedFeatures=function(e,n,i){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var o={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var r=0,a=n.layers;r<a.length;r+=1){var s=a[r],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[u.source]=!0}}var c=[];for(var l in this.sourceCaches)n.layers&&!o[l]||c.push(z(this.sourceCaches[l],this._layers,e,n,i));return this.placement&&c.push(function(t,e,n,i,o,r){for(var a={},s=o.queryRenderedSymbols(n),u=[],c=0,l=Object.keys(s).map(Number);c<l.length;c+=1)u.push(r[l[c]]);u.sort(B);for(var d=function(){var e=p[h],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,i.filter,i.layers,t);for(var o in n){var r=a[o]=a[o]||[],u=n[o];u.sort((function(t,n){var i=e.featureSortOrder;if(i){var o=i.indexOf(t.featureIndex);return i.indexOf(n.featureIndex)-o}return n.featureIndex-t.featureIndex}));for(var c=0,l=u;c<l.length;c+=1)r.push(l[c])}},h=0,p=u;h<p.length;h+=1)d();var f=function(n){a[n].forEach((function(i){var o=i.feature,r=e[t[n].source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=r}))};for(var g in a)f(g);return a}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var i=this.sourceCaches[e];return i?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),i=[],o={},r=0;r<n.length;r++){var a=n[r],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(i,e))}return i}(i,n):[]},n.prototype.addSourceType=function(t,e,i){return n.getSourceType(t)?i(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var i=this.light.getLight(),o=!1;for(var r in e)if(!t.deepEqual(e[r],i[r])){o=!0;break}if(o){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,i,o,r){return void 0===r&&(r={}),(!r||!1!==r.validate)&&Fe(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:i,styleSpec:t.styleSpec},o)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,i,o,r){void 0===r&&(r=!1);for(var a=!1,s=!1,u={},c=0,l=this._order;c<l.length;c+=1){var d=this._layers[l[c]];if("symbol"===d.type){if(!u[d.source]){var h=this.sourceCaches[d.source];u[d.source]=h.getRenderableIds(!0).map((function(t){return h.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var p=this.crossTileSymbolIndex.addLayer(d,u[d.source],e.center.lng);a=a||p}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((r=r||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Se(e,this._order,r,n,i,o,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var f=0,g=this._order;f<g.length;f+=1){var m=this._layers[g[f]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,u[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var i=this.sourceCaches[e.source];i&&i.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,i){return t.makeRequest(n,i)},n}(t.Evented);Ne.getSourceType=function(t){return F[t]},Ne.setSourceType=function(t,e){F[t]=e},Ne.registerForPluginStateChange=t.registerForPluginStateChange;var Ve=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),Ue=fn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),qe=fn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),je=fn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ge=fn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),He=fn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ze=fn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),We=fn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ke=fn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Xe=fn("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),$e=fn("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ye=fn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Qe=fn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Je=fn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),tn=fn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),en=fn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),nn=fn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),on=fn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),rn=fn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),an=fn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),sn=fn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),un=fn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),cn=fn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ln=fn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),dn=fn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),hn=fn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),pn=fn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function fn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i={};return{fragmentSource:t=t.replace(n,(function(t,e,n,o,r){return i[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,o,r){var a="float"===o?"vec2":"vec4",s=r.match(/color/)?"color":a;return i[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\nvarying "+n+" "+o+" "+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = a_"+r+";\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+s+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+a+" a_"+r+";\n#else\nuniform "+n+" "+o+" u_"+r+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = a_"+r+";\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+o+" "+r+" = unpack_mix_"+s+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+o+" "+r+" = u_"+r+";\n#endif\n"}))}}var gn=Object.freeze({__proto__:null,prelude:Ue,background:qe,backgroundPattern:je,circle:Ge,clippingMask:He,heatmap:Ze,heatmapTexture:We,collisionBox:Ke,collisionCircle:Xe,debug:$e,fill:Ye,fillOutline:Qe,fillOutlinePattern:Je,fillPattern:tn,fillExtrusion:en,fillExtrusionPattern:nn,hillshadePrepare:on,hillshade:rn,line:an,lineGradient:sn,linePattern:un,lineSDF:cn,raster:ln,symbolIcon:dn,symbolSDF:hn,symbolTextAndIcon:pn}),mn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};mn.prototype.bind=function(t,e,n,i,o,r,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==i.length,c=0;!u&&c<i.length;c++)this.boundPaintVertexBuffers[c]!==i[c]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===o&&this.boundVertexOffset===r&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind()):this.freshBind(e,n,i,o,r,a,s)},mn.prototype.freshBind=function(t,e,n,i,o,r,a){var s,u=t.numAttributes,c=this.context,l=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=r,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(var d=u;d<s;d++)l.disableVertexAttribArray(d)}e.enableAttributes(l,t);for(var h=0,p=n;h<p.length;h+=1)p[h].enableAttributes(l,t);r&&r.enableAttributes(l,t),a&&a.enableAttributes(l,t),e.bind(),e.setVertexAttribPointers(l,t,o);for(var f=0,g=n;f<g.length;f+=1){var m=g[f];m.bind(),m.setVertexAttribPointers(l,t,o)}r&&(r.bind(),r.setVertexAttribPointers(l,t,o)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(l,t,o)),c.currentNumAttributes=u},mn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var _n=function(t,e,n,i,o){var r=t.gl;this.program=r.createProgram();var a=n?n.defines():[];o&&a.push("#define OVERDRAW_INSPECTOR;");var s=a.concat(Ue.fragmentSource,e.fragmentSource).join("\n"),u=a.concat(Ue.vertexSource,e.vertexSource).join("\n"),c=r.createShader(r.FRAGMENT_SHADER);if(r.isContextLost())this.failedToCreate=!0;else{r.shaderSource(c,s),r.compileShader(c),r.attachShader(this.program,c);var l=r.createShader(r.VERTEX_SHADER);if(r.isContextLost())this.failedToCreate=!0;else{r.shaderSource(l,u),r.compileShader(l),r.attachShader(this.program,l);for(var d=n?n.layoutAttributes:[],h=0;h<d.length;h++)r.bindAttribLocation(this.program,h,d[h].name);r.linkProgram(this.program),this.numAttributes=r.getProgramParameter(this.program,r.ACTIVE_ATTRIBUTES),this.attributes={};for(var p={},f=0;f<this.numAttributes;f++){var g=r.getActiveAttrib(this.program,f);g&&(this.attributes[g.name]=r.getAttribLocation(this.program,g.name))}for(var m=r.getProgramParameter(this.program,r.ACTIVE_UNIFORMS),_=0;_<m;_++){var y=r.getActiveUniform(this.program,_);y&&(p[y.name]=r.getUniformLocation(this.program,y.name))}this.fixedUniforms=i(t,p),this.binderUniforms=n?n.getUniforms(t,p):[]}}};function yn(e,n,i){var o=1/ce(i,1,n.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,n.transform.tileZoom)/r,s=a*(i.tileID.canonical.x+i.tileID.wrap*r),u=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,u>>16],u_pixel_coord_lower:[65535&s,65535&u]}}_n.prototype.draw=function(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g){var m,_=t.gl;if(!this.failedToCreate){for(var y in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(o),t.setCullFace(r),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);p&&p.setUniforms(t,this.binderUniforms,d,{zoom:h});for(var b=(m={},m[_.LINES]=2,m[_.TRIANGLES]=3,m[_.LINE_STRIP]=1,m)[e],v=0,C=l.get();v<C.length;v+=1){var x=C[v],w=x.vaos||(x.vaos={});(w[s]||(w[s]=new mn)).bind(t,this,u,p?p.getPaintVertexBuffers():[],c,x.vertexOffset,f,g),_.drawElements(e,x.primitiveLength*b,_.UNSIGNED_SHORT,x.primitiveOffset*b*2)}}};var bn=function(e,n,i,o){var r=n.style.light,a=r.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===r.properties.get("anchor")&&t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u);var c=r.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:r.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+i,u_opacity:o}},vn=function(e,n,i,o,r,a,s){return t.extend(bn(e,n,i,o),yn(a,n,s),{u_height_factor:-Math.pow(2,r.overscaledZ)/s.tileSize/8})},Cn=function(t){return{u_matrix:t}},xn=function(e,n,i,o){return t.extend(Cn(e),yn(i,n,o))},wn=function(t,e){return{u_matrix:t,u_world:e}},Pn=function(e,n,i,o,r){return t.extend(xn(e,n,i,o),{u_world:r})},Mn=function(e,n,i,o){var r,a,s=e.transform;if("map"===o.paint.get("circle-pitch-alignment")){var u=ce(i,1,s.zoom);r=!0,a=[u,u]}else r=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===o.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,i,o.paint.get("circle-translate"),o.paint.get("circle-translate-anchor")),u_pitch_with_map:+r,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},On=function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},kn=function(t,e,n){var i=ce(n,1,e.zoom),o=Math.pow(2,e.zoom-n.tileID.overscaledZ),r=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[e.pixelsToGLUnits[0]/(i*o),e.pixelsToGLUnits[1]/(i*o)],u_overscale_factor:r}},En=function(t,e){return{u_matrix:t,u_color:e}},Sn=function(t){return{u_matrix:t}},Tn=function(t,e,n,i){return{u_matrix:t,u_extrude_scale:ce(e,1,n),u_intensity:i}};function An(e,n){var i=Math.pow(2,n.canonical.z),o=n.canonical.y;return[new t.MercatorCoordinate(0,o/i).toLngLat().lat,new t.MercatorCoordinate(0,(o+1)/i).toLngLat().lat]}var In=function(e,n,i){var o=e.transform;return{u_matrix:zn(e,n,i),u_ratio:1/ce(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Dn=function(e,n,i){return t.extend(In(e,n,i),{u_image:0})},Rn=function(e,n,i,o){var r=e.transform,a=Ln(n,r);return{u_matrix:zn(e,n,i),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ce(n,1,r.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[t.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Fn=function(e,n,i,o,r){var a=e.lineAtlas,s=Ln(n,e.transform),u="round"===i.layout.get("line-cap"),c=a.getDash(o.from,u),l=a.getDash(o.to,u),d=c.width*r.fromScale,h=l.width*r.toScale;return t.extend(In(e,n,i),{u_patternscale_a:[s/d,-c.height/2],u_patternscale_b:[s/h,-l.height/2],u_sdfgamma:a.width/(256*Math.min(d,h)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:l.y,u_mix:r.t})};function Ln(t,e){return 1/ce(t,1,e.tileZoom)}function zn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Bn=function(t,e,n,i,o){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(r=o.paint.get("raster-contrast"),r>0?1/(1-r):1+r),u_spin_weights:Nn(o.paint.get("raster-hue-rotate"))};var r,a};function Nn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Vn=function(t,e,n,i,o,r,a,s,u,c){var l=o.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:l.cameraToCenterDistance,u_pitch:l.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:l.width/l.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:r,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+i,u_texsize:c,u_texture:0}},Un=function(e,n,i,o,r,a,s,u,c,l,d){var h=r.transform;return t.extend(Vn(e,n,i,o,r,a,s,u,c,l),{u_gamma_scale:o?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+d})},qn=function(e,n,i,o,r,a,s,u,c,l){return t.extend(Un(e,n,i,o,r,a,s,u,!0,c,!0),{u_texsize_icon:l,u_texture_icon:1})},jn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Gn=function(e,n,i,o,r,a){return t.extend(function(t,e,n,i){var o=n.imageManager.getPattern(t.from.toString()),r=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,c=Math.pow(2,i.tileID.overscaledZ),l=i.tileSize*Math.pow(2,n.transform.tileZoom)/c,d=l*(i.tileID.canonical.x+i.tileID.wrap*c),h=l*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:r.tl,u_pattern_br_b:r.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:r.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/ce(i,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,h>>16],u_pixel_coord_lower:[65535&d,65535&h]}}(o,a,i,r),{u_matrix:e,u_opacity:n})},Hn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:On,collisionCircle:On,debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Zn(t,e,n,i,o,r,a,s){for(var u=t.context,c=u.gl,l=t.useProgram(o?"collisionCircle":"collisionBox"),d=0;d<i.length;d++){var h=i[d],p=e.getTile(h),f=p.getBucket(n);if(f){var g=o?s?f.textCollisionCircle:f.iconCollisionCircle:s?f.textCollisionBox:f.iconCollisionBox;if(g){var m=h.posMatrix;0===r[0]&&0===r[1]||(m=t.translatePosMatrix(h.posMatrix,p,r,a)),l.draw(u,o?c.TRIANGLES:c.LINES,Mt.disabled,Ot.disabled,t.colorModeForRenderPass(),Et.disabled,kn(m,t.transform,p),n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,t.transform.zoom,null,null,g.collisionVertexBuffer)}}}}function Wn(t,e,n,i,o,r,a){Zn(t,e,n,i,!1,o,r,a),Zn(t,e,n,i,!0,o,r,a)}var Kn=t.identity(new Float32Array(16));function Xn(e,n,i,o,r,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,c=-(s.verticalAlign-.5)*i,l=t.evaluateVariableOffset(e,o);return new t.Point((u/r+l[0])*a,(c/r+l[1])*a)}function $n(e,n,i,o,r,a,s,u,c,l,d){var h=e.text.placedSymbolArray,p=e.text.dynamicLayoutVertexArray,f=e.icon.dynamicLayoutVertexArray,g={};p.clear();for(var m=0;m<h.length;m++){var _=h.get(m),y=_.hidden||!_.crossTileID||e.allowVerticalPlacement&&!_.placedOrientation?null:o[_.crossTileID];if(y){var b=new t.Point(_.anchorX,_.anchorY),v=$t(b,i?u:s),C=.5+a.cameraToCenterDistance/v.signedDistanceFromCamera*.5,x=r.evaluateSizeForFeature(e.textSizeData,l,_)*C/t.ONE_EM;i&&(x*=e.tilePixelRatio/c);for(var w=Xn(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,x),P=i?$t(b.add(w),s).point:v.point.add(n?w.rotate(-a.angle):w),M=e.allowVerticalPlacement&&_.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,O=0;O<_.numGlyphs;O++)t.addDynamicAttributes(p,P,M);d&&_.associatedIconIndex>=0&&(g[_.associatedIconIndex]={shiftedAnchor:P,angle:M})}else re(_.numGlyphs,p)}if(d){f.clear();for(var k=e.icon.placedSymbolArray,E=0;E<k.length;E++){var S=k.get(E);if(S.hidden)re(S.numGlyphs,f);else{var T=g[E];if(T)for(var A=0;A<S.numGlyphs;A++)t.addDynamicAttributes(f,T.shiftedAnchor,T.angle);else re(S.numGlyphs,f)}}e.icon.dynamicLayoutVertexBuffer.updateData(f)}e.text.dynamicLayoutVertexBuffer.updateData(p)}function Yn(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function Qn(e,n,i,o,r,a,s,u,c,l,d,h){for(var p,f,g=e.context,m=g.gl,_=e.transform,y="map"===u,b="map"===c,v=y&&"point"!==i.layout.get("symbol-placement"),C=y&&!b&&!v,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1),w=e.depthModeForSublayer(0,Mt.ReadOnly),P=i.layout.get("text-variable-anchor"),M=[],O=0,k=o;O<k.length;O+=1){var E=k[O],S=n.getTile(E),T=S.getBucket(i);if(T){var A=r?T.text:T.icon;if(A&&A.segments.get().length){var I=A.programConfigurations.get(i.id),D=r||T.sdfIcons,R=r?T.textSizeData:T.iconSizeData,F=b||0!==_.pitch;p||(p=e.useProgram(Yn(D,r,T),I),f=t.evaluateSizeForZoom(R,_.zoom));var L=void 0,z=[0,0],B=void 0,N=void 0,V=null,U=void 0;if(r)B=S.glyphAtlasTexture,N=m.LINEAR,L=S.glyphAtlasTexture.size,T.iconsInText&&(z=S.imageAtlasTexture.size,V=S.imageAtlasTexture,U=F||e.options.rotating||e.options.zooming||"composite"===R.kind||"camera"===R.kind?m.LINEAR:m.NEAREST);else{var q=1!==i.layout.get("icon-size").constantOr(0)||T.iconsNeedLinear;B=S.imageAtlasTexture,N=D||e.options.rotating||e.options.zooming||q||F?m.LINEAR:m.NEAREST,L=S.imageAtlasTexture.size}var j=ce(S,1,e.transform.zoom),G=Kt(E.posMatrix,b,y,e.transform,j),H=Xt(E.posMatrix,b,y,e.transform,j),Z=P&&T.hasTextData(),W="none"!==i.layout.get("icon-text-fit")&&Z&&T.hasIconData();v&&Qt(T,E.posMatrix,e,r,G,H,b,l);var K=e.translatePosMatrix(E.posMatrix,S,a,s),X=v||r&&P||W?Kn:G,$=e.translatePosMatrix(H,S,a,s,!0),Y=D&&0!==i.paint.get(r?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:p,buffers:A,uniformValues:D?T.iconsInText?qn(R.kind,f,C,b,e,K,X,$,L,z):Un(R.kind,f,C,b,e,K,X,$,r,L,!0):Vn(R.kind,f,C,b,e,K,X,$,r,L),atlasTexture:B,atlasTextureIcon:V,atlasInterpolation:N,atlasInterpolationIcon:U,isSDF:D,hasHalo:Y};if(x)for(var J=0,tt=A.segments.get();J<tt.length;J+=1){var et=tt[J];M.push({segments:new t.SegmentVector([et]),sortKey:et.sortKey,state:Q})}else M.push({segments:A.segments,sortKey:0,state:Q})}}}x&&M.sort((function(t,e){return t.sortKey-e.sortKey}));for(var nt=0,it=M;nt<it.length;nt+=1){var ot=it[nt],rt=ot.state;if(g.activeTexture.set(m.TEXTURE0),rt.atlasTexture.bind(rt.atlasInterpolation,m.CLAMP_TO_EDGE),rt.atlasTextureIcon&&(g.activeTexture.set(m.TEXTURE1),rt.atlasTextureIcon&&rt.atlasTextureIcon.bind(rt.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),rt.isSDF){var at=rt.uniformValues;rt.hasHalo&&(at.u_is_halo=1,Jn(rt.buffers,ot.segments,i,e,rt.program,w,d,h,at)),at.u_is_halo=0}Jn(rt.buffers,ot.segments,i,e,rt.program,w,d,h,rt.uniformValues)}}function Jn(t,e,n,i,o,r,a,s,u){var c=i.context;o.draw(c,c.gl.TRIANGLES,r,a,s,Et.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ti(t,e,n,i,o,r,a){var s,u,c,l,d,h=t.context.gl,p=n.paint.get("fill-pattern"),f=p&&p.constantOr(1),g=n.getCrossfadeParameters();a?(u=f&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(u=f?"fillPattern":"fill",s=h.TRIANGLES);for(var m=0,_=i;m<_.length;m+=1){var y=_[m],b=e.getTile(y);if(!f||b.patternsLoaded()){var v=b.getBucket(n);if(v){var C=v.programConfigurations.get(n.id),x=t.useProgram(u,C);f&&(t.context.activeTexture.set(h.TEXTURE0),b.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),C.updatePaintBuffers(g));var w=p.constantOr(null);if(w&&b.imageAtlas){var P=b.imageAtlas,M=P.patternPositions[w.to.toString()],O=P.patternPositions[w.from.toString()];M&&O&&C.setConstantPatternPositions(M,O)}var k=t.translatePosMatrix(y.posMatrix,b,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){l=v.indexBuffer2,d=v.segments2;var E=[h.drawingBufferWidth,h.drawingBufferHeight];c="fillOutlinePattern"===u&&f?Pn(k,t,g,b,E):wn(k,E)}else l=v.indexBuffer,d=v.segments,c=f?xn(k,t,g,b):Cn(k);x.draw(t.context,s,o,t.stencilModeForClipping(y),r,Et.disabled,c,n.id,v.layoutVertexBuffer,l,d,n.paint,t.transform.zoom,C)}}}}function ei(t,e,n,i,o,r,a){for(var s=t.context,u=s.gl,c=n.paint.get("fill-extrusion-pattern"),l=c.constantOr(1),d=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity"),p=0,f=i;p<f.length;p+=1){var g=f[p],m=e.getTile(g),_=m.getBucket(n);if(_){var y=_.programConfigurations.get(n.id),b=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",y);l&&(t.context.activeTexture.set(u.TEXTURE0),m.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),y.updatePaintBuffers(d));var v=c.constantOr(null);if(v&&m.imageAtlas){var C=m.imageAtlas,x=C.patternPositions[v.to.toString()],w=C.patternPositions[v.from.toString()];x&&w&&y.setConstantPatternPositions(x,w)}var P=t.translatePosMatrix(g.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),M=n.paint.get("fill-extrusion-vertical-gradient"),O=l?vn(P,t,M,h,g,d,m):bn(P,t,M,h);b.draw(s,s.gl.TRIANGLES,o,r,a,Et.backCCW,O,n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,t.transform.zoom,y)}}}function ni(t,e,n,i,o,r){var a=t.context,s=a.gl,u=e.fbo;if(u){var c=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,u.colorAttachment.get());var l=function(t,e,n){var i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),r=n.paint.get("hillshade-accent-color"),a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);var s=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),s),u_image:0,u_latrange:An(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:i,u_highlight:o,u_accent:r}}(t,e,n);c.draw(a,s.TRIANGLES,i,o,r,Et.disabled,l,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function ii(e,n,i,o,r,a,s){var u=e.context,c=u.gl,l=n.dem;if(l&&l.data){var d=l.dim,h=l.stride,p=l.getPixels();if(u.activeTexture.set(c.TEXTURE1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(h),n.demTexture){var f=n.demTexture;f.update(p,{premultiply:!1}),f.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(u,p,c.RGBA,{premultiply:!1}),n.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);u.activeTexture.set(c.TEXTURE0);var g=n.fbo;if(!g){var m=new t.Texture(u,{width:d,height:d,data:null},c.RGBA);m.bind(c.LINEAR,c.CLAMP_TO_EDGE),(g=n.fbo=u.createFramebuffer(d,d)).colorAttachment.set(m.texture)}u.bindFramebuffer.set(g.framebuffer),u.viewport.set([0,0,d,d]),e.useProgram("hillshadePrepare").draw(u,c.TRIANGLES,r,a,s,Et.disabled,function(e,n,i){var o=n.stride,r=t.create();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:e.overscaledZ,u_maxzoom:i,u_unpack:n.getUnpackVector()}}(n.tileID,l,o),i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function oi(e,n,i,o,r){var a=o.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,c=n?(s-n.timeAdded)/a:-1,l=i.getSource(),d=r.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-d)>Math.abs(e.tileID.overscaledZ-d),p=h&&e.refreshedUponExpiration?1:t.clamp(h?u:1-c,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}function ri(e,n,i){var o=e.context,r=o.gl,a=i.posMatrix,s=e.useProgram("debug"),u=Mt.disabled,c=Ot.disabled,l=e.colorModeForRenderPass(),d="$debug";s.draw(o,r.LINE_STRIP,u,c,l,Et.disabled,En(a,t.Color.red),d,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=n.getTileByID(i.key).latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),f=n.getTile(i).tileSize,g=512/Math.min(f,512),m=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(m+=" => "+i.overscaledZ);for(var _=function(t,e,n,i){i=i||1;var o,r,a,s,u,c,l,d,h=[];for(o=0,r=t.length;o<r;o++)if(u=ai[t[o]]){for(d=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?d=null:(c=e+u[1][a]*i,l=n-u[1][a+1]*i,d&&h.push(d.x,d.y,c,l),d={x:c,y:l});e+=u[0]*i}return h}(m+" "+p+"kb",50,200*g,5*g),y=new t.StructArrayLayout2i4,b=new t.StructArrayLayout2ui4,v=0;v<_.length;v+=2)y.emplaceBack(_[v],_[v+1]),b.emplaceBack(v,v+1);for(var C=o.createVertexBuffer(y,Ve.members),x=o.createIndexBuffer(b),w=t.SegmentVector.simpleSegment(0,0,y.length/2,y.length/2),P=t.EXTENT/(Math.pow(2,e.transform.zoom-i.overscaledZ)*f*g),M=[],O=-1;O<=1;O++)for(var k=-1;k<=1&&(0!==O||0!==k);k++)M.push([O,k]);for(var E=0;E<M.length;E++){var S=M[E];s.draw(o,r.LINES,u,c,l,Et.disabled,En(t.translate([],a,[P*S[0],P*S[1],0]),t.Color.white),d,C,x,w)}s.draw(o,r.LINES,u,c,l,Et.disabled,En(a,t.Color.black),d,C,x,w),C.destroy(),x.destroy(),w.destroy()}var ai={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},si={symbol:function(e,n,i,o,r){if("translucent"===e.renderPass){var a=Ot.disabled,s=e.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(e,n,i,o,r,a,s){for(var u=n.transform,c="map"===r,l="map"===a,d=0,h=e;d<h.length;d+=1){var p=h[d],f=o.getTile(p),g=f.getBucket(i);if(g&&g.text&&g.text.segments.get().length){var m=t.evaluateSizeForZoom(g.textSizeData,u.zoom),_=ce(f,1,n.transform.zoom),y=Kt(p.posMatrix,l,c,n.transform,_),b="none"!==i.layout.get("icon-text-fit")&&g.hasIconData();if(m){var v=Math.pow(2,u.zoom-f.tileID.overscaledZ);$n(g,c,l,s,t.symbolSize,u,y,p.posMatrix,v,m,b)}}}}(o,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),r),0!==i.paint.get("icon-opacity").constantOr(1)&&Qn(e,n,i,o,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&Qn(e,n,i,o,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Wn(e,n,i,o,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),Wn(e,n,i,o,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,i,o){if("translucent"===e.renderPass){var r=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),u=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0!==r.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var c=e.context,l=c.gl,d=e.depthModeForSublayer(0,Mt.ReadOnly),h=Ot.disabled,p=e.colorModeForRenderPass(),f=[],g=0;g<o.length;g++){var m=o[g],_=n.getTile(m),y=_.getBucket(i);if(y){var b=y.programConfigurations.get(i.id),v={programConfiguration:b,program:e.useProgram("circle",b),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Mn(e,m,_,i)};if(u)for(var C=0,x=y.segments.get();C<x.length;C+=1){var w=x[C];f.push({segments:new t.SegmentVector([w]),sortKey:w.sortKey,state:v})}else f.push({segments:y.segments,sortKey:0,state:v})}}u&&f.sort((function(t,e){return t.sortKey-e.sortKey}));for(var P=0,M=f;P<M.length;P+=1){var O=M[P],k=O.state;k.program.draw(c,l.TRIANGLES,d,h,p,Et.disabled,k.uniformValues,i.id,k.layoutVertexBuffer,k.indexBuffer,O.segments,i.paint,e.transform.zoom,k.programConfiguration)}}}},heatmap:function(e,n,i,o){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var r=e.context,a=r.gl,s=e.depthModeForSublayer(0,Mt.ReadOnly),u=Ot.disabled,c=new kt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var o=n.heatmapFbo;if(o)i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),t.bindFramebuffer.set(o.framebuffer);else{var r=i.createTexture();i.bindTexture(i.TEXTURE_2D,r),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),o=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,i,o){var r=e.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n.width/4,n.height/4,0,r.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),o.colorAttachment.set(i),e.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,o.colorAttachment.setDirty(),t(e,n,i,o))}(t,e,r,o)}}(r,e,i),r.clear({color:t.Color.transparent});for(var l=0;l<o.length;l++){var d=o[l];if(!n.hasRenderableParent(d)){var h=n.getTile(d),p=h.getBucket(i);if(p){var f=p.programConfigurations.get(i.id);e.useProgram("heatmap",f).draw(r,a.TRIANGLES,s,u,c,Et.disabled,Tn(d.posMatrix,h,e.transform.zoom,i.paint.get("heatmap-intensity")),i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,i.paint,e.transform.zoom,f)}}}r.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var i=e.context,o=i.gl,r=n.heatmapFbo;if(r){i.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.colorAttachment.get()),i.activeTexture.set(o.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(i,n.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,o.TRIANGLES,Mt.disabled,Ot.disabled,e.colorModeForRenderPass(),Et.disabled,function(e,n,i,o){var r=t.create();t.ortho(r,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:r,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,i))},line:function(e,n,i,o){if("translucent"===e.renderPass){var r=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0!==r.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,Mt.ReadOnly),u=e.colorModeForRenderPass(),c=i.paint.get("line-dasharray"),l=i.paint.get("line-pattern"),d=l.constantOr(1),h=i.paint.get("line-gradient"),p=i.getCrossfadeParameters(),f=d?"linePattern":c?"lineSDF":h?"lineGradient":"line",g=e.context,m=g.gl,_=!0;if(h){g.activeTexture.set(m.TEXTURE0);var y=i.gradientTexture;if(!i.gradient)return;y||(y=i.gradientTexture=new t.Texture(g,i.gradient,m.RGBA)),y.bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var b=0,v=o;b<v.length;b+=1){var C=v[b],x=n.getTile(C);if(!d||x.patternsLoaded()){var w=x.getBucket(i);if(w){var P=w.programConfigurations.get(i.id),M=e.context.program.get(),O=e.useProgram(f,P),k=_||O.program!==M,E=l.constantOr(null);if(E&&x.imageAtlas){var S=x.imageAtlas,T=S.patternPositions[E.to.toString()],A=S.patternPositions[E.from.toString()];T&&A&&P.setConstantPatternPositions(T,A)}var I=d?Rn(e,x,i,p):c?Fn(e,x,i,c,p):h?Dn(e,x,i):In(e,x,i);d?(g.activeTexture.set(m.TEXTURE0),x.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),P.updatePaintBuffers(p)):c&&(k||e.lineAtlas.dirty)&&(g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g)),O.draw(g,m.TRIANGLES,s,e.stencilModeForClipping(C),u,Et.disabled,I,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,e.transform.zoom,P),_=!1}}}}}},fill:function(e,n,i,o){var r=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=i.paint.get("fill-pattern"),c=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===r.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===c){var l=e.depthModeForSublayer(1,"opaque"===e.renderPass?Mt.ReadWrite:Mt.ReadOnly);ti(e,n,i,o,l,s,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){var d=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,Mt.ReadOnly);ti(e,n,i,o,d,s,!0)}}},"fill-extrusion":function(t,e,n,i){var o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){var r=new Mt(t.context.gl.LEQUAL,Mt.ReadWrite,t.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))ei(t,e,n,i,r,Ot.disabled,kt.disabled),ei(t,e,n,i,r,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();ei(t,e,n,i,r,Ot.disabled,a)}}},hillshade:function(t,e,n,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var o=t.context,r=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Mt.ReadOnly),s=t.colorModeForRenderPass(),u="translucent"===t.renderPass?t.stencilConfigForOverlap(i):[{},i],c=u[0],l=0,d=u[1];l<d.length;l+=1){var h=d[l],p=e.getTile(h);p.needsHillshadePrepare&&"offscreen"===t.renderPass?ii(t,p,n,r,a,Ot.disabled,s):"translucent"===t.renderPass&&ni(t,p,n,a,c[h.overscaledZ],s)}o.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&i.length)for(var o=t.context,r=o.gl,a=e.getSource(),s=t.useProgram("raster"),u=t.colorModeForRenderPass(),c=a instanceof I?[{},i]:t.stencilConfigForOverlap(i),l=c[0],d=c[1],h=d[d.length-1].overscaledZ,p=!t.options.moving,f=0,g=d;f<g.length;f+=1){var m=g[f],_=t.depthModeForSublayer(m.overscaledZ-h,1===n.paint.get("raster-opacity")?Mt.ReadWrite:Mt.ReadOnly,r.LESS),y=e.getTile(m),b=t.transform.calculatePosMatrix(m.toUnwrapped(),p);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var v=e.findLoadedParent(m,0),C=oi(y,v,e,n,t.transform),x=void 0,w=void 0,P="nearest"===n.paint.get("raster-resampling")?r.NEAREST:r.LINEAR;o.activeTexture.set(r.TEXTURE0),y.texture.bind(P,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(r.TEXTURE1),v?(v.texture.bind(P,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,v.tileID.overscaledZ-y.tileID.overscaledZ),w=[y.tileID.canonical.x*x%1,y.tileID.canonical.y*x%1]):y.texture.bind(P,r.CLAMP_TO_EDGE,r.LINEAR_MIPMAP_NEAREST);var M=Bn(b,w||[0,0],x||1,C,n);a instanceof I?s.draw(o,r.TRIANGLES,_,Ot.disabled,u,Et.disabled,M,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(o,r.TRIANGLES,_,l[m.overscaledZ],u,Et.disabled,M,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var i=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0!==o){var r=t.context,a=r.gl,s=t.transform,u=s.tileSize,c=n.paint.get("background-pattern");if(!t.isPatternMissing(c)){var l=!c&&1===i.a&&1===o&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===l){var d=Ot.disabled,h=t.depthModeForSublayer(0,"opaque"===l?Mt.ReadWrite:Mt.ReadOnly),p=t.colorModeForRenderPass(),f=t.useProgram(c?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:u});c&&(r.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=n.getCrossfadeParameters(),_=0,y=g;_<y.length;_+=1){var b=y[_],v=t.transform.calculatePosMatrix(b.toUnwrapped()),C=c?Gn(v,o,t,c,{tileID:b,tileSize:u},m):jn(v,o,i);f.draw(r,a.TRIANGLES,h,d,p,Et.disabled,C,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var i=0;i<n.length;i++)ri(t,e,n[i])},custom:function(t,e,n){var i=t.context,o=n.implementation;if("offscreen"===t.renderPass){var r=o.prerender;r&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),r.call(o,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(Ot.disabled);var a="3d"===o.renderingMode?new Mt(t.context.gl.LEQUAL,Mt.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Mt.ReadOnly);i.setDepthMode(a),o.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},ui=function(t,e){this.context=new St(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=Tt.maxUnderzooming+Tt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.crossTileSymbolIndex=new Re,this.gpuTimers={}};ui.prototype.resize=function(e,n){var i=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,r=this.style._order;o<r.length;o+=1)this.style._layers[r[o]].resize();this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},ui.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Ve.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(i,Ve.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var o=new t.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(t.EXTENT,0,t.EXTENT,0),o.emplaceBack(0,t.EXTENT,0,t.EXTENT),o.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(o,A.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(r,Ve.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var u=this.context.gl;this.stencilClearMode=new Ot({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},ui.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var i=t.create();t.ortho(i,0,this.width,this.height,0,0,1),t.scale(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Mt.disabled,this.stencilClearMode,kt.disabled,Et.disabled,Sn(i),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},ui.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,i=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(kt.disabled),n.setDepthMode(Mt.disabled);var o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var r=0,a=e;r<a.length;r+=1){var s=a[r],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;o.draw(n,i.TRIANGLES,Mt.disabled,new Ot({func:i.ALWAYS,mask:0},u,255,i.KEEP,i.KEEP,i.REPLACE),kt.disabled,Et.disabled,Sn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},ui.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ot({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},ui.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ot({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},ui.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,i=t.sort((function(t,e){return e.overscaledZ-t.overscaledZ})),o=i[i.length-1].overscaledZ,r=i[0].overscaledZ-o+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();for(var a={},s=0;s<r;s++)a[s+o]=new Ot({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=r,[a,i]}return[(e={},e[o]=Ot.disabled,e),i]},ui.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new kt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?kt.unblended:kt.alphaBlended},ui.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Mt.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Mt(n||this.context.gl.LEQUAL,e,[i,i])},ui.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},ui.prototype.render=function(e,n){var i=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var o=this.style._order,r=this.style.sourceCaches;for(var a in r){var s=r[a];s.used&&s.prepare(this.context)}var u,c,l={},d={},h={};for(var p in r){var f=r[p];l[p]=f.getVisibleCoordinates(),d[p]=l[p].slice().reverse(),h[p]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var g=0;g<o.length;g++)if(this.style._layers[o[g]].is3D()){this.opaquePassCutoff=g;break}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var m=0,_=o;m<_.length;m+=1){var y=this.style._layers[_[m]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var b=d[y.source];("custom"===y.type||b.length)&&this.renderLayer(this,r[y.source],y,b)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){var v=this.style._layers[o[this.currentLayer]],C=r[v.source],x=l[v.source];this._renderTileClippingMasks(v,x),this.renderLayer(this,C,v,x)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){var w=this.style._layers[o[this.currentLayer]],P=r[w.source],M=("symbol"===w.type?h:d)[w.source];this._renderTileClippingMasks(w,l[w.source]),this.renderLayer(this,P,w,M)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach((function(t){t.source&&!t.isHidden(i.transform.zoom)&&(t.source!==(c&&c.id)&&(c=i.style.sourceCaches[t.source]),(!u||u.getSource().maxzoom<c.getSource().maxzoom)&&(u=c))})),u&&si.debug(this,u,u.getVisibleCoordinates())),this.context.setDefault()},ui.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},ui.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||i.length)&&(this.id=n.id,this.gpuTimingStart(n),si[n.type](t,e,n,i,this.style.placement.variableOffsets),this.gpuTimingEnd())},ui.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},ui.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},ui.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},ui.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var i=t[n],o=this.context.extTimerQuery,r=o.getQueryObjectEXT(i.query,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(i.query),e[n]=r}return e},ui.prototype.translatePosMatrix=function(e,n,i,o,r){if(!i[0]&&!i[1])return e;var a=r?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);i=[i[0]*u-i[1]*s,i[0]*s+i[1]*u]}var c=[r?i[0]:ce(n,i[0],this.transform.zoom),r?i[1]:ce(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return t.translate(l,e,c),l},ui.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},ui.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},ui.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},ui.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new _n(this.context,gn[t],e,Hn[t],this._showOverdrawInspector)),this.cache[n]},ui.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},ui.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var ci=function(t,e){this.points=t,this.planes=e};ci.fromInvProjectionMatrix=function(e,n,i){var o=Math.pow(2,i),r=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(n){return t.transformMat4([],n,e)})).map((function(e){return t.scale$1([],e,1/e[3]/n*o)})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var n=t.sub([],r[e[0]],r[e[1]]),i=t.sub([],r[e[2]],r[e[1]]),o=t.normalize([],t.cross([],n,i)),a=-t.dot(o,r[e[1]]);return o.concat(a)}));return new ci(r,a)};var li=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};li.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],i=t.clone$2(this.min),o=t.clone$2(this.max),r=0;r<n.length;r++)i[r]=n[r]?this.min[r]:this.center[r],o[r]=n[r]?this.center[r]:this.max[r];return o[2]=this.max[2],new li(i,o)},li.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},li.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},li.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],i=!0,o=0;o<e.planes.length;o++){for(var r=e.planes[o],a=0,s=0;s<n.length;s++)a+=t.dot$1(r,n[s])>=0;if(0===a)return 0;a!==n.length&&(i=!1)}if(i)return 2;for(var u=0;u<3;u++){for(var c=Number.MAX_VALUE,l=-Number.MAX_VALUE,d=0;d<e.points.length;d++){var h=e.points[d][u]-this.min[u];c=Math.min(c,h),l=Math.max(l,h)}if(l<0||c>this.max[u]-this.min[u])return 0}return 1};var di=function(e,n,i,o,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==o?60:o,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},hi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};di.prototype.clone=function(){var t=new di(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},hi.minZoom.get=function(){return this._minZoom},hi.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},hi.maxZoom.get=function(){return this._maxZoom},hi.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},hi.minPitch.get=function(){return this._minPitch},hi.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},hi.maxPitch.get=function(){return this._maxPitch},hi.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},hi.renderWorldCopies.get=function(){return this._renderWorldCopies},hi.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},hi.worldSize.get=function(){return this.tileSize*this.scale},hi.centerPoint.get=function(){return this.size._div(2)},hi.size.get=function(){return new t.Point(this.width,this.height)},hi.bearing.get=function(){return-this.angle/Math.PI*180},hi.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},hi.pitch.get=function(){return this._pitch/Math.PI*180},hi.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},hi.fov.get=function(){return this._fov/Math.PI*180},hi.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},hi.zoom.get=function(){return this._zoom},hi.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},hi.center.get=function(){return this._center},hi.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},di.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},di.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var i=this.pointCoordinate(new t.Point(0,0)),o=this.pointCoordinate(new t.Point(this.width,0)),r=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(i.x,o.x,r.x,a.x)),u=Math.floor(Math.max(i.x,o.x,r.x,a.x)),c=s-1;c<=u+1;c++)0!==c&&n.push(new t.UnwrappedTileID(c,e));return n},di.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),i=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var o=t.MercatorCoordinate.fromLngLat(this.center),r=Math.pow(2,n),a=[r*o.x,r*o.y,0],s=ci.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=e.minzoom||0;this.pitch<=60&&(u=n);var c=function(t){return{aabb:new li([t*r,0,0],[(t+1)*r,r,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},l=[],d=[],h=n,p=e.reparseOverscaled?i:n;if(this._renderWorldCopies)for(var f=1;f<=3;f++)l.push(c(-f)),l.push(c(f));for(l.push(c(0));l.length>0;){var g=l.pop(),m=g.x,_=g.y,y=g.fullyVisible;if(!y){var b=g.aabb.intersects(s);if(0===b)continue;y=2===b}var v=g.aabb.distanceX(a),C=g.aabb.distanceY(a),x=Math.max(Math.abs(v),Math.abs(C));if(g.zoom===h||x>3+(1<<h-g.zoom)-2&&g.zoom>=u)d.push({tileID:new t.OverscaledTileID(g.zoom===h?p:g.zoom,g.wrap,g.zoom,m,_),distanceSq:t.sqrLen([a[0]-.5-m,a[1]-.5-_])});else for(var w=0;w<4;w++){var P=(m<<1)+w%2,M=(_<<1)+(w>>1);l.push({aabb:g.aabb.quadrant(w),zoom:g.zoom+1,x:P,y:M,wrap:g.wrap,fullyVisible:y})}}return d.sort((function(t,e){return t.distanceSq-e.distanceSq})).map((function(t){return t.tileID}))},di.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},hi.unmodified.get=function(){return this._unmodified},di.prototype.zoomScale=function(t){return Math.pow(2,t)},di.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},di.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},di.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},hi.point.get=function(){return this.project(this.center)},di.prototype.setLocationAtPoint=function(e,n){var i=this.pointCoordinate(n),o=this.pointCoordinate(this.centerPoint),r=this.locationCoordinate(e),a=new t.MercatorCoordinate(r.x-(i.x-o.x),r.y-(i.y-o.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},di.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},di.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},di.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},di.prototype.coordinateLocation=function(t){return t.toLngLat()},di.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],i=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(i,i,this.pixelMatrixInverse);var o=n[3],r=i[3],a=n[1]/o,s=i[1]/r,u=n[2]/o,c=i[2]/r,l=u===c?0:(0-u)/(c-u);return new t.MercatorCoordinate(t.number(n[0]/o,i[0]/r,l)/this.worldSize,t.number(a,s,l)/this.worldSize)},di.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},di.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},di.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},di.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},di.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var i=e.key,o=n?this._alignedPosMatrixCache:this._posMatrixCache;if(o[i])return o[i];var r=e.canonical,a=this.worldSize/this.zoomScale(r.z),s=r.x+Math.pow(2,r.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,r.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),o[i]=new Float32Array(u),o[i]},di.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},di.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,i,o,r=-90,a=90,s=-180,u=180,c=this.size,l=this._unmodified;if(this.latRange){var d=this.latRange;r=t.mercatorYfromLat(d[1])*this.worldSize,e=(a=t.mercatorYfromLat(d[0])*this.worldSize)-r<c.y?c.y/(a-r):0}if(this.lngRange){var h=this.lngRange;s=t.mercatorXfromLng(h[0])*this.worldSize,n=(u=t.mercatorXfromLng(h[1])*this.worldSize)-s<c.x?c.x/(u-s):0}var p=this.point,f=Math.max(n||0,e||0);if(f)return this.center=this.unproject(new t.Point(n?(u+s)/2:p.x,e?(a+r)/2:p.y)),this.zoom+=this.scaleZoom(f),this._unmodified=l,void(this._constraining=!1);if(this.latRange){var g=p.y,m=c.y/2;g-m<r&&(o=r+m),g+m>a&&(o=a-m)}if(this.lngRange){var _=p.x,y=c.x/2;_-y<s&&(i=s+y),_+y>u&&(i=u-y)}void 0===i&&void 0===o||(this.center=this.unproject(new t.Point(void 0!==i?i:p.x,void 0!==o?o:p.y))),this._unmodified=l,this._constraining=!1}},di.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,i=Math.sin(e)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-e,.01,Math.PI-.01)),o=this.point,r=o.x,a=o.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),u=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,u,s),t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-r,-a,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var l=this.width%2/2,d=this.height%2/2,h=Math.cos(this.angle),p=Math.sin(this.angle),f=r-Math.round(r)+h*l+p*d,g=a-Math.round(a)+h*d+p*l,m=new Float64Array(c);if(t.translate(m,m,[f>.5?f-1:f,g>.5?g-1:g,0]),this.alignedProjMatrix=m,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},di.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},di.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},di.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var i=n.x,o=n.y,r=n.x,a=n.y,s=0,u=e;s<u.length;s+=1){var c=u[s];i=Math.min(i,c.x),o=Math.min(o,c.y),r=Math.max(r,c.x),a=Math.max(a,c.y)}return[new t.Point(i,o),new t.Point(r,o),new t.Point(r,a),new t.Point(i,a),new t.Point(i,o)]},Object.defineProperties(di.prototype,hi);var pi=function(e){var n,i,o,r;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),i=!1,o=null,r=function(){o=null,i&&(n(),o=setTimeout(r,300),i=!1)},function(){return i=!0,o||r(),o})};pi.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},pi.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},pi.prototype.getHashString=function(e){var n=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,o=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,o),a=Math.round(n.lng*r)/r,s=Math.round(n.lat*r)/r,u=this._map.getBearing(),c=this._map.getPitch(),l="";if(l+=e?"/"+a+"/"+s+"/"+i:i+"/"+s+"/"+a,(u||c)&&(l+="/"+Math.round(10*u)/10),c&&(l+="/"+Math.round(c)),this._hashName){var d=this._hashName,h=!1,p=t.window.location.hash.slice(1).split("&").map((function(t){var e=t.split("=")[0];return e===d?(h=!0,e+"="+l):t})).filter((function(t){return t}));return h||p.push(d+"="+l),"#"+p.join("&")}return"#"+l},pi.prototype._getCurrentHash=function(){var e,n=this,i=t.window.location.hash.replace("#","");return this._hashName?(i.split("&").map((function(t){return t.split("=")})).forEach((function(t){t[0]===n._hashName&&(e=t)})),(e&&e[1]||"").split("/")):i.split("/")},pi.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(t){return isNaN(t)}))){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},pi.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var fi=function(e){function i(i,o,r,a){void 0===a&&(a={});var s=n.mousePos(o.getCanvasContainer(),r),u=o.unproject(s);e.call(this,i,t.extend({point:s,lngLat:u,originalEvent:r},a)),this._defaultPrevented=!1,this.target=o}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var o={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,o),i}(t.Event),gi=function(e){function i(i,o,r){var a=n.touchPos(o.getCanvasContainer(),r),s=a.map((function(t){return o.unproject(t)})),u=a.reduce((function(t,e,n,i){return t.add(e.div(i.length))}),new t.Point(0,0)),c=o.unproject(u);e.call(this,i,{points:a,point:u,lngLats:s,lngLat:c,originalEvent:r}),this._defaultPrevented=!1}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var o={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,o),i}(t.Event),mi=function(t){function e(e,n,i){t.call(this,e,{originalEvent:i}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),_i=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};_i.prototype.setZoomRate=function(t){this._defaultZoomRate=t},_i.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},_i.prototype.isEnabled=function(){return!!this._enabled},_i.prototype.isActive=function(){return!!this._active},_i.prototype.isZooming=function(){return!!this._zooming},_i.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},_i.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},_i.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,i=t.browser.now(),o=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(o*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},_i.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},_i.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e}))),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},_i.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,o=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==o&&(o=1/o);var r="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(r*o))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,u=this._easing,c=!1;if("wheel"===this._type&&s&&u){var l=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),d=u(l);n.zoom=t.number(s,a,d),l<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):c=!0}else n.zoom=a,c=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),c&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},_i.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var i=this._prevEase,o=(t.browser.now()-i.start)/i.duration,r=i.easing(o+.01)-i.easing(o),a=.27/Math.sqrt(r*r+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n};var yi=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};yi.prototype.isEnabled=function(){return!!this._enabled},yi.prototype.isActive=function(){return!!this._active},yi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},yi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},yi.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,e),this._active=!0)},yi.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=e,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(i.x,e.x),r=Math.max(i.x,e.x),a=Math.min(i.y,e.y),s=Math.max(i.y,e.y);n.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=r-o+"px",this._box.style.height=s-a+"px"}},yi.prototype._onMouseUp=function(e){if(0===e.button){var i=this._startPos,o=n.mousePos(this._el,e);this._finish(),n.suppressClick(),i.x===o.x&&i.y===o.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(i,o,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},yi.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},yi.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},yi.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var bi=t.bezier(0,0,.25,1),vi=function(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,this._clickTolerance=n.clickTolerance||1,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};vi.prototype.isEnabled=function(){return"disabled"!==this._state},vi.prototype.isActive=function(){return"active"===this._state},vi.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},vi.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},vi.prototype.onMouseDown=function(e){if("enabled"===this._state){var i="touchstart"===e.type;if(i)this._startTime=Date.now();else if("right"===this._button){if(this._eventButton=n.mouseButton(e),e.altKey||e.metaKey)return;if(this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==n.mouseButton(e))return;this._eventButton=0}n.disableDrag(),i?(t.window.document.addEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("touchend",this._onMouseUp)):(t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp)),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},vi.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);this._lastPos.equals(e)||"pending"===this._state&&e.dist(this._startPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},vi.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,i=this._prevPos,o=this._lastPos,r=n.bearing-.8*(i.x-o.x),a=n.pitch- -.5*(i.y-o.y),s=this._inertia,u=s[s.length-1];this._drainInertiaBuffer(),s.push([t.browser.now(),this._map._normalizeBearing(r,u[1])]);var c=n.bearing;if(n.bearing=r,this._pitchWithRotate){var l=n.pitch;n.pitch=a,n.pitch!==l&&this._fireEvent("pitch",e)}n.bearing!==c&&this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._prevPos=this._lastPos}},vi.prototype._onMouseUp=function(t){var e="touchend"===t.type;if(e&&this._startPos===this._lastPos&&Date.now()-this._startTime<300&&this._el.click(),e||n.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},vi.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},vi.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.document.removeEventListener("touchmove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("touchend",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),n.enableDrag()},vi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._lastPos},vi.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),o=this._inertia,r=function(){Math.abs(i)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)r();else{var a=o[0],s=o[o.length-1],u=n._normalizeBearing(i,o[o.length-2][1]),c=s[1]-a[1],l=c<0?-1:1,d=(s[0]-a[0])/1e3;if(0!==c&&0!==d){var h=Math.abs(c*(.25/d));h>180&&(h=180);var p=h/180;u+=l*h*(p/2),Math.abs(n._normalizeBearing(u,0))<this._bearingSnap&&(u=n._normalizeBearing(0,u)),n.rotateTo(u,{duration:1e3*p,easing:bi,noMoveStart:!0},{originalEvent:t})}else r()}},vi.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},vi.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var Ci={linearity:.3,easing:t.bezier(0,0,.3,1),maxSpeed:1400,deceleration:2500},xi=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,this._inertiaOptions=Ci,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};xi.prototype.isEnabled=function(){return"disabled"!==this._state},xi.prototype.isActive=function(){return"active"===this._state},xi.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled",this._inertiaOptions=t.extend(Ci,e))},xi.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},xi.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==n.mouseButton(e)||(n.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},xi.prototype.onTouchStart=function(e){this.isEnabled()&&(e.touches&&e.touches.length>1&&("pending"===this._state||"active"===this._state)||(n.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},xi.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._prevPos=this._lastPos=n.mousePos(this._el,e),this._startTouch=this._lastTouch=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,this._inertia=[[t.browser.now(),this._startPos]]},xi.prototype._touchesMatch=function(t,e){return!(!t||!e||t.length!==e.length)&&t.every((function(t,n){return e[n]===t}))},xi.prototype._onMove=function(e){e.preventDefault();var i=t.window.TouchEvent&&e instanceof t.window.TouchEvent?n.touchPos(this._el,e):null,o=n.mousePos(this._el,e);(i?this._touchesMatch(this._lastTouch,i):this._lastPos.equals(o))||"pending"===this._state&&o.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=o,this._lastTouch=i,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._shouldStart=!0),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},xi.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t)if(this._map.touchZoomRotate.isActive())this._abort(t);else if(this._shouldStart&&(this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._shouldStart=!1),this.isActive()){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._prevPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._prevPos=this._lastPos,delete this._lastMoveEvent}},xi.prototype._onMouseUp=function(t){if(0===n.mouseButton(t))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},xi.prototype._onTouchEnd=function(t){if(t.touches&&0!==t.touches.length)switch(this._state){case"pending":case"active":break;case"enabled":this.onTouchStart(t)}else switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},xi.prototype._abort=function(e){switch(this._state){case"active":this._state="enabled",this._shouldStart||(this._fireEvent("dragend",e),this._fireEvent("moveend",e)),this._unbind(),this._deactivate(),t.window.TouchEvent&&e instanceof t.window.TouchEvent&&e.touches.length>1&&n.addEventListener(t.window.document,"touchend",this._onTouchEnd);break;case"pending":this._state="enabled",this._unbind();break;case"enabled":this._unbind()}},xi.prototype._onBlur=function(t){this._abort(t)},xi.prototype._unbind=function(){n.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onTouchEnd),n.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(t.window.document,"mouseup",this._onMouseUp),n.removeEventListener(t.window,"blur",this._onBlur)},xi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._prevPos,delete this._mouseDownPos,delete this._lastPos,delete this._startTouch,delete this._lastTouch,delete this._shouldStart},xi.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],i=e[0],o=n[1].sub(i[1]),r=(n[0]-i[0])/1e3;if(0===r||n[1].equals(i[1]))this._fireEvent("moveend",t);else{var a=this._inertiaOptions,s=a.linearity,u=a.easing,c=a.maxSpeed,l=a.deceleration,d=o.mult(s/r),h=d.mag();h>c&&(h=c,d._unit()._mult(h));var p=h/(l*s),f=d.mult(-p/2);this._map.panBy(f,{duration:1e3*p,easing:u,noMoveStart:!0},{originalEvent:t})}}},xi.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},xi.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var wi=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function Pi(t){return t*(2-t)}wi.prototype.isEnabled=function(){return!!this._enabled},wi.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},wi.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},wi.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,i=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?i=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?i=-1:(r=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),u={duration:300,delayEndEvents:500,easing:Pi,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*i,offset:[100*-o,100*-r],center:a.getCenter()};a.easeTo(u,{originalEvent:t})}};var Mi=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};Mi.prototype.isEnabled=function(){return!!this._enabled},Mi.prototype.isActive=function(){return!!this._active},Mi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Mi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Mi.prototype.onTouchStart=function(t){var e=this;if(this.isEnabled()&&!(t.points.length>1))if(this._tapped){var n=this._tappedPoint;if(n&&n.dist(t.points[0])<=30){t.originalEvent.preventDefault();var i=function(){e._tapped&&e._zoom(t),e._map.off("touchcancel",o),e._resetTapped()},o=function(){e._map.off("touchend",i),e._resetTapped()};this._map.once("touchend",i),this._map.once("touchcancel",o)}else this._resetTapped()}else this._tappedPoint=t.points[0],this._tapped=setTimeout((function(){e._tapped=null,e._tappedPoint=null}),300)},Mi.prototype._resetTapped=function(){clearTimeout(this._tapped),this._tapped=null,this._tappedPoint=null},Mi.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},Mi.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},Mi.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Oi=t.bezier(0,0,.15,1),ki=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};ki.prototype.isEnabled=function(){return!!this._enabled},ki.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},ki.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},ki.prototype.disableRotation=function(){this._rotationDisabled=!0},ki.prototype.enableRotation=function(){this._rotationDisabled=!1},ki.prototype.isActive=function(){return this.isEnabled()&&!!this._gestureIntent},ki.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var i=n.mousePos(this._el,e.touches[0]),o=n.mousePos(this._el,e.touches[1]),r=i.add(o).div(2);this._startVec=i.sub(o),this._startAround=this._map.transform.pointLocation(r),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(t.window.document,"touchend",this._onEnd)}},ki.prototype._getTouchEventData=function(t){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]),o=e.sub(i);return{vec:o,center:e.add(i).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},ki.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),i=n.vec,o=n.scale,r=n.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==o||Math.abs(1-o)>.15;Math.abs(r)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=i)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},ki.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var i=this._getTouchEventData(this._lastTouchEvent),o=i.center,r=i.bearing,a=i.scale,s=n.pointLocation(o),u=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+r),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,u),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,o])}},ki.prototype._onEnd=function(e){n.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onEnd);var i=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new t.Event(i+"end",{originalEvent:e})),this._drainInertiaBuffer();var r=this._inertia,a=this._map;if(r.length<2)a.snapToNorth({},{originalEvent:e});else{var s=r[r.length-1],u=r[0],c=a.transform.scaleZoom(o*s[1]),l=a.transform.scaleZoom(o*u[1]),d=(s[0]-u[0])/1e3,h=s[2];if(0!==d&&c!==l){var p=.15*(c-l)/d;Math.abs(p)>2.5&&(p=p>0?2.5:-2.5);var f=1e3*Math.abs(p/(12*.15));a.easeTo({zoom:c+p*f/2e3,duration:f,easing:Oi,around:this._aroundCenter?a.getCenter():a.unproject(h),noMoveStart:!0},{originalEvent:e})}else a.snapToNorth({},{originalEvent:e})}}},ki.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>2&&n-e[0][0]>160;)e.shift()};var Ei={scrollZoom:_i,boxZoom:yi,dragRotate:vi,dragPan:xi,keyboard:wi,doubleClickZoom:Mi,touchZoomRotate:ki},Si=function(e){function n(n,i){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=i.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,i){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),i)},n.prototype.panTo=function(e,n,i){return this.easeTo(t.extend({center:e},n),i)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,i){return this.easeTo(t.extend({zoom:e},n),i)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.rotateTo=function(e,n,i){return this.easeTo(t.extend({bearing:e},n),i)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(e,n,i,o){if("number"==typeof(o=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var r=o.padding;o.padding={top:r,bottom:r,right:r,left:r}}if(t.deepEqual(Object.keys(o.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(t.LngLat.convert(e)),u=a.project(t.LngLat.convert(n)),c=s.rotate(-i*Math.PI/180),l=u.rotate(-i*Math.PI/180),d=new t.Point(Math.max(c.x,l.x),Math.max(c.y,l.y)),h=new t.Point(Math.min(c.x,l.x),Math.min(c.y,l.y)),p=d.sub(h),f=(a.width-o.padding.left-o.padding.right)/p.x,g=(a.height-o.padding.top-o.padding.bottom)/p.y;if(!(g<0||f<0)){var m=Math.min(a.scaleZoom(a.scale*Math.min(f,g)),o.maxZoom),_=t.Point.convert(o.offset),y=new t.Point(_.x+(o.padding.left-o.padding.right)/2,_.y+(o.padding.top-o.padding.bottom)/2).mult(a.scale/a.zoomScale(m));return{center:a.unproject(s.add(u).div(2).sub(y)),zoom:m,bearing:i}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,i,o,r){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),i,o),o,r)},n.prototype._fitInternal=function(e,n,i){return e?(n=t.extend(e,n)).linear?this.easeTo(n,i):this.flyTo(n,i):this},n.prototype.jumpTo=function(e,n){this.stop();var i=this.transform,o=!1,r=!1,a=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(o=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.LngLat.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(r=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(a=!0,i.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),o&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),r&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var i=this;this.stop(),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var o=this.transform,r=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u="zoom"in e?+e.zoom:r,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,l="pitch"in e?+e.pitch:s,d=o.centerPoint.add(t.Point.convert(e.offset)),h=o.pointLocation(d),p=t.LngLat.convert(e.center||h);this._normalizeCenter(p);var f,g,m=o.project(h),_=o.project(p).sub(m),y=o.zoomScale(u-r);return e.around&&(f=t.LngLat.convert(e.around),g=o.locationPoint(f)),this._zooming=u!==r,this._rotating=a!==c,this._pitching=l!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(i._zooming&&(o.zoom=t.number(r,u,e)),i._rotating&&(o.bearing=t.number(a,c,e)),i._pitching&&(o.pitch=t.number(s,l,e)),f)o.setLocationAtPoint(f,g);else{var h=o.zoomScale(o.zoom-r),p=u>r?Math.min(2,y):Math.max(.5,y),b=Math.pow(p,1-e),v=o.unproject(m.add(_.mult(e*b)).mult(h));o.setLocationAtPoint(o.renderWorldCopies?v.wrap():v,d)}i._fireMoveEvents(n)}),(function(){e.delayEndEvents?i._easeEndTimeoutID=setTimeout((function(){return i._afterEase(n)}),e.delayEndEvents):i._afterEase(n)}),e),this},n.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e){var n=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),i&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},n.prototype.flyTo=function(e,n){var i=this;if(!e.essential&&t.browser.prefersReducedMotion){var o=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(o,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var r=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),c="zoom"in e?t.clamp(+e.zoom,r.minZoom,r.maxZoom):a,l="bearing"in e?this._normalizeBearing(e.bearing,s):s,d="pitch"in e?+e.pitch:u,h=r.zoomScale(c-a),p=r.centerPoint.add(t.Point.convert(e.offset)),f=r.pointLocation(p),g=t.LngLat.convert(e.center||f);this._normalizeCenter(g);var m=r.project(f),_=r.project(g).sub(m),y=e.curve,b=Math.max(r.width,r.height),v=b/h,C=_.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,a,c),r.minZoom,r.maxZoom),w=b/r.zoomScale(x-a);y=Math.sqrt(w/C*2)}var P=y*y;function M(t){var e=(v*v-b*b+(t?-1:1)*P*P*C*C)/(2*(t?v:b)*P*C);return Math.log(Math.sqrt(e*e+1)-e)}function O(t){return(Math.exp(t)-Math.exp(-t))/2}function k(t){return(Math.exp(t)+Math.exp(-t))/2}var E=M(0),S=function(t){return k(E)/k(E+y*t)},T=function(t){return b*((k(E)*(O(e=E+y*t)/k(e))-O(E))/P)/C;var e},A=(M(1)-E)/y;if(Math.abs(C)<1e-6||!isFinite(A)){if(Math.abs(b-v)<1e-6)return this.easeTo(e,n);var I=v<b?-1:1;A=Math.abs(Math.log(v/b))/y,T=function(){return 0},S=function(t){return Math.exp(I*y*t)}}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/y:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==l,this._pitching=d!==u,this._prepareEase(n,!1),this._ease((function(e){var o=e*A,h=1/S(o);r.zoom=1===e?c:a+r.scaleZoom(h),i._rotating&&(r.bearing=t.number(s,l,e)),i._pitching&&(r.pitch=t.number(u,d,e));var f=1===e?g:r.unproject(m.add(_.mult(T(o))).mult(h));r.setLocationAtPoint(r.renderWorldCopies?f.wrap():f,p),i._fireMoveEvents(n)}),(function(){return i._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},n.prototype._ease=function(e,n,i){!1===i.animate||0===i.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),Ti=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ti.prototype.getDefaultPosition=function(){return"bottom-right"},Ti.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ti.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ti.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var i=n.reduce((function(t,e,i){return e.value&&(t+=e.key+"="+e.value+(i<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+i+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow"}},Ti.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Ti.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var i in n){var o=n[i];if(o.used){var r=o.getSource();r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}}t.sort((function(t,e){return t.length-e.length}));var a=(t=t.filter((function(e,n){for(var i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0}))).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ti.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Ai=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};Ai.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Ai.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Ai.prototype.getDefaultPosition=function(){return"bottom-left"},Ai.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Ai.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},Ai.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Ii=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ii.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Ii.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,i=e?this._queue.concat(e):this._queue;n<i.length;n+=1){var o=i[n];if(o.id===t)return void(o.cancelled=!0)}},Ii.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!i.cancelled&&(i.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ii.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Di={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ri=t.window.HTMLImageElement,Fi=t.window.HTMLElement,Li=t.window.ImageBitmap,zi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bi=function(i){function o(e){var o=this;if(null!=(e=t.extend({},zi,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var r=new di(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(i.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new Ii,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},Di,e.locale),this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Fi))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return o._update(!1)})),this.on("moveend",(function(){return o._update(!1)})),this.on("zoom",(function(){return o._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var i=t.getCanvasContainer(),o=null,r=!1,a=null;for(var s in Ei)t[s]=new Ei[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);n.addEventListener(i,"mouseout",(function(e){t.fire(new fi("mouseout",t,e))})),n.addEventListener(i,"mousedown",(function(o){r=!0,a=n.mousePos(i,o);var s=new fi("mousedown",t,o);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(o),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(o),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(o))})),n.addEventListener(i,"mouseup",(function(e){var n=t.dragRotate.isActive();o&&!n&&t.fire(new fi("contextmenu",t,o)),o=null,r=!1,t.fire(new fi("mouseup",t,e))})),n.addEventListener(i,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new fi("mousemove",t,e))}})),n.addEventListener(i,"mouseover",(function(e){for(var n=e.target;n&&n!==i;)n=n.parentNode;n===i&&t.fire(new fi("mouseover",t,e))})),n.addEventListener(i,"touchstart",(function(n){var i=new gi("touchstart",t,n);t.fire(i),i.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(i))}),{passive:!1}),n.addEventListener(i,"touchmove",(function(e){t.fire(new gi("touchmove",t,e))}),{passive:!1}),n.addEventListener(i,"touchend",(function(e){t.fire(new gi("touchend",t,e))})),n.addEventListener(i,"touchcancel",(function(e){t.fire(new gi("touchcancel",t,e))})),n.addEventListener(i,"click",(function(o){var r=n.mousePos(i,o);(!a||r.equals(a)||r.dist(a)<e.clickTolerance)&&t.fire(new fi("click",t,o))})),n.addEventListener(i,"dblclick",(function(e){var n=new fi("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),n.addEventListener(i,"contextmenu",(function(e){var n=t.dragRotate.isActive();r||n?r&&(o=e):t.fire(new fi("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),n.addEventListener(i,"wheel",(function(n){e.interactive&&t.stop();var i=new mi("wheel",t,n);t.fire(i),i.defaultPrevented||t.scrollZoom.onWheel(n)}),{passive:!1})}(this,e),this._hash=e.hash&&new pi("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new Ti({customAttribution:e.customAttribution})),this.addControl(new Ai,e.logoPosition),this.on("style.load",(function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet)})),this.on("data",(function(e){o._update("style"===e.dataType),o.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){o.fire(new t.Event(e.dataType+"dataloading",e))}))}i&&(o.__proto__=i),(o.prototype=Object.create(i&&i.prototype)).constructor=o;var r={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return o.prototype._getMapId=function(){return this._mapId},o.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var i=e.onAdd(this);this._controls.push(e);var o=this._controlPositions[n];return-1!==n.indexOf("bottom")?o.insertBefore(i,o.firstChild):o.appendChild(i),this},o.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},o.prototype.resize=function(e){var n=this._containerDimensions(),i=n[0],o=n[1];return this._resizeCanvas(i,o),this.transform.resize(i,o),this.painter.resize(i,o),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},o.prototype.getBounds=function(){return this.transform.getBounds()},o.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},o.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},o.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},o.prototype.getMinZoom=function(){return this.transform.minZoom},o.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},o.prototype.getMaxZoom=function(){return this.transform.maxZoom},o.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},o.prototype.getMinPitch=function(){return this.transform.minPitch},o.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},o.prototype.getMaxPitch=function(){return this.transform.maxPitch},o.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},o.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},o.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},o.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},o.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},o.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},o.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},o.prototype._createDelegatedListener=function(t,e,n){var i,o=this;if("mouseenter"===t||"mouseover"===t){var r=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){var a=o.getLayer(e)?o.queryRenderedFeatures(i.point,{layers:[e]}):[];a.length?r||(r=!0,n.call(o,new fi(t,o,i.originalEvent,{features:a}))):r=!1},mouseout:function(){r=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(o.getLayer(e)?o.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(o,new fi(t,o,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(o,new fi(t,o,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(i={},i[t]=function(t){var i=o.getLayer(e)?o.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(o,t),delete t.features)},i)}},o.prototype.on=function(t,e,n){if(void 0===n)return i.prototype.on.call(this,t,e);var o=this._createDelegatedListener(t,e,n);for(var r in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(o),o.delegates)this.on(r,o.delegates[r]);return this},o.prototype.once=function(t,e,n){if(void 0===n)return i.prototype.once.call(this,t,e);var o=this._createDelegatedListener(t,e,n);for(var r in o.delegates)this.once(r,o.delegates[r]);return this},o.prototype.off=function(t,e,n){var o=this;return void 0===n?i.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(i){for(var r=i[t],a=0;a<r.length;a++){var s=r[a];if(s.layer===e&&s.listener===n){for(var u in s.delegates)o.off(u,s.delegates[u]);return r.splice(a,1),o}}}(this._delegatedListeners),this)},o.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var i;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])i=[t.Point.convert(e)];else{var o=t.Point.convert(e[0]),r=t.Point.convert(e[1]);i=[o,new t.Point(r.x,o.y),r,new t.Point(o.x,r.y),o]}return this.style.queryRenderedFeatures(i,n,this.transform)},o.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},o.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},o.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},o.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ne(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},o.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ne(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},o.prototype._diffStyle=function(e,n){var i=this;if("string"==typeof e){var o=this._requestManager.normalizeStyleURL(e),r=this._requestManager.transformRequest(o,t.ResourceType.Style);t.getJSON(r,(function(e,o){e?i.fire(new t.ErrorEvent(e)):o&&i._updateDiff(o,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},o.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(i){t.warnOnce("Unable to perform style diff: "+(i.message||i.error||i)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},o.prototype.getStyle=function(){if(this.style)return this.style.serialize()},o.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},o.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},o.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},o.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var i in n){var o=n[i];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},o.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},o.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},o.prototype.getSource=function(t){return this.style.getSource(t)},o.prototype.addImage=function(e,n,i){void 0===i&&(i={});var o=i.pixelRatio;void 0===o&&(o=1);var r=i.sdf;void 0===r&&(r=!1);var a=i.stretchX,s=i.stretchY,u=i.content;if(this._lazyInitEmptyStyle(),n instanceof Ri||Li&&n instanceof Li){var c=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:c.width,height:c.height},c.data),pixelRatio:o,stretchX:a,stretchY:s,content:u,sdf:r,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var l=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:o,stretchX:a,stretchY:s,content:u,sdf:r,version:0,userImage:l}),l.onAdd&&l.onAdd(this,e)}},o.prototype.updateImage=function(e,n){var i=this.style.getImage(e);if(!i)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var o=n instanceof Ri||Li&&n instanceof Li?t.browser.getImageData(n):n,r=o.width,a=o.height,s=o.data;return void 0===r||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):r!==i.data.width||a!==i.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(i.data.replace(s,!(n instanceof Ri||Li&&n instanceof Li)),void this.style.updateImage(e,i))},o.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},o.prototype.removeImage=function(t){this.style.removeImage(t)},o.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},o.prototype.listImages=function(){return this.style.listImages()},o.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},o.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},o.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},o.prototype.getLayer=function(t){return this.style.getLayer(t)},o.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},o.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},o.prototype.getFilter=function(t){return this.style.getFilter(t)},o.prototype.setPaintProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setPaintProperty(t,e,n,i),this._update(!0)},o.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},o.prototype.setLayoutProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setLayoutProperty(t,e,n,i),this._update(!0)},o.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},o.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},o.prototype.getLight=function(){return this.style.getLight()},o.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},o.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},o.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},o.prototype.getContainer=function(){return this._container},o.prototype.getCanvasContainer=function(){return this._canvasContainer},o.prototype.getCanvas=function(){return this._canvas},o.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},o.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},o.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var o=this._controlContainer=n.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){r[t]=n.create("div","mapboxgl-ctrl-"+t,o)}))},o.prototype._resizeCanvas=function(e,n){var i=t.browser.devicePixelRatio||1;this._canvas.width=i*e,this._canvas.height=i*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},o.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(this.painter=new ui(i,this.transform),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},o.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},o.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},o.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},o.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},o.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},o.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},o.prototype._render=function(){var e,n=this,i=0,o=this.painter.context.extTimerQuery;this.listens("gpu-timing-frame")&&(e=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,e),i=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var r=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var a=this.transform.zoom,s=t.browser.now();this.style.zoomHistory.update(a,s);var u=new t.EvaluationParameters(a,{now:s,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=u.crossFadingFactor();1===c&&c===this._crossFadingFactor||(r=!0,this._crossFadingFactor=c),this.style.update(u)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),gpuTiming:!!this.listens("gpu-timing-layer"),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||r)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var l=t.browser.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,e),setTimeout((function(){var i=o.getQueryObjectEXT(e,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(e),n.fire(new t.Event("gpu-timing-frame",{cpuTime:l,gpuTime:i}))}),50)}if(this.listens("gpu-timing-layer")){var d=this.painter.collectGpuTimers();setTimeout((function(){var e=n.painter.queryGpuTimers(d);n.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))}),50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new t.Event("idle"))),this},o.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),Ni(this._canvasContainer),Ni(this._controlContainer),Ni(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},o.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(t){e._frame=null,e._render()})))},o.prototype._onWindowOnline=function(){this._update()},o.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},r.showTileBoundaries.get=function(){return!!this._showTileBoundaries},r.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},r.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},r.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},r.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},r.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},r.repaint.get=function(){return!!this._repaint},r.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},r.vertices.get=function(){return!!this._vertices},r.vertices.set=function(t){this._vertices=t,this._update()},o.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},r.version.get=function(){return t.version},Object.defineProperties(o.prototype,r),o}(Si);function Ni(t){t.parentNode&&t.parentNode.removeChild(t)}var Vi={showCompass:!0,showZoom:!0,visualizePitch:!1},Ui=function(e){var i=this;this.options=t.extend({},Vi,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(t){return i._map.zoomIn({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(t){return i._map.zoomOut({},{originalEvent:t})})),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(t){i.options.visualizePitch?i._map.resetNorthPitch({},{originalEvent:t}):i._map.resetNorth({},{originalEvent:t})})),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};function qi(e,n,i){if(e=new t.LngLat(e.lng,e.lat),n){var o=new t.LngLat(e.lng-360,e.lat),r=new t.LngLat(e.lng+360,e.lat),a=i.locationPoint(e).distSqr(n);i.locationPoint(o).distSqr(n)<a?e=o:i.locationPoint(r).distSqr(n)<a&&(e=r)}for(;Math.abs(e.lng-i.center.lng)>180;){var s=i.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}Ui.prototype._updateZoomButtons=function(){var t=this._map.getZoom();this._zoomInButton.disabled=t===this._map.getMaxZoom(),this._zoomOutButton.disabled=t===this._map.getMinZoom()},Ui.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Ui.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vi(t,{button:"left",element:this._compass,clickTolerance:t.dragRotate._clickTolerance}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.addEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.enable()),this._container},Ui.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),n.removeEventListener(this._compass,"touchstart",this._handler.onMouseDown,{passive:!1}),this._handler.disable(),delete this._handler),delete this._map},Ui.prototype._createButton=function(t,e){var i=n.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i},Ui.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var ji={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gi(t,e,n){var i=t.classList;for(var o in ji)i.remove("mapboxgl-"+n+"-anchor-"+o);i.add("mapboxgl-"+n+"-anchor-"+e)}var Hi,Zi=function(e){function i(i,o){var r=this;if(e.call(this),(i instanceof t.window.HTMLElement||o)&&(i=t.extend({element:i},o)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._draggable=i&&i.draggable||!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=t.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var a=n.createNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"display","block"),a.setAttributeNS(null,"height","41px"),a.setAttributeNS(null,"width","27px"),a.setAttributeNS(null,"viewBox","0 0 27 41");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"stroke","none"),s.setAttributeNS(null,"stroke-width","1"),s.setAttributeNS(null,"fill","none"),s.setAttributeNS(null,"fill-rule","evenodd");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill-rule","nonzero");var c=n.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"transform","translate(3.0, 29.0)"),c.setAttributeNS(null,"fill","#000000");for(var l=0,d=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<d.length;l+=1){var h=d[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),c.appendChild(p)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(g);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var _=n.createNS("http://www.w3.org/2000/svg","path");_.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(_);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var b=n.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var C=n.createNS("http://www.w3.org/2000/svg","circle");C.setAttributeNS(null,"fill","#FFFFFF"),C.setAttributeNS(null,"cx","5.5"),C.setAttributeNS(null,"cy","5.5"),C.setAttributeNS(null,"r","5.4999962"),b.appendChild(v),b.appendChild(C),u.appendChild(c),u.appendChild(f),u.appendChild(m),u.appendChild(y),u.appendChild(b),a.appendChild(u),this._element.appendChild(a),this._offset=t.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),this._element.addEventListener("mousedown",(function(t){t.preventDefault()})),this._element.addEventListener("focus",(function(){var t=r._map.getContainer();t.scrollTop=0,t.scrollLeft=0})),Gi(this._element,this._anchor,"marker"),this._popup=null}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},i.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=qi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,ji[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+i+" "+e)}},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},i.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},i.prototype.getRotation=function(){return this._rotation},i.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},i.prototype.getRotationAlignment=function(){return this._rotationAlignment},i.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},i.prototype.getPitchAlignment=function(){return this._pitchAlignment},i}(t.Evented),Wi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ki=0,Xi=!1,$i=function(e){function i(n){e.call(this),this.options=t.extend({},Wi,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Hi?i(Hi):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){i(Hi="denied"!==t.state)})):i(Hi=!!t.window.navigator.geolocation),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ki=0,Xi=!1},i.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},i.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},i.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},i.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,o=this._map.getBearing(),r=t.extend({bearing:o},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),r,{geolocateSource:!0})},i.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},i.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),i=e.distanceTo(n),o=Math.ceil(2*this._accuracy/i);this._circleElement.style.width=o+"px",this._circleElement.style.height=o+"px"},i.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},i.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Xi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;if(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var o=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}else{var r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Zi(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Zi({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))}))},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ki--,Xi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ki>1?(e={maximumAge:6e5,timeout:0},Xi=!0):(e=this.options.positionOptions,Xi=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Yi={maxWidth:100,unit:"metric"},Qi=function(e){this.options=t.extend({},Yi,e),t.bindAll(["_onMove","setUnit"],this)};function Ji(t,e,n){var i=n&&n.maxWidth||100,o=t._container.clientHeight/2,r=t.unproject([0,o]),a=t.unproject([i,o]),s=r.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?to(e,i,u/5280,t._getUIString("ScaleControl.Miles")):to(e,i,u,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?to(e,i,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?to(e,i,s/1e3,t._getUIString("ScaleControl.Kilometers")):to(e,i,s,t._getUIString("ScaleControl.Meters"))}function to(t,e,n,i){var o,r,a,s=(o=n,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(a=(a=o/r)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+i}Qi.prototype.getDefaultPosition=function(){return"bottom-left"},Qi.prototype._onMove=function(){Ji(this._map,this._container,this.options)},Qi.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Qi.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Qi.prototype.setUnit=function(t){this.options.unit=t,Ji(this._map,this._container,this.options)};var eo=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};eo.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},eo.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},eo.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},eo.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},eo.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},eo.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},eo.prototype._isFullscreen=function(){return this._fullscreen},eo.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},eo.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var no={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},io=function(e){function i(n){e.call(this),this.options=t.extend(Object.create(no),n),t.bindAll(["_update","_onClose","remove"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(e){var n=this;return this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",(function(t){n._update(t.point)})),this._map.on("mouseup",(function(t){n._update(t.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove"),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove"),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},i.prototype.trackPointer=function(){var t=this;return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",(function(e){t._update(e.point)})),this._map.on("drag",(function(e){t._update(e.point)})),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},i.prototype.getElement=function(){return this._container},i.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},i.prototype.setHTML=function(e){var n,i=t.window.document.createDocumentFragment(),o=t.window.document.createElement("body");for(o.innerHTML=e;n=o.firstChild;)i.appendChild(n);return this.setDOMContent(i)},i.prototype.getMaxWidth=function(){return this._container.style.maxWidth},i.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},i.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},i.prototype.addClassName=function(t){this._container.classList.add(t)},i.prototype.removeClassName=function(t){this._container.classList.remove(t)},i.prototype.toggleClassName=function(t){return this._container.classList.toggle(t)},i.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},i.prototype._update=function(e){var i=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return i._container.classList.add(t)})),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qi(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var o=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),r=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var i=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(i,i),"top-right":new t.Point(-i,i),bottom:new t.Point(0,-n),"bottom-left":new t.Point(i,-i),"bottom-right":new t.Point(-i,-i),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var o=t.Point.convert(n);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!r){var s,u=this._container.offsetWidth,c=this._container.offsetHeight;s=o.y+a.bottom.y<c?["top"]:o.y>this._map.transform.height-c?["bottom"]:[],o.x<u/2?s.push("left"):o.x>this._map.transform.width-u/2&&s.push("right"),r=0===s.length?"bottom":s.join("-")}var l=o.add(a[r]).round();n.setTransform(this._container,ji[r]+" translate("+l.x+"px,"+l.y+"px)"),Gi(this._container,r,"popup")}},i.prototype._onClose=function(){this.remove()},i}(t.Evented),oo={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Bi,NavigationControl:Ui,GeolocateControl:$i,AttributionControl:Ti,ScaleControl:Qi,FullscreenControl:eo,Popup:io,Marker:Zi,Style:Ne,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Rt.workerCount},set workerCount(t){Rt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return oo})),n}()},ED5Z:function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,(function(e){return t[e]}).bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=71)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var i=n(13),o=n(12);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var i=n(21);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){n(0);var i=n(26);function o(e,n,r){return t.exports=o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=i(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}},o(e,n,r||e)}t.exports=o},function(t,e,n){var i=n(21);function o(e,n,r){return t.exports=o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&i(r,n.prototype),r},o.apply(null,arguments)}t.exports=o},function(t,e,n){var i=n(53),o=n(23),r=n(54);t.exports=function(t){return i(t)||o(t)||r()}},function(t,e,n){t.exports=n(58)},function(t,e,n){var i=n(24),o=n(56),r=n(25);t.exports=function(t,e){return i(t)||o(t,e)||r()}},function(t,e,n){!function(n){"use strict";var i=function(t,e){var n=new Error(t+" at character "+e);throw n.index=e,n.description=t,n},o=!0,r={"-":o,"!":o,"~":o,"+":o},a={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},s={$:o,_:o},u=function(t){var e,n=0;for(var i in t)(e=i.length)>n&&t.hasOwnProperty(i)&&(n=e);return n},c=u(r),l=u(a),d={true:!0,false:!1,null:null},h=function(t){return a[t]||0},p=function(t,e,n){return{type:"||"===t||"&&"===t?"LogicalExpression":"BinaryExpression",operator:t,left:e,right:n}},f=function(t){return t>=48&&t<=57},g=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=128&&!a[String.fromCharCode(t)]||s.hasOwnProperty(String.fromCharCode(t))},m=function(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||t>=128&&!a[String.fromCharCode(t)]||s.hasOwnProperty(String.fromCharCode(t))},_=function(t){for(var e,n,o=0,s=t.charAt,u=t.charCodeAt,_=function(e){return s.call(t,e)},y=function(e){return u.call(t,e)},b=t.length,v=function(){for(var t=y(o);32===t||9===t||10===t||13===t;)t=y(++o)},C=function(){var t,e,n=w();return v(),63!==y(o)?n:(o++,(t=C())||i("Expected expression",o),v(),58===y(o)?(o++,(e=C())||i("Expected expression",o),{type:"ConditionalExpression",test:n,consequent:t,alternate:e}):void i("Expected :",o))},x=function(){v();for(var e=t.substr(o,l),n=e.length;n>0;){if(a.hasOwnProperty(e)&&(!g(y(o))||o+e.length<t.length&&!m(y(o+e.length))))return o+=n,e;e=e.substr(0,--n)}return!1},w=function(){var t,e,n,r,a,s,u,c,l;if(s=P(),!(e=x()))return s;for(a={value:e,prec:h(e)},(u=P())||i("Expected expression after "+e,o),r=[s,a,u];(e=x())&&0!==(n=h(e));){for(a={value:e,prec:n},l=e;r.length>2&&n<=r[r.length-2].prec;)u=r.pop(),e=r.pop().value,s=r.pop(),t=p(e,s,u),r.push(t);(t=P())||i("Expected expression after "+l,o),r.push(a,t)}for(t=r[c=r.length-1];c>1;)t=p(r[c-1].value,r[c-2],t),c-=2;return t},P=function(){var e,n,i;if(v(),e=y(o),f(e)||46===e)return M();if(39===e||34===e)return O();if(91===e)return A();for(i=(n=t.substr(o,c)).length;i>0;){if(r.hasOwnProperty(n)&&(!g(y(o))||o+n.length<t.length&&!m(y(o+n.length))))return o+=i,{type:"UnaryExpression",operator:n,argument:P(),prefix:!0};n=n.substr(0,--i)}return!(!g(e)&&40!==e)&&S()},M=function(){for(var t,e,n="";f(y(o));)n+=_(o++);if(46===y(o))for(n+=_(o++);f(y(o));)n+=_(o++);if("e"===(t=_(o))||"E"===t){for(n+=_(o++),"+"!==(t=_(o))&&"-"!==t||(n+=_(o++));f(y(o));)n+=_(o++);f(y(o-1))||i("Expected exponent ("+n+_(o)+")",o)}return e=y(o),g(e)?i("Variable names cannot start with a number ("+n+_(o)+")",o):46===e&&i("Unexpected period",o),{type:"Literal",value:parseFloat(n),raw:n}},O=function(){for(var t,e="",n=_(o++),r=!1;o<b;){if((t=_(o++))===n){r=!0;break}if("\\"===t)switch(t=_(o++)){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=t}else e+=t}return r||i('Unclosed quote after "'+e+'"',o),{type:"Literal",value:e,raw:n+e+n}},k=function(){var e,n=y(o),r=o;for(g(n)?o++:i("Unexpected "+_(o),o);o<b&&(n=y(o),m(n));)o++;return e=t.slice(r,o),d.hasOwnProperty(e)?{type:"Literal",value:d[e],raw:e}:"this"===e?{type:"ThisExpression"}:{type:"Identifier",name:e}},E=function(t){for(var e,n,r=[],a=!1,s=0;o<b;){if(v(),(e=y(o))===t){a=!0,o++,41===t&&s&&s>=r.length&&i("Unexpected token "+String.fromCharCode(t),o);break}if(44===e){if(o++,++s!==r.length)if(41===t)i("Unexpected token ,",o);else if(93===t)for(var u=r.length;u<s;u++)r.push(null)}else(n=C())&&"Compound"!==n.type||i("Expected comma",o),r.push(n)}return a||i("Expected "+String.fromCharCode(t),o),r},S=function(){var t,e;for(e=40===(t=y(o))?T():k(),v(),t=y(o);46===t||91===t||40===t;)o++,46===t?(v(),e={type:"MemberExpression",computed:!1,object:e,property:k()}):91===t?(e={type:"MemberExpression",computed:!0,object:e,property:C()},v(),93!==(t=y(o))&&i("Unclosed [",o),o++):40===t&&(e={type:"CallExpression",arguments:E(41),callee:e}),v(),t=y(o);return e},T=function(){o++;var t=C();if(v(),41===y(o))return o++,t;i("Unclosed (",o)},A=function(){return o++,{type:"ArrayExpression",elements:E(93)}},I=[];o<b;)59===(e=y(o))||44===e?o++:(n=C())?I.push(n):o<b&&i('Unexpected "'+_(o)+'"',o);return 1===I.length?I[0]:{type:"Compound",body:I}};_.version="0.3.4",_.toString=function(){return"JavaScript Expression Parser (JSEP) v"+_.version},_.addUnaryOp=function(t){return c=Math.max(t.length,c),r[t]=o,this},_.addBinaryOp=function(t,e){return l=Math.max(t.length,l),a[t]=e,this},_.addIdentifierChar=function(t){return s[t]=o,this},_.addLiteral=function(t,e){return d[t]=e,this},_.removeUnaryOp=function(t){return delete r[t],t.length===c&&(c=u(r)),this},_.removeAllUnaryOps=function(){return r={},c=0,this},_.removeIdentifierChar=function(t){return delete s[t],this},_.removeBinaryOp=function(t){return delete a[t],t.length===l&&(l=u(a)),this},_.removeAllBinaryOps=function(){return a={},l=0,this},_.removeLiteral=function(t){return delete d[t],this},_.removeAllLiterals=function(){return d={},this},void 0!==t&&t.exports?e=t.exports=_:e.parse=_}()},function(t,e){function n(t,e,n,i,o,r,a){try{var s=t[r](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,o)}t.exports=function(t){return function(){var e=this,i=arguments;return new Promise((function(o,r){var a=t.apply(e,i);function s(t){n(a,o,r,s,u,"next",t)}function u(t){n(a,o,r,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i(e)}t.exports=i},function(t,e,n){var i=n(15);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){i(t,e,n[e])}))}return t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){n(0);var i=n(26),o=n(15);function r(t,e,n,a){return(r="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var a,s=i(t,e);if(s){if((a=Object.getOwnPropertyDescriptor(s,e)).set)return a.set.call(r,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(r,e)){if(!a.writable)return!1;a.value=n,Object.defineProperty(r,e,a)}else o(r,e,n);return!0})(t,e,n,a)}t.exports=function(t,e,n,i,o){if(!r(t,e,n,i||t)&&o)throw new Error("failed to set property");return n}},function(t){t.exports={a:"1.4.5"}},function(t,e){t.exports='#ifndef CIELAB_TO_SRGBA\n#define CIELAB_TO_SRGBA\n\nconst mat3 XYZ_2_RGB = (mat3(\n    3.2404542,-1.5371385,-0.4985314,\n    -0.9692660, 1.8760108, 0.0415560,\n    0.0556434,-0.2040259, 1.0572252\n));\nconst float SRGB_GAMMA = 1.0 / 2.2;\n\nvec3 rgb_to_srgb_approx(vec3 rgb) {\n    return pow(rgb, vec3(SRGB_GAMMA));\n}\n\nfloat f1(float t){\n    const float sigma = 6./29.;\n    if (t>sigma){\n        return t*t*t;\n    }else{\n        return 3.*sigma*sigma*(t-4./29.);\n    }\n}\n\nvec3 cielabtoxyz(vec3 c) {\n    const float xn = 95.047/100.;\n    const float yn = 100./100.;\n    const float zn = 108.883/100.;\n    return vec3(xn*f1((c.x+16.)/116.  + c.y/500. ),\n                yn*f1((c.x+16.)/116.),\n                zn*f1((c.x+16.)/116.  - c.z/200. )\n            );\n}\n\nvec3 xyztorgb(vec3 c){\n    return c * XYZ_2_RGB;\n}\n\nvec3 xyztosrgb(vec3 c) { // FIXME naming\n    return rgb_to_srgb_approx(xyztorgb(c));\n}\n\nvec4 cielabToSRGBA(vec4 cielab){\n    return vec4(xyztosrgb(cielabtoxyz(\n        vec3(\n            clamp(cielab.r, 0., 100.),\n            clamp(cielab.g, -128., 128.),\n            clamp(cielab.b, -128., 128.)\n        )\n    )), cielab.a);\n}\n#endif\n\n\n#ifndef SRGBA_TO_CIELAB\n#define SRGBA_TO_CIELAB\nvec4 sRGBToXYZ (vec4 srgba);\nvec4 sRGBToLinearRGB (vec4 srgba);\nfloat inverseGammaCorrection(float t);\nvec4 XYZToCieLab (vec4 xyza);\nfloat XYZToCieLabAux(float t);\n\nvec4 sRGBAToCieLAB(vec4 srgba){\n    return XYZToCieLab(sRGBToXYZ(srgba));\n}\n\n// Convert sRGB to CIE XYZ with the D65 white point\nvec4 sRGBToXYZ (vec4 srgba) {\n    // Poynton, "Frequently Asked Questions About Color," page 10\n    // Wikipedia: http://en.wikipedia.org/wiki/SRGB\n    // Wikipedia: http://en.wikipedia.org/wiki/CIE_1931_color_space\n    vec4 rgba = sRGBToLinearRGB(srgba);\n    return vec4(\n        (0.4123955889674142161 * rgba.r + 0.3575834307637148171 * rgba.g + 0.1804926473817015735 * rgba.b),\n        (0.2125862307855955516 * rgba.r + 0.7151703037034108499 * rgba.g + 0.07220049864333622685 * rgba.b),\n        (0.01929721549174694484 * rgba.r + 0.1191838645808485318 * rgba.g + 0.9504971251315797660 * rgba.b),\n        rgba.a\n    );\n}\n\nvec4 sRGBToLinearRGB (vec4 srgba) {\n    // http://en.wikipedia.org/wiki/SRGB\n    return vec4(\n        inverseGammaCorrection(srgba.r),\n        inverseGammaCorrection(srgba.g),\n        inverseGammaCorrection(srgba.b),\n        srgba.a\n    );\n}\n\nfloat inverseGammaCorrection(float t) {\n    return t <= 0.0404482362771076 ? t / 12.92 : pow((t + 0.055) / 1.055, 2.4);\n}\n\n\nfloat WHITEPOINT_D65_X = 0.950456;\nfloat WHITEPOINT_D65_Y = 1.0;\nfloat WHITEPOINT_D65_Z = 1.088754;\n\n// Convert CIE XYZ to CIE L*a*b* (CIELAB) with the D65 white point\nvec4 XYZToCieLab (vec4 xyza) {\n    // Wikipedia: http://en.wikipedia.org/wiki/Lab_color_space\n\n    float xn = WHITEPOINT_D65_X;\n    float yn = WHITEPOINT_D65_Y;\n    float zn = WHITEPOINT_D65_Z;\n\n    return vec4(\n        116. * XYZToCieLabAux(xyza.y / yn) - 16.,\n        500. * (XYZToCieLabAux(xyza.x / xn) - XYZToCieLabAux(xyza.y / yn)),\n        200. * (XYZToCieLabAux(xyza.y / yn) - XYZToCieLabAux(xyza.z / zn)),\n        xyza.a\n    );\n}\n\nfloat XYZToCieLabAux(float t) {\n    return t >= 8.85645167903563082e-3\n            ? pow(t, 0.333333333333333) : (841.0 / 108.0) * t + 4.0 / 29.0;\n}\n\n#endif\n'},function(t,e){t.exports="precision highp float;\nattribute vec2 vertex;\n\nvarying  vec2 uv;\n\nvoid main(void) {\n    uv = vertex*0.5+vec2(0.5);\n    gl_Position = vec4(vertex, 0.5, 1.);\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying vec2 uv;\n\nvec2 featureID;\n\n$propertyPreface\n$style_preface\n\nvoid main(void) {\n    featureID = abs(uv);\n    gl_FragColor = $style_inline;\n}\n"},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e,n){t.exports=n(60)},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){var i=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,c=[],l=!1,d=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++d<e;)u&&u[d].run();d=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var i=n(0),o=n(21),r=n(55),a=n(6);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(t){if(null===t||!r(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return a(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)},s(e)}t.exports=s},function(t,e,n){var i=n(57);t.exports=function(t,e){if(null==t)return{};var n,o,r=i(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)e.indexOf(n=a[o])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}},function(t,e,n){var i=n(24),o=n(23),r=n(25);t.exports=function(t){return i(t)||o(t)||r()}},function(t,e,n){"use strict";t.exports=_;var i,o=n(63),r=n(65),a=n(69),s=(i="function"==typeof Symbol?function(t){return Symbol(t)}:function(t){return"_"+t})("max"),u=i("length"),c=i("lengthCalculator"),l=i("allowStale"),d=i("maxAge"),h=i("dispose"),p=i("noDisposeOnSet"),f=i("lruList"),g=i("cache");function m(){return 1}function _(t){if(!(this instanceof _))return new _(t);"number"==typeof t&&(t={max:t}),t||(t={});var e=this[s]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[s]=1/0);var n=t.length||m;"function"!=typeof n&&(n=m),this[c]=n,this[l]=t.stale||!1,this[d]=t.maxAge||0,this[h]=t.dispose,this[p]=t.noDisposeOnSet||!1,this.reset()}function y(t,e,n,i){var o=n.value;v(t,o)&&(x(t,n),t[l]||(o=void 0)),o&&e.call(i,o.value,o.key,t)}function b(t,e,n){var i=t[g].get(e);if(i){var o=i.value;v(t,o)?(x(t,i),t[l]||(o=void 0)):n&&t[f].unshiftNode(i),o&&(o=o.value)}return o}function v(t,e){if(!e||!e.maxAge&&!t[d])return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[d]&&n>t[d]}function C(t){if(t[u]>t[s])for(var e=t[f].tail;t[u]>t[s]&&null!==e;){var n=e.prev;x(t,e),e=n}}function x(t,e){if(e){var n=e.value;t[h]&&t[h](n.key,n.value),t[u]-=n.length,t[g].delete(n.key),t[f].removeNode(e)}}Object.defineProperty(_.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[s]=t,C(this)},get:function(){return this[s]},enumerable:!0}),Object.defineProperty(_.prototype,"allowStale",{set:function(t){this[l]=!!t},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(_.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[d]=t,C(this)},get:function(){return this[d]},enumerable:!0}),Object.defineProperty(_.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=m),t!==this[c]&&(this[c]=t,this[u]=0,this[f].forEach((function(t){t.length=this[c](t.value,t.key),this[u]+=t.length}),this)),C(this)},get:function(){return this[c]},enumerable:!0}),Object.defineProperty(_.prototype,"length",{get:function(){return this[u]},enumerable:!0}),Object.defineProperty(_.prototype,"itemCount",{get:function(){return this[f].length},enumerable:!0}),_.prototype.rforEach=function(t,e){e=e||this;for(var n=this[f].tail;null!==n;){var i=n.prev;y(this,t,n,e),n=i}},_.prototype.forEach=function(t,e){e=e||this;for(var n=this[f].head;null!==n;){var i=n.next;y(this,t,n,e),n=i}},_.prototype.keys=function(){return this[f].toArray().map((function(t){return t.key}),this)},_.prototype.values=function(){return this[f].toArray().map((function(t){return t.value}),this)},_.prototype.reset=function(){this[h]&&this[f]&&this[f].length&&this[f].forEach((function(t){this[h](t.key,t.value)}),this),this[g]=new o,this[f]=new a,this[u]=0},_.prototype.dump=function(){return this[f].map((function(t){if(!v(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}}),this).toArray().filter((function(t){return t}))},_.prototype.dumpLru=function(){return this[f]},_.prototype.inspect=function(t,e){var n="LRUCache {",i=!1;this[l]&&(n+="\n  allowStale: true",i=!0);var o=this[s];o&&o!==1/0&&(i&&(n+=","),n+="\n  max: "+r.inspect(o,e),i=!0);var a=this[d];a&&(i&&(n+=","),n+="\n  maxAge: "+r.inspect(a,e),i=!0);var h=this[c];h&&h!==m&&(i&&(n+=","),n+="\n  length: "+r.inspect(this[u],e),i=!0);var p=!1;return this[f].forEach((function(t){p?n+=",\n  ":(i&&(n+=",\n"),p=!0,n+="\n  ");var o=r.inspect(t.key).split("\n").join("\n  "),s={value:t.value};t.maxAge!==a&&(s.maxAge=t.maxAge),h!==m&&(s.length=t.length),v(this,t)&&(s.stale=!0),s=r.inspect(s,e).split("\n").join("\n  "),n+=o+" => "+s})),(p||i)&&(n+="\n"),n+="}"},_.prototype.set=function(t,e,n){var i=(n=n||this[d])?Date.now():0,o=this[c](e,t);if(this[g].has(t)){if(o>this[s])return x(this,this[g].get(t)),!1;var r=this[g].get(t).value;return this[h]&&(this[p]||this[h](t,r.value)),r.now=i,r.maxAge=n,r.value=e,this[u]+=o-r.length,r.length=o,this.get(t),C(this),!0}var a=new function(t,e,n,i,o){this.key=t,this.value=e,this.length=n,this.now=i,this.maxAge=o||0}(t,e,o,i,n);return a.length>this[s]?(this[h]&&this[h](t,e),!1):(this[u]+=a.length,this[f].unshift(a),this[g].set(t,this[f].head),C(this),!0)},_.prototype.has=function(t){return!!this[g].has(t)&&!v(this,this[g].get(t).value)},_.prototype.get=function(t){return b(this,t,!0)},_.prototype.peek=function(t){return b(this,t,!1)},_.prototype.pop=function(){var t=this[f].tail;return t?(x(this,t),t.value):null},_.prototype.del=function(t){x(this,this[g].get(t))},_.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var i=t[n],o=i.e||0;if(0===o)this.set(i.k,i.v);else{var r=o-e;r>0&&this.set(i.k,i.v,r)}}},_.prototype.prune=function(){var t=this;this[g].forEach((function(e,n){b(t,n,!1)}))}},function(t,e,n){"use strict";function i(t,e,n){var i,a,s,u,c,l=t.length,d=r(t[0],e),h=[];for(n||(n=[]),i=1;i<l;i++){for(a=t[i-1],u=c=r(s=t[i],e);;){if(!(d|u)){h.push(a),u!==c?(h.push(s),i<l-1&&(n.push(h),h=[])):i===l-1&&h.push(s);break}if(d&u)break;d?d=r(a=o(a,s,d,e),e):u=r(s=o(a,s,u,e),e)}d=c}return h.length&&n.push(h),n}function o(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function r(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}t.exports=i,i.polyline=i,i.polygon=function(t,e){var n,i,a,s,u,c,l;for(i=1;i<=8;i*=2){for(n=[],s=!(r(a=t[t.length-1],e)&i),u=0;u<t.length;u++)(l=!(r(c=t[u],e)&i))!==s&&n.push(o(a,c,i,e)),l&&n.push(c),a=c,s=l;if(!(t=n).length)break}return n}},function(t,e){t.exports="precision highp float;\nattribute vec2 vertex;\n\nvarying  vec2 uv;\n\nvoid main(void) {\n    uv = vertex*0.5+vec2(0.5);\n    gl_Position = vec4(vertex, 0.5, 1.);\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying  vec2 uv;\n\nuniform sampler2D aaTex;\n\nvoid main(void) {\n    vec4 aa = texture2D(aaTex, uv);\n    gl_FragColor = aa;\n}\n"},function(t,e){t.exports="vec2 encodeWidth(float x) {\n    if (!(x<=0. || x>=0.) ){\n        // Convert NaN widths to `0`\n        // Do not remove this, some GPUs will convert NaN floats to 1. when\n        // packing the shader output to a RGBA UNSIGNED BYTE textures\n        x = 0.;\n    }\n    float high, low;\n    x = clamp(x, 0., 1023.);\n    high = floor(x/4.);\n    low = (x-high*4.)/4.;\n    return vec2(high/255., low);\n}\n\n$width_preface\n"},function(t,e){t.exports="precision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\n\nuniform float orderMinWidth;\nuniform float orderMaxWidth;\nuniform float devicePixelRatio;\nuniform vec2 resolution;\nuniform mat4 matrix;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D filterTex;\n\nvarying highp vec2 featureIDVar;\nvarying highp vec4 color;\nvarying highp vec2 pointCoord;\nvarying highp float filtering;\n\nfloat decodeWidth(vec2 enc) {\n  return enc.x*(255.*4.) + 4.*enc.y;\n}\n\n$symbolPlacement_preface\n$propertyPreface\n$transform_preface\n\nvec2 transform(vec2 p){\n    return $transform_inline(2.*p)/resolution;\n}\n\n// We'll need a square inscribed in a triangle\n// The triangle will be equilateral\n// The square side length will be equal to 1\n// Each triangle edge length will be equal to 1+2*A (by definition of A)\n// The triangle height will be equal to H by definition\n// The square inscription will generate 3 smaller triangles\n// Each one of these will have an hypotenuse equal to Y\n//\n// Therefore:\n// Y*sin(60) = 1  =>  Y = 2 / sqrt(3)\n// A=Y*cos(60)    =>  A = 1 / sqrt(3)\n// tan(60) = H / (0.5 + A)   =>  H = sqrt(3)*(0.5 + 1 / sqrt(3))\n#define A (0.577350269189625)\n#define H (1.86603)\n\nvoid main(void) {\n    featureIDVar = abs(featureID);\n    color = texture2D(colorTex, abs(featureID));\n    filtering = texture2D(filterTex, abs(featureID)).a;\n\n    float size = decodeWidth(texture2D(widthTex, abs(featureID)).rg);\n\n    vec4 p =  matrix*vec4(vertexPosition, 0., 1.);\n    p/=p.w;\n\n    if (featureID.y<0.){\n        pointCoord = vec2((0.5+A)/(0.5), 0.);\n        p.xy += transform(size*vec2(0.5+A, -H/2. + (H/2. - 0.5) ));\n    }else if (featureID.x<0.){\n        pointCoord = vec2(-(0.5+A)/(0.5), 0.);\n        p.xy += transform(size*vec2(-(0.5+A), -H/2. + (H/2. - 0.5)));\n    }else{\n        pointCoord = vec2(0., H);\n        p.xy += transform(size*vec2(0., H/2. + (H/2. - 0.5)));\n    }\n    pointCoord.y = 1.-pointCoord.y;\n\n\n    p.xy += ($symbolPlacement_inline)*size/resolution;\n\n\n    vec4 noOverrideColor = vec4(1., 1., 1., 0.);\n    bool alphaButNotOverrideColor = (color.a==0. && color != noOverrideColor);\n\n    if (size==0. || alphaButNotOverrideColor || size<orderMinWidth || size>=orderMaxWidth){\n        p.x=10000.;\n    }\n\n    gl_Position  = p;\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying highp vec2 featureIDVar;\nvarying highp vec4 color;\nvarying highp vec2 pointCoord;\nvarying highp float filtering;\n\n$symbol_preface\n$propertyPreface\n\nvoid main(void) {\n    vec2 featureID = abs(featureIDVar);\n    vec2 imageUV = pointCoord;\n    imageUV.x = imageUV.x * 0.5 + 0.5;\n    vec4 symbolColor = $symbol_inline;\n    vec4 noOverrideColor = vec4(1., 1., 1., 0.);\n\n    vec4 c;\n    if (color != noOverrideColor){\n        c = color * vec4(vec3(1), symbolColor.a);\n    }else{\n        c = symbolColor;\n    }\n    c.a *= filtering;\n    if (imageUV!=clamp(imageUV, 0.,1.)){\n        c.a = 0.;\n    }\n\n    gl_FragColor = vec4(c.rgb*c.a, c.a);\n}\n"},function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,s,u,c,l,p,g,m=e&&e.length,_=m?e[0]*n:t.length,y=o(t,0,_,n,!0),b=[];if(!y)return b;if(m&&(y=function(t,e,n,i){var a,s,u,c=[];for(a=0,s=e.length;a<s;a++)(u=o(t,e[a]*i,a<s-1?e[a+1]*i:t.length,i,!1))===u.next&&(u.steiner=!0),c.push(f(u));for(c.sort(d),a=0;a<c.length;a++)h(c[a],n),n=r(n,n.next);return n}(t,e,y,n)),t.length>80*n){i=u=t[0],s=c=t[1];for(var v=n;v<_;v+=n)(l=t[v])<i&&(i=l),(p=t[v+1])<s&&(s=p),l>u&&(u=l),p>c&&(c=p);g=0!==(g=Math.max(u-i,c-s))?1/g:0}return a(y,b,n,i,s,g),b}function o(t,e,n,i,o){var r,a;if(o===M(t,e,n,i)>0)for(r=e;r<n;r+=i)a=x(r,t[r],t[r+1],a);else for(r=n-i;r>=e;r-=i)a=x(r,t[r],t[r+1],a);return a&&y(a,a.next)&&(w(a),a=a.next),a}function r(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!y(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(w(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function a(t,e,n,i,o,d,h){if(t){!h&&d&&function(t,e,n,i){var o=t;do{null===o.z&&(o.z=p(o.x,o.y,e,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,i,o,r,a,s,u,c=1;do{for(n=t,t=null,r=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ);e++);for(u=c;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(o=n,n=n.nextZ,s--):(o=i,i=i.nextZ,u--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;n=i}r.nextZ=null,c*=2}while(a>1)}(o)}(t,i,o,d);for(var f,g,m=t;t.prev!==t.next;)if(f=t.prev,g=t.next,d?u(t,i,o,d):s(t))e.push(f.i/n),e.push(t.i/n),e.push(g.i/n),w(t),t=g.next,m=g.next;else if((t=g)===m){h?1===h?a(t=c(t,e,n),e,n,i,o,d,2):2===h&&l(t,e,n,i,o,d):a(r(t),e,n,i,o,d,1);break}}}function s(t){var e=t.prev,n=t,i=t.next;if(_(e,n,i)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(g(e.x,e.y,n.x,n.y,i.x,i.y,o.x,o.y)&&_(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function u(t,e,n,i){var o=t.prev,r=t,a=t.next;if(_(o,r,a)>=0)return!1;for(var s=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,u=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,c=p(o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,e,n,i),l=p(s,u,e,n,i),d=t.prevZ,h=t.nextZ;d&&d.z>=c&&h&&h.z<=l;){if(d!==t.prev&&d!==t.next&&g(o.x,o.y,r.x,r.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,h!==t.prev&&h!==t.next&&g(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&_(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&g(o.x,o.y,r.x,r.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;h&&h.z<=l;){if(h!==t.prev&&h!==t.next&&g(o.x,o.y,r.x,r.y,a.x,a.y,h.x,h.y)&&_(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function c(t,e,n){var i=t;do{var o=i.prev,r=i.next.next;!y(o,r)&&b(o,i,i.next,r)&&v(o,r)&&v(r,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(r.i/n),w(i),w(i.next),i=t=r),i=i.next}while(i!==t);return i}function l(t,e,n,i,o,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&m(u,c)){var l=C(u,c);return u=r(u,u.next),l=r(l,l.next),a(u,e,n,i,o,s),void a(l,e,n,i,o,s)}c=c.next}u=u.next}while(u!==t)}function d(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,i=e,o=t.x,r=t.y,a=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){var s=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=o&&s>a){if(a=s,s===o){if(r===i.y)return i;if(r===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(o===a)return n.prev;var u,c=n,l=n.x,d=n.y,h=1/0;for(i=n.next;i!==c;)o>=i.x&&i.x>=l&&o!==i.x&&g(r<d?o:a,r,l,d,r<d?a:o,r,i.x,i.y)&&((u=Math.abs(r-i.y)/(o-i.x))<h||u===h&&i.x>n.x)&&v(i,t)&&(n=i,h=u),i=i.next;return n}(t,e)){var n=C(e,t);r(n,n.next)}}function p(t,e,n,i,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function g(t,e,n,i,o,r,a,s){return(o-a)*(e-s)-(t-a)*(r-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(r-s)-(o-a)*(i-s)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&v(t,e)&&v(e,t)&&function(t,e){var n=t,i=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;do{n.y>r!=n.next.y>r&&n.next.y!==n.y&&o<(n.next.x-n.x)*(r-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,i){return!!(y(t,e)&&y(n,i)||y(t,i)&&y(n,e))||_(t,e,n)>0!=_(t,e,i)>0&&_(n,i,t)>0!=_(n,i,e)>0}function v(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function C(t,e){var n=new P(t.i,t.x,t.y),i=new P(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,i.next=n,n.prev=i,r.next=i,i.prev=r,i}function x(t,e,n,i){var o=new P(t,e,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function M(t,e,n,i){for(var o=0,r=e,a=n-i;r<n;r+=i)o+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;return o}t.exports=i,t.exports.default=i,i.deviation=function(t,e,n,i){var o=e&&e.length,r=Math.abs(M(t,0,o?e[0]*n:t.length,n));if(o)for(var a=0,s=e.length;a<s;a++)r-=Math.abs(M(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,l=i[a+1]*n,d=i[a+2]*n;u+=Math.abs((t[c]-t[d])*(t[l+1]-t[c+1])-(t[c]-t[l])*(t[d+1]-t[c+1]))}return 0===r&&0===u?0:Math.abs((u-r)/r)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var a=0;a<e;a++)n.vertices.push(t[o][r][a]);o>0&&n.holes.push(i+=t[o-1].length)}return n}},function(t,e,n){t.exports=function(){return n(70)('/*!\n * CARTO VL js https://carto.com/\n * Version: 1.4.5\n * \n */!function(t){var e={};function __webpack_require__(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(r,n,function(e){return t[e]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=40)}([function(t,e){t.exports=function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function _getPrototypeOf(e){return t.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(e)}t.exports=_getPrototypeOf},function(t,e){function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}},function(t,e,r){var n=r(7),a=r(33);t.exports=function _possibleConstructorReturn(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}},function(t,e,r){var n=r(11);t.exports=function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){var n=r(25),a=r(26),o=r(27);t.exports=function _slicedToArray(t,e){return n(t)||a(t,e)||o()}},function(t,e,r){var n=r(37),a=r(38),o=r(39);t.exports=function _toConsumableArray(t){return n(t)||a(t)||o()}},function(t,e){function _typeof2(t){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(t){return typeof t}:function _typeof2(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(e){return"function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?t.exports=_typeof=function _typeof(t){return _typeof2(t)}:t.exports=_typeof=function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t)},_typeof(e)}t.exports=_typeof},function(t,e,r){r(1);var n=r(36);function _get(e,r,a){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=_get=Reflect.get:t.exports=_get=function _get(t,e,r){var a=n(t,e);if(a){var o=Object.getOwnPropertyDescriptor(a,e);return o.get?o.get.call(r):o.value}},_get(e,r,a||e)}t.exports=_get},function(t,e,r){t.exports=r(28)},function(t,e){function asyncGeneratorStep(t,e,r,n,a,o,i){try{var u=t[o](i),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,a)}t.exports=function _asyncToGenerator(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function _next(t){asyncGeneratorStep(o,n,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(o,n,a,_next,_throw,"throw",t)}_next(void 0)})}}},function(t,e){function _setPrototypeOf(e,r){return t.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(e,r)}t.exports=_setPrototypeOf},function(t,e,r){"use strict";var n=r(13);function VectorTileLayer(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(readLayer,this,e),this.length=this._features.length}function readLayer(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function readValueMessage(t){var e=null,r=t.readVarint()+t.pos;for(;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(r))}t.exports=VectorTileLayer,VectorTileLayer.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,e,this.extent,this._keys,this._values)}},function(t,e,r){"use strict";var n=r(31);function VectorTileFeature(t,e,r,n,a){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=a,t.readFields(readFeature,this,e)}function readFeature(t,e,r){1==t?e.id=r.readVarint():2==t?function readTag(t,e){var r=t.readVarint()+t.pos;for(;t.pos<r;){var n=e._keys[t.readVarint()],a=e._values[t.readVarint()];e.properties[n]=a}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos)}function signedArea(t){for(var e,r,n=0,a=0,o=t.length,i=o-1;a<o;i=a++)e=t[a],n+=((r=t[i]).x-e.x)*(e.y+r.y);return n}t.exports=VectorTileFeature,VectorTileFeature.types=["Unknown","Point","LineString","Polygon"],VectorTileFeature.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,a=1,o=0,i=0,u=0,s=[];t.pos<r;){if(o<=0){var c=t.readVarint();a=7&c,o=c>>3}if(o--,1===a||2===a)i+=t.readSVarint(),u+=t.readSVarint(),1===a&&(e&&s.push(e),e=[]),e.push(new n(i,u));else{if(7!==a)throw new Error("unknown command "+a);e&&e.push(e[0].clone())}}return e&&s.push(e),s},VectorTileFeature.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,a=0,o=0,i=1/0,u=-1/0,s=1/0,c=-1/0;t.pos<e;){if(n<=0){var f=t.readVarint();r=7&f,n=f>>3}if(n--,1===r||2===r)a+=t.readSVarint(),o+=t.readSVarint(),a<i&&(i=a),a>u&&(u=a),o<s&&(s=o),o>c&&(c=o);else if(7!==r)throw new Error("unknown command "+r)}return[i,s,u,c]},VectorTileFeature.prototype.toGeoJSON=function(t,e,r){var n,a,o=this.extent*Math.pow(2,r),i=this.extent*t,u=this.extent*e,s=this.loadGeometry(),c=VectorTileFeature.types[this.type];function project(t){for(var e=0;e<t.length;e++){var r=t[e],n=180-360*(r.y+u)/o;t[e]=[360*(r.x+i)/o-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(n=0;n<s.length;n++)f[n]=s[n][0];project(s=f);break;case 2:for(n=0;n<s.length;n++)project(s[n]);break;case 3:for(s=function classifyRings(t){var e=t.length;if(e<=1)return[t];for(var r,n,a=[],o=0;o<e;o++){var i=signedArea(t[o]);0!==i&&(void 0===n&&(n=i<0),n===i<0?(r&&a.push(r),r=[t[o]]):r.push(t[o]))}r&&a.push(r);return a}(s),n=0;n<s.length;n++)for(a=0;a<s[n].length;a++)project(s[n][a])}1===s.length?s=s[0]:c="Multi"+c;var l={type:"Feature",geometry:{type:c,coordinates:s},properties:this.properties};return"id"in this&&(l.id=this.id),l}},function(t,e,r){t.exports.VectorTile=r(30),t.exports.VectorTileFeature=r(13),t.exports.VectorTileLayer=r(12)},function(t,e,r){"use strict";t.exports=Pbf;var n=r(32);function Pbf(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Pbf.Varint=0,Pbf.Fixed64=1,Pbf.Bytes=2,Pbf.Fixed32=5;function readPackedEnd(t){return t.type===Pbf.Bytes?t.readVarint()+t.pos:t.pos+1}function toNum(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function makeRoomForExtraLength(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var a=r.pos-1;a>=t;a--)r.buf[a+n]=r.buf[a]}function writePackedVarint(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r])}function writePackedSVarint(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r])}function writePackedFloat(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r])}function writePackedDouble(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r])}function writePackedBoolean(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r])}function writePackedFixed32(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r])}function writePackedSFixed32(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r])}function writePackedFixed64(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r])}function writePackedSFixed64(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r])}function readUInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function writeInt32(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function readInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Pbf.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),a=n>>3,o=this.pos;this.type=7&n,t(a,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=readUInt32(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=readInt32(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=readUInt32(this.buf,this.pos)+4294967296*readUInt32(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=readUInt32(this.buf,this.pos)+4294967296*readInt32(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function readVarintRemainder(t,e,r){var n,a,o=r.buf;if(a=o[r.pos++],n=(112&a)>>4,a<128)return toNum(t,n,e);if(a=o[r.pos++],n|=(127&a)<<3,a<128)return toNum(t,n,e);if(a=o[r.pos++],n|=(127&a)<<10,a<128)return toNum(t,n,e);if(a=o[r.pos++],n|=(127&a)<<17,a<128)return toNum(t,n,e);if(a=o[r.pos++],n|=(127&a)<<24,a<128)return toNum(t,n,e);if(a=o[r.pos++],n|=(1&a)<<31,a<128)return toNum(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function readUtf8(t,e,r){var n="",a=e;for(;a<r;){var o,i,u,s=t[a],c=null,f=s>239?4:s>223?3:s>191?2:1;if(a+f>r)break;1===f?s<128&&(c=s):2===f?128==(192&(o=t[a+1]))&&(c=(31&s)<<6|63&o)<=127&&(c=null):3===f?(o=t[a+1],i=t[a+2],128==(192&o)&&128==(192&i)&&((c=(15&s)<<12|(63&o)<<6|63&i)<=2047||c>=55296&&c<=57343)&&(c=null)):4===f&&(o=t[a+1],i=t[a+2],u=t[a+3],128==(192&o)&&128==(192&i)&&128==(192&u)&&((c=(15&s)<<18|(63&o)<<12|(63&i)<<6|63&u)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,f=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),a+=f}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var r=readPackedEnd(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=readPackedEnd(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Pbf.Varint)for(;this.buf[this.pos++]>127;);else if(e===Pbf.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Pbf.Fixed32)this.pos+=4;else{if(e!==Pbf.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),writeInt32(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),writeInt32(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),writeInt32(this.buf,-1&t,this.pos),writeInt32(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),writeInt32(this.buf,-1&t,this.pos),writeInt32(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function writeBigVarint(t,e){var r,n;t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn\'t fit into 10 bytes");e.realloc(10),function writeBigVarintLow(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos]=127&t}(r,0,e),function writeBigVarintHigh(t,e){var r=(7&t)<<4;if(e.buf[e.pos++]|=r|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function writeUtf8(t,e,r){for(var n,a,o=0;o<e.length;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){n>56319||o+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):a=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,a=n;continue}n=a-55296<<10|n-56320|65536,a=null}else a&&(t[r++]=239,t[r++]=191,t[r++]=189,a=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&makeRoomForExtraLength(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),n.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),n.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&makeRoomForExtraLength(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,Pbf.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){this.writeMessage(t,writePackedVarint,e)},writePackedSVarint:function(t,e){this.writeMessage(t,writePackedSVarint,e)},writePackedBoolean:function(t,e){this.writeMessage(t,writePackedBoolean,e)},writePackedFloat:function(t,e){this.writeMessage(t,writePackedFloat,e)},writePackedDouble:function(t,e){this.writeMessage(t,writePackedDouble,e)},writePackedFixed32:function(t,e){this.writeMessage(t,writePackedFixed32,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,writePackedSFixed32,e)},writePackedFixed64:function(t,e){this.writeMessage(t,writePackedFixed64,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,writePackedSFixed64,e)},writeBytesField:function(t,e){this.writeTag(t,Pbf.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Pbf.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Pbf.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Pbf.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Pbf.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Pbf.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Pbf.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Pbf.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Pbf.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Pbf.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e,r){var n=r(1),a=r(11),o=r(34),i=r(35);function _wrapNativeSuper(e){var r="function"==typeof Map?new Map:void 0;return t.exports=_wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!o(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return i(t,arguments,n(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),a(Wrapper,t)},_wrapNativeSuper(e)}t.exports=_wrapNativeSuper},function(t,e,r){"use strict";function earcut(t,e,r){r=r||2;var n,a,o,i,u,s,c,f=e&&e.length,l=f?e[0]*r:t.length,h=linkedList(t,0,l,r,!0),d=[];if(!h)return d;if(f&&(h=function eliminateHoles(t,e,r,n){var a,o,i,u,s,c=[];for(a=0,o=e.length;a<o;a++)i=e[a]*n,u=a<o-1?e[a+1]*n:t.length,(s=linkedList(t,i,u,n,!1))===s.next&&(s.steiner=!0),c.push(getLeftmost(s));for(c.sort(compareX),a=0;a<c.length;a++)eliminateHole(c[a],r),r=filterPoints(r,r.next);return r}(t,e,h,r)),t.length>80*r){n=o=t[0],a=i=t[1];for(var p=r;p<l;p+=r)u=t[p],s=t[p+1],u<n&&(n=u),s<a&&(a=s),u>o&&(o=u),s>i&&(i=s);c=0!==(c=Math.max(o-n,i-a))?1/c:0}return earcutLinked(h,d,r,n,a,c),d}function linkedList(t,e,r,n,a){var o,i;if(a===signedArea(t,e,r,n)>0)for(o=e;o<r;o+=n)i=insertNode(o,t[o],t[o+1],i);else for(o=r-n;o>=e;o-=n)i=insertNode(o,t[o],t[o+1],i);return i&&equals(i,i.next)&&(removeNode(i),i=i.next),i}function filterPoints(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!equals(n,n.next)&&0!==area(n.prev,n,n.next))n=n.next;else{if(removeNode(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function earcutLinked(t,e,r,n,a,o,i){if(t){!i&&o&&function indexCurve(t,e,r,n){var a=t;do{null===a.z&&(a.z=zOrder(a.x,a.y,e,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==t);a.prevZ.nextZ=null,a.prevZ=null,function sortLinked(t){var e,r,n,a,o,i,u,s,c=1;do{for(r=t,t=null,o=null,i=0;r;){for(i++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ);e++);for(s=c;u>0||s>0&&n;)0!==u&&(0===s||!n||r.z<=n.z)?(a=r,r=r.nextZ,u--):(a=n,n=n.nextZ,s--),o?o.nextZ=a:t=a,a.prevZ=o,o=a;r=n}o.nextZ=null,c*=2}while(i>1);return t}(a)}(t,n,a,o);for(var u,s,c=t;t.prev!==t.next;)if(u=t.prev,s=t.next,o?isEarHashed(t,n,a,o):isEar(t))e.push(u.i/r),e.push(t.i/r),e.push(s.i/r),removeNode(t),t=s.next,c=s.next;else if((t=s)===c){i?1===i?earcutLinked(t=cureLocalIntersections(t,e,r),e,r,n,a,o,2):2===i&&splitEarcut(t,e,r,n,a,o):earcutLinked(filterPoints(t),e,r,n,a,o,1);break}}}function isEar(t){var e=t.prev,r=t,n=t.next;if(area(e,r,n)>=0)return!1;for(var a=t.next.next;a!==t.prev;){if(pointInTriangle(e.x,e.y,r.x,r.y,n.x,n.y,a.x,a.y)&&area(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function isEarHashed(t,e,r,n){var a=t.prev,o=t,i=t.next;if(area(a,o,i)>=0)return!1;for(var u=a.x<o.x?a.x<i.x?a.x:i.x:o.x<i.x?o.x:i.x,s=a.y<o.y?a.y<i.y?a.y:i.y:o.y<i.y?o.y:i.y,c=a.x>o.x?a.x>i.x?a.x:i.x:o.x>i.x?o.x:i.x,f=a.y>o.y?a.y>i.y?a.y:i.y:o.y>i.y?o.y:i.y,l=zOrder(u,s,e,r,n),h=zOrder(c,f,e,r,n),d=t.prevZ,p=t.nextZ;d&&d.z>=l&&p&&p.z<=h;){if(d!==t.prev&&d!==t.next&&pointInTriangle(a.x,a.y,o.x,o.y,i.x,i.y,d.x,d.y)&&area(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&pointInTriangle(a.x,a.y,o.x,o.y,i.x,i.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&pointInTriangle(a.x,a.y,o.x,o.y,i.x,i.y,d.x,d.y)&&area(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==t.prev&&p!==t.next&&pointInTriangle(a.x,a.y,o.x,o.y,i.x,i.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function cureLocalIntersections(t,e,r){var n=t;do{var a=n.prev,o=n.next.next;!equals(a,o)&&intersects(a,n,n.next,o)&&locallyInside(a,o)&&locallyInside(o,a)&&(e.push(a.i/r),e.push(n.i/r),e.push(o.i/r),removeNode(n),removeNode(n.next),n=t=o),n=n.next}while(n!==t);return n}function splitEarcut(t,e,r,n,a,o){var i=t;do{for(var u=i.next.next;u!==i.prev;){if(i.i!==u.i&&isValidDiagonal(i,u)){var s=splitPolygon(i,u);return i=filterPoints(i,i.next),s=filterPoints(s,s.next),earcutLinked(i,e,r,n,a,o),void earcutLinked(s,e,r,n,a,o)}u=u.next}i=i.next}while(i!==t)}function compareX(t,e){return t.x-e.x}function eliminateHole(t,e){if(e=function findHoleBridge(t,e){var r,n=e,a=t.x,o=t.y,i=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var u=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=a&&u>i){if(i=u,u===a){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(a===i)return r.prev;var s,c=r,f=r.x,l=r.y,h=1/0;n=r.next;for(;n!==c;)a>=n.x&&n.x>=f&&a!==n.x&&pointInTriangle(o<l?a:i,o,f,l,o<l?i:a,o,n.x,n.y)&&((s=Math.abs(o-n.y)/(a-n.x))<h||s===h&&n.x>r.x)&&locallyInside(n,t)&&(r=n,h=s),n=n.next;return r}(t,e)){var r=splitPolygon(e,t);filterPoints(r,r.next)}}function zOrder(t,e,r,n,a){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*a)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*a)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function getLeftmost(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function pointInTriangle(t,e,r,n,a,o,i,u){return(a-i)*(e-u)-(t-i)*(o-u)>=0&&(t-i)*(n-u)-(r-i)*(e-u)>=0&&(r-i)*(o-u)-(a-i)*(n-u)>=0}function isValidDiagonal(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function intersectsPolygon(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&intersects(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&locallyInside(t,e)&&locallyInside(e,t)&&function middleInside(t,e){var r=t,n=!1,a=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&a<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function area(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function equals(t,e){return t.x===e.x&&t.y===e.y}function intersects(t,e,r,n){return!!(equals(t,e)&&equals(r,n)||equals(t,n)&&equals(r,e))||area(t,e,r)>0!=area(t,e,n)>0&&area(r,n,t)>0!=area(r,n,e)>0}function locallyInside(t,e){return area(t.prev,t,t.next)<0?area(t,e,t.next)>=0&&area(t,t.prev,e)>=0:area(t,e,t.prev)<0||area(t,t.next,e)<0}function splitPolygon(t,e){var r=new Node(t.i,t.x,t.y),n=new Node(e.i,e.x,e.y),a=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=a,a.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function insertNode(t,e,r,n){var a=new Node(t,e,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(t,e,r,n){for(var a=0,o=e,i=r-n;o<r;o+=n)a+=(t[i]-t[o])*(t[o+1]+t[i+1]),i=o;return a}t.exports=earcut,t.exports.default=earcut,earcut.deviation=function(t,e,r,n){var a=e&&e.length,o=a?e[0]*r:t.length,i=Math.abs(signedArea(t,0,o,r));if(a)for(var u=0,s=e.length;u<s;u++){var c=e[u]*r,f=u<s-1?e[u+1]*r:t.length;i-=Math.abs(signedArea(t,c,f,r))}var l=0;for(u=0;u<n.length;u+=3){var h=n[u]*r,d=n[u+1]*r,p=n[u+2]*r;l+=Math.abs((t[h]-t[p])*(t[d+1]-t[h+1])-(t[h]-t[d])*(t[p+1]-t[h+1]))}return 0===i&&0===l?0:Math.abs((l-i)/i)},earcut.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,a=0;a<t.length;a++){for(var o=0;o<t[a].length;o++)for(var i=0;i<e;i++)r.vertices.push(t[a][o][i]);a>0&&(n+=t[a-1].length,r.holes.push(n))}return r}},,,,,,,,function(t,e){t.exports=function _arrayWithHoles(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function _iterableToArrayLimit(t,e){var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}},function(t,e){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,r){var n=function(){return this||"object"==typeof self&&self}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(29),a)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=wrap;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",y={},v={};v[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(values([])));g&&g!==n&&a.call(g,i)&&(v=g);var x=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(v);GeneratorFunction.prototype=x.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},f.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[u]=function(){return this},f.AsyncIterator=AsyncIterator,f.async=function(t,e,r,n){var a=new AsyncIterator(wrap(t,e,r,n));return f.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function next(){for(;e.length;){var r=e.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},f.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function handle(n,a){return i.type="throw",i.arg=t,e.next=n,a&&(e.method="next",e.arg=r),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return handle("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0);if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return handle(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return handle(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;resetTryEntry(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:values(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function wrap(t,e,r,n){var a=e&&e.prototype instanceof Generator?e:Generator,o=Object.create(a.prototype),i=new Context(n||[]);return o._invoke=function makeInvokeMethod(t,e,r){var n=l;return function invoke(a,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===a)throw o;return doneResult()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=maybeInvokeDelegate(i,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=tryCatch(t,e,r);if("normal"===s.type){if(n=r.done?p:h,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=p,r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function AsyncIterator(t){var e;this._invoke=function enqueue(r,n){function callInvokeWithMethodAndArg(){return new Promise(function(e,o){!function invoke(e,r,n,o){var i=tryCatch(t[e],t,r);if("throw"!==i.type){var u=i.arg,s=u.value;return s&&"object"==typeof s&&a.call(s,"__await")?Promise.resolve(s.__await).then(function(t){invoke("next",t,n,o)},function(t){invoke("throw",t,n,o)}):Promise.resolve(s).then(function(t){u.value=t,n(u)},function(t){return invoke("throw",t,n,o)})}o(i.arg)}(r,n,e,o)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,maybeInvokeDelegate(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return y}var a=tryCatch(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,y;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function next(){for(;++n<t.length;)if(a.call(t,n))return next.value=t[n],next.done=!1,next;return next.value=r,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,r){"use strict";var n=r(12);function readTile(t,e,r){if(3===t){var a=new n(r,r.readVarint()+r.pos);a.length&&(e[a.name]=a)}}t.exports=function VectorTile(t,e){this.layers=t.readFields(readTile,{},e)}},function(t,e,r){"use strict";function Point(t,e){this.x=t,this.y=e}t.exports=Point,Point.prototype={clone:function(){return new Point(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=e*this.x-r*this.y,a=r*this.x+e*this.y;return this.x=n,this.y=a,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),a=e.x+r*(this.x-e.x)-n*(this.y-e.y),o=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Point.convert=function(t){return t instanceof Point?t:Array.isArray(t)?new Point(t[0],t[1]):t}},function(t,e){e.read=function(t,e,r,n,a){var o,i,u=8*a-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?a-1:0,h=r?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=u;f>0;o=256*o+t[e+l],l+=h,f-=8);for(i=o&(1<<-f)-1,o>>=-f,f+=n;f>0;i=256*i+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===s)return i?NaN:1/0*(d?-1:1);i+=Math.pow(2,n),o-=c}return(d?-1:1)*i*Math.pow(2,o-n)},e.write=function(t,e,r,n,a,o){var i,u,s,c=8*o-a-1,f=(1<<c)-1,l=f>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,i=f):(i=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-i))<1&&(i--,s*=2),(e+=i+l>=1?h/s:h*Math.pow(2,1-l))*s>=2&&(i++,s/=2),i+l>=f?(u=0,i=f):i+l>=1?(u=(e*s-1)*Math.pow(2,a),i+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,a),i=0));a>=8;t[r+d]=255&u,d+=p,u/=256,a-=8);for(i=i<<a|u,c+=a;c>0;t[r+d]=255&i,d+=p,i/=256,c-=8);t[r+d-p]|=128*y}},function(t,e){t.exports=function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}},function(t,e){t.exports=function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,r){var n=r(11);function _construct(e,r,a){return!function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=_construct=function _construct(t,e,r){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return r&&n(o,r.prototype),o}:t.exports=_construct=Reflect.construct,_construct.apply(null,arguments)}t.exports=_construct},function(t,e,r){var n=r(1);t.exports=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}},function(t,e){t.exports=function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}},function(t,e){t.exports=function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"create",function(){return create}),r.d(n,"clone",function(){return clone}),r.d(n,"copy",function(){return copy}),r.d(n,"fromValues",function(){return fromValues}),r.d(n,"set",function(){return set}),r.d(n,"identity",function(){return identity}),r.d(n,"transpose",function(){return transpose}),r.d(n,"invert",function(){return invert}),r.d(n,"adjoint",function(){return adjoint}),r.d(n,"determinant",function(){return determinant}),r.d(n,"multiply",function(){return multiply}),r.d(n,"translate",function(){return translate}),r.d(n,"scale",function(){return mat4_scale}),r.d(n,"rotate",function(){return rotate}),r.d(n,"rotateX",function(){return rotateX}),r.d(n,"rotateY",function(){return rotateY}),r.d(n,"rotateZ",function(){return rotateZ}),r.d(n,"fromTranslation",function(){return fromTranslation}),r.d(n,"fromScaling",function(){return fromScaling}),r.d(n,"fromRotation",function(){return fromRotation}),r.d(n,"fromXRotation",function(){return fromXRotation}),r.d(n,"fromYRotation",function(){return fromYRotation}),r.d(n,"fromZRotation",function(){return fromZRotation}),r.d(n,"fromRotationTranslation",function(){return fromRotationTranslation}),r.d(n,"fromQuat2",function(){return fromQuat2}),r.d(n,"getTranslation",function(){return getTranslation}),r.d(n,"getScaling",function(){return getScaling}),r.d(n,"getRotation",function(){return getRotation}),r.d(n,"fromRotationTranslationScale",function(){return fromRotationTranslationScale}),r.d(n,"fromRotationTranslationScaleOrigin",function(){return fromRotationTranslationScaleOrigin}),r.d(n,"fromQuat",function(){return fromQuat}),r.d(n,"frustum",function(){return frustum}),r.d(n,"perspective",function(){return perspective}),r.d(n,"perspectiveFromFieldOfView",function(){return perspectiveFromFieldOfView}),r.d(n,"ortho",function(){return ortho}),r.d(n,"lookAt",function(){return lookAt}),r.d(n,"targetTo",function(){return targetTo}),r.d(n,"str",function(){return str}),r.d(n,"frob",function(){return frob}),r.d(n,"add",function(){return add}),r.d(n,"subtract",function(){return subtract}),r.d(n,"multiplyScalar",function(){return multiplyScalar}),r.d(n,"multiplyScalarAndAdd",function(){return multiplyScalarAndAdd}),r.d(n,"exactEquals",function(){return exactEquals}),r.d(n,"equals",function(){return mat4_equals}),r.d(n,"mul",function(){return b}),r.d(n,"sub",function(){return M});var a={};r.r(a),r.d(a,"create",function(){return vec4_create}),r.d(a,"clone",function(){return vec4_clone}),r.d(a,"fromValues",function(){return vec4_fromValues}),r.d(a,"copy",function(){return vec4_copy}),r.d(a,"set",function(){return vec4_set}),r.d(a,"add",function(){return vec4_add}),r.d(a,"subtract",function(){return vec4_subtract}),r.d(a,"multiply",function(){return vec4_multiply}),r.d(a,"divide",function(){return divide}),r.d(a,"ceil",function(){return ceil}),r.d(a,"floor",function(){return floor}),r.d(a,"min",function(){return vec4_min}),r.d(a,"max",function(){return vec4_max}),r.d(a,"round",function(){return round}),r.d(a,"scale",function(){return vec4_scale}),r.d(a,"scaleAndAdd",function(){return scaleAndAdd}),r.d(a,"distance",function(){return distance}),r.d(a,"squaredDistance",function(){return squaredDistance}),r.d(a,"length",function(){return vec4_length}),r.d(a,"squaredLength",function(){return squaredLength}),r.d(a,"negate",function(){return negate}),r.d(a,"inverse",function(){return inverse}),r.d(a,"normalize",function(){return normalize}),r.d(a,"dot",function(){return dot}),r.d(a,"lerp",function(){return lerp}),r.d(a,"random",function(){return random}),r.d(a,"transformMat4",function(){return transformMat4}),r.d(a,"transformQuat",function(){return transformQuat}),r.d(a,"str",function(){return vec4_str}),r.d(a,"exactEquals",function(){return vec4_exactEquals}),r.d(a,"equals",function(){return vec4_equals}),r.d(a,"sub",function(){return T}),r.d(a,"mul",function(){return P}),r.d(a,"div",function(){return k}),r.d(a,"dist",function(){return I}),r.d(a,"sqrDist",function(){return F}),r.d(a,"len",function(){return E}),r.d(a,"sqrLen",function(){return C}),r.d(a,"forEach",function(){return N});var o=r(5),i=r.n(o),u=r(9),s=r.n(u),c=r(10),f=r.n(c),l=r(0),h=r.n(l),d=r(2),p=r.n(d),y=r(14),v=r(15);function getRsysFromTile(t,e,r){return{center:{x:(t+.5)/Math.pow(2,r)*2-1,y:2*(1-(e+.5)/Math.pow(2,r))-1},scale:1/Math.pow(2,r)}}var m=r(6),g=r.n(m),x=1e-6,_="undefined"!=typeof Float32Array?Float32Array:Array,w=Math.random;Math.PI;function create(){var t=new _(16);return _!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function clone(t){var e=new _(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function fromValues(t,e,r,n,a,o,i,u,s,c,f,l,h,d,p,y){var v=new _(16);return v[0]=t,v[1]=e,v[2]=r,v[3]=n,v[4]=a,v[5]=o,v[6]=i,v[7]=u,v[8]=s,v[9]=c,v[10]=f,v[11]=l,v[12]=h,v[13]=d,v[14]=p,v[15]=y,v}function set(t,e,r,n,a,o,i,u,s,c,f,l,h,d,p,y,v){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=y,t[15]=v,t}function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function transpose(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function invert(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],y=e[13],v=e[14],m=e[15],g=r*u-n*i,x=r*s-a*i,_=r*c-o*i,w=n*s-a*u,b=n*c-o*u,M=a*c-o*s,T=f*y-l*p,P=f*v-h*p,k=f*m-d*p,I=l*v-h*y,F=l*m-d*y,E=h*m-d*v,C=g*E-x*F+_*I+w*k-b*P+M*T;return C?(C=1/C,t[0]=(u*E-s*F+c*I)*C,t[1]=(a*F-n*E-o*I)*C,t[2]=(y*M-v*b+m*w)*C,t[3]=(h*b-l*M-d*w)*C,t[4]=(s*k-i*E-c*P)*C,t[5]=(r*E-a*k+o*P)*C,t[6]=(v*_-p*M-m*x)*C,t[7]=(f*M-h*_+d*x)*C,t[8]=(i*F-u*k+c*T)*C,t[9]=(n*k-r*F-o*T)*C,t[10]=(p*b-y*_+m*g)*C,t[11]=(l*_-f*b-d*g)*C,t[12]=(u*P-i*I-s*T)*C,t[13]=(r*I-n*P+a*T)*C,t[14]=(y*x-p*w-v*g)*C,t[15]=(f*w-l*x+h*g)*C,t):null}function adjoint(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],y=e[13],v=e[14],m=e[15];return t[0]=u*(h*m-d*v)-l*(s*m-c*v)+y*(s*d-c*h),t[1]=-(n*(h*m-d*v)-l*(a*m-o*v)+y*(a*d-o*h)),t[2]=n*(s*m-c*v)-u*(a*m-o*v)+y*(a*c-o*s),t[3]=-(n*(s*d-c*h)-u*(a*d-o*h)+l*(a*c-o*s)),t[4]=-(i*(h*m-d*v)-f*(s*m-c*v)+p*(s*d-c*h)),t[5]=r*(h*m-d*v)-f*(a*m-o*v)+p*(a*d-o*h),t[6]=-(r*(s*m-c*v)-i*(a*m-o*v)+p*(a*c-o*s)),t[7]=r*(s*d-c*h)-i*(a*d-o*h)+f*(a*c-o*s),t[8]=i*(l*m-d*y)-f*(u*m-c*y)+p*(u*d-c*l),t[9]=-(r*(l*m-d*y)-f*(n*m-o*y)+p*(n*d-o*l)),t[10]=r*(u*m-c*y)-i*(n*m-o*y)+p*(n*c-o*u),t[11]=-(r*(u*d-c*l)-i*(n*d-o*l)+f*(n*c-o*u)),t[12]=-(i*(l*v-h*y)-f*(u*v-s*y)+p*(u*h-s*l)),t[13]=r*(l*v-h*y)-f*(n*v-a*y)+p*(n*h-a*l),t[14]=-(r*(u*v-s*y)-i*(n*v-a*y)+p*(n*s-a*u)),t[15]=r*(u*h-s*l)-i*(n*h-a*l)+f*(n*s-a*u),t}function determinant(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],p=t[13],y=t[14],v=t[15];return(e*i-r*o)*(l*v-h*y)-(e*u-n*o)*(f*v-h*p)+(e*s-a*o)*(f*y-l*p)+(r*u-n*i)*(c*v-h*d)-(r*s-a*i)*(c*y-l*d)+(n*s-a*u)*(c*p-f*d)}function multiply(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],y=e[12],v=e[13],m=e[14],g=e[15],x=r[0],_=r[1],w=r[2],b=r[3];return t[0]=x*n+_*u+w*l+b*y,t[1]=x*a+_*s+w*h+b*v,t[2]=x*o+_*c+w*d+b*m,t[3]=x*i+_*f+w*p+b*g,x=r[4],_=r[5],w=r[6],b=r[7],t[4]=x*n+_*u+w*l+b*y,t[5]=x*a+_*s+w*h+b*v,t[6]=x*o+_*c+w*d+b*m,t[7]=x*i+_*f+w*p+b*g,x=r[8],_=r[9],w=r[10],b=r[11],t[8]=x*n+_*u+w*l+b*y,t[9]=x*a+_*s+w*h+b*v,t[10]=x*o+_*c+w*d+b*m,t[11]=x*i+_*f+w*p+b*g,x=r[12],_=r[13],w=r[14],b=r[15],t[12]=x*n+_*u+w*l+b*y,t[13]=x*a+_*s+w*h+b*v,t[14]=x*o+_*c+w*d+b*m,t[15]=x*i+_*f+w*p+b*g,t}function translate(t,e,r){var n=r[0],a=r[1],o=r[2],i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,p=void 0,y=void 0,v=void 0,m=void 0;return e===t?(t[12]=e[0]*n+e[4]*a+e[8]*o+e[12],t[13]=e[1]*n+e[5]*a+e[9]*o+e[13],t[14]=e[2]*n+e[6]*a+e[10]*o+e[14],t[15]=e[3]*n+e[7]*a+e[11]*o+e[15]):(i=e[0],u=e[1],s=e[2],c=e[3],f=e[4],l=e[5],h=e[6],d=e[7],p=e[8],y=e[9],v=e[10],m=e[11],t[0]=i,t[1]=u,t[2]=s,t[3]=c,t[4]=f,t[5]=l,t[6]=h,t[7]=d,t[8]=p,t[9]=y,t[10]=v,t[11]=m,t[12]=i*n+f*a+p*o+e[12],t[13]=u*n+l*a+y*o+e[13],t[14]=s*n+h*a+v*o+e[14],t[15]=c*n+d*a+m*o+e[15]),t}function mat4_scale(t,e,r){var n=r[0],a=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function rotate(t,e,r,n){var a,o,i,u,s,c,f,l,h,d,p,y,v,m,g,_,w,b,M,T,P,k,I,F,E=n[0],C=n[1],N=n[2],V=Math.sqrt(E*E+C*C+N*N);return V<x?null:(E*=V=1/V,C*=V,N*=V,a=Math.sin(r),i=1-(o=Math.cos(r)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],h=e[5],d=e[6],p=e[7],y=e[8],v=e[9],m=e[10],g=e[11],_=E*E*i+o,w=C*E*i+N*a,b=N*E*i-C*a,M=E*C*i-N*a,T=C*C*i+o,P=N*C*i+E*a,k=E*N*i+C*a,I=C*N*i-E*a,F=N*N*i+o,t[0]=u*_+l*w+y*b,t[1]=s*_+h*w+v*b,t[2]=c*_+d*w+m*b,t[3]=f*_+p*w+g*b,t[4]=u*M+l*T+y*P,t[5]=s*M+h*T+v*P,t[6]=c*M+d*T+m*P,t[7]=f*M+p*T+g*P,t[8]=u*k+l*I+y*F,t[9]=s*k+h*I+v*F,t[10]=c*k+d*I+m*F,t[11]=f*k+p*I+g*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function rotateX(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+c*n,t[5]=i*a+f*n,t[6]=u*a+l*n,t[7]=s*a+h*n,t[8]=c*a-o*n,t[9]=f*a-i*n,t[10]=l*a-u*n,t[11]=h*a-s*n,t}function rotateY(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-c*n,t[1]=i*a-f*n,t[2]=u*a-l*n,t[3]=s*a-h*n,t[8]=o*n+c*a,t[9]=i*n+f*a,t[10]=u*n+l*a,t[11]=s*n+h*a,t}function rotateZ(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+c*n,t[1]=i*a+f*n,t[2]=u*a+l*n,t[3]=s*a+h*n,t[4]=c*a-o*n,t[5]=f*a-i*n,t[6]=l*a-u*n,t[7]=h*a-s*n,t}function fromTranslation(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function fromScaling(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fromRotation(t,e,r){var n,a,o,i=r[0],u=r[1],s=r[2],c=Math.sqrt(i*i+u*u+s*s);return c<x?null:(i*=c=1/c,u*=c,s*=c,n=Math.sin(e),o=1-(a=Math.cos(e)),t[0]=i*i*o+a,t[1]=u*i*o+s*n,t[2]=s*i*o-u*n,t[3]=0,t[4]=i*u*o-s*n,t[5]=u*u*o+a,t[6]=s*u*o+i*n,t[7]=0,t[8]=i*s*o+u*n,t[9]=u*s*o-i*n,t[10]=s*s*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function fromXRotation(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fromYRotation(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fromZRotation(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fromRotationTranslation(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=n+n,s=a+a,c=o+o,f=n*u,l=n*s,h=n*c,d=a*s,p=a*c,y=o*c,v=i*u,m=i*s,g=i*c;return t[0]=1-(d+y),t[1]=l+g,t[2]=h-m,t[3]=0,t[4]=l-g,t[5]=1-(f+y),t[6]=p+v,t[7]=0,t[8]=h+m,t[9]=p-v,t[10]=1-(f+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function fromQuat2(t,e){var r=new _(3),n=-e[0],a=-e[1],o=-e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=n*n+a*a+o*o+i*i;return l>0?(r[0]=2*(u*i+f*n+s*o-c*a)/l,r[1]=2*(s*i+f*a+c*n-u*o)/l,r[2]=2*(c*i+f*o+u*a-s*n)/l):(r[0]=2*(u*i+f*n+s*o-c*a),r[1]=2*(s*i+f*a+c*n-u*o),r[2]=2*(c*i+f*o+u*a-s*n)),fromRotationTranslation(t,e,r),t}function getTranslation(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function getScaling(t,e){var r=e[0],n=e[1],a=e[2],o=e[4],i=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(r*r+n*n+a*a),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t}function getRotation(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function fromRotationTranslationScale(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,f=i+i,l=a*s,h=a*c,d=a*f,p=o*c,y=o*f,v=i*f,m=u*s,g=u*c,x=u*f,_=n[0],w=n[1],b=n[2];return t[0]=(1-(p+v))*_,t[1]=(h+x)*_,t[2]=(d-g)*_,t[3]=0,t[4]=(h-x)*w,t[5]=(1-(l+v))*w,t[6]=(y+m)*w,t[7]=0,t[8]=(d+g)*b,t[9]=(y-m)*b,t[10]=(1-(l+p))*b,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function fromRotationTranslationScaleOrigin(t,e,r,n,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,f=i+i,l=u+u,h=o*c,d=o*f,p=o*l,y=i*f,v=i*l,m=u*l,g=s*c,x=s*f,_=s*l,w=n[0],b=n[1],M=n[2],T=a[0],P=a[1],k=a[2],I=(1-(y+m))*w,F=(d+_)*w,E=(p-x)*w,C=(d-_)*b,N=(1-(h+m))*b,V=(v+g)*b,S=(p+x)*M,A=(v-g)*M,D=(1-(h+y))*M;return t[0]=I,t[1]=F,t[2]=E,t[3]=0,t[4]=C,t[5]=N,t[6]=V,t[7]=0,t[8]=S,t[9]=A,t[10]=D,t[11]=0,t[12]=r[0]+T-(I*T+C*P+S*k),t[13]=r[1]+P-(F*T+N*P+A*k),t[14]=r[2]+k-(E*T+V*P+D*k),t[15]=1,t}function fromQuat(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,s=a+a,c=r*i,f=n*i,l=n*u,h=a*i,d=a*u,p=a*s,y=o*i,v=o*u,m=o*s;return t[0]=1-l-p,t[1]=f+m,t[2]=h-v,t[3]=0,t[4]=f-m,t[5]=1-c-p,t[6]=d+y,t[7]=0,t[8]=h+v,t[9]=d-y,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function frustum(t,e,r,n,a,o,i){var u=1/(r-e),s=1/(a-n),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t}function perspective(t,e,r,n,a){var o=1/Math.tan(e/2),i=void 0;return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=(a+n)*i,t[14]=2*a*n*i):(t[10]=-1,t[14]=-2*n),t}function perspectiveFromFieldOfView(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function ortho(t,e,r,n,a,o,i){var u=1/(e-r),s=1/(n-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*s,t[14]=(i+o)*c,t[15]=1,t}function lookAt(t,e,r,n){var a=void 0,o=void 0,i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,p=e[0],y=e[1],v=e[2],m=n[0],g=n[1],_=n[2],w=r[0],b=r[1],M=r[2];return Math.abs(p-w)<x&&Math.abs(y-b)<x&&Math.abs(v-M)<x?identity(t):(f=p-w,l=y-b,h=v-M,a=g*(h*=d=1/Math.sqrt(f*f+l*l+h*h))-_*(l*=d),o=_*(f*=d)-m*h,i=m*l-g*f,(d=Math.sqrt(a*a+o*o+i*i))?(a*=d=1/d,o*=d,i*=d):(a=0,o=0,i=0),u=l*i-h*o,s=h*a-f*i,c=f*o-l*a,(d=Math.sqrt(u*u+s*s+c*c))?(u*=d=1/d,s*=d,c*=d):(u=0,s=0,c=0),t[0]=a,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=i,t[9]=c,t[10]=h,t[11]=0,t[12]=-(a*p+o*y+i*v),t[13]=-(u*p+s*y+c*v),t[14]=-(f*p+l*y+h*v),t[15]=1,t)}function targetTo(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=n[0],s=n[1],c=n[2],f=a-r[0],l=o-r[1],h=i-r[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);var p=s*h-c*l,y=c*f-u*h,v=u*l-s*f;return(d=p*p+y*y+v*v)>0&&(p*=d=1/Math.sqrt(d),y*=d,v*=d),t[0]=p,t[1]=y,t[2]=v,t[3]=0,t[4]=l*v-h*y,t[5]=h*p-f*v,t[6]=f*y-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t}function str(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function frob(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function add(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function subtract(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function multiplyScalar(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function multiplyScalarAndAdd(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function mat4_equals(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],d=t[11],p=t[12],y=t[13],v=t[14],m=t[15],g=e[0],_=e[1],w=e[2],b=e[3],M=e[4],T=e[5],P=e[6],k=e[7],I=e[8],F=e[9],E=e[10],C=e[11],N=e[12],V=e[13],S=e[14],A=e[15];return Math.abs(r-g)<=x*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-_)<=x*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(a-w)<=x*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-b)<=x*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-M)<=x*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-T)<=x*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(s-P)<=x*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(c-k)<=x*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-I)<=x*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(l-F)<=x*Math.max(1,Math.abs(l),Math.abs(F))&&Math.abs(h-E)<=x*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(d-C)<=x*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-N)<=x*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(y-V)<=x*Math.max(1,Math.abs(y),Math.abs(V))&&Math.abs(v-S)<=x*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(m-A)<=x*Math.max(1,Math.abs(m),Math.abs(A))}var b=multiply,M=subtract;function vec4_create(){var t=new _(4);return _!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function vec4_clone(t){var e=new _(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function vec4_fromValues(t,e,r,n){var a=new _(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function vec4_copy(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function vec4_set(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function vec4_add(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function vec4_subtract(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function vec4_multiply(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function divide(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function ceil(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function floor(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function vec4_min(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function vec4_max(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function round(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function vec4_scale(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function scaleAndAdd(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function distance(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+o*o)}function squaredDistance(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+a*a+o*o}function vec4_length(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)}function squaredLength(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function negate(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function inverse(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function normalize(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=n*i,t[2]=a*i,t[3]=o*i),t}function dot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function lerp(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t[3]=u+n*(r[3]-u),t}function random(t,e){var r,n,a,o,i,u;e=e||1;do{i=(r=2*w()-1)*r+(n=2*w()-1)*n}while(i>=1);do{u=(a=2*w()-1)*a+(o=2*w()-1)*o}while(u>=1);var s=Math.sqrt((1-i)/u);return t[0]=e*r,t[1]=e*n,t[2]=e*a*s,t[3]=e*o*s,t}function transformMat4(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*o+r[12]*i,t[1]=r[1]*n+r[5]*a+r[9]*o+r[13]*i,t[2]=r[2]*n+r[6]*a+r[10]*o+r[14]*i,t[3]=r[3]*n+r[7]*a+r[11]*o+r[15]*i,t}function transformQuat(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*o-s*a,l=c*a+s*n-i*o,h=c*o+i*a-u*n,d=-i*n-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t[3]=e[3],t}function vec4_str(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vec4_exactEquals(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function vec4_equals(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(r-i)<=x*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-u)<=x*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=x*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=x*Math.max(1,Math.abs(o),Math.abs(c))}var T=vec4_subtract,P=vec4_multiply,k=divide,I=distance,F=squaredDistance,E=vec4_length,C=squaredLength,N=function(){var t=vec4_create();return function(e,r,n,a,o,i){var u=void 0,s=void 0;for(r||(r=4),n||(n=0),s=a?Math.min(a*r+n,e.length):e.length,u=n;u<s;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),V=function average(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e/t.length},S=r(3),A=r.n(S),D=r(1),O=r.n(D),L=r(4),R=r.n(L),B=r(16),q=function(t){function CartoError(t){var e;if(h()(this,CartoError),!t)throw Error("Invalid CartoError, a message is mandatory");if(!t.message)throw Error("Invalid CartoError, a message is mandatory");if(!t.type)throw Error("Invalid CartoError, a type is mandatory");return(e=A()(this,O()(CartoError).call(this,"".concat(t.type," ").concat(t.message)))).name="CartoError",e.type=t.type,e.originalError=t,e}return R()(CartoError,t),CartoError}(r.n(B)()(Error)),W=function(t){function CartoValidationError(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.DEFAULT;return h()(this,CartoValidationError),(e=A()(this,O()(CartoValidationError).call(this,{message:t,type:r}))).name="CartoValidationError",e}return R()(CartoValidationError,t),CartoValidationError}(q),G={DEFAULT:"[Error]",MISSING_REQUIRED:"[Missing required property]",INCORRECT_TYPE:"[Property with an incorrect type]",INCORRECT_VALUE:"[Incorrect value]",TOO_MANY_ARGS:"[Too many arguments]",NOT_ENOUGH_ARGS:"[Not enough arguments]",WRONG_NUMBER_ARGS:"[Wrong number of arguments]"},Z={UNKNOWN:"unknown",POINT:"point",LINE:"line",POLYGON:"polygon"};function geometry_sub(t,e){var r=i()(t,2),n=r[0],a=r[1],o=i()(e,2);return[n-o[0],a-o[1]]}function geometry_dot(t,e){var r=i()(t,2),n=r[0],a=r[1],o=i()(e,2);return n*o[0]+a*o[1]}function perpendicular(t){var e=i()(t,2),r=e[0];return[-e[1],r]}function getLineNormal(t,e){var r=function geometry_normalize(t,e){var r=Math.hypot(t,e);return[t/r,e/r]}(t[0]-e[0],t[1]-e[1]);return[-r[1],r[0]]}function getJoinNormal(t,e){var r=[t[1],-t[0]],n=[-e[1],e[0]],a=n[0]*r[1]-n[1]*r[0],o=n[0]*r[0]+n[1]*r[1],i=Math.abs(a);return{turnLeft:a>0,joinNormal:!(i<.866&&o>.5)&&neg([(r[0]+n[0])/i,(r[1]+n[1])/i])}}function neg(t){return[-t[0],-t[1]]}function halfPlaneSign(t,e,r){return(t.x-r.x)*(e.y-r.y)-(e.x-r.x)*(t.y-r.y)}function equalPoints(t,e){return t.x===e.x&&t.y===e.y}function computeCentroids(t,e){switch(e){case Z.POINT:return function _computeCentroidsForPoints(t){for(var e=[],r=0;r<t.vertices.length/6;r++){var n=6*r,a=n+6,o=t.vertices.slice(n,a),u=i()(o,6),s=u[4],c=u[5];e.push({x:s,y:c})}return e}(t);case Z.LINE:case Z.POLYGON:return function _computeCentroidsForLinesOrPolygons(t,e){var r=[],n=0;return t.breakpoints.forEach(function(a){var o=t.vertices.slice(n,a),u=null;u=e===Z.LINE?function _centroidForLines(t){for(var e=[],r=[],n=0;n<t.length/6;n++){var a=6*n,o=a+6,u=t.slice(a,o),s=i()(u,6),c=s[0],f=s[1],l=s[2],h=s[3],d=s[4],p=s[5],y=c===l&&f===h,v=l===d&&h===p;if(!y||!v){var m=[c,f],g=y?[d,p]:[l,h];e.push(m[0]),e.push(g[0]),r.push(m[1]),r.push(g[1])}}return{x:V(e),y:V(r)}}(o):function _centroidForPolygons(t){for(var e=[],r=[],n=[],a=0;a<t.length/6;a++){var o=6*a,u=o+6,s=t.slice(o,u),c=i()(s,6),f=c[0],l=c[1],h=c[2],d=c[3],p=c[4],y=c[5],v=[[f,l],[h,d],[p,y]],m=triangleArea(v);if(m>0){var g=V([f,h,p]),x=V([l,d,y]);e.push(g*m),r.push(x*m),n.push(m)}}var _=_sumArray(n);return{x:_sumArray(e)/_,y:_sumArray(r)/_}}(o),r.push(u),n=a}),r}(t,e);default:throw new W("Invalid type argument, decoded geometry must have a point, line or polygon type.",G.INCORRECT_VALUE)}}function _sumArray(t){return t.reduce(function(t,e){return t+e},0)}function triangleArea(t){var e=i()(t[0],2),r=e[0],n=e[1],a=i()(t[1],2),o=a[0],u=a[1],s=i()(t[2],2),c=s[0],f=s[1];return Math.abs((r-c)*(u-n)-(r-o)*(f-n))/2}function _updateAABBForGeometry(t,e,r){switch(r){case Z.LINE:return function _updateAABBLine(t,e){for(var r=t,n=t.length,a=0;a<n;a+=2)e.minx=Math.min(e.minx,r[a+0]),e.miny=Math.min(e.miny,r[a+1]),e.maxx=Math.max(e.maxx,r[a+0]),e.maxy=Math.max(e.maxy,r[a+1]);return e}(t,e);case Z.POLYGON:return function _updateAABBPolygon(t,e){for(var r=[t.flat,t.holes[0]||t.flat.length/2],n=r[0],a=r[1],o=0;o<a;o++)e.minx=Math.min(e.minx,n[2*o+0]),e.miny=Math.min(e.miny,n[2*o+1]),e.maxx=Math.max(e.maxx,n[2*o+0]),e.maxy=Math.max(e.maxy,n[2*o+1]);return e}(t,e)}}var j={intersect:function geometry_intersect(t,e,r,n){var a=t,o=r,i=geometry_sub(e,t),u=geometry_sub(n,r),s=perpendicular(i),c=perpendicular(u),f=geometry_dot(geometry_sub(o,a),c)/geometry_dot(i,c),l=geometry_dot(geometry_sub(a,o),s)/geometry_dot(u,s);if(f>=0&&f<=1&&l>=0&&l<=1)return[a[0]+f*i[0],a[1]+f*i[1]]},sub:geometry_sub,dot:geometry_dot,perpendicular:perpendicular,getLineNormal:getLineNormal,getJoinNormal:getJoinNormal,neg:neg,halfPlaneSign:halfPlaneSign,pointInTriangle:function pointInTriangle(t,e,r,n){if(equalPoints(e,r)||equalPoints(r,n)||equalPoints(n,e))return!1;var a=halfPlaneSign(t,e,r)<0,o=halfPlaneSign(t,r,n)<0,i=halfPlaneSign(t,n,e)<0;return a===o&&o===i},equalPoints:equalPoints,pointInCircle:function pointInCircle(t,e,r){var n=t.x-e.x,a=t.y-e.y;return n*n+a*a<=r*r},pointInRectangle:function pointInRectangle(t,e){if(null===e)return!1;var r=t.x.toFixed(2),n=t.y.toFixed(2);return e.minx<=r&&r<=e.maxx&&e.miny<=n&&n<=e.maxy}},U=function Polygon(){h()(this,Polygon),this.flat=[],this.holes=[],this.clipped=[],this.clippedType=[]};function decodeLines(t,e){var r=[];return t.map(function(t){var n=[];t.map(function(t){n.push([2*t.x/e-1,2*(1-t.y/e)-1])}),r.push.apply(r,g()(function clipLine(t){var e=[],r=[];function clipType(t){for(var e=0,r=0;r<Y;r++)e|=z[r].inside(t)?0:1<<r;return e}function intersect(t,e,r){for(var n=0;n<Y;n++){var a=1<<n;if(r&a){var o=z[n].intersect(t,e);return r=clipType(o)&~a,[o,r]}}}for(var n=t[0],a=clipType(n),o=1;o<t.length;++o){for(var u=t[o],s=clipType(u),c=s,f=u;;){if(!(a|s)){var l,h;if((l=e).push.apply(l,g()(n)),s!==c)(h=e).push.apply(h,g()(u)),o<t.length-1&&(r.push(e),e=[]);else if(o===t.length-1){var d;(d=e).push.apply(d,g()(u))}break}if(a&s)break;if(a){var p=intersect(n,u,a),y=i()(p,2);n=y[0],a=y[1]}else{var v=intersect(n,u,s),m=i()(v,2);u=m[0],s=m[1]}}n=f,a=c}(e=function _removeDuplicatedVerticesOnLine(t){for(var e,r,n=[],a=0;a<t.length;a+=2){var o=t[a],i=t[a+1];o===e&&i===r||(n.push(o,i),e=o,r=i)}return n}(e)).length>0&&r.push(e);return r}(n)))}),r}function decodePolygons(t,e){var r,n=null,a=[];return t.forEach(function(t){var o=function signedPolygonArea(t){for(var e=0,r=0;r<t.length;r++){var n=(r+1)%t.length;e+=t[r].x*t[n].y,e-=t[n].x*t[r].y}return e/2}(t);if(0!==o){void 0===r&&(r=o>0);var i=r?o>0:o<0,u=function _getPreClippedVertices(t,e){return t.map(function(t){var r=t.x,n=t.y;return[r=2*r/e-1,n=2*(1-n/e)-1]})}(t,e);i&&(n&&a.push(n),n=new U),n=function clipPolygon(t,e,r){for(var n={},a=function _loop(e){for(var r=[],a={},o=function setClippedType(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,o=0;e>=0&&(o=n[e]||0),r>=0&&(o|=1<<r),o&&(a[t]=o)},i=0;i<t.length-1;i++){var u=t[i],s=t[i+1],c=z[e].inside(u),f=z[e].inside(s);if(c&&f)o(r.length,i+1),r.push(s);else if(c){var l=z[e].intersect(u,s);o(r.length,i+1,e),r.push(l)}else if(f){var h=z[e].intersect(u,s);o(r.length,i,e),r.push(h),o(r.length,i+1),r.push(s)}}r.length&&(a[0]&&(a[r.length]=a[0]),r.push(r[0])),t=r,n=a},o=0;o<Y;o++)a(o);t.length>=4&&(r&&e.holes.push(e.flat.length/2),t.forEach(function(t){e.flat.push(t[0],t[1])}),Object.keys(n).forEach(function(t){e.clipped.push(2*Number(t)),e.clippedType.push(n[t])}));return e}(u,n,!i)}}),n&&a.push(n),a}var z=[{inside:function inside(t){return t[0]<=1},intersect:function intersect(t,e){return j.intersect(t,e,[1,-100],[1,100])}},{inside:function inside(t){return t[1]<=1},intersect:function intersect(t,e){return j.intersect(t,e,[-100,1],[100,1])}},{inside:function inside(t){return t[0]>=-1},intersect:function intersect(t,e){return j.intersect(t,e,[-1,-100],[-1,100])}},{inside:function inside(t){return t[1]>=-1},intersect:function intersect(t,e){return j.intersect(t,e,[-100,-1],[100,-1])}}],Y=z.length;var Q=function(t){function CartoRuntimeError(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.DEFAULT;return h()(this,CartoRuntimeError),(e=A()(this,O()(CartoRuntimeError).call(this,{message:t,type:r}))).name="CartoRuntimeError",e}return R()(CartoRuntimeError,t),CartoRuntimeError}(q),H={DEFAULT:"[Error]",NOT_SUPPORTED:"[Not supported]",WEB_GL:"[WebGL]",MVT:"[MVT]"},$=function(){function BaseCodec(t,e){h()(this,BaseCodec),t&&e&&(this._baseName=t.baseName(e))}return p()(BaseCodec,[{key:"isRange",value:function isRange(){return!1}},{key:"isIdentity",value:function isIdentity(){return!1}},{key:"sourceToInternal",value:function sourceToInternal(t,e){return e}},{key:"internalToExternal",value:function internalToExternal(t,e){return e}},{key:"externalToSource",value:function externalToSource(t,e){return e}},{key:"sourceToExternal",value:function sourceToExternal(t,e){return this.internalToExternal(t,this.sourceToInternal(t,e))}},{key:"externalToInternal",value:function externalToInternal(t,e){return this.sourceToInternal(t,this.externalToSource(t,e))}},{key:"inlineInternalMatch",value:function inlineInternalMatch(t,e){return"".concat(t)}}]),BaseCodec}(),X=function(t){function IdentityCodec(){return h()(this,IdentityCodec),A()(this,O()(IdentityCodec).apply(this,arguments))}return R()(IdentityCodec,t),p()(IdentityCodec,[{key:"isIdentity",value:function isIdentity(){return!0}},{key:"sourceToInternal",value:function sourceToInternal(t,e){return e}},{key:"internalToExternal",value:function internalToExternal(t,e){return e}},{key:"sourceToExternal",value:function sourceToExternal(t,e){return e}},{key:"externalToSource",value:function externalToSource(t,e){return e}},{key:"externalToInternal",value:function externalToInternal(t,e){return e}}]),IdentityCodec}($),J=4096,K="cartodb_id",tt=function(){function Metadata(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},r=e.properties,n=e.featureCount,a=e.sample,o=e.geomType,i=e.isAggregated,u=e.idProperty,s=e.extent;h()(this,Metadata),this.properties=r,this.featureCount=n,this.sample=a,this.geomType=o,this.isAggregated=i,this.idProperty=u||K,this.properties.hasOwnProperty(this.idProperty)||(this.properties[this.idProperty]={type:"number"}),this.categoryToID=new Map,this.IDToCategory=new Map,this.numCategories=0,this.extent=s||J,Object.values(r).map(function(e){e.categories=e.categories||[],e.categories.map(function(r){return t.categorizeString(e,r.name,!0)})}),this.propertyKeys=Object.keys(r)}return p()(Metadata,[{key:"setCodecs",value:function setCodecs(){throw new Q(\'You must call "setCodecs" once you have determined the proper subclass\')}},{key:"categorizeString",value:function categorizeString(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e&&(e=null),this.categoryToID.has(e))return this.categoryToID.get(e);r||null===e||this.properties[t].categories.push({name:e,frequency:Number.NaN});var n=null===e?-(1<<24):this.numCategories;return this.categoryToID.set(e,n),this.IDToCategory.set(n,e),this.numCategories++,n}},{key:"decodedProperties",value:function decodedProperties(t){return[t]}},{key:"baseName",value:function baseName(t){return t}},{key:"sourcePropertyName",value:function sourcePropertyName(t){return t}},{key:"stats",value:function stats(t){return this.properties[t]}},{key:"codec",value:function codec(t){var e=this.baseName(t);return this.properties[e]&&this.properties[e].codec?this.properties[e].codec:new X}}]),Metadata}(),et=r(7),rt=r.n(et),nt=r(8),at=r.n(nt),ot=function(t){function NumberCodec(){return h()(this,NumberCodec),A()(this,O()(NumberCodec).apply(this,arguments))}return R()(NumberCodec,t),p()(NumberCodec,[{key:"sourceToInternal",value:function sourceToInternal(t,e){return(isNaN(e)||null==e)&&(e=-(1<<24)),e}},{key:"internalToExternal",value:function internalToExternal(t,e){return e===-(1<<24)&&(e=null),e}},{key:"externalToInternal",value:function externalToInternal(t,e){return null===e&&(e=-(1<<24)),e}}]),NumberCodec}(X),it=function(t){function MVTNumberCodec(){return h()(this,MVTNumberCodec),A()(this,O()(MVTNumberCodec).apply(this,arguments))}return R()(MVTNumberCodec,t),p()(MVTNumberCodec,[{key:"sourceToInternal",value:function sourceToInternal(t,e){var r=rt()(e);if(null!==e&&"undefined"!==r&&"number"!==r)throw new Q("MVT decoding error. Metadata property \'".concat(this._baseName,"\' is of type \'number\' but the MVT tile contained a feature property of type \'").concat(r,"\': \'").concat(e,"\'"),H.MVT);return at()(O()(MVTNumberCodec.prototype),"sourceToInternal",this).call(this,t,e)}}]),MVTNumberCodec}(ot),ut=function(t){function CategoryCodec(){return h()(this,CategoryCodec),A()(this,O()(CategoryCodec).apply(this,arguments))}return R()(CategoryCodec,t),p()(CategoryCodec,[{key:"sourceToInternal",value:function sourceToInternal(t,e){return t.categorizeString(this._baseName,e)}},{key:"internalToExternal",value:function internalToExternal(t,e){return t.IDToCategory.get(e)}},{key:"sourceToExternal",value:function sourceToExternal(t,e){return e}},{key:"externalToSource",value:function externalToSource(t,e){return e}}]),CategoryCodec}($),st=function(t){function MVTCategoryCodec(){return h()(this,MVTCategoryCodec),A()(this,O()(MVTCategoryCodec).apply(this,arguments))}return R()(MVTCategoryCodec,t),p()(MVTCategoryCodec,[{key:"sourceToInternal",value:function sourceToInternal(t,e){var r=rt()(e);if(null!==e&&"undefined"!==r&&"string"!==r)throw new Q("MVT decoding error. Metadata property \'".concat(this._baseName,"\' is of type \'category\' but the MVT tile contained a feature property of type \'").concat(r,"\': \'").concat(e,"\'"),H.MVT);return at()(O()(MVTCategoryCodec.prototype),"sourceToInternal",this).call(this,t,e)}}]),MVTCategoryCodec}(ut);var ct=function(t){function MVTMetadata(){return h()(this,MVTMetadata),A()(this,O()(MVTMetadata).apply(this,arguments))}return R()(MVTMetadata,t),p()(MVTMetadata,[{key:"setCodecs",value:function setCodecs(){var t=this;Object.keys(this.properties).forEach(function(e){var r=t.properties[e],n=r.type;"geometry"!==n&&(r.codec=function MVTCodecFactory(t,e,r){switch(e){case"number":return new it(t,r);case"category":return new st(t,r);default:throw new Q("MVT decoding error. Feature property value of type \'".concat(e,"\' cannot be decoded."),H.MVT)}}(t,n,e))})}}]),MVTMetadata}(tt);function addLineString(t,e,r,n,a){var o,i,u,s,c;if(t.length>=4){o=[t[0],t[1]];for(var f=2;f<=t.length;f+=2)if(i=[t[f],t[f+1]],o[0]!==i[0]||o[1]!==i[1]){f+=2;break}for(u=getLineNormal(o,i);f<=t.length;f+=2){c=!(a&&a(f));var l=void 0;if(f<=t.length-2?l=[t[f],t[f+1]]:n&&(l=[t[2],t[3]]),!c||o[0]===i[0]&&o[1]===i[1]||(e.vertices[r]=o[0],e.normals[r++]=-u[0],e.vertices[r]=o[1],e.normals[r++]=-u[1],e.vertices[r]=o[0],e.normals[r++]=u[0],e.vertices[r]=o[1],e.normals[r++]=u[1],e.vertices[r]=i[0],e.normals[r++]=u[0],e.vertices[r]=i[1],e.normals[r++]=u[1],e.vertices[r]=o[0],e.normals[r++]=-u[0],e.vertices[r]=o[1],e.normals[r++]=-u[1],e.vertices[r]=i[0],e.normals[r++]=u[0],e.vertices[r]=i[1],e.normals[r++]=u[1],e.vertices[r]=i[0],e.normals[r++]=-u[0],e.vertices[r]=i[1],e.normals[r++]=-u[1]),!l||l[0]===i[0]&&l[1]===i[1])s=u;else if(s=getLineNormal(i,l),c){var h=getJoinNormal(u,s),d=h.turnLeft,p=h.joinNormal,y=d?u:neg(s),v=d?s:neg(u);e.vertices[r]=i[0],e.normals[r++]=0,e.vertices[r]=i[1],e.normals[r++]=n?1e-37:0,e.vertices[r]=i[0],e.normals[r++]=y[0],e.vertices[r]=i[1],e.normals[r++]=y[1],e.vertices[r]=i[0],e.normals[r++]=v[0],e.vertices[r]=i[1],e.normals[r++]=v[1],p&&(e.vertices[r]=i[0],e.normals[r++]=p[0],e.vertices[r]=i[1],e.normals[r++]=p[1],e.vertices[r]=i[0],e.normals[r++]=v[0],e.vertices[r]=i[1],e.normals[r++]=v[1],e.vertices[r]=i[0],e.normals[r++]=y[0],e.vertices[r]=i[1],e.normals[r++]=y[1])}o=i,i=l,u=s}}return r}function resizeBuffer(t,e){var r=new Float32Array(e);return r.set(t),r}var ft=24,lt=0,ht={vertices:new Float32Array(1048576),normals:new Float32Array(1048576)};function resizeBuffers(t){var e=lt+t;if(e>ht.vertices.length){var r=2*e;ht.vertices=resizeBuffer(ht.vertices,r),ht.normals=resizeBuffer(ht.normals,r)}}var dt=r(17),pt=2,yt=24,vt=0,mt={vertices:new Float32Array(2097152),normals:new Float32Array(2097152)};function polygonDecoder_resizeBuffers(t){var e=vt+t;if(e>mt.vertices.length){var r=2*e;mt.vertices=resizeBuffer(mt.vertices,r),mt.normals=resizeBuffer(mt.normals,r)}}function addVertex(t,e){mt.vertices[vt]=t[e],mt.normals[vt++]=0,mt.vertices[vt]=t[e+1],mt.normals[vt++]=0}function isClipped(t,e,r){return!!(t.clipped.includes(e)&&t.clipped.includes(r)&&t.clippedType[t.clipped.indexOf(e)]&t.clippedType[t.clipped.indexOf(r)])}function decodeGeom(t,e){switch(t){case Z.POINT:return function decodePoint(t){return{verticesArrayBuffer:t,vertices:new Float32Array(t),breakpoints:[]}}(e);case Z.LINE:return function decodeLine(t){var e=[],r=new Map;lt=0;for(var n=0;n<t.length;n++){for(var a=t[n],o=0;o<a.length;o++)resizeBuffers(ft*a[o].length),lt=addLineString(a[o],ht,lt);r.set(e.length,0===e.length?{start:0,end:lt}:{start:r.get(e.length-1).end,end:lt}),e.push(lt)}for(var i=new ArrayBuffer(4*lt),u=new ArrayBuffer(4*lt),s=new Float32Array(i),c=new Float32Array(u),f=0;f<lt;f++)s[f]=ht.vertices[f],c[f]=ht.normals[f];return{vertices:s,normals:c,verticesArrayBuffer:i,normalsArrayBuffer:u,featureIDToVertexIndex:r,breakpoints:e}}(e);case Z.POLYGON:return function decodePolygon(t){var e=[],r=new Map;vt=0;for(var n=0;n<t.length;n++){for(var a=t[n],o=function _loop(t){var e=a[t],r=dt(e.flat,e.holes);polygonDecoder_resizeBuffers(pt*r.length+yt*e.flat.length);for(var n=0;n<r.length;n++)addVertex(e.flat,2*r[n]);vt=addLineString(e.flat,mt,vt,!0,function(t){return e.holes.includes((t-2)/2)||isClipped(e,t-4,t-2)})},i=0;i<a.length;i++)o(i);r.set(e.length,0===e.length?{start:0,end:vt}:{start:r.get(e.length-1).end,end:vt}),e.push(vt)}for(var u=new ArrayBuffer(4*vt),s=new ArrayBuffer(4*vt),c=new Float32Array(u),f=new Float32Array(s),l=0;l<vt;l++)c[l]=mt.vertices[l],f[l]=mt.normals[l];return{vertices:c,normals:f,verticesArrayBuffer:u,normalsArrayBuffer:s,featureIDToVertexIndex:r,breakpoints:e}}(e);default:throw new Q("Unimplemented geometry type: \'".concat(t,"\'."),H.NOT_SUPPORTED)}}var gt=function DummyDataframe(t){var e=t.active,r=t.center,n=t.properties,a=t.propertiesArrayBuffer,o=t.scale,i=t.type,u=t.geom,s=t.size,c=t.metadata;h()(this,DummyDataframe),this.active=e,this.center=r,this.properties=n,this.propertiesArrayBuffer=a,this.scale=o,this.type=i,this.decodedGeom=decodeGeom(i,u),this.numVertex=i===Z.POINT?3*s:this.decodedGeom.vertices.length/2,this.numFeatures=i===Z.POINT?s:this.decodedGeom.breakpoints.length||this.numVertex,this.propertyTex=[],this.metadata=c,this.propertyCount=0,this._aabb=function computeAABB(t,e){switch(e){case Z.POINT:return[];case Z.LINE:case Z.POLYGON:for(var r=[],n=0;n<t.length;n++){for(var a=t[n],o={minx:Number.POSITIVE_INFINITY,miny:Number.POSITIVE_INFINITY,maxx:Number.NEGATIVE_INFINITY,maxy:Number.NEGATIVE_INFINITY},i=0;i<a.length;i++)o=_updateAABBForGeometry(a[i],o,e);o.minx===Number.POSITIVE_INFINITY&&(o=null),r.push(o)}return r}}(u,i),this._centroids=computeCentroids(this.decodedGeom,i),this.t1=[.1,.1,.1,.1],this.t2=[.1,.1,.1,.1],this.t3=[.1,.1,.1,.1],this.t4=[.1,.1,.1,.1]},xt=1,_t=2,wt=3,bt={1:Z.POINT,2:Z.LINE,3:Z.POLYGON},Mt=function(){function MVTWorker(){h()(this,MVTWorker)}return p()(MVTWorker,[{key:"onmessage",value:function onmessage(t){this.processEvent(t).then(function(t){var e=[];t.dataframe.empty||(e.push(t.dataframe.propertiesArrayBuffer),e.push(t.dataframe.decodedGeom.verticesArrayBuffer),t.dataframe.decodedGeom.normalsArrayBuffer&&e.push(t.dataframe.decodedGeom.normalsArrayBuffer)),postMessage(t,e)})}},{key:"processEvent",value:function(){var t=f()(s.a.mark(function _callee(t){var e,r;return s.a.wrap(function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return(e=t.data).metadata&&(this.castMetadata(e.metadata),this.metadata=e.metadata),n.next=4,this._requestDataframe(e.x,e.y,e.z,e.url,e.layerID,this.metadata);case 4:return r=n.sent,n.abrupt("return",{mID:e.mID,dataframe:r});case 6:case"end":return n.stop()}},_callee,this)}));return function processEvent(e){return t.apply(this,arguments)}}()},{key:"castMetadata",value:function castMetadata(t){Object.setPrototypeOf(t,ct.prototype),t.setCodecs()}},{key:"_requestDataframe",value:function(){var t=f()(s.a.mark(function _callee2(t,e,r,n,a,o){var i,u;return s.a.wrap(function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(n);case 2:return i=s.sent,s.next=5,this.urlToDataframeTransformer(i,t,e,r,a,o);case 5:return u=s.sent,s.abrupt("return",u);case 7:case"end":return s.stop()}},_callee2,this)}));return function _requestDataframe(e,r,n,a,o,i){return t.apply(this,arguments)}}()},{key:"urlToDataframeTransformer",value:function(){var t=f()(s.a.mark(function _callee3(t,e,r,n,a,o){var i,u,c,f,l,h,d,p,m,g,x;return s.a.wrap(function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return i=o.extent,s.next=3,t.arrayBuffer();case 3:if(0!==(u=s.sent).byteLength&&"null"!==t){s.next=6;break}return s.abrupt("return",{empty:!0});case 6:if(c=new y.VectorTile(new v(u)),!(Object.keys(c.layers).length>1)||a){s.next=9;break}throw new W("LayerID parameter wasn\'t specified and the MVT tile contains multiple layers: ".concat(JSON.stringify(Object.keys(c.layers)),"."),G.MISSING_REQUIRED);case 9:if(f=c.layers[a||Object.keys(c.layers)[0]]){s.next=12;break}return s.abrupt("return",{empty:!0});case 12:return l=this._decodeMVTLayer(f,o,i),h=l.geometries,d=l.properties,p=l.propertiesArrayBuffer,m=l.numFeatures,g=getRsysFromTile(e,r,n),x=this._generateDataFrame(g,h,d,p,m,o.geomType,o),s.abrupt("return",x);case 16:case"end":return s.stop()}},_callee3,this)}));return function urlToDataframeTransformer(e,r,n,a,o,i){return t.apply(this,arguments)}}()},{key:"_decodeMVTLayer",value:function _decodeMVTLayer(t,e,r){if(!t.length)return{properties:[],geometries:{},propertiesArrayBuffer:[],numFeatures:0};switch(e.geomType||(e.geomType=this._autoDiscoverType(t)),e.geomType){case Z.POINT:var n=new ArrayBuffer(2*t.length*3*4);return this._decode(t,e,r,n);case Z.LINE:return this._decode(t,e,r,[],decodeLines);case Z.POLYGON:return this._decode(t,e,r,[],decodePolygons);default:throw new W("MVT: invalid geometry type \'".concat(e.geomType,"\'"),G.INCORRECT_TYPE)}}},{key:"_autoDiscoverType",value:function _autoDiscoverType(t){var e=t.feature(0).type;switch(e){case xt:return Z.POINT;case _t:return Z.LINE;case wt:return Z.POLYGON;default:throw new W("MVT: invalid geometry type \'".concat(e,"\'"),G.INCORRECT_TYPE)}}},{key:"_decode",value:function _decode(t,e,r,n,a){var o,i=0;n&&(o=new Float32Array(n));for(var u=this._initializePropertyArrays(e,t.length),s=u.properties,c=u.propertiesArrayBuffer,f=this._scalarPropertyCodecs(e),l=this._rangePropertyCodecs(e),h=0;h<t.length;h++){var d=t.feature(h);this._checkType(d,e.geomType);var p=d.loadGeometry();if(a){var y=a(p,r);n.push(y)}else{var v=2*p[0][0].x/r-1,m=2*(1-p[0][0].y/r)-1;if(v<-1||v>=1||m<-1||m>=1)continue;o[6*i+0]=v,o[6*i+1]=m,o[6*i+2]=v,o[6*i+3]=m,o[6*i+4]=v,o[6*i+5]=m}if(void 0===d.properties[e.idProperty])throw new Q("MVT feature with undefined idProperty \'".concat(e.idProperty,"\'"),H.MVT);this._decodeProperties(e,f,l,s,d,i),i++}return{properties:s,propertiesArrayBuffer:c,geometries:n,numFeatures:i}}},{key:"_checkType",value:function _checkType(t,e){var r=t.type,n=bt[r];if(n!==e)throw new Q("MVT: mixed geometry types in the same layer. Layer has type: ".concat(e," but feature was ").concat(n),H.MVT)}},{key:"_initializePropertyArrays",value:function _initializePropertyArrays(t,e){var r=this._getPropertyNamesFrom(t),n=this._getPropertiesFor(r,e);return{propertyNames:r,properties:n.properties,propertiesArrayBuffer:n.propertiesArrayBuffer}}},{key:"_getSourcePropertyNamesFrom",value:function _getSourcePropertyNamesFrom(t){return t.propertyKeys.filter(function(e){return"geometry"!==t.properties[t.baseName(e)].type})}},{key:"_getPropertyNamesFrom",value:function _getPropertyNamesFrom(t){var e=[];return this._getSourcePropertyNamesFrom(t).forEach(function(r){t.decodedProperties(r).forEach(function(t){e.push(t)})}),e}},{key:"_getPropertiesFor",value:function _getPropertiesFor(t,e){for(var r={},n=1024*Math.ceil(e/1024),a=new ArrayBuffer(4*n*t.length),o=a,i=0;i<t.length;i++){r[t[i]]=new Float32Array(a,4*i*n,n)}return{properties:r,propertiesArrayBuffer:o}}},{key:"_scalarPropertyCodecs",value:function _scalarPropertyCodecs(t){return this._getSourcePropertyNamesFrom(t).map(function(e){return[e,t.codec(e)]}).filter(function(t){var e=i()(t,2);e[0];return!e[1].isRange()})}},{key:"_rangePropertyCodecs",value:function _rangePropertyCodecs(t){return this._getSourcePropertyNamesFrom(t).map(function(e){return[e,t.decodedProperties(e),t.codec(e)]}).filter(function(t){var e=i()(t,3);e[0],e[1];return e[2].isRange()})}},{key:"_decodeProperties",value:function _decodeProperties(t,e,r,n,a,o){for(var u=e.length,s=0;s<u;s++){var c=i()(e[s],2),f=c[0],l=c[1],h=a.properties[f];n[f][o]=l.sourceToInternal(t,h)}u=r.length;for(var d=0;d<u;d++){var p=i()(r[d],3),y=(f=p[0],i()(p[1],2)),v=y[0],m=y[1],g=(l=p[2],a.properties[f]),x=l.sourceToInternal(t,g),_=i()(x,2),w=_[0],b=_[1];n[v][o]=w,n[m][o]=b}}},{key:"_generateDataFrame",value:function _generateDataFrame(t,e,r,n,a,o,i){return new gt({active:!1,center:t.center,geom:e,properties:r,propertiesArrayBuffer:n,scale:t.scale,size:a,type:o,metadata:i})}}]),MVTWorker}(),Tt=["year","month","day","hour","minute","second"],Pt=[1,1,1,0,0,0],kt=0,It=1,Ft=2,Et=3,Ct=4,Nt=5,Vt=864e5,St=36e5,At=6e4,Dt=1e3;function startLevel(t){for(var e=Tt.length-1;e>0&&t[Tt[e]]===Pt[e];)--e;return e}function pad(t,e){return t.toString().padStart(e,"0")}function parsedValue(t){var e=msToDate(t);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds()}}function invalidPeriod(t,e){throw new Error("Invalid period of ".concat(e," between ").concat(t.v1," and ").concat(t.v2))}function yearWeek(t,e){var r=function isoDow(t,e,r){var n=new Date(t,e-1,r).getDay();return 0===n?7:n}(t,1,1),n=r>4?9-r:2-r;return Math.abs(e-n)%7!=0?[]:e<n?yearWeek(t-1,e+=Math.round((Date.UTC(t,0,1)-Date.UTC(t-1,0,1))/Vt)):Date.UTC(t,0,1)+(e-1+3)*Vt>=Date.UTC(t+1,0,1)?yearWeek(t+1,e-=Math.round((Date.UTC(t+1,0,1)-Date.UTC(t,0,1))/Vt)):[t,1+Math.round((e-n)/7)]}function periodISO(t,e){var r=parsedValue(t),n=parsedValue(e),a=startLevel(r),o=startLevel(n),u={v1:t,v2:e,t1:r,t2:n};return Math.max(a,o)===kt?function yearsPeriod(t){var e=t.t2.year-t.t1.year;return 1e3===e&&(t.t1.year-1)%1e3==0?"M".concat(1+(t.t1.year-1)/1e3):100===e&&(t.t1.year-1)%100==0?"C".concat(1+(t.t1.year-1)/100):10===e&&t.t1.year%10==0?"D".concat(t.t1.year/10):1===e?pad(t.t1.year,4):void invalidPeriod("".concat(e," years"))}(u):Math.max(a,o)===It?function monthsPeriod(t){var e=12*t.t2.year+t.t2.month-12*t.t1.year-t.t1.month;return 6===e&&(t.t1.month-1)%6==0?"".concat(pad(t.t1.year,4),"S").concat(1+(t.t1.month-1)/6):4===e?"".concat(pad(t.t1.year,4),"t").concat(1+(t.t1.month-1)/4):3===e?"".concat(pad(t.t1.year,4),"-Q").concat(1+(t.t1.month-1)/3):1===e?"".concat(pad(t.t1.year,4),"-").concat(pad(t.t1.month,2)):void invalidPeriod("".concat(e," months"))}(u):Math.max(a,o)===Ft?function daysPeriod(t){var e=Math.round((t.v2-t.v1)/Vt);if(1===e)return"".concat(pad(t.t1.year,4),"-").concat(pad(t.t1.month,2),"-").concat(pad(t.t1.day,2));if(7===e){var r=t.t1.year,n=Date.UTC(r,0,1),a=yearWeek(r,1+Math.round((t.v1-n)/Vt)),o=i()(a,2),u=o[0],s=o[1];if(u&&s)return"".concat(pad(u,4),"-W").concat(pad(s,2));invalidPeriod("7 days")}else invalidPeriod("".concat(e," days"))}(u):Math.max(a,o)===Et?function hoursPeriod(t){var e=Math.round((t.v2-t.v1)/St);if(1===e)return"".concat(pad(t.t1.year,4),"-").concat(pad(t.t1.month,2),"-").concat(pad(t.t1.day,2),"T").concat(pad(t.t1.hour,2));invalidPeriod("".concat(e," hours"))}(u):Math.max(a,o)===Ct?function minutesPeriod(t){var e=Math.round((t.v2-t.v1)/At);if(1===e)return"".concat(pad(t.t1.year,4),"-").concat(pad(t.t1.month,2),"-").concat(pad(t.t1.day,2),"T").concat(pad(t.t1.hour,2),":").concat(pad(t.t1.minute,2));invalidPeriod("".concat(e," minutes"))}(u):Math.max(a,o)===Nt?function secondsPeriod(t){var e=Math.round((t.v2-t.v1)/Dt);if(1===e)return"".concat(pad(t.t1.year,4),"-").concat(pad(t.t1.month,2),"-").concat(pad(t.t1.day,2),"T").concat(pad(t.t1.hour,2),":").concat(pad(t.t1.minute,2),":").concat(pad(t.t1.second,2));invalidPeriod("".concat(e," seconds"))}(u):void invalidPeriod(u,"fractional seconds")}var Ot=function(t){function CartoParsingError(t){var e;h()(this,CartoParsingError);return(e=A()(this,O()(CartoParsingError).call(this,{message:t,type:"[Error]"}))).name="CartoParsingError",e}return R()(CartoParsingError,t),CartoParsingError}(q),Lt=function(){function IsoParser(t){h()(this,IsoParser),this._format=t}return p()(IsoParser,[{key:"check",value:function check(t){return t.match(this._format)}}]),IsoParser}();function fieldDefault(t,e){return void 0===t?e:Number(t)}function dateFields(t){return{year:fieldDefault(t.year,1),month:fieldDefault(t.month,1),day:fieldDefault(t.day,1),hour:fieldDefault(t.hour,0),minute:fieldDefault(t.minute,0),second:fieldDefault(t.second,0)}}function fieldsFromMatch(t){return dateFields({year:t[1],month:t[2],day:t[3],hour:t[4],minute:t[5],second:t[6]})}var Rt=function(t){function YMDHMSParser(){return h()(this,YMDHMSParser),A()(this,O()(YMDHMSParser).call(this,/^(\\d\\d\\d\\d)(?:\\-?(\\d\\d)(?:\\-?(\\d\\d)(?:[T\\s]?(\\d\\d)(?:\\:(\\d\\d)(?:\\:(\\d\\d))?)?)?)?)?$/))}return R()(YMDHMSParser,t),p()(YMDHMSParser,[{key:"parse",value:function parse(t){var e=this.check(t)||[],r=e.slice(),n=[1,2,3,4,5,6].find(function(t){return void 0===r[t]})||7;return 1===n?r[1]=2:r[n-1]=Number(r[n-1])+1,[fieldsFromMatch(e),fieldsFromMatch(r)]}}]),YMDHMSParser}(Lt),Bt=function(t){function MillenniumParser(){return h()(this,MillenniumParser),A()(this,O()(MillenniumParser).call(this,/^M(\\d+)$/))}return R()(MillenniumParser,t),p()(MillenniumParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=function year(t){return 1e3*(t-1)+1};return[dateFields({year:n(r)}),dateFields({year:n(r+1)})]}}]),MillenniumParser}(Lt),qt=function(t){function CenturyParser(){return h()(this,CenturyParser),A()(this,O()(CenturyParser).call(this,/^C(\\d+)$/))}return R()(CenturyParser,t),p()(CenturyParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=function year(t){return 100*(t-1)+1};return[dateFields({year:n(r)}),dateFields({year:n(r+1)})]}}]),CenturyParser}(Lt),Wt=function(t){function DecadeParser(){return h()(this,DecadeParser),A()(this,O()(DecadeParser).call(this,/^D(\\d+)$/))}return R()(DecadeParser,t),p()(DecadeParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=function year(t){return 10*t};return[dateFields({year:n(r)}),dateFields({year:n(r+1)})]}}]),DecadeParser}(Lt),Gt=function(t){function SemesterParser(){return h()(this,SemesterParser),A()(this,O()(SemesterParser).call(this,/^(\\d\\d\\d\\d)S(\\d)$/))}return R()(SemesterParser,t),p()(SemesterParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=Number(e[2]),a=function month(t){return 6*(t-1)+1};return[dateFields({year:r,month:a(n)}),dateFields({year:r,month:a(n+1)})]}}]),SemesterParser}(Lt),Zt=function(t){function TrimesterParser(){return h()(this,TrimesterParser),A()(this,O()(TrimesterParser).call(this,/^(\\d\\d\\d\\d)t(\\d)$/))}return R()(TrimesterParser,t),p()(TrimesterParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=Number(e[2]),a=function month(t){return 4*(t-1)+1};return[dateFields({year:r,month:a(n)}),dateFields({year:r,month:a(n+1)})]}}]),TrimesterParser}(Lt),jt=function(t){function QuarterParser(){return h()(this,QuarterParser),A()(this,O()(QuarterParser).call(this,/^(\\d\\d\\d\\d)\\-?Q(\\d)$/))}return R()(QuarterParser,t),p()(QuarterParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=Number(e[2]),a=function month(t){return 3*(t-1)+1};return[dateFields({year:r,month:a(n)}),dateFields({year:r,month:a(n+1)})]}}]),QuarterParser}(Lt);function startOfIsoWeek(t,e){var r=function parseISO_isoDow(t,e,r){var n=new Date(t,e-1,r).getDay();return 0===n?7:n}(t,1,1);return function addDays(t,e){var r=new Date(t.valueOf());return r.setDate(r.getDate()+e),r}(new Date(t,0,r>4?9-r:2-r),7*(e-1))}var Ut=function(t){function WeekParser(){return h()(this,WeekParser),A()(this,O()(WeekParser).call(this,/^(\\d\\d\\d\\d)\\-?W(\\d\\d)$/))}return R()(WeekParser,t),p()(WeekParser,[{key:"parse",value:function parse(t){var e=this.check(t),r=Number(e[1]),n=Number(e[2]),a=startOfIsoWeek(r,n),o=startOfIsoWeek(r,n+1),i=function fields(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}};return[dateFields(i(a)),dateFields(i(o))]}}]),WeekParser}(Lt),zt=[new Bt,new qt,new Wt,new Gt,new Zt,new jt,new Ut,new Rt];function parseISO(t){var e=function findParser(t){return zt.find(function(e){return e.check(t)})}(t=t||"");if(!e)throw new Ot("No date parser found for ".concat(t));return e.parse(t)}var Yt=function(){function TimeZoneDate(t,e){h()(this,TimeZoneDate),this._value=t,this._date=msToDate(t),this._timeZone=e}return p()(TimeZoneDate,[{key:"year",get:function get(){return this._date.getUTCFullYear()}},{key:"month",get:function get(){return this._date.getUTCMonth()+1}},{key:"day",get:function get(){return this._date.getUTCDate()}},{key:"hour",get:function get(){return this._date.getUTCHours()}},{key:"minute",get:function get(){return this._date.getUTCMinutes()}},{key:"second",get:function get(){return this._date.getUTCSeconds()}},{key:"text",get:function get(){return periodISO(this._date.getTime(),this._date.getTime()+1e3)}},{key:"timeZone",get:function get(){return this._timeZone}}],[{key:"fromValue",value:function fromValue(t,e){return new TimeZoneDate(t,e)}},{key:"from",value:function from(t,e,r,n,a,o,i){return this.fromValue(Date.UTC(t,(e||1)-1,r,n,a,o),i)}}]),TimeZoneDate}(),Qt=function(){function TimeRange(t,e,r,n){if(h()(this,TimeRange),this._startValue=r,this._endValue=n,r&&n)this._iso=periodISO(r,n);else if(!r&&!n&&e){var a=function _startEndTimeValues(t){return parseISO(t).map(_timeValue)}(e);this._iso=e,this._startValue=a[0],this._endValue=a[1]}this._timeZone=t}return p()(TimeRange,[{key:"timeZone",get:function get(){return this._timeZone}},{key:"iso",get:function get(){return this._iso}},{key:"startValue",get:function get(){return this._startValue}},{key:"endValue",get:function get(){return this._endValue}},{key:"startDate",get:function get(){return Yt.fromValue(this._startValue,this._timeZone)}},{key:"endDate",get:function get(){return Yt.fromValue(this._endValue,this._timeZone)}}]),TimeRange}();function _timeValue(t){return Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second)}Math.PI;var Ht=6378137;Math.PI;function msToDate(t){return new Date(t)}function castTimeRange(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0===t||function isTimeRange(t){return t instanceof Qt}(t)?t&&e?util_timeRange({iso:t._iso,timeZone:e}):t:"string"==typeof t?util_timeRange({iso:t,timeZone:e}):void 0}function util_timeRange(t){var e=t.start,r=t.end,n=t.iso,a=t.timeZone;return new Qt(a,n,e,r)}var $t=function(t){function WindshaftDateCodec(t,e){var r;h()(this,WindshaftDateCodec),r=A()(this,O()(WindshaftDateCodec).call(this,t,e));var n=t.stats(e).min;return r._min_ms=1e3*n,r._min_date=msToDate(r._min_ms),r}return R()(WindshaftDateCodec,t),p()(WindshaftDateCodec,[{key:"sourceToInternal",value:function sourceToInternal(t,e){return msToDate(1e3*e)-this._min_date}},{key:"internalToExternal",value:function internalToExternal(t,e){var r=e;return msToDate(r+=this._min_ms)}},{key:"externalToSource",value:function externalToSource(t,e){return e.getTime()/1e3}},{key:"sourceToExternal",value:function sourceToExternal(t,e){return function asDate(t){if(t instanceof Date)return t;return msToDate(1e3*t)}(e)}},{key:"inlineInternalMatch",value:function inlineInternalMatch(t,e){var r=e._min_ms-this._min_ms;return"(".concat(t,"-").concat(r.toFixed(20),")")}}]),WindshaftDateCodec}($);var Xt=function(t){function TimeRangeCodec(t,e){var r;h()(this,TimeRangeCodec),r=A()(this,O()(TimeRangeCodec).call(this,t,e));var n=t.stats(e),a=n.min,o=n.grouping&&n.grouping.timezone,i=util_timeRange({timeZone:o,iso:a});return r._min=i.startValue/1e3,r._timeZone=o,r}return R()(TimeRangeCodec,t),p()(TimeRangeCodec,[{key:"isRange",value:function isRange(){return!0}},{key:"sourceToInternal",value:function sourceToInternal(t,e){var r=this,n=util_timeRange({iso:e});return[n.startValue/1e3,n.endValue/1e3].map(function(t){return t-r._min})}},{key:"internalToExternal",value:function internalToExternal(t,e){var r=i()(e,2),n=r[0],a=r[1];return util_timeRange({start:1e3*(n+this._min),end:1e3*(a+this._min),timeZone:this._timeZone})}},{key:"externalToSource",value:function externalToSource(t,e){return castTimeRange(e,this._timeZone)._iso}},{key:"sourceToExternal",value:function sourceToExternal(t,e){return util_timeRange({iso:e,timeZone:this._timeZone})}},{key:"inlineInternalMatch",value:function inlineInternalMatch(t,e){var r=e._min.getTime()-this._min.getTime();return"(".concat(t,"-").concat(r.toFixed(20),")")}}]),TimeRangeCodec}($),Jt=function(t){function CartoMapsAPIError(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt.DEFAULT;return h()(this,CartoMapsAPIError),(e=A()(this,O()(CartoMapsAPIError).call(this,{message:t,type:r}))).name="CartoMapsAPIError",e}return R()(CartoMapsAPIError,t),CartoMapsAPIError}(q),Kt={DEFAULT:"[Error]",SQL:"[SQL]",NOT_SUPPORTED:"[Not supported]",SECURITY:"[Security]"};var te=function(t){function WindshaftMetadata(){var t,e;h()(this,WindshaftMetadata);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=A()(this,(t=O()(WindshaftMetadata)).call.apply(t,[this].concat(n)))).propertyKeys=[],e.baseNames={},Object.keys(e.properties).forEach(function(t){var r=e.properties[t];r.aggregations?Object.values(r.aggregations).forEach(function(r){e._addProperty(t,r)}):r.dimension?r.dimension.range?(r.dimension.range.forEach(function(r){e._addProperty(t,r,!1)}),e._addProperty(t,r.dimension.propertyName)):e._addProperty(t,r.dimension.propertyName):e._addProperty(t,t)}),e}return R()(WindshaftMetadata,t),p()(WindshaftMetadata,[{key:"_addProperty",value:function _addProperty(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.baseNames[e]=t,r&&this.propertyKeys.push(e)}},{key:"_dimensionInfo",value:function _dimensionInfo(t){var e=this.baseName(t)||t,r=this.properties[e],n=null;e!==t&&e!==t&&r.dimension&&(n=r.dimension);var a=r.type,o=n?function dimensionBaseType(t){return t.type}(n):a;return{baseName:e,column:r,dimension:n,dataframeType:n?function dimensionType(t,e){if(t.range)return"date";return t.type}(n):o,baseType:a,sourceType:o}}},{key:"baseName",value:function baseName(t){return this.baseNames[t]}},{key:"decodedProperties",value:function decodedProperties(t){var e=this._dimensionInfo(t).dimension;return e&&e.grouping&&e.range?e.range:at()(O()(WindshaftMetadata.prototype),"decodedProperties",this).call(this,t)}},{key:"stats",value:function stats(t){var e=this._dimensionInfo(t).dimension;return e&&e.grouping?e:at()(O()(WindshaftMetadata.prototype),"stats",this).call(this,t)}},{key:"setCodecs",value:function setCodecs(){!function setMetadataCodecs(t){Object.keys(t.properties).forEach(function(e){var r=t.properties[e],n=r.type;if("geometry"!==n){var a=r.dimension?r.dimension.type:null,o=a?r.dimension.propertyName:e,i="category"===a&&r.dimension.range?"timerange":a;r.codec=function windshaftCodecFactory(t,e,r){switch(e){case"number":return new ot(t,r);case"category":return new ut(t,r);case"date":return new $t(t,r);case"timerange":return new Xt(t,r);default:throw new Jt("Windshaft MVT decoding error. Feature property value of type \'".concat(e,"\' cannot be decoded."),Kt.NOT_SUPPORTED)}}(t,i||n,o||e)}})}(this)}},{key:"sourcePropertyName",value:function sourcePropertyName(t){var e=this.baseName(t),r=this.properties[e].dimension;return r&&r.range?r.propertyName:t}}]),WindshaftMetadata}(ct);var ee=function(t){function WindshaftWorker(){return h()(this,WindshaftWorker),A()(this,O()(WindshaftWorker).apply(this,arguments))}return R()(WindshaftWorker,t),p()(WindshaftWorker,[{key:"castMetadata",value:function castMetadata(t){Object.setPrototypeOf(t,te.prototype),t.setCodecs()}}]),WindshaftWorker}(Mt);const re={MVT:new Mt,windshaft:new ee};onmessage=function(t){return re[t.data.workerName].onmessage(t)}}]);',"/dist/carto-vl-2220c5b76836ff9fe8e6.worker.min.js")}},function(t,e){t.exports="precision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\n\nuniform float orderMinWidth;\nuniform float orderMaxWidth;\nuniform vec2 resolution;\nuniform mat4 matrix;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D strokeColorTex;\nuniform sampler2D strokeWidthTex;\nuniform sampler2D filterTex;\n\nvarying highp vec4 color;\nvarying highp vec4 stroke;\nvarying highp float dp;\nvarying highp float fillScale;\nvarying highp float strokeScale;\nvarying highp vec2 pointCoord;\n\nfloat decodeWidth(vec2 enc) {\n  return enc.x*(255.*4.) + 4.*enc.y;\n}\n\n$propertyPreface\n$transform_preface\n\nvec2 transform(vec2 p){\n    return $transform_inline(p*resolution*0.5)/resolution*2.;\n}\n\nvoid main(void) {\n  color = texture2D(colorTex, abs(featureID));\n  stroke = texture2D(strokeColorTex, abs(featureID));\n  float filtering = texture2D(filterTex, abs(featureID)).a;\n  color.a *= filtering;\n  stroke.a *= filtering;\n  float size = decodeWidth(texture2D(widthTex, abs(featureID)).rg);\n  float fillSize = size;\n  float strokeSize = decodeWidth(texture2D(strokeWidthTex, abs(featureID)).rg);\n  size += strokeSize;\n  fillScale = min(size / fillSize, 1.);\n  strokeScale = size / max(0.001, (fillSize - strokeSize));\n  if (fillScale == strokeScale) {\n    stroke.a = 0.;\n  }\n  dp = 1.0 / (size + 1.);\n  float sizeNormalizer = (size +1.)/size;\n\n  vec4 p =  matrix*vec4(vertexPosition, 0., 1.);\n  p/=p.w;\n  vec2 size2 = (2.*size+4.)/resolution;\n\n    if (featureID.y<0.){\n        pointCoord = vec2(0.866025, -0.5)*2.*sizeNormalizer;\n        p.xy += transform(size2*vec2(0.866025, -0.5));\n    }else if (featureID.x<0.){\n        pointCoord = vec2(-0.866025, -0.5)*2.*sizeNormalizer;\n        p.xy += transform(size2*vec2(-0.866025, -0.5));\n    }else{\n        pointCoord = vec2(0., 1.)*2.*sizeNormalizer;\n        p.xy += transform(vec2(0.,size2.y));\n    }\n\n  if (size == 0. || (stroke.a == 0. && color.a == 0.) || size < orderMinWidth || size >= orderMaxWidth) {\n    p.z = p.w*2.;\n  }\n\n  gl_Position = p;\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying lowp vec4 color;\nvarying lowp vec4 stroke;\nvarying highp float dp;\nvarying highp float fillScale;\nvarying highp float strokeScale;\nvarying highp vec2 pointCoord;\n\nfloat distanceAntialias(vec2 p){\n    // return length(p) > 1 ? 0. : 1. ; // to disable antialias\n    return 1. - smoothstep(1.-dp*1.4142, 1.+dp*1.4142, length(p));\n}\n\nvoid main(void) {\n    vec2 p = pointCoord;\n    vec4 c = color;\n\n    vec4 s = stroke;\n\n    c.a *= distanceAntialias(p*fillScale);\n    c.rgb*=c.a;\n\n    s.a *= distanceAntialias(p);\n    s.a *= 1.-distanceAntialias((strokeScale)*p);\n    s.rgb*=s.a;\n\n    c=s+(1.-s.a)*c;\n\n    gl_FragColor = c;\n}\n"},function(t,e){t.exports="// Line Vertex Shader\nprecision highp float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\nattribute vec2 normal;\n\nuniform float normalScale;\nuniform vec2 resolution;\nuniform mat4 matrix;\n\nuniform sampler2D colorTex;\nuniform sampler2D widthTex;\nuniform sampler2D filterTex;\n\nvarying lowp vec4 color;\n\nfloat decodeWidth(vec2 enc) {\n  return enc.x*(255.*4.) + 4.*enc.y;\n}\n\n$propertyPreface\n$transform_preface\n\nvoid main(void) {\n    color = texture2D(colorTex, featureID);\n    float filtering = texture2D(filterTex, featureID).a;\n    color.a *= filtering;\n    color.rgb *= color.a; // premultiplied-alpha\n    float size = decodeWidth(texture2D(widthTex, featureID).rg);\n\n    // 64 is computed based on RTT_WIDTH and the depth buffer precision\n    // 64 = 2^(BUFFER_BITS)/RTT_WIDTH = 2^16/1024 = 64\n    float z = featureID.y * 63. / 64. + featureID.x / (64.);\n\n    // Set z range (-1, 1)\n    z = z * 2. - 1.;\n\n    vec2 n = normal*size*normalScale;\n    vec4 p =  matrix*vec4(vertexPosition+n, 0., 1.);\n    p/=p.w;\n\n    p.xy = $transform_inline(p.xy*resolution)/resolution;\n    if (size==0. || color.a==0.){\n        p.x=10000.;\n    }\n    p.z=z;\n    gl_Position  = p;\n}\n"},function(t,e){t.exports="precision highp float;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n    gl_FragColor = color;\n}\n"},function(t,e){t.exports="precision mediump float;\n\nattribute vec2 vertexPosition;\nattribute vec2 featureID;\nattribute vec2 normal;\n\nuniform float normalScale;\nuniform vec2 resolution;\n\nuniform sampler2D colorTex;\nuniform sampler2D strokeColorTex;\nuniform sampler2D strokeWidthTex;\nuniform sampler2D filterTex;\nuniform mat4 matrix;\n\nvarying lowp vec4 color;\n\nfloat decodeWidth(vec2 enc) {\n  return enc.x*(255.*4.) + 4.*enc.y;\n}\n\n$propertyPreface\n$transform_preface\n\nvoid main(void) {\n    // 64 is computed based on RTT_WIDTH and the depth buffer precision\n    // 64 = 2^(BUFFER_BITS)/RTT_WIDTH = 2^16/1024 = 64\n    float z = featureID.y * 63. / 64. + featureID.x / 64.;\n\n    vec4 c;\n    if (normal == vec2(0.)){\n        c = texture2D(colorTex, featureID);\n    }else{\n        z = mod(z + (z > 0.5 ? -1./64. : 1./64.), 1.);\n        c = texture2D(strokeColorTex, featureID);\n    }\n    z = 2.*z - 1.;\n    float filtering = texture2D(filterTex, featureID).a;\n    c.a *= filtering;\n    float size = decodeWidth(texture2D(strokeWidthTex, featureID).rg);\n\n    vec2 n = normal*size*normalScale;\n    vec4 p =  matrix*vec4(vertexPosition+n, 0., 1.);\n    p/=p.w;\n\n    p.xy = $transform_inline(p.xy*resolution*0.5)/resolution*2.;\n\n    if (c.a==0.){\n        p.x=10000.;\n    }\n    p.z=z;\n    color = vec4(c.rgb*c.a, c.a);\n    gl_Position  = p;\n}\n"},function(t,e){t.exports="precision lowp float;\n\nvarying lowp vec4 color;\n\nvoid main(void) {\n    gl_FragColor = color;\n}\n"},,,,,,,,function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e){t.exports=function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)e.indexOf(n=r[i])>=0||(o[n]=t[n]);return o}},function(t,e,n){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=o&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(59),o)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,i=Object.prototype,o=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=v;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",g={},m={};m[a]=function(){return this};var _=Object.getPrototypeOf,y=_&&_(_(A([])));y&&y!==i&&o.call(y,a)&&(m=y);var b=P.prototype=x.prototype=Object.create(m);w.prototype=b.constructor=P,P.constructor=w,P[u]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,P):(t.__proto__=P,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},M(O.prototype),O.prototype[s]=function(){return this},l.AsyncIterator=O,l.async=function(t,e,n,i){var o=new O(v(t,e,n,i));return l.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},M(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=A,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,o){return s.type="throw",s.arg=t,e.next=i,o&&(e.method="next",e.arg=n),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:A(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),g}}}function v(t,e,n,i){var o=Object.create((e&&e.prototype instanceof x?e:x).prototype),r=new T(i||[]);return o._invoke=function(t,e,n){var i=d;return function(o,r){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===o)throw r;return I()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var u=C(t,e,n);if("normal"===u.type){if(i=n.done?f:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=f,n.method="throw",n.arg=u.arg)}}}(t,n,r),o}function C(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function x(){}function w(){}function P(){}function M(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function O(t){var e;this._invoke=function(n,i){function r(){return new Promise((function(e,r){!function e(n,i,r,a){var s=C(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){e("next",t,r,a)}),(function(t){e("throw",t,r,a)})):Promise.resolve(c).then((function(t){u.value=t,r(u)}),(function(t){return e("throw",t,r,a)}))}a(s.arg)}(n,i,e,r)}))}return e=e?e.then(r,r):r()}}function k(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,k(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=C(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,g;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(o.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e,n){var i,o;!function(){var r={Burg:{2:["#ffc6c4","#672044"],3:["#ffc6c4","#cc607d","#672044"],4:["#ffc6c4","#e38191","#ad466c","#672044"],5:["#ffc6c4","#ee919b","#cc607d","#9e3963","#672044"],6:["#ffc6c4","#f29ca3","#da7489","#b95073","#93345d","#672044"],7:["#ffc6c4","#f4a3a8","#e38191","#cc607d","#ad466c","#8b3058","#672044"],tags:["quantitative"]},BurgYl:{2:["#fbe6c5","#70284a"],3:["#fbe6c5","#dc7176","#70284a"],4:["#fbe6c5","#ee8a82","#c8586c","#70284a"],5:["#fbe6c5","#f2a28a","#dc7176","#b24b65","#70284a"],6:["#fbe6c5","#f4b191","#e7807d","#d06270","#a44360","#70284a"],7:["#fbe6c5","#f5ba98","#ee8a82","#dc7176","#c8586c","#9c3f5d","#70284a"],tags:["quantitative"]},RedOr:{2:["#f6d2a9","#b13f64"],3:["#f6d2a9","#ea8171","#b13f64"],4:["#f6d2a9","#f19c7c","#dd686c","#b13f64"],5:["#f6d2a9","#f3aa84","#ea8171","#d55d6a","#b13f64"],6:["#f6d2a9","#f4b28a","#ef9177","#e3726d","#cf5669","#b13f64"],7:["#f6d2a9","#f5b78e","#f19c7c","#ea8171","#dd686c","#ca5268","#b13f64"],tags:["quantitative"]},OrYel:{2:["#ecda9a","#ee4d5a"],3:["#ecda9a","#f7945d","#ee4d5a"],4:["#ecda9a","#f3ad6a","#f97b57","#ee4d5a"],5:["#ecda9a","#f1b973","#f7945d","#f86f56","#ee4d5a"],6:["#ecda9a","#f0c079","#f5a363","#f98558","#f76856","#ee4d5a"],7:["#ecda9a","#efc47e","#f3ad6a","#f7945d","#f97b57","#f66356","#ee4d5a"],tags:["quantitative"]},Peach:{2:["#fde0c5","#eb4a40"],3:["#fde0c5","#f59e72","#eb4a40"],4:["#fde0c5","#f8b58b","#f2855d","#eb4a40"],5:["#fde0c5","#f9c098","#f59e72","#f17854","#eb4a40"],6:["#fde0c5","#fac7a1","#f7ac80","#f38f65","#f0704f","#eb4a40"],7:["#fde0c5","#facba6","#f8b58b","#f59e72","#f2855d","#ef6a4c","#eb4a40"],tags:["quantitative"]},PinkYl:{2:["#fef6b5","#e15383"],3:["#fef6b5","#ffa679","#e15383"],4:["#fef6b5","#ffc285","#fa8a76","#e15383"],5:["#fef6b5","#ffd08e","#ffa679","#f67b77","#e15383"],6:["#fef6b5","#ffd795","#ffb77f","#fd9576","#f37378","#e15383"],7:["#fef6b5","#ffdd9a","#ffc285","#ffa679","#fa8a76","#f16d7a","#e15383"],tags:["quantitative"]},Mint:{2:["#e4f1e1","#0d585f"],3:["#e4f1e1","#63a6a0","#0d585f"],4:["#e4f1e1","#89c0b6","#448c8a","#0d585f"],5:["#E4F1E1","#9CCDC1","#63A6A0","#337F7F","#0D585F"],6:["#e4f1e1","#abd4c7","#7ab5ad","#509693","#2c7778","#0d585f"],7:["#e4f1e1","#b4d9cc","#89c0b6","#63a6a0","#448c8a","#287274","#0d585f"],tags:["quantitative"]},BluGrn:{2:["#c4e6c3","#1d4f60"],3:["#c4e6c3","#4da284","#1d4f60"],4:["#c4e6c3","#6dbc90","#36877a","#1d4f60"],5:["#c4e6c3","#80c799","#4da284","#2d7974","#1d4f60"],6:["#c4e6c3","#8dce9f","#5fb28b","#3e927e","#297071","#1d4f60"],7:["#c4e6c3","#96d2a4","#6dbc90","#4da284","#36877a","#266b6e","#1d4f60"],tags:["quantitative"]},DarkMint:{2:["#d2fbd4","#123f5a"],3:["#d2fbd4","#559c9e","#123f5a"],4:["#d2fbd4","#7bbcb0","#3a7c89","#123f5a"],5:["#d2fbd4","#8eccb9","#559c9e","#2b6c7f","#123f5a"],6:["#d2fbd4","#9cd5be","#6cafa9","#458892","#266377","#123f5a"],7:["#d2fbd4","#a5dbc2","#7bbcb0","#559c9e","#3a7c89","#235d72","#123f5a"],tags:["quantitative"]},Emrld:{2:["#d3f2a3","#074050"],3:["#d3f2a3","#4c9b82","#074050"],4:["#d3f2a3","#6cc08b","#217a79","#074050"],5:["#d3f2a3","#82d091","#4c9b82","#19696f","#074050"],6:["#d3f2a3","#8fda94","#60b187","#35877d","#145f69","#074050"],7:["#d3f2a3","#97e196","#6cc08b","#4c9b82","#217a79","#105965","#074050"],tags:["quantitative"]},ag_GrnYl:{2:["#245668","#EDEF5D"],3:["#245668","#39AB7E","#EDEF5D"],4:["#245668","#0D8F81","#6EC574","#EDEF5D"],5:["#245668","#04817E","#39AB7E","#8BD16D","#EDEF5D"],6:["#245668","#09787C","#1D9A81","#58BB79","#9DD869","#EDEF5D"],7:["#245668","#0F7279","#0D8F81","#39AB7E","#6EC574","#A9DC67","#EDEF5D"],tags:["aggregation"]},BluYl:{2:["#f7feae","#045275"],3:["#f7feae","#46aea0","#045275"],4:["#f7feae","#7ccba2","#089099","#045275"],5:["#f7feae","#9bd8a4","#46aea0","#058092","#045275"],6:["#f7feae","#ace1a4","#68bfa1","#2a9c9c","#02778e","#045275"],7:["#f7feae","#b7e6a5","#7ccba2","#46aea0","#089099","#00718b","#045275"],tags:["quantitative"]},Teal:{2:["#d1eeea","#2a5674"],3:["#d1eeea","#68abb8","#2a5674"],4:["#d1eeea","#85c4c9","#4f90a6","#2a5674"],5:["#d1eeea","#96d0d1","#68abb8","#45829b","#2a5674"],6:["#d1eeea","#a1d7d6","#79bbc3","#599bae","#3f7994","#2a5674"],7:["#d1eeea","#a8dbd9","#85c4c9","#68abb8","#4f90a6","#3b738f","#2a5674"],tags:["quantitative"]},TealGrn:{2:["#b0f2bc","#257d98"],3:["#b0f2bc","#4cc8a3","#257d98"],4:["#b0f2bc","#67dba5","#38b2a3","#257d98"],5:["#b0f2bc","#77e2a8","#4cc8a3","#31a6a2","#257d98"],6:["#b0f2bc","#82e6aa","#5bd4a4","#3fbba3","#2e9ea1","#257d98"],7:["#b0f2bc","#89e8ac","#67dba5","#4cc8a3","#38b2a3","#2c98a0","#257d98"],tags:["quantitative"]},Purp:{2:["#f3e0f7","#63589f"],3:["#f3e0f7","#b998dd","#63589f"],4:["#f3e0f7","#d1afe8","#9f82ce","#63589f"],5:["#f3e0f7","#dbbaed","#b998dd","#9178c4","#63589f"],6:["#f3e0f7","#e0c2ef","#c8a5e4","#aa8bd4","#8871be","#63589f"],7:["#f3e0f7","#e4c7f1","#d1afe8","#b998dd","#9f82ce","#826dba","#63589f"],tags:["quantitative"]},PurpOr:{3:["#f9ddda","#ce78b3","#573b88"],4:["#f9ddda","#e597b9","#ad5fad","#573b88"],5:["#f9ddda","#eda8bd","#ce78b3","#9955a8","#573b88"],6:["#f9ddda","#f0b2c1","#dd8ab6","#bb69b0","#8c4fa4","#573b88"],7:["#f9ddda","#f2b9c4","#e597b9","#ce78b3","#ad5fad","#834ba0","#573b88"],tags:["quantitative"]},Sunset:{2:["#f3e79b","#5c53a5"],3:["#f3e79b","#eb7f86","#5c53a5"],4:["#f3e79b","#f8a07e","#ce6693","#5c53a5"],5:["#f3e79b","#fab27f","#eb7f86","#b95e9a","#5c53a5"],6:["#f3e79b","#fabc82","#f59280","#dc6f8e","#ab5b9e","#5c53a5"],7:["#f3e79b","#fac484","#f8a07e","#eb7f86","#ce6693","#a059a0","#5c53a5"],tags:["quantitative"]},Magenta:{2:["#f3cbd3","#6c2167"],3:["#f3cbd3","#ca699d","#6c2167"],4:["#f3cbd3","#dd88ac","#b14d8e","#6c2167"],5:["#f3cbd3","#e498b4","#ca699d","#a24186","#6c2167"],6:["#f3cbd3","#e7a2b9","#d67ba5","#bc5894","#983a81","#6c2167"],7:["#f3cbd3","#eaa9bd","#dd88ac","#ca699d","#b14d8e","#91357d","#6c2167"],tags:["quantitative"]},SunsetDark:{2:["#fcde9c","#7c1d6f"],3:["#fcde9c","#e34f6f","#7c1d6f"],4:["#fcde9c","#f0746e","#dc3977","#7c1d6f"],5:["#fcde9c","#f58670","#e34f6f","#d72d7c","#7c1d6f"],6:["#fcde9c","#f89872","#ec666d","#df4273","#c5287b","#7c1d6f"],7:["#fcde9c","#faa476","#f0746e","#e34f6f","#dc3977","#b9257a","#7c1d6f"],tags:["quantitative"]},ag_Sunset:{2:["#4b2991","#edd9a3"],3:["#4b2991","#ea4f88","#edd9a3"],4:["#4b2991","#c0369d","#fa7876","#edd9a3"],5:["#4b2991","#a52fa2","#ea4f88","#fa9074","#edd9a3"],6:["#4b2991","#932da3","#d43f96","#f7667c","#f89f77","#edd9a3"],7:["#4b2991","#872ca2","#c0369d","#ea4f88","#fa7876","#f6a97a","#edd9a3"],tags:["aggregation"]},BrwnYl:{2:["#ede5cf","#541f3f"],3:["#ede5cf","#c1766f","#541f3f"],4:["#ede5cf","#d39c83","#a65461","#541f3f"],5:["#ede5cf","#daaf91","#c1766f","#95455a","#541f3f"],6:["#ede5cf","#ddba9b","#cd8c7a","#b26166","#8a3c56","#541f3f"],7:["#ede5cf","#e0c2a2","#d39c83","#c1766f","#a65461","#813753","#541f3f"],tags:["quantitative"]},ArmyRose:{2:["#929b4f","#db8195"],3:["#a3ad62","#fdfbe4","#df91a3"],4:["#929b4f","#d9dbaf","#f3d1ca","#db8195"],5:["#879043","#c1c68c","#fdfbe4","#ebb4b8","#d8758b"],6:["#7f883b","#b0b874","#e3e4be","#f6ddd1","#e4a0ac","#d66d85"],7:["#798234","#a3ad62","#d0d3a2","#fdfbe4","#f0c6c3","#df91a3","#d46780"],tags:["diverging"]},Fall:{2:["#3d5941","#ca562c"],3:["#3d5941","#f6edbd","#ca562c"],4:["#3d5941","#b5b991","#edbb8a","#ca562c"],5:["#3d5941","#96a07c","#f6edbd","#e6a272","#ca562c"],6:["#3d5941","#839170","#cecea2","#f1cf9e","#e19464","#ca562c"],7:["#3d5941","#778868","#b5b991","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Geyser:{2:["#008080","#ca562c"],3:["#008080","#f6edbd","#ca562c"],4:["#008080","#b4c8a8","#edbb8a","#ca562c"],5:["#008080","#92b69e","#f6edbd","#e6a272","#ca562c"],6:["#008080","#7eab98","#ced7b1","#f1cf9e","#e19464","#ca562c"],7:["#008080","#70a494","#b4c8a8","#f6edbd","#edbb8a","#de8a5a","#ca562c"],tags:["diverging"]},Temps:{2:["#009392","#cf597e"],3:["#009392","#e9e29c","#cf597e"],4:["#009392","#9ccb86","#eeb479","#cf597e"],5:["#009392","#71be83","#e9e29c","#ed9c72","#cf597e"],6:["#009392","#52b684","#bcd48c","#edc783","#eb8d71","#cf597e"],7:["#009392","#39b185","#9ccb86","#e9e29c","#eeb479","#e88471","#cf597e"],tags:["diverging"]},TealRose:{2:["#009392","#d0587e"],3:["#009392","#f1eac8","#d0587e"],4:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],5:["#009392","#91b8aa","#f1eac8","#dfa0a0","#d0587e"],6:["#009392","#72aaa1","#b1c7b3","#e5b9ad","#d98994","#d0587e"],7:["#009392","#72aaa1","#b1c7b3","#f1eac8","#e5b9ad","#d98994","#d0587e"],tags:["diverging"]},Tropic:{2:["#009B9E","#C75DAB"],3:["#009B9E","#F1F1F1","#C75DAB"],4:["#009B9E","#A7D3D4","#E4C1D9","#C75DAB"],5:["#009B9E","#7CC5C6","#F1F1F1","#DDA9CD","#C75DAB"],6:["#009B9E","#5DBCBE","#C6DFDF","#E9D4E2","#D99BC6","#C75DAB"],7:["#009B9E","#42B7B9","#A7D3D4","#F1F1F1","#E4C1D9","#D691C1","#C75DAB"],tags:["diverging"]},Earth:{2:["#A16928","#2887a1"],3:["#A16928","#edeac2","#2887a1"],4:["#A16928","#d6bd8d","#b5c8b8","#2887a1"],5:["#A16928","#caa873","#edeac2","#98b7b2","#2887a1"],6:["#A16928","#c29b64","#e0cfa2","#cbd5bc","#85adaf","#2887a1"],7:["#A16928","#bd925a","#d6bd8d","#edeac2","#b5c8b8","#79a7ac","#2887a1"],tags:["diverging"]},Antique:{2:["#855C75","#D9AF6B","#7C7C7C"],3:["#855C75","#D9AF6B","#AF6458","#7C7C7C"],4:["#855C75","#D9AF6B","#AF6458","#736F4C","#7C7C7C"],5:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#7C7C7C"],6:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#7C7C7C"],7:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#7C7C7C"],8:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#7C7C7C"],9:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#7C7C7C"],10:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#7C7C7C"],11:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#467378","#7C7C7C"],tags:["qualitative"]},Bold:{2:["#7F3C8D","#11A579","#A5AA99"],3:["#7F3C8D","#11A579","#3969AC","#A5AA99"],4:["#7F3C8D","#11A579","#3969AC","#F2B701","#A5AA99"],5:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#A5AA99"],6:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#A5AA99"],7:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#A5AA99"],8:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#A5AA99"],9:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#A5AA99"],10:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#A5AA99"],11:["#7F3C8D","#11A579","#3969AC","#F2B701","#E73F74","#80BA5A","#E68310","#008695","#CF1C90","#f97b72","#4b4b8f","#A5AA99"],tags:["qualitative"]},Pastel:{2:["#66C5CC","#F6CF71","#B3B3B3"],3:["#66C5CC","#F6CF71","#F89C74","#B3B3B3"],4:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#B3B3B3"],5:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#B3B3B3"],6:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#B3B3B3"],7:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#B3B3B3"],8:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#B3B3B3"],9:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B3B3B3"],10:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#B3B3B3"],11:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"],tags:["qualitative"]},Prism:{2:["#5F4690","#1D6996","#666666"],3:["#5F4690","#1D6996","#38A6A5","#666666"],4:["#5F4690","#1D6996","#38A6A5","#0F8554","#666666"],5:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#666666"],6:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#666666"],7:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#666666"],8:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#666666"],9:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#666666"],10:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#666666"],11:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"],tags:["qualitative"]},Safe:{2:["#88CCEE","#CC6677","#888888"],3:["#88CCEE","#CC6677","#DDCC77","#888888"],4:["#88CCEE","#CC6677","#DDCC77","#117733","#888888"],5:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#888888"],6:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#888888"],7:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#888888"],8:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#888888"],9:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#888888"],10:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#888888"],11:["#88CCEE","#CC6677","#DDCC77","#117733","#332288","#AA4499","#44AA99","#999933","#882255","#661100","#6699CC","#888888"],tags:["qualitative","colorblind"]},Vivid:{2:["#E58606","#5D69B1","#A5AA99"],3:["#E58606","#5D69B1","#52BCA3","#A5AA99"],4:["#E58606","#5D69B1","#52BCA3","#99C945","#A5AA99"],5:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#A5AA99"],6:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#A5AA99"],7:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#A5AA99"],8:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#A5AA99"],9:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#A5AA99"],10:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#A5AA99"],11:["#E58606","#5D69B1","#52BCA3","#99C945","#CC61B0","#24796C","#DAA51B","#2F8AC4","#764E9F","#ED645A","#CC3A8E","#A5AA99"],tags:["qualitative"]}},a={Blues:{tags:["quantitative"]},BrBG:{tags:["diverging"]},Greys:{tags:["quantitative"]},PiYG:{tags:["diverging"]},PRGn:{tags:["diverging"]},Purples:{tags:["quantitative"]},RdYlGn:{tags:["diverging"]},Spectral:{tags:["diverging"]},YlOrBr:{tags:["quantitative"]},YlGn:{tags:["quantitative"]},YlGnBu:{tags:["quantitative"]},YlOrRd:{tags:["quantitative"]}},s=n(61);for(var u in s){var c=s[u],l={};for(var d in c)l[d]=c[d];u in a&&(l.tags=a[u].tags),r["cb_"+u]=l}void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)}()},function(t,e,n){t.exports=n(62)},function(t,e,n){var i,o;void 0===(o="function"==typeof(i={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}})?i.call(e,n,e,t):i)||(t.exports=o)},function(t,e,n){(function(e){"pseudomap"===e.env.npm_package_name&&"test"===e.env.npm_lifecycle_script&&(e.env.TEST_PSEUDOMAP="true"),t.exports="function"!=typeof Map||e.env.TEST_PSEUDOMAP?n(64):Map}).call(this,n(27))},function(t,e){var n=Object.prototype.hasOwnProperty;function i(t){if(!(this instanceof i))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof i||"function"==typeof Map&&t instanceof Map)t.forEach((function(t,e){this.set(e,t)}),this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach((function(t){this.set(t[0],t[1])}),this)}}function o(t,e){return t===e||t!=t&&e!=e}function r(t,e){for(var i=0,r="_"+e,a=r;n.call(t,a);a=r+i++)if(o(t[a].key,e))return t[a]}t.exports=i,i.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach((function(n){"size"!==n&&t.call(e,this._data[n].value,this._data[n].key)}),this)},i.prototype.has=function(t){return!!r(this._data,t)},i.prototype.get=function(t){var e=r(this._data,t);return e&&e.value},i.prototype.set=function(t,e){!function(t,e,i){for(var r=0,a="_"+e,s=a;n.call(t,s);s=a+r++)if(o(t[s].key,e))return void(t[s].value=i);t.size++,t[s]=new function(t,e,n){this.key=t,this.value=e,this._index=n}(e,i,s)}(this._data,t,e)},i.prototype.delete=function(t){var e=r(this._data,t);e&&(delete this._data[e._index],this._data.size--)},i.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(i.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),i.prototype.values=i.prototype.keys=i.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(t,e,n){(function(t,i){var o=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,r=i.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),u=i[n];n<r;u=i[++n])g(u)||!v(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,o){if(y(t.process))return function(){return e.deprecate(n,o).apply(this,arguments)};if(!0===i.noDeprecation)return n;var r=!1;return function(){if(!r){if(i.throwDeprecation)throw new Error(o);i.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}};var r,a={};function s(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),f(n)?i.showHidden=n:n&&e._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),l(i,t,i.depth)}function u(t,e){var n=s.styles[e];return n?"\x1b["+s.colors[n][0]+"m"+t+"\x1b["+s.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&w(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(i,t);return _(o)||(o=l(t,o,i)),o}var r=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,n);if(r)return r;var a=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(w(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return d(n)}var u,c="",v=!1,P=["{","}"];return p(n)&&(v=!0,P=["[","]"]),w(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(c=" "+RegExp.prototype.toString.call(n)),C(n)&&(c=" "+Date.prototype.toUTCString.call(n)),x(n)&&(c=" "+d(n)),0!==a.length||v&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=v?function(t,e,n,i,o){for(var r=[],a=0,s=e.length;a<s;++a)k(e,String(a))?r.push(h(t,e,n,i,String(a),!0)):r.push("");return o.forEach((function(o){o.match(/^\d+$/)||r.push(h(t,e,n,i,o,!0))})),r}(t,n,i,s,a):a.map((function(e){return h(t,n,i,s,e,v)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,P)):P[0]+c+P[1]}function d(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,o,r){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),k(i,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=g(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(s=r?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),y(a)){if(r&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function _(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return v(t)&&"[object RegExp]"===P(t)}function v(t){return"object"==typeof t&&null!==t}function C(t){return v(t)&&"[object Date]"===P(t)}function x(t){return v(t)&&("[object Error]"===P(t)||t instanceof Error)}function w(t){return"function"==typeof t}function P(t){return Object.prototype.toString.call(t)}function M(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(y(r)&&(r=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=i.pid;a[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else a[t]=function(){};return a[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=f,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=_,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=v,e.isDate=C,e.isError=x,e.isFunction=w,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(67);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(68),e._extend=function(t,e){if(!e||!v(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,n(66),n(27))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(t){var e=this;if(e instanceof n||(e=new n),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var i=0,o=arguments.length;i<o;i++)e.push(arguments[i]);return e}function i(t,e){t.tail=new r(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function o(t,e){t.head=new r(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function r(t,e,n,i){if(!(this instanceof r))return new r(t,e,n,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=n,n.Node=r,n.create=n,n.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null},n.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},n.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},n.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)i(this,arguments[t]);return this.length},n.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},n.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},n.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},n.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;null!==n;i++)t.call(e,n.value,i,this),n=n.next},n.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;null!==n;i--)t.call(e,n.value,i,this),n=n.prev},n.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},n.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},n.prototype.map=function(t,e){e=e||this;for(var i=new n,o=this.head;null!==o;)i.push(t.call(e,o.value,this)),o=o.next;return i},n.prototype.mapReverse=function(t,e){e=e||this;for(var i=new n,o=this.tail;null!==o;)i.push(t.call(e,o.value,this)),o=o.prev;return i},n.prototype.reduce=function(t,e){var n,i=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var o=0;null!==i;o++)n=t(n,i.value,o),i=i.next;return n},n.prototype.reduceReverse=function(t,e){var n,i=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==i;o--)n=t(n,i.value,o),i=i.prev;return n},n.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},n.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},n.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new n;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,r=this.head;null!==r&&o<t;o++)r=r.next;for(;null!==r&&o<e;o++,r=r.next)i.push(r.value);return i},n.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var i=new n;if(e<t||e<0)return i;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,r=this.tail;null!==r&&o>e;o--)r=r.prev;for(;null!==r&&o>t;o--,r=r.prev)i.push(r.value);return i},n.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=e,this.tail=t,this}},function(t,e,n){"use strict";var i=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(i.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!e)throw Error("Inline worker is not supported");return new Worker(e)}}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"create",(function(){return nt})),n.d(i,"clone",(function(){return it})),n.d(i,"copy",(function(){return ot})),n.d(i,"fromValues",(function(){return rt})),n.d(i,"set",(function(){return at})),n.d(i,"identity",(function(){return st})),n.d(i,"transpose",(function(){return ut})),n.d(i,"invert",(function(){return ct})),n.d(i,"adjoint",(function(){return lt})),n.d(i,"determinant",(function(){return dt})),n.d(i,"multiply",(function(){return ht})),n.d(i,"translate",(function(){return pt})),n.d(i,"scale",(function(){return ft})),n.d(i,"rotate",(function(){return gt})),n.d(i,"rotateX",(function(){return mt})),n.d(i,"rotateY",(function(){return _t})),n.d(i,"rotateZ",(function(){return yt})),n.d(i,"fromTranslation",(function(){return bt})),n.d(i,"fromScaling",(function(){return vt})),n.d(i,"fromRotation",(function(){return Ct})),n.d(i,"fromXRotation",(function(){return xt})),n.d(i,"fromYRotation",(function(){return wt})),n.d(i,"fromZRotation",(function(){return Pt})),n.d(i,"fromRotationTranslation",(function(){return Mt})),n.d(i,"fromQuat2",(function(){return Ot})),n.d(i,"getTranslation",(function(){return kt})),n.d(i,"getScaling",(function(){return Et})),n.d(i,"getRotation",(function(){return St})),n.d(i,"fromRotationTranslationScale",(function(){return Tt})),n.d(i,"fromRotationTranslationScaleOrigin",(function(){return At})),n.d(i,"fromQuat",(function(){return It})),n.d(i,"frustum",(function(){return Dt})),n.d(i,"perspective",(function(){return Rt})),n.d(i,"perspectiveFromFieldOfView",(function(){return Ft})),n.d(i,"ortho",(function(){return Lt})),n.d(i,"lookAt",(function(){return zt})),n.d(i,"targetTo",(function(){return Bt})),n.d(i,"str",(function(){return Nt})),n.d(i,"frob",(function(){return Vt})),n.d(i,"add",(function(){return Ut})),n.d(i,"subtract",(function(){return qt})),n.d(i,"multiplyScalar",(function(){return jt})),n.d(i,"multiplyScalarAndAdd",(function(){return Gt})),n.d(i,"exactEquals",(function(){return Ht})),n.d(i,"equals",(function(){return Zt})),n.d(i,"mul",(function(){return Wt})),n.d(i,"sub",(function(){return Kt}));var o={};n.r(o),n.d(o,"create",(function(){return Xt})),n.d(o,"clone",(function(){return $t})),n.d(o,"fromValues",(function(){return Yt})),n.d(o,"copy",(function(){return Qt})),n.d(o,"set",(function(){return Jt})),n.d(o,"add",(function(){return te})),n.d(o,"subtract",(function(){return ee})),n.d(o,"multiply",(function(){return ne})),n.d(o,"divide",(function(){return ie})),n.d(o,"ceil",(function(){return oe})),n.d(o,"floor",(function(){return re})),n.d(o,"min",(function(){return ae})),n.d(o,"max",(function(){return se})),n.d(o,"round",(function(){return ue})),n.d(o,"scale",(function(){return ce})),n.d(o,"scaleAndAdd",(function(){return le})),n.d(o,"distance",(function(){return de})),n.d(o,"squaredDistance",(function(){return he})),n.d(o,"length",(function(){return pe})),n.d(o,"squaredLength",(function(){return fe})),n.d(o,"negate",(function(){return ge})),n.d(o,"inverse",(function(){return me})),n.d(o,"normalize",(function(){return _e})),n.d(o,"dot",(function(){return ye})),n.d(o,"lerp",(function(){return be})),n.d(o,"random",(function(){return ve})),n.d(o,"transformMat4",(function(){return Ce})),n.d(o,"transformQuat",(function(){return xe})),n.d(o,"str",(function(){return we})),n.d(o,"exactEquals",(function(){return Pe})),n.d(o,"equals",(function(){return Me})),n.d(o,"sub",(function(){return Oe})),n.d(o,"mul",(function(){return ke})),n.d(o,"div",(function(){return Ee})),n.d(o,"dist",(function(){return Se})),n.d(o,"sqrDist",(function(){return Te})),n.d(o,"len",(function(){return Ae})),n.d(o,"sqrLen",(function(){return Ie})),n.d(o,"forEach",(function(){return De}));var r={};n.r(r),n.d(r,"colorShaderGLSL",(function(){return Nn})),n.d(r,"filterShaderGLSL",(function(){return Vn})),n.d(r,"widthShaderGLSL",(function(){return Un}));var a={};n.r(a),n.d(a,"symbolShaderGLSL",(function(){return Hn}));var s={};n.r(s),n.d(s,"number",(function(){return Wa})),n.d(s,"category",(function(){return Ka})),n.d(s,"list",(function(){return Xa})),n.d(s,"rgb",(function(){return $a})),n.d(s,"rgba",(function(){return Ya})),n.d(s,"transition",(function(){return Qa})),n.d(s,"nin",(function(){return ts})),n.d(s,"in",(function(){return Ja})),n.d(s,"between",(function(){return es})),n.d(s,"mul",(function(){return ns})),n.d(s,"div",(function(){return is})),n.d(s,"add",(function(){return os})),n.d(s,"sub",(function(){return rs})),n.d(s,"pow",(function(){return as})),n.d(s,"mod",(function(){return ss})),n.d(s,"greaterThan",(function(){return us})),n.d(s,"greaterThanOrEqualTo",(function(){return cs})),n.d(s,"lessThan",(function(){return ls})),n.d(s,"lessThanOrEqualTo",(function(){return ds})),n.d(s,"equals",(function(){return hs})),n.d(s,"notEquals",(function(){return ps})),n.d(s,"and",(function(){return fs})),n.d(s,"or",(function(){return gs})),n.d(s,"gt",(function(){return ms})),n.d(s,"gte",(function(){return _s})),n.d(s,"lt",(function(){return ys})),n.d(s,"lte",(function(){return bs})),n.d(s,"eq",(function(){return vs})),n.d(s,"neq",(function(){return Cs})),n.d(s,"blend",(function(){return xs})),n.d(s,"buckets",(function(){return ws})),n.d(s,"cielab",(function(){return Ps})),n.d(s,"clusterAvg",(function(){return Ms})),n.d(s,"clusterMax",(function(){return Os})),n.d(s,"clusterMin",(function(){return ks})),n.d(s,"clusterMode",(function(){return Es})),n.d(s,"clusterSum",(function(){return Ss})),n.d(s,"clusterCount",(function(){return Ts})),n.d(s,"clusterTime",(function(){return As})),n.d(s,"constant",(function(){return Is})),n.d(s,"image",(function(){return Ds})),n.d(s,"svg",(function(){return Rs})),n.d(s,"hex",(function(){return Fs})),n.d(s,"hsl",(function(){return Ls})),n.d(s,"hsla",(function(){return zs})),n.d(s,"hsv",(function(){return Bs})),n.d(s,"hsva",(function(){return Ns})),n.d(s,"cubic",(function(){return Vs})),n.d(s,"ilinear",(function(){return Us})),n.d(s,"linear",(function(){return qs})),n.d(s,"namedColor",(function(){return js})),n.d(s,"now",(function(){return Gs})),n.d(s,"opacity",(function(){return Hs})),n.d(s,"asc",(function(){return Zs})),n.d(s,"desc",(function(){return Ws})),n.d(s,"noOrder",(function(){return Ks})),n.d(s,"width",(function(){return Xs})),n.d(s,"reverse",(function(){return $s})),n.d(s,"property",(function(){return Ys})),n.d(s,"prop",(function(){return Ys})),n.d(s,"globalQuantiles",(function(){return Qs})),n.d(s,"viewportQuantiles",(function(){return Js})),n.d(s,"globalEqIntervals",(function(){return tu})),n.d(s,"viewportEqIntervals",(function(){return eu})),n.d(s,"globalStandardDev",(function(){return nu})),n.d(s,"viewportStandardDev",(function(){return iu})),n.d(s,"ramp",(function(){return ou})),n.d(s,"time",(function(){return ru})),n.d(s,"date",(function(){return ru})),n.d(s,"timeRange",(function(){return au})),n.d(s,"top",(function(){return su})),n.d(s,"fade",(function(){return uu})),n.d(s,"animation",(function(){return cu})),n.d(s,"log",(function(){return lu})),n.d(s,"sqrt",(function(){return du})),n.d(s,"sin",(function(){return hu})),n.d(s,"cos",(function(){return pu})),n.d(s,"tan",(function(){return fu})),n.d(s,"sign",(function(){return gu})),n.d(s,"abs",(function(){return mu})),n.d(s,"isNull",(function(){return _u})),n.d(s,"not",(function(){return yu})),n.d(s,"floor",(function(){return bu})),n.d(s,"ceil",(function(){return vu})),n.d(s,"variable",(function(){return Cu})),n.d(s,"var",(function(){return Cu})),n.d(s,"viewportAvg",(function(){return xu})),n.d(s,"viewportMax",(function(){return wu})),n.d(s,"viewportMin",(function(){return Pu})),n.d(s,"viewportSum",(function(){return Mu})),n.d(s,"viewportCount",(function(){return Ou})),n.d(s,"viewportPercentile",(function(){return ku})),n.d(s,"viewportHistogram",(function(){return Eu})),n.d(s,"viewportFeatures",(function(){return Su})),n.d(s,"globalAvg",(function(){return Tu})),n.d(s,"globalMax",(function(){return Au})),n.d(s,"globalMin",(function(){return Iu})),n.d(s,"globalSum",(function(){return Du})),n.d(s,"globalCount",(function(){return Ru})),n.d(s,"globalPercentile",(function(){return Fu})),n.d(s,"globalHistogram",(function(){return Lu})),n.d(s,"zoom",(function(){return zu})),n.d(s,"scaled",(function(){return Bu})),n.d(s,"zoomrange",(function(){return Nu})),n.d(s,"placement",(function(){return Vu})),n.d(s,"translate",(function(){return Uu})),n.d(s,"rotate",(function(){return qu})),n.d(s,"alphaNormalize",(function(){return ju})),n.d(s,"HOLD",(function(){return Gu})),n.d(s,"TRUE",(function(){return Hu})),n.d(s,"FALSE",(function(){return Zu})),n.d(s,"PI",(function(){return Wu})),n.d(s,"E",(function(){return Ku})),n.d(s,"BICYCLE",(function(){return Xu})),n.d(s,"BUILDING",(function(){return $u})),n.d(s,"BUS",(function(){return Yu})),n.d(s,"CAR",(function(){return Qu})),n.d(s,"CIRCLE",(function(){return Ju})),n.d(s,"CIRCLE_OUTLINE",(function(){return tc})),n.d(s,"CROSS",(function(){return ec})),n.d(s,"FLAG",(function(){return nc})),n.d(s,"HOUSE",(function(){return ic})),n.d(s,"MARKER",(function(){return oc})),n.d(s,"MARKER_OUTLINE",(function(){return rc})),n.d(s,"PLUS",(function(){return ac})),n.d(s,"SQUARE",(function(){return sc})),n.d(s,"SQUARE_OUTLINE",(function(){return uc})),n.d(s,"STAR",(function(){return cc})),n.d(s,"STAR_OUTLINE",(function(){return lc})),n.d(s,"TRIANGLE",(function(){return dc})),n.d(s,"TRIANGLE_OUTLINE",(function(){return hc})),n.d(s,"ALIGN_CENTER",(function(){return pc})),n.d(s,"ALIGN_BOTTOM",(function(){return fc})),n.d(s,"palettes",(function(){return gr})),n.d(s,"Asc",(function(){return rr})),n.d(s,"Desc",(function(){return ar}));var u={};n.r(u),n.d(u,"voyager",(function(){return bd})),n.d(u,"darkmatter",(function(){return vd})),n.d(u,"positron",(function(){return Cd}));var c=n(7),l=n.n(c),d=n(13),h=n.n(d),p=n(1),f=n.n(p),g=n(4),m=n.n(g),_=n(9),y=n.n(_),b=["year","month","day","hour","minute","second"],v=[1,1,1,0,0,0],C=864e5;function x(t){for(var e=b.length-1;e>0&&t[b[e]]===v[e];)--e;return e}function w(t,e){return t.toString().padStart(e,"0")}function P(t){var e=tn(t);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds()}}function M(t,e){throw new Error("Invalid period of ".concat(e," between ").concat(t.v1," and ").concat(t.v2))}function O(t,e){var n=P(t),i=P(e),o=x(n),r=x(i),a={v1:t,v2:e,t1:n,t2:i};return 0===Math.max(o,r)?function(t){var e=t.t2.year-t.t1.year;return 1e3===e&&(t.t1.year-1)%1e3==0?"M".concat(1+(t.t1.year-1)/1e3):100===e&&(t.t1.year-1)%100==0?"C".concat(1+(t.t1.year-1)/100):10===e&&t.t1.year%10==0?"D".concat(t.t1.year/10):1===e?w(t.t1.year,4):void M("".concat(e," years"))}(a):1===Math.max(o,r)?function(t){var e=12*t.t2.year+t.t2.month-12*t.t1.year-t.t1.month;return 6===e&&(t.t1.month-1)%6==0?"".concat(w(t.t1.year,4),"S").concat(1+(t.t1.month-1)/6):4===e?"".concat(w(t.t1.year,4),"t").concat(1+(t.t1.month-1)/4):3===e?"".concat(w(t.t1.year,4),"-Q").concat(1+(t.t1.month-1)/3):1===e?"".concat(w(t.t1.year,4),"-").concat(w(t.t1.month,2)):void M("".concat(e," months"))}(a):2===Math.max(o,r)?function(t){var e=Math.round((t.v2-t.v1)/C);if(1===e)return"".concat(w(t.t1.year,4),"-").concat(w(t.t1.month,2),"-").concat(w(t.t1.day,2));if(7===e){var n=t.t1.year,i=Date.UTC(n,0,1),o=function t(e,n){var i=function(t,e,n){var i=new Date(t,0,1).getDay();return 0===i?7:i}(e),o=i>4?9-i:2-i;return Math.abs(n-o)%7!=0?[]:n<o?t(e-1,n+=Math.round((Date.UTC(e,0,1)-Date.UTC(e-1,0,1))/C)):Date.UTC(e,0,1)+(n-1+3)*C>=Date.UTC(e+1,0,1)?t(e+1,n-=Math.round((Date.UTC(e+1,0,1)-Date.UTC(e,0,1))/C)):[e,1+Math.round((n-o)/7)]}(n,1+Math.round((t.v1-i)/C)),r=y()(o,2),a=r[0],s=r[1];if(a&&s)return"".concat(w(a,4),"-W").concat(w(s,2));M("7 days")}else M("".concat(e," days"))}(a):3===Math.max(o,r)?function(t){var e=Math.round((t.v2-t.v1)/36e5);if(1===e)return"".concat(w(t.t1.year,4),"-").concat(w(t.t1.month,2),"-").concat(w(t.t1.day,2),"T").concat(w(t.t1.hour,2));M("".concat(e," hours"))}(a):4===Math.max(o,r)?function(t){var e=Math.round((t.v2-t.v1)/6e4);if(1===e)return"".concat(w(t.t1.year,4),"-").concat(w(t.t1.month,2),"-").concat(w(t.t1.day,2),"T").concat(w(t.t1.hour,2),":").concat(w(t.t1.minute,2));M("".concat(e," minutes"))}(a):5===Math.max(o,r)?function(t){var e=Math.round((t.v2-t.v1)/1e3);if(1===e)return"".concat(w(t.t1.year,4),"-").concat(w(t.t1.month,2),"-").concat(w(t.t1.day,2),"T").concat(w(t.t1.hour,2),":").concat(w(t.t1.minute,2),":").concat(w(t.t1.second,2));M("".concat(e," seconds"))}(a):void M(a,"fractional seconds")}var k=n(2),E=n.n(k),S=n(0),T=n.n(S),A=n(3),I=n.n(A),D=n(28),R=function(t){function e(t){var n;if(f()(this,e),!t)throw Error("Invalid CartoError, a message is mandatory");if(!t.message)throw Error("Invalid CartoError, a message is mandatory");if(!t.type)throw Error("Invalid CartoError, a type is mandatory");return(n=E()(this,T()(e).call(this,"".concat(t.type," ").concat(t.message)))).name="CartoError",n.type=t.type,n.originalError=t,n}return I()(e,t),e}(n.n(D)()(Error)),F=function(t){function e(t){var n;return f()(this,e),(n=E()(this,T()(e).call(this,{message:t,type:"[Error]"}))).name="CartoParsingError",n}return I()(e,t),e}(R),L=function(){function t(e){f()(this,t),this._format=e}return m()(t,[{key:"check",value:function(t){return t.match(this._format)}}]),t}();function z(t,e){return void 0===t?e:Number(t)}function B(t){return{year:z(t.year,1),month:z(t.month,1),day:z(t.day,1),hour:z(t.hour,0),minute:z(t.minute,0),second:z(t.second,0)}}function N(t){return B({year:t[1],month:t[2],day:t[3],hour:t[4],minute:t[5],second:t[6]})}var V=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^(\d\d\d\d)(?:\-?(\d\d)(?:\-?(\d\d)(?:[T\s]?(\d\d)(?:\:(\d\d)(?:\:(\d\d))?)?)?)?)?$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t)||[],n=e.slice(),i=[1,2,3,4,5,6].find((function(t){return void 0===n[t]}))||7;return 1===i?n[1]=2:n[i-1]=Number(n[i-1])+1,[N(e),N(n)]}}]),e}(L),U=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^M(\d+)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=function(t){return 1e3*(t-1)+1};return[B({year:i(n)}),B({year:i(n+1)})]}}]),e}(L),q=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^C(\d+)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=function(t){return 100*(t-1)+1};return[B({year:i(n)}),B({year:i(n+1)})]}}]),e}(L),j=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^D(\d+)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=function(t){return 10*t};return[B({year:i(n)}),B({year:i(n+1)})]}}]),e}(L),G=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^(\d\d\d\d)S(\d)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=Number(e[2]),o=function(t){return 6*(t-1)+1};return[B({year:n,month:o(i)}),B({year:n,month:o(i+1)})]}}]),e}(L),H=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^(\d\d\d\d)t(\d)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=Number(e[2]),o=function(t){return 4*(t-1)+1};return[B({year:n,month:o(i)}),B({year:n,month:o(i+1)})]}}]),e}(L),Z=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^(\d\d\d\d)\-?Q(\d)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=Number(e[2]),o=function(t){return 3*(t-1)+1};return[B({year:n,month:o(i)}),B({year:n,month:o(i+1)})]}}]),e}(L);function W(t,e){var n=function(t,e,n){var i=new Date(t,0,1).getDay();return 0===i?7:i}(t);return function(t,e){var n=new Date(t.valueOf());return n.setDate(n.getDate()+e),n}(new Date(t,0,n>4?9-n:2-n),7*(e-1))}var K=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,/^(\d\d\d\d)\-?W(\d\d)$/))}return I()(e,t),m()(e,[{key:"parse",value:function(t){var e=this.check(t),n=Number(e[1]),i=Number(e[2]),o=W(n,i),r=W(n,i+1),a=function(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}};return[B(a(o)),B(a(r))]}}]),e}(L),X=[new U,new q,new j,new G,new H,new Z,new K,new V],$=function(){function t(e,n){f()(this,t),this._value=e,this._date=tn(e),this._timeZone=n}return m()(t,[{key:"year",get:function(){return this._date.getUTCFullYear()}},{key:"month",get:function(){return this._date.getUTCMonth()+1}},{key:"day",get:function(){return this._date.getUTCDate()}},{key:"hour",get:function(){return this._date.getUTCHours()}},{key:"minute",get:function(){return this._date.getUTCMinutes()}},{key:"second",get:function(){return this._date.getUTCSeconds()}},{key:"text",get:function(){return O(this._date.getTime(),this._date.getTime()+1e3)}},{key:"timeZone",get:function(){return this._timeZone}}],[{key:"fromValue",value:function(e,n){return new t(e,n)}},{key:"from",value:function(t,e,n,i,o,r,a){return this.fromValue(Date.UTC(t,(e||1)-1,n,i,o,r),a)}}]),t}(),Y=function(){function t(e,n,i,o){if(f()(this,t),this._startValue=i,this._endValue=o,i&&o)this._iso=O(i,o);else if(!i&&!o&&n){var r=function(t){return function(t){var e=function(t){return X.find((function(e){return e.check(t)}))}(t=t||"");if(!e)throw new F("No date parser found for ".concat(t));return e.parse(t)}(t).map(Q)}(n);this._iso=n,this._startValue=r[0],this._endValue=r[1]}this._timeZone=e}return m()(t,[{key:"timeZone",get:function(){return this._timeZone}},{key:"iso",get:function(){return this._iso}},{key:"startValue",get:function(){return this._startValue}},{key:"endValue",get:function(){return this._endValue}},{key:"startDate",get:function(){return $.fromValue(this._startValue,this._timeZone)}},{key:"endDate",get:function(){return $.fromValue(this._endValue,this._timeZone)}}]),t}();function Q(t){return Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second)}var J=1e-6,tt="undefined"!=typeof Float32Array?Float32Array:Array,et=Math.random;function nt(){var t=new tt(16);return tt!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function it(t){var e=new tt(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function rt(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g){var m=new tt(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=i,m[4]=o,m[5]=r,m[6]=a,m[7]=s,m[8]=u,m[9]=c,m[10]=l,m[11]=d,m[12]=h,m[13]=p,m[14]=f,m[15]=g,m}function at(t,e,n,i,o,r,a,s,u,c,l,d,h,p,f,g,m){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t[9]=l,t[10]=d,t[11]=h,t[12]=p,t[13]=f,t[14]=g,t[15]=m,t}function st(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ut(t,e){if(t===e){var n=e[1],i=e[2],o=e[3],r=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=r,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ct(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],d=e[9],h=e[10],p=e[11],f=e[12],g=e[13],m=e[14],_=e[15],y=n*s-i*a,b=n*u-o*a,v=n*c-r*a,C=i*u-o*s,x=i*c-r*s,w=o*c-r*u,P=l*g-d*f,M=l*m-h*f,O=l*_-p*f,k=d*m-h*g,E=d*_-p*g,S=h*_-p*m,T=y*S-b*E+v*k+C*O-x*M+w*P;return T?(t[0]=(s*S-u*E+c*k)*(T=1/T),t[1]=(o*E-i*S-r*k)*T,t[2]=(g*w-m*x+_*C)*T,t[3]=(h*x-d*w-p*C)*T,t[4]=(u*O-a*S-c*M)*T,t[5]=(n*S-o*O+r*M)*T,t[6]=(m*v-f*w-_*b)*T,t[7]=(l*w-h*v+p*b)*T,t[8]=(a*E-s*O+c*P)*T,t[9]=(i*O-n*E-r*P)*T,t[10]=(f*x-g*v+_*y)*T,t[11]=(d*v-l*x-p*y)*T,t[12]=(s*M-a*k-u*P)*T,t[13]=(n*k-i*M+o*P)*T,t[14]=(g*b-f*C-m*y)*T,t[15]=(l*C-d*b+h*y)*T,t):null}function lt(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],d=e[9],h=e[10],p=e[11],f=e[12],g=e[13],m=e[14],_=e[15];return t[0]=s*(h*_-p*m)-d*(u*_-c*m)+g*(u*p-c*h),t[1]=-(i*(h*_-p*m)-d*(o*_-r*m)+g*(o*p-r*h)),t[2]=i*(u*_-c*m)-s*(o*_-r*m)+g*(o*c-r*u),t[3]=-(i*(u*p-c*h)-s*(o*p-r*h)+d*(o*c-r*u)),t[4]=-(a*(h*_-p*m)-l*(u*_-c*m)+f*(u*p-c*h)),t[5]=n*(h*_-p*m)-l*(o*_-r*m)+f*(o*p-r*h),t[6]=-(n*(u*_-c*m)-a*(o*_-r*m)+f*(o*c-r*u)),t[7]=n*(u*p-c*h)-a*(o*p-r*h)+l*(o*c-r*u),t[8]=a*(d*_-p*g)-l*(s*_-c*g)+f*(s*p-c*d),t[9]=-(n*(d*_-p*g)-l*(i*_-r*g)+f*(i*p-r*d)),t[10]=n*(s*_-c*g)-a*(i*_-r*g)+f*(i*c-r*s),t[11]=-(n*(s*p-c*d)-a*(i*p-r*d)+l*(i*c-r*s)),t[12]=-(a*(d*m-h*g)-l*(s*m-u*g)+f*(s*h-u*d)),t[13]=n*(d*m-h*g)-l*(i*m-o*g)+f*(i*h-o*d),t[14]=-(n*(s*m-u*g)-a*(i*m-o*g)+f*(i*u-o*s)),t[15]=n*(s*h-u*d)-a*(i*h-o*d)+l*(i*u-o*s),t}function dt(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],d=t[10],h=t[11],p=t[12],f=t[13],g=t[14],m=t[15];return(e*a-n*r)*(d*m-h*g)-(e*s-i*r)*(l*m-h*f)+(e*u-o*r)*(l*g-d*f)+(n*s-i*a)*(c*m-h*p)-(n*u-o*a)*(c*g-d*p)+(i*u-o*s)*(c*f-l*p)}function ht(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],d=e[8],h=e[9],p=e[10],f=e[11],g=e[12],m=e[13],_=e[14],y=e[15],b=n[0],v=n[1],C=n[2],x=n[3];return t[0]=b*i+v*s+C*d+x*g,t[1]=b*o+v*u+C*h+x*m,t[2]=b*r+v*c+C*p+x*_,t[3]=b*a+v*l+C*f+x*y,t[4]=(b=n[4])*i+(v=n[5])*s+(C=n[6])*d+(x=n[7])*g,t[5]=b*o+v*u+C*h+x*m,t[6]=b*r+v*c+C*p+x*_,t[7]=b*a+v*l+C*f+x*y,t[8]=(b=n[8])*i+(v=n[9])*s+(C=n[10])*d+(x=n[11])*g,t[9]=b*o+v*u+C*h+x*m,t[10]=b*r+v*c+C*p+x*_,t[11]=b*a+v*l+C*f+x*y,t[12]=(b=n[12])*i+(v=n[13])*s+(C=n[14])*d+(x=n[15])*g,t[13]=b*o+v*u+C*h+x*m,t[14]=b*r+v*c+C*p+x*_,t[15]=b*a+v*l+C*f+x*y,t}function pt(t,e,n){var i=n[0],o=n[1],r=n[2],a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,d=void 0,h=void 0,p=void 0,f=void 0,g=void 0,m=void 0,_=void 0;return e===t?(t[12]=e[0]*i+e[4]*o+e[8]*r+e[12],t[13]=e[1]*i+e[5]*o+e[9]*r+e[13],t[14]=e[2]*i+e[6]*o+e[10]*r+e[14],t[15]=e[3]*i+e[7]*o+e[11]*r+e[15]):(s=e[1],u=e[2],c=e[3],l=e[4],d=e[5],h=e[6],p=e[7],f=e[8],g=e[9],m=e[10],_=e[11],t[0]=a=e[0],t[1]=s,t[2]=u,t[3]=c,t[4]=l,t[5]=d,t[6]=h,t[7]=p,t[8]=f,t[9]=g,t[10]=m,t[11]=_,t[12]=a*i+l*o+f*r+e[12],t[13]=s*i+d*o+g*r+e[13],t[14]=u*i+h*o+m*r+e[14],t[15]=c*i+p*o+_*r+e[15]),t}function ft(t,e,n){var i=n[0],o=n[1],r=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function gt(t,e,n,i){var o,r,a,s,u,c,l,d,h,p,f,g,m,_,y,b,v,C,x,w,P,M,O,k,E=i[0],S=i[1],T=i[2],A=Math.sqrt(E*E+S*S+T*T);return A<J?null:(E*=A=1/A,S*=A,T*=A,o=Math.sin(n),a=1-(r=Math.cos(n)),u=e[1],c=e[2],l=e[3],h=e[5],p=e[6],f=e[7],m=e[9],_=e[10],y=e[11],x=E*S*a-T*o,w=S*S*a+r,P=T*S*a+E*o,M=E*T*a+S*o,O=S*T*a-E*o,k=T*T*a+r,t[0]=(s=e[0])*(b=E*E*a+r)+(d=e[4])*(v=S*E*a+T*o)+(g=e[8])*(C=T*E*a-S*o),t[1]=u*b+h*v+m*C,t[2]=c*b+p*v+_*C,t[3]=l*b+f*v+y*C,t[4]=s*x+d*w+g*P,t[5]=u*x+h*w+m*P,t[6]=c*x+p*w+_*P,t[7]=l*x+f*w+y*P,t[8]=s*M+d*O+g*k,t[9]=u*M+h*O+m*k,t[10]=c*M+p*O+_*k,t[11]=l*M+f*O+y*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function mt(t,e,n){var i=Math.sin(n),o=Math.cos(n),r=e[4],a=e[5],s=e[6],u=e[7],c=e[8],l=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*o+c*i,t[5]=a*o+l*i,t[6]=s*o+d*i,t[7]=u*o+h*i,t[8]=c*o-r*i,t[9]=l*o-a*i,t[10]=d*o-s*i,t[11]=h*o-u*i,t}function _t(t,e,n){var i=Math.sin(n),o=Math.cos(n),r=e[0],a=e[1],s=e[2],u=e[3],c=e[8],l=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o-c*i,t[1]=a*o-l*i,t[2]=s*o-d*i,t[3]=u*o-h*i,t[8]=r*i+c*o,t[9]=a*i+l*o,t[10]=s*i+d*o,t[11]=u*i+h*o,t}function yt(t,e,n){var i=Math.sin(n),o=Math.cos(n),r=e[0],a=e[1],s=e[2],u=e[3],c=e[4],l=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o+c*i,t[1]=a*o+l*i,t[2]=s*o+d*i,t[3]=u*o+h*i,t[4]=c*o-r*i,t[5]=l*o-a*i,t[6]=d*o-s*i,t[7]=h*o-u*i,t}function bt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function vt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ct(t,e,n){var i,o,r,a=n[0],s=n[1],u=n[2],c=Math.sqrt(a*a+s*s+u*u);return c<J?null:(a*=c=1/c,s*=c,u*=c,i=Math.sin(e),r=1-(o=Math.cos(e)),t[0]=a*a*r+o,t[1]=s*a*r+u*i,t[2]=u*a*r-s*i,t[3]=0,t[4]=a*s*r-u*i,t[5]=s*s*r+o,t[6]=u*s*r+a*i,t[7]=0,t[8]=a*u*r+s*i,t[9]=s*u*r-a*i,t[10]=u*u*r+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function xt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function wt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Pt(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Mt(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3],s=i+i,u=o+o,c=r+r,l=i*s,d=i*u,h=i*c,p=o*u,f=o*c,g=r*c,m=a*s,_=a*u,y=a*c;return t[0]=1-(p+g),t[1]=d+y,t[2]=h-_,t[3]=0,t[4]=d-y,t[5]=1-(l+g),t[6]=f+m,t[7]=0,t[8]=h+_,t[9]=f-m,t[10]=1-(l+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ot(t,e){var n=new tt(3),i=-e[0],o=-e[1],r=-e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],d=i*i+o*o+r*r+a*a;return d>0?(n[0]=2*(s*a+l*i+u*r-c*o)/d,n[1]=2*(u*a+l*o+c*i-s*r)/d,n[2]=2*(c*a+l*r+s*o-u*i)/d):(n[0]=2*(s*a+l*i+u*r-c*o),n[1]=2*(u*a+l*o+c*i-s*r),n[2]=2*(c*a+l*r+s*o-u*i)),Mt(t,e,n),t}function kt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Et(t,e){var n=e[0],i=e[1],o=e[2],r=e[4],a=e[5],s=e[6],u=e[8],c=e[9],l=e[10];return t[0]=Math.sqrt(n*n+i*i+o*o),t[1]=Math.sqrt(r*r+a*a+s*s),t[2]=Math.sqrt(u*u+c*c+l*l),t}function St(t,e){var n=e[0]+e[5]+e[10],i=0;return n>0?(i=2*Math.sqrt(n+1),t[3]=.25*i,t[0]=(e[6]-e[9])/i,t[1]=(e[8]-e[2])/i,t[2]=(e[1]-e[4])/i):e[0]>e[5]&&e[0]>e[10]?(i=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/i,t[0]=.25*i,t[1]=(e[1]+e[4])/i,t[2]=(e[8]+e[2])/i):e[5]>e[10]?(i=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/i,t[0]=(e[1]+e[4])/i,t[1]=.25*i,t[2]=(e[6]+e[9])/i):(i=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/i,t[0]=(e[8]+e[2])/i,t[1]=(e[6]+e[9])/i,t[2]=.25*i),t}function Tt(t,e,n,i){var o=e[0],r=e[1],a=e[2],s=e[3],u=o+o,c=r+r,l=a+a,d=o*u,h=o*c,p=o*l,f=r*c,g=r*l,m=a*l,_=s*u,y=s*c,b=s*l,v=i[0],C=i[1],x=i[2];return t[0]=(1-(f+m))*v,t[1]=(h+b)*v,t[2]=(p-y)*v,t[3]=0,t[4]=(h-b)*C,t[5]=(1-(d+m))*C,t[6]=(g+_)*C,t[7]=0,t[8]=(p+y)*x,t[9]=(g-_)*x,t[10]=(1-(d+f))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function At(t,e,n,i,o){var r=e[0],a=e[1],s=e[2],u=e[3],c=r+r,l=a+a,d=s+s,h=r*c,p=r*l,f=r*d,g=a*l,m=a*d,_=s*d,y=u*c,b=u*l,v=u*d,C=i[0],x=i[1],w=i[2],P=o[0],M=o[1],O=o[2],k=(1-(g+_))*C,E=(p+v)*C,S=(f-b)*C,T=(p-v)*x,A=(1-(h+_))*x,I=(m+y)*x,D=(f+b)*w,R=(m-y)*w,F=(1-(h+g))*w;return t[0]=k,t[1]=E,t[2]=S,t[3]=0,t[4]=T,t[5]=A,t[6]=I,t[7]=0,t[8]=D,t[9]=R,t[10]=F,t[11]=0,t[12]=n[0]+P-(k*P+T*M+D*O),t[13]=n[1]+M-(E*P+A*M+R*O),t[14]=n[2]+O-(S*P+I*M+F*O),t[15]=1,t}function It(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=n+n,s=i+i,u=o+o,c=n*a,l=i*a,d=i*s,h=o*a,p=o*s,f=o*u,g=r*a,m=r*s,_=r*u;return t[0]=1-d-f,t[1]=l+_,t[2]=h-m,t[3]=0,t[4]=l-_,t[5]=1-c-f,t[6]=p+g,t[7]=0,t[8]=h+m,t[9]=p-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Dt(t,e,n,i,o,r,a){var s=1/(n-e),u=1/(o-i),c=1/(r-a);return t[0]=2*r*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*r*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+i)*u,t[10]=(a+r)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*r*2*c,t[15]=0,t}function Rt(t,e,n,i,o){var r=1/Math.tan(e/2),a=void 0;return t[0]=r/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(t[10]=(o+i)*(a=1/(i-o)),t[14]=2*o*i*a):(t[10]=-1,t[14]=-2*i),t}function Ft(t,e,n,i){var o=Math.tan(e.upDegrees*Math.PI/180),r=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(o+r);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(o-r)*c*.5,t[10]=i/(n-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*n/(n-i),t[15]=0,t}function Lt(t,e,n,i,o,r,a){var s=1/(e-n),u=1/(i-o),c=1/(r-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+i)*u,t[14]=(a+r)*c,t[15]=1,t}function zt(t,e,n,i){var o=void 0,r=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,d=void 0,h=void 0,p=void 0,f=e[0],g=e[1],m=e[2],_=i[0],y=i[1],b=i[2],v=n[0],C=n[1],x=n[2];return Math.abs(f-v)<J&&Math.abs(g-C)<J&&Math.abs(m-x)<J?st(t):(l=f-v,d=g-C,h=m-x,o=y*(h*=p=1/Math.sqrt(l*l+d*d+h*h))-b*(d*=p),r=b*(l*=p)-_*h,a=_*d-y*l,(p=Math.sqrt(o*o+r*r+a*a))?(o*=p=1/p,r*=p,a*=p):(o=0,r=0,a=0),s=d*a-h*r,u=h*o-l*a,c=l*r-d*o,(p=Math.sqrt(s*s+u*u+c*c))?(s*=p=1/p,u*=p,c*=p):(s=0,u=0,c=0),t[0]=o,t[1]=s,t[2]=l,t[3]=0,t[4]=r,t[5]=u,t[6]=d,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(o*f+r*g+a*m),t[13]=-(s*f+u*g+c*m),t[14]=-(l*f+d*g+h*m),t[15]=1,t)}function Bt(t,e,n,i){var o=e[0],r=e[1],a=e[2],s=i[0],u=i[1],c=i[2],l=o-n[0],d=r-n[1],h=a-n[2],p=l*l+d*d+h*h;p>0&&(l*=p=1/Math.sqrt(p),d*=p,h*=p);var f=u*h-c*d,g=c*l-s*h,m=s*d-u*l;return(p=f*f+g*g+m*m)>0&&(f*=p=1/Math.sqrt(p),g*=p,m*=p),t[0]=f,t[1]=g,t[2]=m,t[3]=0,t[4]=d*m-h*g,t[5]=h*f-l*m,t[6]=l*g-d*f,t[7]=0,t[8]=l,t[9]=d,t[10]=h,t[11]=0,t[12]=o,t[13]=r,t[14]=a,t[15]=1,t}function Nt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Vt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Ut(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function qt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function jt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Gt(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t[9]=e[9]+n[9]*i,t[10]=e[10]+n[10]*i,t[11]=e[11]+n[11]*i,t[12]=e[12]+n[12]*i,t[13]=e[13]+n[13]*i,t[14]=e[14]+n[14]*i,t[15]=e[15]+n[15]*i,t}function Ht(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Zt(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],d=t[9],h=t[10],p=t[11],f=t[12],g=t[13],m=t[14],_=t[15],y=e[0],b=e[1],v=e[2],C=e[3],x=e[4],w=e[5],P=e[6],M=e[7],O=e[8],k=e[9],E=e[10],S=e[11],T=e[12],A=e[13],I=e[14],D=e[15];return Math.abs(n-y)<=J*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-b)<=J*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-v)<=J*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(r-C)<=J*Math.max(1,Math.abs(r),Math.abs(C))&&Math.abs(a-x)<=J*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-w)<=J*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-P)<=J*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(c-M)<=J*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(l-O)<=J*Math.max(1,Math.abs(l),Math.abs(O))&&Math.abs(d-k)<=J*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-E)<=J*Math.max(1,Math.abs(h),Math.abs(E))&&Math.abs(p-S)<=J*Math.max(1,Math.abs(p),Math.abs(S))&&Math.abs(f-T)<=J*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(g-A)<=J*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(m-I)<=J*Math.max(1,Math.abs(m),Math.abs(I))&&Math.abs(_-D)<=J*Math.max(1,Math.abs(_),Math.abs(D))}Math;var Wt=ht,Kt=qt;function Xt(){var t=new tt(4);return tt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function $t(t){var e=new tt(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Yt(t,e,n,i){var o=new tt(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Jt(t,e,n,i,o){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t}function te(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function ee(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function ne(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function ie(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function oe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function re(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function ae(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function se(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function ue(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function ce(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function le(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t}function de(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],r=e[3]-t[3];return Math.sqrt(n*n+i*i+o*o+r*r)}function he(t,e){var n=e[0]-t[0],i=e[1]-t[1],o=e[2]-t[2],r=e[3]-t[3];return n*n+i*i+o*o+r*r}function pe(t){var e=t[0],n=t[1],i=t[2],o=t[3];return Math.sqrt(e*e+n*n+i*i+o*o)}function fe(t){var e=t[0],n=t[1],i=t[2],o=t[3];return e*e+n*n+i*i+o*o}function ge(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function me(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function _e(t,e){var n=e[0],i=e[1],o=e[2],r=e[3],a=n*n+i*i+o*o+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=i*a,t[2]=o*a,t[3]=r*a),t}function ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function be(t,e,n,i){var o=e[0],r=e[1],a=e[2],s=e[3];return t[0]=o+i*(n[0]-o),t[1]=r+i*(n[1]-r),t[2]=a+i*(n[2]-a),t[3]=s+i*(n[3]-s),t}function ve(t,e){var n,i,o,r,a,s;e=e||1;do{a=(n=2*et()-1)*n+(i=2*et()-1)*i}while(a>=1);do{s=(o=2*et()-1)*o+(r=2*et()-1)*r}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=e*n,t[1]=e*i,t[2]=e*o*u,t[3]=e*r*u,t}function Ce(t,e,n){var i=e[0],o=e[1],r=e[2],a=e[3];return t[0]=n[0]*i+n[4]*o+n[8]*r+n[12]*a,t[1]=n[1]*i+n[5]*o+n[9]*r+n[13]*a,t[2]=n[2]*i+n[6]*o+n[10]*r+n[14]*a,t[3]=n[3]*i+n[7]*o+n[11]*r+n[15]*a,t}function xe(t,e,n){var i=e[0],o=e[1],r=e[2],a=n[0],s=n[1],u=n[2],c=n[3],l=c*i+s*r-u*o,d=c*o+u*i-a*r,h=c*r+a*o-s*i,p=-a*i-s*o-u*r;return t[0]=l*c+p*-a+d*-u-h*-s,t[1]=d*c+p*-s+h*-a-l*-u,t[2]=h*c+p*-u+l*-s-d*-a,t[3]=e[3],t}function we(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function Pe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Me(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],u=e[2],c=e[3];return Math.abs(n-a)<=J*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=J*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=J*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(r-c)<=J*Math.max(1,Math.abs(r),Math.abs(c))}var Oe=ee,ke=ne,Ee=ie,Se=de,Te=he,Ae=pe,Ie=fe,De=function(){var t=Xt();return function(e,n,i,o,r,a){var s,u=void 0;for(n||(n=4),i||(i=0),s=o?Math.min(o*n+i,e.length):e.length,u=i;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],r(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),Re=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e/t.length},Fe=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.DEFAULT;return f()(this,e),(n=E()(this,T()(e).call(this,{message:t,type:i}))).name="CartoValidationError",n}return I()(e,t),e}(R),Le={DEFAULT:"[Error]",MISSING_REQUIRED:"[Missing required property]",INCORRECT_TYPE:"[Property with an incorrect type]",INCORRECT_VALUE:"[Incorrect value]",TOO_MANY_ARGS:"[Too many arguments]",NOT_ENOUGH_ARGS:"[Not enough arguments]",WRONG_NUMBER_ARGS:"[Wrong number of arguments]"};function ze(t,e){var n=function(t,e){var n=Math.hypot(t,e);return[t/n,e/n]}(t[0]-e[0],t[1]-e[1]);return[-n[1],n[0]]}function Be(t,e){var n=[t[1],-t[0]],i=[-e[1],e[0]],o=i[0]*n[1]-i[1]*n[0],r=i[0]*n[0]+i[1]*n[1],a=Math.abs(o);return{turnLeft:o>0,joinNormal:!(a<.866&&r>.5)&&Ne([(n[0]+i[0])/a,(n[1]+i[1])/a])}}function Ne(t){return[-t[0],-t[1]]}function Ve(t,e,n,i){if(qe(e,n)||qe(n,i)||qe(i,e))return!1;var o=Ue(t,e,n)<0,r=Ue(t,n,i)<0,a=Ue(t,i,e)<0;return o===r&&r===a}function Ue(t,e,n){return(t.x-n.x)*(e.y-n.y)-(e.x-n.x)*(t.y-n.y)}function qe(t,e){return t.x===e.x&&t.y===e.y}function je(t,e,n){var i=t.x-e.x,o=t.y-e.y;return i*i+o*o<=n*n}function Ge(t){return t.reduce((function(t,e){return t+e}),0)}function He(t){var e=y()(t[0],2),n=e[0],i=e[1],o=y()(t[1],2),r=o[0],a=o[1],s=y()(t[2],2);return Math.abs((n-s[0])*(a-i)-(n-r)*(s[1]-i))/2}function Ze(t,e,n){switch(n){case"line":return function(t,e){for(var n=t,i=t.length,o=0;o<i;o+=2)e.minx=Math.min(e.minx,n[o+0]),e.miny=Math.min(e.miny,n[o+1]),e.maxx=Math.max(e.maxx,n[o+0]),e.maxy=Math.max(e.maxy,n[o+1]);return e}(t,e);case"polygon":return function(t,e){for(var n=[t.flat,t.holes[0]||t.flat.length/2],i=n[0],o=n[1],r=0;r<o;r++)e.minx=Math.min(e.minx,i[2*r+0]),e.miny=Math.min(e.miny,i[2*r+1]),e.maxx=Math.max(e.maxx,i[2*r+0]),e.maxy=Math.max(e.maxy,i[2*r+1]);return e}(t,e)}}var We=Math.PI/180,Ke=6378137,Xe=Ke*Math.PI;function $e(t){return void 0===t}function Ye(t){return"string"==typeof t}function Qe(t){var e=h()(t);return null!==t&&("object"===e||"function"===e)}function Je(t){if(t instanceof Date)return t;if("number"==typeof t)return tn(t);if(Ye(t))return new Date(t);throw new Fe("Invalid Date type",Le.INCORRECT_TYPE)}function tn(t){return new Date(t)}function en(t,e){return t.size===e.size&&l()(t).every((function(t){return e.has(t)}))}function nn(t){var e=i.invert([],t),n=[[-1,-1],[-1,1],[1,-1],[1,1]].map((function(t){return(function(t,e,n){var i=o.transformMat4([],[e,n,1,1],t)[2],r=(i-o.transformMat4([],[e,n,2,1],t)[2])/-1;return o.transformMat4([],[e,n,-(i-1*r)/r,1],t).map((function(t,e,n){return t/n[3]}))}).apply(void 0,[e].concat(l()(t)))})).map((function(t){return t.map((function(t){return 2*t-1}))})),r=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],a=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];n.forEach((function(t){r[0]=Math.min(r[0],t[0]),r[1]=Math.min(r[1],t[1]),a[0]=Math.max(a[0],t[0]),a[1]=Math.max(a[1],t[1])})),r[1]=-r[1],a[1]=-a[1];var s=r[1];return r[1]=a[1],a[1]=s,r.concat(a)}var on,rn,an={WM_R:Xe,WM_2R:2*Xe,isUndefined:$e,isString:Ye,isNumber:function(t){return"number"==typeof t},isObject:Qe,castDate:Je,isSetsEqual:en,equalArrays:function(t,e){if(t&&e&&t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}},projectToWebMercator:function(t){return{x:t.lng*We*Ke,y:Math.log(Math.tan(t.lat*We/2+Math.PI/4))*Ke}},computeMatrixZoom:function(t){return-2*t[15]/t[5]},computeMatrixCenter:function(t){return{x:-(1+2*t[12]/t[0]),y:+(1+2*t[13]/t[5])}},computeViewportFromCameraMatrix:nn};function sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0===t||function(t){return t instanceof Y}(t)?t&&e?un({iso:t._iso,timeZone:e}):t:"string"==typeof t?un({iso:t,timeZone:e}):void 0}function un(t){return new Y(t.timeZone,t.iso,t.start,t.end)}function cn(t){ln(t),on=t}function ln(t){if($e(t))throw new Fe("'auth'",Le.MISSING_REQUIRED);if(!Qe(t))throw new Fe("'auth' property must be an object.",Le.INCORRECT_TYPE);t.username=$e(t.username)?t.user:t.username,function(t){if($e(t))throw new Fe("'apiKey'",Le.MISSING_REQUIRED);if(!Ye(t))throw new Fe("'apiKey' property must be a string.",Le.INCORRECT_TYPE);if(""===t)throw new Fe("'apiKey' property must be not empty.",Le.INCORRECT_VALUE)}(t.apiKey),function(t){if($e(t))throw new Fe("'username'",Le.MISSING_REQUIRED);if(!Ye(t))throw new Fe("'username' property must be a string.",Le.INCORRECT_TYPE);if(""===t)throw new Fe("'username' property must be not empty.",Le.INCORRECT_VALUE)}(t.username)}function dn(t){hn(t),rn=t}function hn(t){if(t){if(!Qe(t))throw new Fe("'config' property must be an object.",Le.INCORRECT_TYPE);!function(t){if(!Ye(t))throw new Fe("'serverURL' property must be a string.",Le.INCORRECT_TYPE)}(t.serverURL)}}var pn="aggregated",fn="unaggregated",gn={};function mn(t,e){var n={};return new Set(Object.keys(t).concat(Object.keys(e))).forEach((function(i){var o=t[i]||[],r=e[i]||[],a=l()(o).concat(l()(r));n[i]=a})),n}function _n(t,e){return!(!t||!e)&&JSON.stringify(yn(t))===JSON.stringify(yn(e))}function yn(t){var e={};return Object.keys(t).sort().forEach((function(n){var i=l()(new Set(t[n].map((function(t){return JSON.stringify(t)}))));i.sort(),i=i.map((function(t){return JSON.parse(t)})),e[n]=i})),e}var bn={aggColumn:function(t,e){return"".concat("_cdb_agg_").concat(e,"_").concat(t)},dimColumn:function(t,e){return"".concat("_cdb_dim_").concat(e,"_").concat(t)}},vn={column:bn,equals:_n,notEquals:function(t,e){return!_n(t,e)},union:mn,IDENTITY:gn,simplify:yn},Cn=function(){function t(){f()(this,t),this.caches=new WeakMap}return m()(t,[{key:"get",value:function(t,e){if(this.caches.has(t))return this.caches.get(t)[e]}},{key:"set",value:function(t,e,n){if(this.caches.has(t))this.caches.get(t)[e]=n;else{var i={};i[e]=n,this.caches.set(t,i)}}},{key:"has",value:function(t,e){return void 0!==this.get(t,e)}}]),t}(),xn=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn.DEFAULT;return f()(this,e),(n=E()(this,T()(e).call(this,{message:t,type:i}))).name="CartoRuntimeError",n}return I()(e,t),e}(R),wn={DEFAULT:"[Error]",NOT_SUPPORTED:"[Not supported]",WEB_GL:"[WebGL]",MVT:"[MVT]"},Pn=1,Mn=new Cn,On=new Cn;function kn(t,e,n){var i=e+n;if(On.has(t,i))return On.get(t,i);var o={},r=En(t,e,t.VERTEX_SHADER),a=En(t,n,t.FRAGMENT_SHADER);if(o.program=t.createProgram(),t.attachShader(o.program,r),t.attachShader(o.program,a),t.linkProgram(o.program),t.deleteShader(r),t.deleteShader(a),!t.getProgramParameter(o.program,t.LINK_STATUS))throw new xn("Unable to link the shader program: ".concat(t.getProgramInfoLog(o.program),"."),wn.WEB_GL);return o.programID=Pn++,On.set(t,i,o),o}function En(t,e,n){if(Mn.has(t,e))return Mn.get(t,e);var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(i);throw t.deleteShader(i),new xn("An error occurred compiling the shaders: ".concat(o,"\nSource:\n").concat(e),wn.WEB_GL)}return Mn.set(t,e,i),i}var Sn=n(34),Tn=n.n(Sn),An=n(33),In=n.n(An),Dn=n(35),Rn=n.n(Dn),Fn=n(20),Ln=n.n(Fn),zn=n(19),Bn=n.n(zn),Nn={vertexShader:"".concat(Bn.a),fragmentShader:"".concat(Ln.a).replace("$style_inline","$color_inline").replace("$style_preface","$color_preface")},Vn={vertexShader:"".concat(Bn.a),fragmentShader:"".concat(Ln.a).replace("$style_inline","vec4($filter_inline)").replace("$style_preface","$filter_preface")},Un={vertexShader:"".concat(Bn.a),fragmentShader:"".concat(Ln.a).replace("$style_inline","vec4(encodeWidth($width_inline), vec2(0.))").replace("$style_preface","".concat(Rn.a))},qn=n(37),jn=n.n(qn),Gn=n(36),Hn={vertexShader:"".concat(n.n(Gn).a),fragmentShader:"".concat(jn.a)},Zn={styler:r,symbolizer:a,AABlender:function t(e){f()(this,t),Object.assign(this,kn(e,In.a,Tn.a)),this.vertexAttribute=e.getAttribLocation(this.program,"vertex"),this.readTU=e.getUniformLocation(this.program,"aaTex")}},Wn=function(){function t(){f()(this,t),this._ids=new Map}return m()(t,[{key:"getID",value:function(t){if(this._ids.has(t))return this._ids.get(t);var e=this._ids.size;return this._ids.set(t,e),e}}]),t}(),Kn=n(6),Xn=n.n(Kn),$n=n(8),Yn=n.n($n),Qn=n(11),Jn=n.n(Qn);function ti(t){return function(t){var e=t.x,n=t.y,i=t.z,o=t.a,r=ni,a=ii,s=oi,u=function(t){return t>=.008856451679035631?Math.pow(t,.333333333333333):841/108*t+4/29};return{l:116*u(n/a)-16,a:500*(u(e/r)-u(n/a)),b:200*(u(n/a)-u(i/s)),alpha:o}}(function(t){var e=function(t){var e=t.g,n=t.b,i=t.a,o=function(t){return t<=.0404482362771076?t/12.92:Math.pow((t+.055)/1.055,2.4)};return{r:o(t.r),g:o(e),b:o(n),a:i}}(t),n=e.r,i=e.g,o=e.b;return{x:.41239558896741424*n+.3575834307637148*i+.18049264738170157*o,y:.21258623078559555*n+.7151703037034108*i+.07220049864333623*o,z:.019297215491746945*n+.11918386458084854*i+.9504971251315798*o,a:e.a}}(t))}function ei(t){return function(t){var e=t.x,n=t.y,i=t.z,o=t.a;return function(t){var e=t.g,n=t.b,i=t.a,o=function(t){return t<=.0031306684425005883?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055};return{r:o(t.r),g:o(e),b:o(n),a:i}}({r:Pi(3.2406*e-1.5372*n-.4986*i,0,1),g:Pi(-.9689*e+1.8758*n+.0415*i,0,1),b:Pi(.0557*e-.204*n+1.057*i,0,1),a:o})}(function(t){var e=t.l,n=t.b,i=t.alpha,o=function(t){return t>=.20689655172413793?t*t*t:108/841*(t-4/29)};return{x:ni*o((e+16)/116+t.a/500),y:ii*o((e+16)/116),z:oi*o((e+16)/116-n/200),a:i}}(t))}var ni=.950456,ii=1,oi=1.088754;function ri(t,e,n){if(t.length>e)throw new Fe("Expression '".concat(n,"' accepts just ").concat(e," arguments, but ").concat(t.length," were passed."),Le.TOO_MANY_ARGS)}function ai(t,e,n){if(t.length<e)throw new Fe("Expression '".concat(n,"' accepts at least ").concat(e," arguments, but ").concat(t.length," were passed."),Le.NOT_ENOUGH_ARGS)}function si(t,e,n){if(t.length!==e)throw new Fe("Expression '".concat(n,"' accepts exactly ").concat(e," arguments, but ").concat(t.length," were passed."),Le.WRONG_NUMBER_ARGS)}function ui(t){return ki(t)?Wa(t):"string"==typeof t?Ka(t):Array.isArray(t)?Xa(t):t}function ci(t){var e=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t);if(e)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1};if(e=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t))return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255};if(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1};if(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:parseInt(e[4],16)/255};throw new F("Invalid hexadecimal color")}function li(){return Ya(255,255,255,0)}function di(t){return{1:"first",2:"second",3:"third",4:"fourth"}[t]||String(t)}function hi(t,e,n){return"".concat(t,"(): invalid ").concat(di(n+1)," parameter '").concat(e,"'")}function pi(t,e,n,i,o){throw new Fe("".concat(hi(t,e,n),"\n        expected type was '").concat(i,"', actual type was '").concat(o,"'"),Le.INCORRECT_TYPE)}function fi(t,e,n,i){var o=Array.isArray(i)?i.join(", "):i.name;throw new Fe("".concat(hi(t,e,n),"\n    expected type was instance of '").concat(o,"'"),Le.INCORRECT_TYPE)}function gi(t,e,n,i){throw new Fe("".concat(hi(t,e,n),"\n    expected type was 'string', but ").concat(i,"' is not a string"),Le.INCORRECT_TYPE)}function mi(t,e,n,i){if(!(i instanceof Ei))throw new Fe("".concat(hi(t,e,n),"\n        '").concat(i,'\' is not of type "carto.expressions.Base"'),Le.INCORRECT_TYPE)}function _i(t,e,n,i,o){if(mi(t,e,n,o),Array.isArray(i)){if(!i.some((function(t){return o.type===t})))throw new Fe("".concat(hi(t,e,n),"\n            expected type was one of ").concat(i.join(),", actual type was '").concat(o.type,"'"),Le.INCORRECT_TYPE)}else o.type!==i&&pi(t,e,n,i,o.type)}function yi(t,e,n,i,o){mi(t,e,n,o),Array.isArray(i)?i.some((function(t){return o.isA(t)}))||fi(t,e,n,i):o.isA(i)||fi(t,e,n,i)}function bi(t,e,n,i){ki(i)||function(t,e,n,i){throw new Fe("".concat(hi(t,e,n),"\n    type of '").concat(i,"' is ").concat(h()(i),", 'number' was expected"),Le.INCORRECT_TYPE)}(t,e,n,i)}function vi(t,e,n,i){"string"!=typeof i&&gi(t,e,n,i)}function Ci(t,e,n,i,o){"string"!=typeof i?gi(t,e,n,i):o.includes(i)||function(t,e,n,i,o){throw new Fe("".concat(hi(t,e,n),"\n    value '").concat(i,"' is not valid. It should be one of ").concat(o.map((function(t){return"'".concat(t,"'")})).join(", ")),Le.INCORRECT_TYPE)}(t,e,n,i,o)}function xi(t,e,n,i){Array.isArray(i)||function(t,e,n,i){throw new Fe("".concat(hi(t,e,n),"\n    '").concat(i,"' is not an array"),Le.INCORRECT_TYPE)}(t,e,n,i)}function wi(t,e,n,i){if(i.isFeatureDependent())throw new Fe("".concat(hi(t,e,n),"\n        parameter cannot be feature dependent"),Le.INCORRECT_VALUE)}function Pi(t,e,n){return Math.min(Math.max(t,e),n)}function Mi(t,e,n){return"number"==typeof t?Oi(t,e,n):t instanceof Date?function(t,e,n){var i=t.getTime(),o=e.getTime(),r=Math.abs(Oi(i,o,n));return new Date(r)}(t,e,n):function(t,e,n){var i=ti({r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}),o=ti({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),r=ei({l:(1-n)*i.l+n*o.l,a:(1-n)*i.a+n*o.a,b:(1-n)*i.b+n*o.b,alpha:(1-n)*i.alpha+n*o.alpha});return{r:Math.round(255*r.r),g:Math.round(255*r.g),b:Math.round(255*r.b),a:r.a}}(t,e,n)}function Oi(t,e,n){return t*(1-n)+e*n}function ki(t){return Number.isFinite(t)||t===1/0||t===-1/0||Number.isNaN(t)}var Ei=function(){function t(e){f()(this,t),this._initializeChildren(e),this.preface="",this._shaderBindings=new Map,this.expressionName=function(t){return t.toUpperCase()===t?t.toLowerCase():t.charAt(0).toLowerCase()+t.slice(1)}(this.constructor.name),this._variableName=null}return m()(t,[{key:"eval",value:function(){return this.value}},{key:"toString",value:function(){return"".concat(this.expressionName,"(").concat(this._getChildren().map((function(t){return t.toString()})).join(", "),")")}},{key:"isAnimated",value:function(){return this._getChildren().some((function(t){return t.isAnimated()}))}},{key:"isPlaying",value:function(){return this._getChildren().some((function(t){return t.isPlaying()}))}},{key:"blendTo",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n,i,o,r=arguments;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:500,e=ui(e),this.keepDefaultsOnBlend&&this.keepDefaultsOnBlend(),i=this.parent,o=xs(this,e,Qa(n)),i.replaceChild(this,o),o.notify();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isA",value:function(t){return this instanceof t}},{key:"notify",value:function(){return this.parent.notify()}},{key:"accumViewportAgg",value:function(t){this._getChildren().forEach((function(e){return e.accumViewportAgg(t)}))}},{key:"loadImages",value:function(){return Promise.all(this._getChildren().map((function(t){return t.loadImages()})))}},{key:"getLegendData",value:function(){return{name:this.propertyName,data:[]}}},{key:"_bindMetadata",value:function(t){this._getChildren().forEach((function(e){return e._bindMetadata(t)}))}},{key:"_initializeChildren",value:function(t){Array.isArray(t)?this._initializeChildrenArray(t):this._initializeChildrenObject(t),this._addParentToChildren()}},{key:"_initializeChildrenArray",value:function(t){var e=this;if(this.maxParameters&&this.maxParameters<t.length)throw new Fe("Extra parameters, got ".concat(t.length," but maximum is ").concat(this.maxParameters),Le.TOO_MANY_ARGS);this.childrenNames=[],t.map((function(t,n){var i="".concat(t.type,"-").concat(n);e.childrenNames.push(i),e[i]=ui(t)}))}},{key:"_initializeChildrenObject",value:function(t){var e,n=this;if(void 0===this.childrenNames&&(this.childrenNames=[]),(e=this.childrenNames).push.apply(e,l()(Object.keys(t))),this.maxParameters&&this.maxParameters<this.childrenNames.length)throw new Fe(Le.TOO_MANY_ARGS,"Extra parameters, got ".concat(this.childrenNames.length," but maximum is ").concat(this.maxParameters));Object.keys(t).map((function(e){n[e]=ui(t[e])}))}},{key:"_addParentToChildren",value:function(){var t=this;this._getChildren().map((function(e){e.parent=t}))}},{key:"_setUID",value:function(t){this._uid=t.getID(this),this._getChildren().map((function(e){return e._setUID(t)}))}},{key:"_dataReady",value:function(){this._getChildren().map((function(t){return t._dataReady()}))}},{key:"isFeatureDependent",value:function(){return this._getChildren().some((function(t){return t.isFeatureDependent()}))}},{key:"_prefaceCode",value:function(t){return t?"\n".concat(this._buildGLSLCode(t),"\n"):""}},{key:"_buildGLSLCode",value:function(t){return"\n            #ifndef DEF_".concat(this._uid,"\n            #define DEF_").concat(this._uid,"\n            ").concat(t,"\n            #endif")}},{key:"_getDependencies",value:function(){return this._getChildren().map((function(t){return t._getDependencies()})).reduce((function(t,e){return t.concat(e)}),[])}},{key:"_resolveAliases",value:function(t){this._getChildren().map((function(e){return e._resolveAliases(t)}))}},{key:"_setGenericGLSL",value:function(t,e){this.inlineMaker=t,this.preface=e||""}},{key:"_applyToShaderSource",value:function(t){var e=this,n=this.childrenNames.map((function(n){return e[n]._applyToShaderSource(t)})),i={};return n.map((function(t,n){i[e.childrenNames[n]]=t.inline})),{preface:this._prefaceCode(n.map((function(t){return t.preface})).reduce((function(t,e){return t+e}),"")+this.preface),inline:this.inlineMaker(i,t)}}},{key:"_postShaderCompile",value:function(t,e){var n=this;this.childrenNames.forEach((function(i){return n[i]._postShaderCompile(t,e)}))}},{key:"_getBinding",value:function(t){return this._shaderBindings.has(t)||this._shaderBindings.set(t,{}),this._shaderBindings.get(t)}},{key:"_resetViewportAgg",value:function(t){this._getChildren().forEach((function(e){return e._resetViewportAgg(t)}))}},{key:"_setTimestamp",value:function(t){var e=this;this.childrenNames.forEach((function(n){return e[n]._setTimestamp(t)}))}},{key:"_preDraw",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.childrenNames.forEach((function(e){var i;return(i=t[e])._preDraw.apply(i,n)}))}},{key:"replaceChild",value:function(t,e){var n=this;this[this.childrenNames.find((function(e){return n[e]===t}))]=e,e.parent=this,e.notify=t.notify,e.notify().catch((function(){}))}},{key:"_blendFrom",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.default||!t.default){t=ui(t);var i=this.parent,o=xs(t,this,Qa(e),n);i.replaceChild(this,o),o.notify()}}},{key:"_getChildren",value:function(){var t=this;return this.childrenNames.map((function(e){return t[e]}))}},{key:"_getMinimumNeededSchema",value:function(){return this._getChildren().map((function(t){return t._getMinimumNeededSchema()})).reduce(mn,gn)}},{key:"value",get:function(){throw new xn("Must evaluate a feature using .eval(feature)")}},{key:"values",get:function(){return this.getLegendData().data}},{key:"propertyName",get:function(){return this._getChildren().map((function(t){return t.propertyName})).find((function(t){return!!t}))}}]),t}(),Si=function(t){function e(t){var n;if(f()(this,e),ri(arguments,1,"transition"),bi("transition","duration",0,t),t<0){var i=hi("transition","duration",0);throw new Fe("".concat(i," 'duration' must be greater than or equal to 0."),Le.INCORRECT_VALUE)}return(n=E()(this,T()(e).call(this,{}))).aTime=Date.now(),n.bTime=n.aTime+Number(t),n.type="number",n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"isAnimated",value:function(){return!this.mix||this.mix<=1}},{key:"isPlaying",value:function(){return this.isAnimated()}},{key:"_applyToShaderSource",value:function(){return{preface:this._prefaceCode("uniform float anim".concat(this._uid,";\n")),inline:"anim".concat(this._uid)}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t).uniformLocation=e.getUniformLocation(t,"anim".concat(this._uid))}},{key:"_preDraw",value:function(t,e,n){var i=Date.now();this.mix=(i-this.aTime)/(this.bTime-this.aTime),n.uniform1f(this._getBinding(t).uniformLocation,this.mix>1?1:this.mix)}},{key:"value",get:function(){var t=Date.now();return this.mix=(t-this.aTime)/(this.bTime-this.aTime),Math.min(this.mix,1)}}]),e}(Ei),Ti=n(5),Ai=n.n(Ti),Ii=Fi("in",(function(t,e){return e.some((function(e){return e===t}))?1:0})),Di={nin:{check:"1.",result:"0."},in:{check:"0.",result:"1."}},Ri=Fi("nin",(function(t,e){return e.some((function(e){return e===t}))?0:1}));function Fi(t,e){return function(n){function i(e,n){var o;return f()(this,i),ri(arguments,2,t),e=ui(e),n=ui(n),mi(t,"input",0,e),mi(t,["list","variable"],1,n),(o=E()(this,T()(i).call(this,{input:e,list:n}))).type="number",o.name=t,o}return I()(i,n),m()(i,[{key:"eval",value:function(t){return e(this.input.eval(t),this.list.eval(t))}},{key:"_applyToShaderSource",value:function(t){var e=this,n={};this.childrenNames.map((function(n){return e[n]._applyToShaderSource(t)})).map((function(t,i){n[e.childrenNames[i]]=t}));var i="belongs".concat(this._uid),o=this._getFuncList(),r=this.list.elems.map(o).join(""),a=Di[this.name].check,s="float ".concat(i,"(float x){\n                ").concat(r,"\n\n                return ").concat(a,";\n            }");return{preface:this._prefaceCode(n.input.preface+n.list.preface+s),inline:"".concat(i,"(").concat(n.input.inline,")")}}},{key:"_getFuncList",value:function(){var t=this,e=Di[this.name].result;return function(n){var i="number"===t.input.type?"".concat(n,".0"):"cat".concat(n._uid);return"if (x==".concat(i,") { return ").concat(e,"; }")}}},{key:"_bindMetadata",value:function(e){var n=this;Ai()(T()(i.prototype),"_bindMetadata",this).call(this,e),["number","category"].forEach((function(e){n.input.type===e&&(_i(t,"input",0,e,n.input),_i(t,"list",1,"".concat(e,"-list"),n.list))}))}},{key:"value",get:function(){return e(this.input.value,this.list.value)}}]),i}(Ei)}var Li=function(t){function e(t,n,i){var o;return f()(this,e),ri(arguments,3,"between"),t=ui(t),n=ui(n),i=ui(i),(o=E()(this,T()(e).call(this,{input:t,lowerLimit:n,upperLimit:i}))).type="number",o.inlineMaker=function(t){return"((".concat(t.input," >= ").concat(t.lowerLimit," &&  ").concat(t.input," <= ").concat(t.upperLimit,") ? 1. : 0.)")},o}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=this.input.eval(t),n=this.lowerLimit.eval(t),i=this.upperLimit.eval(t);return e>=n&&e<=i?1:0}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("between","input",0,["number","date"],this.input),_i("between","lowerLimit",1,["number","date"],this.lowerLimit),_i("between","upperLimit",2,["number","date"],this.upperLimit)}}]),e}(Ei),zi={0:null,1:"number",2:"color",4:"color",8:"number",16:"image",32:"date"},Bi=function(t){function e(t,n,i,o){var r;return f()(this,e),ri(arguments,4),Number.isFinite(t)&&Number.isFinite(n)?E()(r,Wa(i[1](t,n))):(t=ui(t),n=ui(n),(r=E()(this,T()(e).call(this,{a:t,b:n}))).signatureMethods=i,r._signature=Ni(t,n),r.glsl=o,r.allowedSignature=0,r.type=zi[r._signature],r.inlineMaker=function(t){return o(t.a,t.b)},r)}return I()(e,t),m()(e,[{key:"eval",value:function(){if(Number.isFinite(this.a)&&Number.isFinite(this.b))return this.operation(this.a.value,this.b.value);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(Number.isFinite(this.a))return this.operation(this.a.value,this.b.eval(e[0]));if(Number.isFinite(this.b))return this.operation(this.a.eval(e[0]),this.b.value);var i=this._getDependentFeatures(e),o=i.featureA,r=i.featureB,a=this.a.eval(o),s=this.b.eval(r);return this.operation(a,s)}},{key:"getLegendData",value:function(t){for(var e=this.a.getLegendData(t),n=this.b.getLegendData(t),i=e.data.length,o=n.data.length,r=[],a=0;a<i;a++)for(var s=0;s<o;s++){var u=this.operation(e.data[a].value,n.data[s].value);r.push({value:u})}return{n:i,m:o,data:r}}},{key:"_getDependentFeatures",value:function(t){var e=t.length>1?{featureA:t[0],featureB:t[1]}:{featureA:t[0],featureB:t[0]};return{featureA:e.featureA,featureB:e.featureB}}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t);var n=[this.a,this.b],i=n[0],o=n[1];if(this._signature=Ni(i,o),0===this._signature||!(this._signature&this.allowedSignature))throw new Fe("".concat(this.expressionName,"(): invalid parameter types\n'x' type was ").concat(i.type,", 'y' type was ").concat(o.type),Le.INCORRECT_TYPE);this.type=function(t){switch(t){case 1:return"number";case 2:case 4:return"color";case 8:return"number";case 16:return"image";default:return}}(this._signature)}},{key:"value",get:function(){return this.operation(this.a.value,this.b.value)}},{key:"operation",get:function(){return this.signatureMethods[this._signature]||this.signatureMethods[1]}}]),e}(Ei);function Ni(t,e){return t.type&&e.type?"date"===t.type&&"date"===e.type?32:"number"===t.type&&"number"===e.type?1:"number"===t.type&&"color"===e.type||"color"===t.type&&"number"===e.type?2:"color"===t.type&&"color"===e.type?4:"category"===t.type&&"category"===e.type?8:"image"===t.type&&"color"===e.type||"image"===t.type&&"color"===e.type||"image"===t.type&&"image"===e.type||"color"===t.type&&"image"===e.type?16:0:void 0}var Vi=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return t+e},4:Ui};return(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"(".concat(t," + ").concat(e,")")})))).allowedSignature=21,i}return I()(e,t),e}(Bi);function Ui(t,e){return{r:t.r+e.r<255?t.r+e.r:255,g:t.g+e.g<255?t.g+e.g:255,b:t.b+e.b<255?t.b+e.b:255,a:t.a}}var qi=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return Math.min(t*e,1)}};return t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"min(".concat(t," * ").concat(e,", 1.)")})))).allowedSignature=1,i}return I()(e,t),e}(Bi),ji=function(t){function e(t,n){var i;if(f()(this,e),ri(arguments,2),Number.isFinite(t)&&Number.isFinite(n))return E()(i,Wa(t/n));var o={1:function(t,e){return t/e},2:Hi,4:Gi};return t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"(".concat(t," / ").concat(e,")")})))).allowedSignature=23,i}return I()(e,t),e}(Bi);function Gi(t,e){return{r:Math.round(t.r/e.r),g:Math.round(t.g/e.g),b:Math.round(t.b/e.b),a:t.a}}function Hi(t,e){var n="number"==typeof t?{n:t,color:e}:{n:e,color:t},i=n.n,o=n.color;return{r:Math.round(o.r/i),g:Math.round(o.g/i),b:Math.round(o.b/i),a:o.a}}var Zi=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t===e?1:0},8:function(t,e){return t===e?1:0}},(function(t,e){return"(".concat(t,"==").concat(e,"? 1.:0.)")})))).allowedSignature=9,i}return I()(e,t),e}(Bi),Wi=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t>e?1:0}},(function(t,e){return"(".concat(t,">").concat(e,"? 1.:0.)")})))).allowedSignature=33,i}return I()(e,t),e}(Bi),Ki=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t>=e?1:0}},(function(t,e){return"(".concat(t,">=").concat(e,"? 1.:0.)")})))).allowedSignature=33,i}return I()(e,t),e}(Bi),Xi=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t<e?1:0}},(function(t,e){return"(".concat(t,"<").concat(e,"? 1.:0.)")})))).allowedSignature=33,i}return I()(e,t),e}(Bi),$i=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t<=e?1:0}},(function(t,e){return"(".concat(t,"<=").concat(e,"? 1.:0.)")})))).allowedSignature=33,i}return I()(e,t),e}(Bi),Yi=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t%e}},(function(t,e){return"mod(".concat(t,", ").concat(e,")")})))).allowedSignature=33,i}return I()(e,t),e}(Bi),Qi=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return t*e},2:to,4:Ji};return(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"(".concat(t," * ").concat(e,")")})))).allowedSignature=23,i}return I()(e,t),e}(Bi);function Ji(t,e){return{r:Math.round(t.r*e.r/255),g:Math.round(t.g*e.g/255),b:Math.round(t.b*e.b/255),a:t.a}}function to(t,e){var n="number"==typeof t?{n:t,color:e}:{n:e,color:t},i=n.n,o=n.color;return{r:Math.round(i*o.r/255),g:Math.round(i*o.g/255),b:Math.round(i*o.b/255),a:o.a}}var eo=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2),(i=E()(this,T()(e).call(this,t,n,{1:function(t,e){return t!==e?1:0},8:function(t,e){return t!==e?1:0}},(function(t,e){return"(".concat(t,"!=").concat(e,"? 1.:0.)")})))).allowedSignature=41,i}return I()(e,t),e}(Bi),no=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return Math.min(t+e,1)}};return t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"min(".concat(t," + ").concat(e,", 1.)")})))).allowedSignature=1,i}return I()(e,t),e}(Bi),io=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return Math.pow(t,e)}};return(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"pow(".concat(t,", ").concat(e,")")})))).allowedSignature=1,i}return I()(e,t),e}(Bi),oo=function(t){function e(t,n){var i;f()(this,e),ri(arguments,2);var o={1:function(t,e){return t-e},4:ro};return(i=E()(this,T()(e).call(this,t,n,o,(function(t,e){return"(".concat(t," - ").concat(e,")")})))).allowedSignature=21,i}return I()(e,t),e}(Bi);function ro(t,e){return{r:t.r-e.r>0?t.r-e.r:0,g:t.g-e.g>0?t.g-e.g:0,b:t.b-e.b>0?t.b-e.b:0,a:t.a}}var ao=function(t){function e(t,n,i,o){var r;f()(this,e),ri(arguments,4,"blend"),t=ui(t),n=ui(n),i=ui(i),mi("blend","a",0,t),mi("blend","b",1,n),mi("blend","mix",2,i);var a=i;return o&&(i=o(i)),(r=E()(this,T()(e).call(this,{a:t,b:n,mix:i}))).originalMix=a,t.type&&n.type&&(r.type=t.type),r.inlineMaker=function(t){return"mix(".concat(t.a,", ").concat(t.b,", clamp(").concat(t.mix,", 0., 1.))")},r}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=Pi(this.mix.eval(t),0,1);return Mi(this.a.eval(t),this.b.eval(t),e)}},{key:"replaceChild",value:function(t,n){t===this.mix&&(this.originalMix=n),Ai()(T()(e.prototype),"replaceChild",this).call(this,t,n)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),function(t,e){if(t.type!==e.type||!["number","color","image","placement","date"].includes(t.type))throw new Fe("blend(): invalid parameter types\n\t'a' type was '".concat(t.type,"'\n\t'b' type was '").concat(e.type,"'"),Le.INCORRECT_TYPE)}(this.a,this.b),_i("blend","mix",2,"number",this.mix),this.type=this.a.type}},{key:"_preDraw",value:function(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=Ai()(T()(e.prototype),"_preDraw",this)).call.apply(t,[this].concat(i)),this.originalMix.isA(Si)&&!this.originalMix.isAnimated()&&this.parent.replaceChild(this,this.b)}},{key:"value",get:function(){var t=Pi(this.mix.value,0,1);return Mi(this.a.value,this.b.value,t)}}]),e}(Ei),so=n(12),uo=n.n(so),co="DEFAULT_RAMP_OTHERS",lo="CARTO_VL_OTHERS",ho="DESC",po={othersLabel:lo,samples:10,order:"ASC"},fo=-(1<<24),go=function(){function t(e){f()(this,t),this.buckets=e}return m()(t,[{key:"applyToShaderSource",value:function(t){var e=this,n={};this.buckets.childrenNames.map((function(n){return e.buckets[n]._applyToShaderSource(t)})).map((function(t,i){n[e.buckets.childrenNames[i]]=t}));var i="buckets".concat(this.buckets._uid),o=this._getComparisons(n),r=this.buckets.list.elems.map(o).join(""),a="float ".concat(i,"(float x){\n            ").concat(r,"\n            return ").concat("category"===this.buckets.input.type?"(-1.)":(this.buckets.numCategories-1).toFixed(20),";\n        }");return{preface:this.buckets._prefaceCode(n.input.preface+n.list.preface+a),inline:"".concat(i,"(").concat(n.input.inline,")")}}},{key:"_getComparisons",value:function(t){var e="category"===this.buckets.input.type?"==":"<",n=this.buckets.numCategoriesWithoutOthers-1||1;return n<=20?function(i,o){return"".concat(o>0?"else":""," if (x").concat(e,"(").concat(t.list.inline[o],")){\n                return ").concat(o,"./").concat(n.toFixed(20),";\n            }")}:function(i,o){return"if (x".concat(e,"(").concat(t.list.inline[o],")){\n                return ").concat(o,"./").concat(n.toFixed(20),";\n            }")}}}]),t}(),mo=function(t){function e(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lo;f()(this,e),ri(arguments,3,"buckets");var r={input:t=ui(t),list:n=ui(n),othersLabel:o=ui(o)};return(i=E()(this,T()(e).call(this,r))).numCategories=null,i.numCategoriesWithoutOthers=null,i.type="category",i._GLSLhelper=new go(uo()(uo()(i))),i}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=this.input.eval(t),n=this.numCategoriesWithoutOthers-1||1;if("category"===this.input.type){for(var i=0;i<this.list.elems.length;i++)if(e===this.list.elems[i].eval(t))return i/n;return-1}for(var o=0;o<this.list.elems.length;o++)if(e<this.list.elems[o].eval(t))return o/n;return 1}},{key:"_bindMetadata",value:function(t){var n=this;if(Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),"number"!==this.input.type&&"category"!==this.input.type)throw new Fe("buckets(): invalid first parameter type\n\t'input' type was ".concat(this.input.type),Le.INCORRECT_TYPE);if(_i("buckets","list",1,["number-list","category-list"],this.list),_i("buckets","othersLabel",2,"category",this.othersLabel),wi("buckets","othersLabel",2,this.othersLabel),this.list.elems.map((function(t,e){if(n.input.type!==t.type)throw new Fe("buckets(): invalid ".concat(di(e+1)," parameter type")+"\n\texpected type was ".concat(n.input.type,"\n\tactual type was ").concat(t.type),Le.INCORRECT_TYPE);if("number"!==t.type&&"category"!==t.type)throw new Fe("buckets(): invalid ".concat(di(e+1)," parameter type\n\ttype was ").concat(t.type),Le.INCORRECT_TYPE)})),"category"===this.input.type){var i=t.properties[this.input.propertyName];this._numDatasetCategories=i?i.categories.length:this.list.elems.length-1}this.numCategories=this.list.elems.length+1,this.numCategoriesWithoutOthers="category"===this.input.type?this.numCategories-1:this.numCategories}},{key:"_applyToShaderSource",value:function(t){return this._GLSLhelper.applyToShaderSource(t)}},{key:"getLegendData",value:function(t){var e=this.toString(),n=this.list.elems.map((function(t){return t.value})),i={othersLabel:t&&t.othersLabel?t.othersLabel:this.othersLabel.value,order:t?t.order:ho.ASCENDING};return{data:"number"===this.input.type?function(t,e){for(var n=[],i=0;i<=t.length;i++)n.push({key:[i-1>=0?t[i-1]:Number.NEGATIVE_INFINITY,i<t.length?t[i]:Number.POSITIVE_INFINITY],value:i/t.length});return e&&e===ho&&(n=n.sort((function(t,e){return e.key[0]-t.key[0]}))),n}(n,i.sort):function(t,e,n){var i=t.length-1||1,o=t.map((function(t,e){return{key:t,value:e/i}}));return e>t.length&&o.push({key:n.othersLabel,value:-1}),n.order&&n.order===ho&&(o=o.sort((function(t,e){return e.key-t.key}))),o}(n,this._numDatasetCategories,i),name:e}}},{key:"value",get:function(){return this.eval()}}]),e}(Ei),_o=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"category"),vi("category","categoryName",0,t),(n=E()(this,T()(e).call(this,{})))._value=t,n.type="category",n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"isAnimated",value:function(){return!1}},{key:"isPlaying",value:function(){return!1}},{key:"_bindMetadata",value:function(t){this._metadata=t}},{key:"_applyToShaderSource",value:function(){return{preface:this._prefaceCode("uniform float cat".concat(this._uid,";\n")),inline:"cat".concat(this._uid)}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t).uniformLocation=e.getUniformLocation(t,"cat".concat(this._uid))}},{key:"_preDraw",value:function(t,e,n){if(this._metadata){var i=this._metadata.categoryToID.get(this.value);n.uniform1f(this._getBinding(t).uniformLocation,i)}}},{key:"value",get:function(){return this._value},set:function(t){this.value=t}}]),e}(Ei),yo=n(18),bo=n.n(yo),vo=function(t){function e(t,n,i){var o;return f()(this,e),ri(arguments,3,"cielab"),t=ui(t),n=ui(n),i=ui(i),mi("cielab","l",0,t),mi("cielab","a",1,n),mi("cielab","b",2,i),(o=E()(this,T()(e).call(this,{l:t,a:n,b:i}))).type="color",o._setGenericGLSL((function(t){return"cielabToSRGBA(vec4(".concat(t.l,", ").concat(t.a,", ").concat(t.b,", 1.))")}),bo.a),o}return I()(e,t),m()(e,[{key:"eval",value:function(t){return ei({l:this.l.eval(t),a:this.a.eval(t),b:this.b.eval(t)})}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.value}]}}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("cielab","l",0,"number",this.l),_i("cielab","a",1,"number",this.a),_i("cielab","b",2,"number",this.b)}},{key:"value",get:function(){return this.eval(null)}}]),e}(Ei),Co=n(15),xo=n.n(Co),wo=function(t){function e(t){var n;if(f()(this,e),ri(arguments,1,"property"),vi("property","name",0,t),""===t)throw new Fe("property(): invalid parameter, zero-length string",Le.INCORRECT_VALUE);return(n=E()(this,T()(e).call(this,{}))).name=t,n.expressionName=t,Ai()(T()(e.prototype),"_setGenericGLSL",uo()(n)).call(uo()(n),(function(t,e){return e(n.name)})),n}return I()(e,t),m()(e,[{key:"isFeatureDependent",value:function(){return!0}},{key:"eval",value:function(t){if(!t)throw new Fe("A property needs to be evaluated in a 'feature'.",Le.MISSING_REQUIRED);return t[this.name]&&t[this.name]===fo?null:t[this.name]}},{key:"toString",value:function(){return"$".concat(this.name)}},{key:"_bindMetadata",value:function(t){var e=t.properties[this.name];if(!e)throw new Fe("Property '".concat(this.name,"' does not exist"),Le.MISSING_REQUIRED);this._metadata=t,this.type=e.type,"category"===this.type&&void 0===this.numCategories&&Object.defineProperty(this,"numCategories",{get:function(){return e.categories.length}})}},{key:"_applyToShaderSource",value:function(t){return{preface:"",inline:t(this.name)}}},{key:"_getMinimumNeededSchema",value:function(){var t=this._variableName?"unknown":fn;return xo()({},this.name,[{type:t}])}},{key:"value",get:function(){return this.propertyName}},{key:"propertyName",get:function(){return this.name}},{key:"categories",get:function(){return"category"===this.type?this._metadata.properties[this.name].categories:void 0}}]),e}(Ei),Po=function(t){function e(t){var n,i=t.property,o=t.expressionName,r=t.aggName,a=t.aggType;return f()(this,e),mi(o,"property",0,i),(n=E()(this,T()(e).call(this,{property:i})))._aggName=r,n._expressionName=o,n.type=a,n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return t[this.propertyName]}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._metadata=t,yi(this._expressionName,"property",0,wo,this.property),_i(this._expressionName,"property",0,this.type,this.property)}},{key:"_applyToShaderSource",value:function(t){return{preface:"",inline:"".concat(t(this.propertyName))}}},{key:"_postShaderCompile",value:function(){}},{key:"_getMinimumNeededSchema",value:function(){return xo()({},this.property.name,[{type:pn,op:this._aggName}])}},{key:"name",get:function(){return this.property.name}},{key:"propertyName",get:function(){return bn.aggColumn(this.property.name,this._aggName)}},{key:"aggName",get:function(){return this._aggName}},{key:"numCategories",get:function(){return this.property.numCategories}},{key:"categories",get:function(){return this.property.categories}},{key:"value",get:function(){return this.propertyName}}]),e}(Ei),Mo=function(t){function e(t){return f()(this,e),ri(arguments,1,"clusterAvg"),E()(this,T()(e).call(this,{property:t,expressionName:"clusterAvg",aggName:"avg",aggType:"number"}))}return I()(e,t),e}(Po),Oo=function(t){function e(t){return f()(this,e),ri(arguments,1,"clusterMax"),E()(this,T()(e).call(this,{property:t,expressionName:"clusterMax",aggName:"max",aggType:"number"}))}return I()(e,t),e}(Po),ko=function(t){function e(t){return f()(this,e),ri(arguments,1,"clusterMin"),E()(this,T()(e).call(this,{property:t,expressionName:"clusterMin",aggName:"min",aggType:"number"}))}return I()(e,t),e}(Po),Eo=function(t){function e(t){return f()(this,e),ri(arguments,1,"clusterMode"),E()(this,T()(e).call(this,{property:t,expressionName:"clusterMode",aggName:"mode",aggType:"category"}))}return I()(e,t),e}(Po),So=function(t){function e(t){return f()(this,e),ri(arguments,1,"clusterSum"),E()(this,T()(e).call(this,{property:t,expressionName:"clusterSum",aggName:"sum",aggType:"number"}))}return I()(e,t),e}(Po),To=function(t){function e(){var t;return f()(this,e),ri(arguments,0,"clusterCount"),(t=E()(this,T()(e).call(this,{}))).type="number",t._hasClusterFeatureCount=!1,t}return I()(e,t),m()(e,[{key:"isFeatureDependent",value:function(){return!0}},{key:"eval",value:function(t){return Number(t._cdb_feature_count)||1}},{key:"getLegendData",value:function(){return{data:this._hasClusterFeatureCount?this._metadata.properties._cdb_feature_count:[]}}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._metadata=t,this._hasClusterFeatureCount=void 0!==t.properties._cdb_feature_count}},{key:"_applyToShaderSource",value:function(t){return{preface:"",inline:this._hasClusterFeatureCount?t("_cdb_feature_count"):"1."}}},{key:"propertyName",get:function(){return"_cdb_feature_count"}}]),e}(Ei),Ao=["second","minute","hour","day","month","year","week","quarter","trimester","semester","decade","century","millennium"],Io=["dayOfYear","weekOfYear","monthOfYear","quarterOfYear","dayOfMonth","dayOfWeek","hourOfDay","minuteOfHour"],Do=function(t){function e(t){var n,i=t.property,o=t.expressionName,r=t.dimension,a=t.type,s=t.range;return f()(this,e),mi(o,"property",0,i),(n=E()(this,T()(e).call(this,{property:i})))._dimension=r,n._dimension.propertyName=bn.dimColumn(n.property.propertyName,n._dimension.group.units),n._expressionName=o,n.type=a,n._range=s,n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return t[this.propertyName]}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),yi(this._expressionName,"property",0,wo,this.property),_i(this._expressionName,"property",0,"date",this.property),this._range=t.properties[t.baseName(this.propertyName)].dimension.range}},{key:"_resolveAliases",value:function(){}},{key:"_applyToShaderSource",value:function(t){return{preface:"",inline:this._range?this._range.map((function(e){return["".concat(t(e))]})):"".concat(t(this.propertyName))}}},{key:"_postShaderCompile",value:function(){}},{key:"_getMinimumNeededSchema",value:function(){return xo()({},this.name,[{type:"dimension",dimension:this._dimension,range:!!this._range}])}},{key:"name",get:function(){return this.property.propertyName}},{key:"propertyName",get:function(){return this._dimension.propertyName}},{key:"value",get:function(){return{name:this.propertyName,range:this._range,dimension:this._dimension}}}],[{key:"serialUnits",get:function(){return Ao}},{key:"cyclicUnits",get:function(){return Io}}]),e}(Ei),Ro=function(t){function e(t,n,i){f()(this,e);var o=Do.cyclicUnits.includes(n);return ri(arguments,3,"clusterTime"),mi("clusterTime","property",0,t),Ci("clusterTime","units",1,n,o?Do.cyclicUnits:Do.serialUnits),E()(this,T()(e).call(this,{property:t,expressionName:"clusterTime",dimension:{group:{units:n,timezone:i},format:o?"number":"iso"},type:o?"number":"timerange",range:o?void 0:[]}))}return I()(e,t),m()(e,[{key:"converse",value:function(t){return t}}]),e}(Do),Fo=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"constant"),bi("constant","x",0,t),(n=E()(this,T()(e).call(this,{})))._value=t,n.type="number",n.inlineMaker=function(){return"(".concat(t.toFixed(20),")")},n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"toString",value:function(){return"".concat(this.value)}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]),e}(Ei),Lo=function(t){function e(t){var n;f()(this,e),ri(arguments,1,"hex"),vi("hex","hexadecimalColor",0,t),(n=E()(this,T()(e).call(this,{}))).type="color";try{n.color=ci(t)}catch(t){var i=hi("hex","hexadecimalColor",0);throw new Fe("".concat(i," \nInvalid hexadecimal color string"),Le.INCORRECT_VALUE)}return n.hexadecimalColor=t,n.inlineMaker=function(){return"vec4(".concat((n.color.r/255).toFixed(4),", ").concat((n.color.g/255).toFixed(4),", ").concat((n.color.b/255).toFixed(4),", ").concat(n.color.a.toFixed(4),")")},n}return I()(e,t),m()(e,[{key:"toString",value:function(){return this.hexadecimalColor}},{key:"eval",value:function(){return this.value}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.value}]}}},{key:"value",get:function(){return this.color}}]),e}(Ei),zo=No("hsl",!1),Bo=No("hsla",!0);function No(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(r){function a(n,i,o,r){var s;f()(this,a),ri(arguments,4,"hsla");var u=[n,i,o,r].map(ui),c=y()(u,4);r=c[3];var l={h:n=c[0],s:i=c[1],l:o=c[2]};return e&&(mi(t,"a",3,r),l.a=r),mi(t,"h",0,n),mi(t,"s",1,i),mi(t,"l",2,o),(s=E()(this,T()(a).call(this,l)))._alpha=e,s.type="color",s}return I()(a,r),m()(a,[{key:"eval",value:function(t){return function(t,e,n,i,o,r){var a=o?r?i.eval(r):i.value:1,s={r:Math.abs(6*t-3)-1,g:2-Math.abs(6*t-2),b:2-Math.abs(6*t-4),a},u=(1-Math.abs(2*n-1))*e;return s.r=Pi(s.r,0,1),s.g=Pi(s.g,0,1),s.b=Pi(s.b,0,1),s.r=255*((s.r-.5)*u+n),s.g=255*((s.g-.5)*u+n),s.b=255*((s.b-.5)*u+n),s}(Pi(i(this.h,t,!0),0,1),Pi(i(this.s,t),0,1),Pi(i(this.l,t),0,1),this.a,this._alpha,t)}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.value}]}}},{key:"_bindMetadata",value:function(t){var e=this;Ai()(T()(a.prototype),"_bindMetadata",this).call(this,t),n("h",0,this.h),n("s",1,this.s),n("l",2,this.l),this._alpha&&_i("hsla","a",3,"number",this.a),Ai()(T()(a.prototype),"_setGenericGLSL",this).call(this,(function(t){return"vec4(HSLtoRGB(vec3(\n                    ".concat(t.h).concat(o(e.h,!0),",\n                    clamp(").concat(t.s).concat(o(e.s),", 0., 1.),\n                    clamp(").concat(t.l).concat(o(e.l),", 0., 1.)\n                )), ").concat(e._alpha?"clamp(".concat(t.a,", 0., 1.)"):"1.",")")}),"\n                    #ifndef HSL2RGB\n                    #define HSL2RGB\n                    vec3 HSLtoRGB(vec3 HSL) {\n                        float R = abs(HSL.x * 6. - 3.) - 1.;\n                        float G = 2. - abs(HSL.x * 6. - 2.);\n                        float B = 2. - abs(HSL.x * 6. - 4.);\n                        float C = (1. - abs(2. * HSL.z - 1.)) * HSL.y;\n                        vec3 RGB = clamp(vec3(R,G,B), 0., 1.);\n                        return (RGB - 0.5) * C + HSL.z;\n                    }\n                    #endif\n                ")}},{key:"value",get:function(){return this.eval(null)}}]),a}(Ei);function n(e,n,i){if(mi(t,e,n,i),"number"!==i.type&&"category"!==i.type&&void 0!==i.type)throw new Fe("".concat(t,"(): invalid parameter\n\t").concat(e," type was: '").concat(i.type,"'"),Le.INCORRECT_TYPE)}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null!==e?t.eval(e):t.value;return"category"===t.type?i/(n?t.numCategories+1:t.numCategories):i}function o(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"category"===t.type?"/".concat(e?t.numCategories+1:t.numCategories,"."):""}}var Vo=qo("hsv",!1),Uo=qo("hsva",!0);function qo(t,e){return function(i){function o(n,i,r,a){var s;f()(this,o),ri(arguments,e?4:3,t);var u={h:n=ui(n),s:i=ui(i),v:r=ui(r)};return e&&(a=ui(a),mi(t,"a",3,a),u.a=a),mi(t,"h",0,n),mi(t,"s",1,i),mi(t,"v",2,r),(s=E()(this,T()(o).call(this,u))).type="color",s}return I()(o,i),m()(o,[{key:"eval",value:function(t){var n=this,i=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"category"===e.type?e.eval(t)/(n?e.numCategories+1:e.numCategories):e.eval(t)};return function(i,o,r){var a={r:Math.abs(6*i-3)-1,g:2-Math.abs(6*i-2),b:2-Math.abs(6*i-4),a:e?Pi(n.a.eval(t),0,1):1};return a.r=Pi(a.r,0,1),a.g=Pi(a.g,0,1),a.b=Pi(a.b,0,1),a.r=((a.r-1)*o+1)*r*255,a.g=((a.g-1)*o+1)*r*255,a.b=((a.b-1)*o+1)*r*255,a}(Pi(i(this.h,!0),0,1),Pi(i(this.s),0,1),Pi(i(this.v),0,1))}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.value}]}}},{key:"_bindMetadata",value:function(t){var i=this;Ai()(T()(o.prototype),"_bindMetadata",this).call(this,t),n("h",0,this.h),n("s",1,this.s),n("v",2,this.v),e&&_i("hsva","a",3,"number",this.a);var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"category"===t.type?"/".concat(e?t.numCategories+1:t.numCategories,"."):""};Ai()(T()(o.prototype),"_setGenericGLSL",this).call(this,(function(t){return"vec4(HSVtoRGB(vec3(\n                    ".concat(t.h).concat(r(i.h,!0),",\n                    clamp(").concat(t.s).concat(r(i.s),", 0.,1.),\n                    clamp(").concat(t.v).concat(r(i.v),", 0.,1.)\n                )), ").concat(e?"clamp(".concat(t.a,", 0.,1.)"):"1.",")")}),"\n                    #ifndef HSV2RGB\n                    #define HSV2RGB\n                    vec3 HSVtoRGB(vec3 HSV) {\n                        float R = abs(HSV.x * 6. - 3.) - 1.;\n                        float G = 2. - abs(HSV.x * 6. - 2.);\n                        float B = 2. - abs(HSV.x * 6. - 4.);\n                        vec3 RGB = clamp(vec3(R,G,B), 0., 1.);\n                        return ((RGB - 1.) * HSV.y + 1.) * HSV.z;\n                    }\n                    #endif\n                ")}},{key:"value",get:function(){return this.eval(null)}}]),o}(Ei);function n(e,n,i){if(mi(t,e,n,i),"number"!==i.type&&"category"!==i.type&&void 0!==i.type)throw new Fe("".concat(t,"(): invalid parameter\n\t").concat(e," type was: '").concat(i.type,"'"),Le.INCORRECT_TYPE)}}var jo=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),e}(Ho("iLinear",(function(t){return t}),void 0,(function(t){return t}))),Go=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),e}(Ho("cubic",(function(t){return"cubicEaseInOut(".concat(t,")")}),"\n    #ifndef CUBIC\n    #define CUBIC\n    float cubicEaseInOut(float p){\n        if (p < 0.5) {\n            return 4. * p * p * p;\n        }else {\n            float f = ((2. * p) - 2.);\n            return 0.5 * f * f * f + 1.;\n        }\n    }\n    #endif\n",(function(t){return t})));function Ho(t,e,n,i){var o=function(o){function r(e){return f()(this,r),ri(arguments,1,t),e=ui(e),E()(this,T()(r).call(this,{m:e}))}return I()(r,o),m()(r,[{key:"eval",value:function(t){return i(this.m.eval(t))}},{key:"_bindMetadata",value:function(t){if(Ai()(T()(r.prototype),"_bindMetadata",this).call(this,t),"number"!==this.m.type)throw new Fe("Blending cannot be performed by '".concat(this.m.type,"'"),Le.INCORRECT_TYPE);this.type="number",this._setGenericGLSL((function(t){return e(t.m)}),n)}}]),r}(Ei);return o.type="interpolator",o}Ho("bounceEaseIn",(function(t){return"BounceEaseIn(".concat(t,")")}),"\n    #ifndef BOUNCE_EASE_IN\n    #define BOUNCE_EASE_IN\n    float BounceEaseIn_BounceEaseOut(float p)\n    {\n        if(p < 4./11.0)\n        {\n            return (121. * p * p)/16.0;\n        }\n        else if(p < 8./11.0)\n        {\n            return (363./40.0 * p * p) - (99./10.0 * p) + 17./5.0;\n        }\n        else if(p < 9./10.0)\n        {\n            return (4356./361.0 * p * p) - (35442./1805.0 * p) + 16061./1805.0;\n        }\n        else\n        {\n            return (54./5.0 * p * p) - (513./25.0 * p) + 268./25.0;\n        }\n    }\n    float BounceEaseIn(float p)\n    {\n        return 1. - BounceEaseOut(1. - p);\n    }\n    #endif\n\n",(function(t){return t}));var Zo=function(){function t(e,n){f()(this,t),e&&n&&(this._baseName=e.baseName(n))}return m()(t,[{key:"isRange",value:function(){return!1}},{key:"isIdentity",value:function(){return!1}},{key:"sourceToInternal",value:function(t,e){return e}},{key:"internalToExternal",value:function(t,e){return e}},{key:"externalToSource",value:function(t,e){return e}},{key:"sourceToExternal",value:function(t,e){return this.internalToExternal(t,this.sourceToInternal(t,e))}},{key:"externalToInternal",value:function(t,e){return this.sourceToInternal(t,this.externalToSource(t,e))}},{key:"inlineInternalMatch",value:function(t,e){return"".concat(t)}}]),t}(),Wo=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"isIdentity",value:function(){return!0}},{key:"sourceToInternal",value:function(t,e){return e}},{key:"internalToExternal",value:function(t,e){return e}},{key:"sourceToExternal",value:function(t,e){return e}},{key:"externalToSource",value:function(t,e){return e}},{key:"externalToInternal",value:function(t,e){return e}}]),e}(Zo),Ko=function(t){function e(t,n,i,o){var r,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;return f()(this,e),ri(arguments,5,"linear"),t=ui(t),!n||n instanceof Ei||void 0!==i||void 0!==o||(o=n,n=void 0,i=void 0),void 0===n&&void 0===i&&(n=Iu(t),i=Au(t)),n=ui(n),i=ui(i),a=ui(a),mi("linear","input",0,t),mi("linear","min",1,n),mi("linear","max",2,i),mi("linear","samples",4,a),(r=E()(this,T()(e).call(this,{input:t,min:n,max:i}))).type="number",r.samples=a,r._rangeMode=o||"unit",r}return I()(e,t),m()(e,[{key:"converse",value:function(t){if("date"===this.input.type){var e=this.min.value.getTime();return tn(t*(this.max.value.getTime()-e)+e)}if("timerange"===this.input.type){var n,i,o=sn(this.min.value),r=sn(this.max.value);if(void 0===o||void 0===r)return null;switch(this._rangeMode){case"unit":n=o.startValue,i=r.startValue;break;case"start":case"end":n=o.startValue,i=r.endValue}return $.fromValue(t*(i-n)+n,o.timeZone)}var a=this.min.value;return t*(this.max.value-a)+a}},{key:"limits",value:function(){var t,e;if("timerange"===this.input.type)switch(this._rangeMode){case"unit":t=sn(this.min.value).startValue,e=sn(this.max.value).startValue;break;case"start":case"end":t=sn(this.min.value).startValue,e=sn(this.max.value).endValue}else t=this.min.value,e=this.max.value;return[t,e]}},{key:"eval",value:function(t){if("timerange"===this.input.type){var e;switch(this._rangeMode){case"unit":case"start":e=0;break;case"end":e=1}return(t._dataframe.properties[this._metadata.decodedProperties(this.input.propertyName)[e]][t._index]-this._internalMin)/(this._internalMax-this._internalMin)}var n=this.input.eval(t),i=this._metadata,o=i&&this.input.propertyName?i.codec(this.input.propertyName):new Wo,r=o.externalToInternal(i,this.min.eval(t)),a=o.externalToInternal(i,this.max.eval(t));return(o.externalToInternal(i,n)-r)/(a-r)}},{key:"_bindMetadata",value:function(t){if(Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._metadata=t,"timerange"===this.input.type){var n,i,o;switch(this._rangeMode){case"unit":n=0,i=t.codec(this.input.propertyName).externalToInternal(t,this.min.value)[n],o=t.codec(this.input.propertyName).externalToInternal(t,this.max.value)[n];break;case"start":n=0,i=t.codec(this.input.propertyName).externalToInternal(t,this.min.value)[0],o=t.codec(this.input.propertyName).externalToInternal(t,this.max.value)[1];break;case"end":n=1,i=t.codec(this.input.propertyName).externalToInternal(t,this.min.value)[0],o=t.codec(this.input.propertyName).externalToInternal(t,this.max.value)[1]}this._internalMin=i,this._internalMax=o,this.inlineMaker=function(t){return"((".concat(t.input[n],"-(").concat(i.toFixed(20),"))/(").concat((o-i).toFixed(20),"))")}}else{_i("linear","input",0,["number","date"],this.input),_i("linear","min",1,["number","date"],this.min),_i("linear","max",2,["number","date"],this.max),_i("linear","samples",4,["number"],this.samples);var r=this.input.propertyName&&t.codec(this.input.propertyName);if(!r||r.isIdentity())this.inlineMaker=function(t){return"((".concat(t.input,"-").concat(t.min,")/(").concat(t.max,"-").concat(t.min,"))")};else{var a=r.externalToInternal(t,this.min.value),s=r.externalToInternal(t,this.max.value);this.inlineMaker=function(t){return"((".concat(t.input,"-(").concat(a.toFixed(20),"))/(").concat((s-a).toFixed(20),"))")}}}}},{key:"getLegendData",value:function(t){var e=this.min.value,n=this.max.value,i=this.toString();if(e===n)return{min:e,max:n,name:i,data:[]};for(var o=t&&t.samples?t.samples:this.samples,r=1/(o-1),a=[],s=0;a.length<o;s+=r){var u=Pi(s,0,1);a.push({key:s*(n-e)+e,value:u})}return t.order&&t.order===ho&&(a=a.sort((function(t,e){return e.key-t.key}))),{data:a,min:e,max:n,name:i}}},{key:"value",get:function(){return{min:this.min,max:this.max,input:this.input.value,range:this._rangeMode,samples:this.samples}}}]),e}(Ei),Xo=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],$o=function(t){function e(t){var n;if(f()(this,e),ri(arguments,1,"namedColor"),vi("namedColor","colorName",0,t),!Xo.includes(t.toLowerCase())){var i=hi("namedColor","colorName",0);throw new Fe("".concat(i,"\nInvalid color name:  '").concat(t,"'"),Le.INCORRECT_VALUE)}return(n=E()(this,T()(e).call(this,{}))).type="color",n.name=t,n.expressionName=t,n.color=function(t){if(Yo[t])return Yo[t];var e=document.createElement("div");e.style.backgroundColor=t,document.body.appendChild(e);var n=getComputedStyle(e).backgroundColor;document.body.removeChild(e);var i=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(n),o={r:Number(i[1]),g:Number(i[2]),b:Number(i[3]),a:Number(i[4]||1)};return Yo[t]=o,o}(n.name),n.inlineMaker=function(){return"vec4(".concat((n.color.r/255).toFixed(4),", ").concat((n.color.g/255).toFixed(4),", ").concat((n.color.b/255).toFixed(4),", ").concat(n.color.a.toFixed(4),")")},n}return I()(e,t),m()(e,[{key:"toString",value:function(){return this.expressionName}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.color}]}}},{key:"value",get:function(){return this.color}}]),e}(Ei),Yo={},Qo=n(16),Jo=n.n(Qo),tr=function(t){function e(){var t;return f()(this,e),ri(arguments,0,"now"),(t=E()(this,T()(e).call(this,{now:Wa(0)}))).type="number",Jo()(T()(e.prototype),"inlineMaker",(function(t){return t.now}),uo()(t),!0),t}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"isAnimated",value:function(){return!0}},{key:"isPlaying",value:function(){return!0}},{key:"_setTimestamp",value:function(t){this.now.value=t}},{key:"value",get:function(){return this.now.value}}]),e}(Ei),er=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"number"),bi("number","x",0,t),(n=E()(this,T()(e).call(this,{})))._value=t,n.type="number",n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"toString",value:function(){return"".concat(this.value)}},{key:"isAnimated",value:function(){return!1}},{key:"isPlaying",value:function(){return!1}},{key:"_applyToShaderSource",value:function(){return{preface:this._prefaceCode("uniform float number".concat(this._uid,";")),inline:"number".concat(this._uid)}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t).uniformLocation=e.getUniformLocation(t,"number".concat(this._uid))}},{key:"_preDraw",value:function(t,e,n){n.uniform1f(this._getBinding(t).uniformLocation,this.value)}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]),e}(Ei),nr=n(14),ir=n.n(nr),or=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2,"opacity"),t=ui(t),n=ui(n),mi("opacity","input",0,t),mi("opacity","alpha",1,n),(i=E()(this,T()(e).call(this,{input:t,alpha:n}))).inlineMaker=function(t){return"vec4((".concat(t.input,").rgb, ").concat(t.alpha,")")},i}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=this.input.eval(t),n=this.alpha.eval(t);return e.a=n,e}},{key:"getLegendData",value:function(t){var e=this.input.getLegendData(t),n=this.alpha.value;if("color"===this.input.type){var i=e.data.map((function(t){var e=t.value;return{key:t.key,value:{r:e.r,g:e.g,b:e.b,a:n}}}));return ir()({},e,{data:i})}var o=e.data;return ir()({},e,{data:o,alpha:n})}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("opacity","input",0,["color","image"],this.input),_i("opacity","alpha",1,"number",this.alpha),this.type=this.input.type}},{key:"value",get:function(){var t=this.input.value;return t.a=this.alpha.value,t}}]),e}(Ei),rr=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"asc"),mi("asc","input",0,t=ui(t)),(n=E()(this,T()(e).call(this,{input:t}))).type="orderer",n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),yi("asc","input",0,ur,this.input)}},{key:"value",get:function(){return"asc"}}]),e}(Ei),ar=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"desc"),mi("desc","input",0,t=ui(t)),(n=E()(this,T()(e).call(this,{input:t}))).type="orderer",n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),yi("desc","input",0,ur,this.input)}},{key:"value",get:function(){return"desc"}}]),e}(Ei),sr=function(t){function e(){var t;return f()(this,e),ri(arguments,0,"noOrder"),(t=E()(this,T()(e).call(this,{}))).type="orderer",t}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"value",get:function(){return"noOrder"}}]),e}(Ei),ur=function(t){function e(){var t;return f()(this,e),ri(arguments,1,"width"),(t=E()(this,T()(e).call(this,{}))).type="propertyReference",t}return I()(e,t),e}(Ei),cr=n(22),lr=hr("rgb",!1),dr=hr("rgba",!0);function hr(t,e){return function(n){function i(n,o,r,a){var s;f()(this,i),ri(arguments,4,"rgba");var u=[n,o,r,a].map(ui),c=y()(u,4);o=c[1],r=c[2],a=c[3],mi(t,"r",0,n=c[0]),mi(t,"g",1,o),mi(t,"b",2,r);var l={r:n,g:o,b:r};return e&&(mi(t,"a",3,a),l.a=a),(s=E()(this,T()(i).call(this,l))).type="color",s.inlineMaker=function(t){return"vec4(".concat(t.r,"/255., ").concat(t.g,"/255., ").concat(t.b,"/255., ").concat(e?t.a:"1.",")")},s}return I()(i,n),m()(i,[{key:"eval",value:function(){return this.value}},{key:"getLegendData",value:function(){return{name:"color",data:[{key:"",value:this.value}]}}},{key:"_bindMetadata",value:function(n){Ai()(T()(i.prototype),"_bindMetadata",this).call(this,n),_i(t,"r",0,"number",this.r),_i(t,"g",1,"number",this.g),_i(t,"b",2,"number",this.b),e&&_i("rgba","a",3,"number",this.a)}},{key:"value",get:function(){return{r:this.r.value,g:this.g.value,b:this.b.value,a:e?this.a.value:1}}}]),i}(Ei)}var pr=function(t){function e(t,n){var i;return f()(this,e),(i=E()(this,T()(e).call(this,{}))).type="palette",i.childType="color",i.name=t,i.subPalettes=new Proxy(n,{get:function(t,e){if("symbol"!==h()(e)&&Number.isSafeInteger(Number(e))&&Array.isArray(t[e]))return t[e].map(ci)}}),i.expressionName=t,i.tags=n.tags,i}return I()(e,t),m()(e,[{key:"getColors",value:function(t){var e=this._getBestSubPalette(t);return this.isQualitative()?{colors:e,othersColor:e.pop()}:{colors:e,othersColor:null}}},{key:"toString",value:function(){return this.expressionName}},{key:"_getBestSubPalette",value:function(t){var e=this.getLongestSubPaletteIndex(),n=this.getSmallestSubPaletteIndex();return!Number.isInteger(t)||t>e?t=e:t<n&&(t=n),l()(this.subPalettes[t]).map((function(t){return new dr(Is(t.r),Is(t.g),Is(t.b),Is(t.a))}))}},{key:"getSmallestSubPaletteIndex",value:function(){for(var t=this.subPalettes,e=0;e<=20;e++)if(t[e])return e}},{key:"getLongestSubPaletteIndex",value:function(){for(var t=this.subPalettes,e=20;e>=0;e--)if(t[e])return e}},{key:"isQualitative",value:function(){return this.tags.includes("qualitative")}},{key:"isQuantitative",value:function(){return this.tags.includes("quantitative")}}]),e}(Ei),fr={};Object.keys(cr).map((function(t){fr["".concat(t.toUpperCase())]=new pr(t,cr[t])}));var gr=fr,mr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){var e=this;this.type="palette",this.childType="color",this.subPalettes=new Proxy(this.input.subPalettes,{get:function(t,n){return Number.isFinite(Number(n))&&Array.isArray(t[n])?e._reversePalette(t[n]):t[n]}}),this.tags=this.input.tags}},{key:"getLongestSubPalette",value:function(){return this._reversePalette(this.input.getLongestSubPalette())}},{key:"_reversePalette",value:function(t){if(this.isQualitative()){var e=l()(t),n=e.pop();return l()(e.reverse()).concat([n])}return l()(t).reverse()}}]),e}(pr),_r=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){_i("reverse","array",0,["number-list","category-list","color-list","date-list","image-list"],this.input),this.type=this.input.type,this.childType=this.input.childType}},{key:"eval",value:function(t){return this.elems.map((function(e){return e.eval(t)}))}},{key:"elems",get:function(){return l()(this.input.elems).reverse()}},{key:"value",get:function(){return this.elems.map((function(t){return t.value}))}}]),e}(Ei),yr=function(t){function e(t){return f()(this,e),ri(arguments,1,"reverse"),mi("reverse","input",0,t=ui(t)),E()(this,T()(e).call(this,{input:t}))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){return Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),Object.setPrototypeOf(this,"palette"===this.input.type?mr.prototype:_r.prototype),this._bindMetadata(t)}}]),e}(Ei),br=function(){function t(e){f()(this,t),this.classifier=e}return m()(t,[{key:"applyToShaderSource",value:function(t){var e=this,n=this.classifier.childrenNames.map((function(n){return e.classifier[n]._applyToShaderSource(t)})),i={};n.map((function(t,n){i[e.classifier.childrenNames[n]]=t.inline}));var o="classifier".concat(this.classifier.classifierUID),r=this.classifier.numCategories-1||1,a=this.classifier.breakpoints?this.classifier.breakpoints.map((function(t,e){return"".concat(e>0?"else":""," if (x<(").concat(i["arg".concat(e)],")){\n                return ").concat((e/r).toFixed(20),";\n            }")})).join(""):"",s="float ".concat(o,"(float x){\n            ").concat(a,"\n            return 1.;\n        }");return{preface:this.classifier._prefaceCode(n.map((function(t){return t.preface})).reduce((function(t,e){return t+e}),"")+s),inline:"".concat(o,"(").concat(i.input,")")}}}]),t}(),vr=0,Cr=function(t){function e(t){var n;return f()(this,e),(n=E()(this,T()(e).call(this,t))).classifierUID=vr++,n.type="category",n._GLSLhelper=new br(uo()(uo()(n))),n}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=this.input.eval(t),n=this.breakpoints.findIndex((function(t){return e<=t.value}));return-1===n?1:n/(this.numCategories-1||1)}},{key:"toString",value:function(){return"".concat(this.expressionName,"(").concat(this.input.toString(),", ").concat(this.numCategories,")")}},{key:"_resolveAliases",value:function(t){Ai()(T()(e.prototype),"_resolveAliases",this).call(this,t),this._bucketsInitialization()}},{key:"_bucketsInitialization",value:function(){this._validateBucketsIsProperNumber();var t=this.buckets.value;this.numCategories=t,this.numCategoriesWithoutOthers=t,this._initBreakpointsChildren(t)}},{key:"_initBreakpointsChildren",value:function(t){this.breakpoints=this._breakpointsWithZeros(t);var e=this.breakpoints.reduce((function(t,e,n){return t["arg".concat(n)]=e,t}),{});this._initializeChildren(e)}},{key:"_breakpointsWithZeros",value:function(t){for(var e=[],n=0;n<t-1;n++)e.push(Wa(0));return e}},{key:"_validateBucketsIsProperNumber",value:function(){var t=this.buckets.value;if(bi(this.expressionName,"buckets",1,t),t<=1)throw new Fe("The number of 'buckets' must be >=2, but ".concat(t," was used"),Le.INCORRECT_VALUE)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._validateInputIsNumericProperty()}},{key:"_validateInputIsNumericProperty",value:function(){_i(this.expressionName,"input",0,"number",this.input)}},{key:"_getBreakpointList",value:function(){return this._genBreakpoints(),this.breakpoints.map((function(t){return t.value}))}},{key:"_genBreakpoints",value:function(){}},{key:"_applyToShaderSource",value:function(t){return this._GLSLhelper?this._GLSLhelper.applyToShaderSource(t):null}},{key:"_preDraw",value:function(t,n,i){this._genBreakpoints(),Ai()(T()(e.prototype),"_preDraw",this).call(this,t,n,i)}},{key:"getLegendData",value:function(){for(var t=this._getBreakpointList(),e=t.length,n=this.min.value,i=this.max.value,o=[],r=0;r<=e;r++)o.push({key:[0===t[r-1]?0:t[r-1]||n,0===t[r]?0:t[r]||i],value:r/e});return{name:this.toString(),data:o}}},{key:"value",get:function(){return this.eval()}}]),e}(Ei),xr=function(t){function e(t,n){return f()(this,e),si(arguments,2,"globalEqIntervals"),E()(this,T()(e).call(this,{input:t,buckets:n}))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._updateBreakpointsWith(t)}},{key:"_updateBreakpointsWith",value:function(t){var e=this;if("_cdb_feature_count"===this.input.propertyName)throw new Fe("'clusterCount' can not be used in GlobalEqIntervals. Consider using ViewportEqIntervals instead",Le.INCORRECT_TYPE);var n=t.stats(this.input.name),i=n.min,o=n.max;this.min=Wa(i),this.max=Wa(o),this.breakpoints.map((function(t,n){t.value=i+(n+1)/e.numCategories*(o-i)}))}}]),e}(Cr),wr=function(t){function e(t,n){return f()(this,e),si(arguments,2,"globalQuantiles"),E()(this,T()(e).call(this,{input:t,buckets:n}))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("globalQuantiles","input",0,"number",this.input),this._updateBreakpointsWith(t)}},{key:"_validateInputIsNumericProperty",value:function(){}},{key:"_updateBreakpointsWith",value:function(t){var e=this;if("_cdb_feature_count"===this.input.propertyName)throw new Fe("'clusterCount' can not be used in GlobalQuantiles. Consider using ViewportQuantiles instead",Le.INCORRECT_TYPE);var n=this.input.name,i=t.stats(n),o=i.min,r=i.max,a=t.sample.map((function(t){return t[n]}));this.min=Wa(o),this.max=Wa(r),a.sort((function(t,e){return t-e})),this.breakpoints=this.breakpoints.map((function(t,n){return t.value=a[Math.floor((n+1)/e.numCategories*a.length)],t}))}}]),e}(Cr),Pr=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return f()(this,e),ai(arguments,2,"globalStandardDev"),ri(arguments,3,"globalStandardDev"),E()(this,T()(e).call(this,{input:t,buckets:n,_classSize:i}))}return I()(e,t),m()(e,[{key:"_resolveAliases",value:function(t){Ai()(T()(e.prototype),"_resolveAliases",this).call(this,t),this._validateClassSizeIsProperNumber()}},{key:"_validateClassSizeIsProperNumber",value:function(){var t=this._classSize.value;if(bi(this.expressionName,"classSize",2,t),t<=0)throw new Fe("The 'classSize' must be > 0.0, but ".concat(t," was used."),Le.INCORRECT_VALUE)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._updateBreakpointsWith(t)}},{key:"_updateBreakpointsWith",value:function(t){if("_cdb_feature_count"===this.input.propertyName)throw new Fe("'clusterCount' can not be used in GlobalStandardDev. Consider using ViewportStandardDev instead",Le.INCORRECT_TYPE);var e=this.input.name,n=t.sample.map((function(t){return t[e]})),i=Re(n),o=function(t){var e=Re(t),n=Re(function(t,e){for(var n=[],i=0;i<t.length;i++){var o=t[i]-e;n.push(o*o)}return n}(t,e));return Math.sqrt(n)}(n),r=t.stats(e),a=r.max;this.min=Wa(r.min),this.max=Wa(a);var s=Mr(i,o,this.numCategories,this._classSize.value);this.breakpoints.forEach((function(t,e){t.value=s[e]}))}}]),e}(Cr);function Mr(t,e,n,i){if(0===e||isNaN(e))throw new xn("There is no Standard Deviation, not possible to compute ".concat(n," buckets (just one feature or maybe all share the same value...?)"),wn.NOT_SUPPORTED);var o,r=[],a=[],s=n%2==0?0:1;do{var u=s*(e*i);r.push(t+u),a.push(t-u),(o=l()(new Set(r.concat(a)))).sort((function(t,e){return t-e})),s++}while(o.length<n-1);return o}var Or=function(t){function e(t,n){return f()(this,e),si(arguments,2,"viewportEqIntervals"),E()(this,T()(e).call(this,{input:t,buckets:n}))}return I()(e,t),m()(e,[{key:"_resolveAliases",value:function(t){Ai()(T()(e.prototype),"_resolveAliases",this).call(this,t),this._minMaxInitialization()}},{key:"_minMaxInitialization",value:function(){var t=this.input,e={min:Pu(t),max:wu(t)};this._initializeChildren(e)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("viewportEqIntervals","input",0,"number",this.input)}},{key:"_validateInputIsNumericProperty",value:function(){}},{key:"_genBreakpoints",value:function(){var t=this,e=this.min.value,n=this.max.value;this.breakpoints.map((function(i,o){i.value=e+(o+1)/t.numCategories*(n-e)}))}}]),e}(Cr),kr=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return f()(this,e),ai(arguments,2,"viewportQuantiles"),ri(arguments,3,"viewportQuantiles"),t=ui(t),E()(this,T()(e).call(this,{input:t,buckets:n,_histogramSize:i}))}return I()(e,t),m()(e,[{key:"_resolveAliases",value:function(t){Ai()(T()(e.prototype),"_resolveAliases",this).call(this,t),this._histogramInitialization()}},{key:"_histogramInitialization",value:function(){this._validateHistogramSizeIsProperNumber();var t=this.input,e=this._histogramSize.value,n={min:Pu(t),max:wu(t),_histogram:Eu(t,e)};this._initializeChildren(n)}},{key:"_validateHistogramSizeIsProperNumber",value:function(){var t=this._histogramSize.value;if(bi(this.expressionName,"histogramSize",2,t),t<=0)throw new Fe("The 'histogramSize' must be > 0, but ".concat(t," was used"),Le.INCORRECT_VALUE)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("viewportQuantiles","input",0,"number",this.input)}},{key:"_validateInputIsNumericProperty",value:function(){}},{key:"_genBreakpoints",value:function(){var t=this._histogram.value;if(t){var e=this._getAccumHistogramFrom(t),n=this._getMinMaxFrom(t),i=y()(n,2);this._updateBreakpointsWith({accumHistogram:e,min:i[0],max:i[1]})}}},{key:"_updateBreakpointsWith",value:function(t){var e=this,n=t.accumHistogram,i=t.min,o=t.max,r=n.length,a=0,s=n[r-1];this.breakpoints.map((function(t,u){for(;a<r&&!(n[a]>(u+1)/e.numCategories*s);a++);t.value=a/r*(o-i)+i}))}},{key:"_getAccumHistogramFrom",value:function(t){var e=0;return t.map((function(t){return e+=t.y}))}},{key:"_getMinMaxFrom",value:function(t){return[t[0].x[0],t[t.length-1].x[1]]}}]),e}(Cr),Er=function(t){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return f()(this,e),ai(arguments,2,"viewportStandardDev"),ri(arguments,4,"viewportStandardDev"),E()(this,T()(e).call(this,{input:t,buckets:n,_classSize:i,_histogramSize:o}))}return I()(e,t),m()(e,[{key:"_resolveAliases",value:function(t){Ai()(T()(e.prototype),"_resolveAliases",this).call(this,t),this._validateClassSizeIsProperNumber(),this._histogramInitialization()}},{key:"_histogramInitialization",value:function(){this._validateHistogramSizeIsProperNumber();var t=this.input,e=this._histogramSize.value,n={min:Pu(t),max:wu(t),_histogram:Eu(t,e)};this._initializeChildren(n)}},{key:"_validateClassSizeIsProperNumber",value:function(){var t=this._classSize.value;if(bi(this.expressionName,"classSize",2,t),t<=0)throw new Fe("The 'classSize' must be > 0.0, but ".concat(t," was used."),Le.INCORRECT_VALUE)}},{key:"_validateHistogramSizeIsProperNumber",value:function(){var t=this._histogramSize.value;if(bi(this.expressionName,"histogramSize",3,t),t<=0)throw new Fe("The 'histogramSize' must be > 0, but ".concat(t," was used"),Le.INCORRECT_VALUE)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("viewportStandardDev","input",0,"number",this.input)}},{key:"_validateInputIsNumericProperty",value:function(){}},{key:"_genBreakpoints",value:function(){var t=this._histogram.value;if(void 0!==t){var e=this._getAverageFrom(t),n=this._getStandardDevFrom(t,e);this._updateBreakpointsWith({avg:e,stdev:n})}}},{key:"_updateBreakpointsWith",value:function(t){var e=Mr(t.avg,t.stdev,this.numCategories,this._classSize.value);this.breakpoints.forEach((function(t,n){t.value=e[n]}))}},{key:"_getAverageFrom",value:function(t){var e=0,n=0;return t.forEach((function(t){var i=t.x,o=t.y;e+=o,n+=(i[0]+i[1])/2*o})),n/e}},{key:"_getStandardDevFrom",value:function(t,e){var n=0,i=0;return t.forEach((function(t){var o=t.x,r=t.y;n+=r;var a=(o[0]+o[1])/2-e;i+=r*a*a})),Math.sqrt(i/n)}}]),e}(Cr),Sr="https://libs.cartocdn.com/carto-vl/assets/symbols",Tr={bicycle:"".concat(Sr,"/bicycle.svg"),building:"".concat(Sr,"/building.svg"),bus:"".concat(Sr,"/bus.svg"),car:"".concat(Sr,"/car.svg"),circle:"".concat(Sr,"/circle.svg"),circleOutline:"".concat(Sr,"/circleOutline.svg"),cross:"".concat(Sr,"/cross.svg"),house:"".concat(Sr,"/house.svg"),flag:"".concat(Sr,"/flag.svg"),marker:"".concat(Sr,"/marker.svg"),markerOutline:"".concat(Sr,"/markerOutline.svg"),plus:"".concat(Sr,"/plus.svg"),square:"".concat(Sr,"/square.svg"),squareOutline:"".concat(Sr,"/squareOutline.svg"),star:"".concat(Sr,"/star.svg"),starOutline:"".concat(Sr,"/starOutline.svg"),triangle:"".concat(Sr,"/triangle.svg"),triangleOutline:"".concat(Sr,"/triangleOutline.svg")},Ar=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"categoryIndex"),mi("categoryIndex","property",0,t=ui(t)),(n=E()(this,T()(e).call(this,{property:t})))._numTranslatedCategories=null,n.type="category",n._translatePixels=new Float32Array(65536),n._translateArray=[],n._numTranslatedCategories=0,n._numTranslatedCategoriesGL=0,n}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("categoryIndex","property",0,"category",this.property),this._metadata=t,this._calcTranslated()}},{key:"eval",value:function(t){var e=this.property.eval(t),n=this._metadata.categoryToID.get(e);return this._translateArray[n]}},{key:"_preDraw",value:function(t,e,n){n.activeTexture(n.TEXTURE0+e.freeTexUnit),this._numTranslatedCategoriesGL!==this.numCategories?(this._numTranslatedCategoriesGL=this.numCategories,this._calcTranslated(),this._translateTexture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this._translateTexture),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,256,256,0,n.ALPHA,n.FLOAT,this._translatePixels),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE)):n.bindTexture(n.TEXTURE_2D,this._translateTexture),n.uniform1i(this._getBinding(t).texRampTranslateLoc,e.freeTexUnit),e.freeTexUnit++}},{key:"_applyToShaderSource",value:function(t){var e=256..toFixed(20),n=this.property._applyToShaderSource(t);return{inline:"ramp_translate".concat(this._uid,"(").concat(n.inline,")"),preface:"\n                    uniform sampler2D texRampTranslate".concat(this._uid,";\n                    float ramp_translate").concat(this._uid,"(float s){\n                        vec2 v = vec2(mod(s, ").concat(e,"), floor(s / ").concat(e,"));\n                        return texture2D(texRampTranslate").concat(this._uid,", v/").concat(e,").a;\n                    }")}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t).texRampTranslateLoc=e.getUniformLocation(t,"texRampTranslate".concat(this._uid))}},{key:"_calcTranslated",value:function(){var t=this.numCategories;if(this._numTranslatedCategories!==t){this._numTranslatedCategories=t;for(var e=0;e<t;e++){var n=this._metadata.categoryToID.get(this.metaColumn.categories[e].name),i=e/(t-1),o={x:n%256,y:Math.floor(n/256)};this._translatePixels[256*o.y+o.x]=i,this._translateArray.push(i)}}}},{key:"getLegendData",value:function(t){for(var e=this._metadata.properties[this.property.propertyName].categories,n=e.length,i=n-1,o=[],r=0;r<n;r++)o.push({key:e[r].name,value:r/i});return t.order&&t.order===ho&&(o=o.sort((function(t,e){return e.key-t.key}))),{data:o}}},{key:"numCategories",get:function(){return this.metaColumn.categories.length}},{key:"metaColumn",get:function(){var t=this.property.propertyName;return this._metadata.properties[t]?this._metadata.properties[t]:this._metadata.properties[this.property.name]}},{key:"numCategoriesWithoutOthers",get:function(){return this.numCategories}},{key:"value",get:function(){return this.eval()}}]),e}(Ei),Ir=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this.numImages=this.elems.length,this._getChildren().forEach((function(t,e){return _i("imageArray","imageArray[".concat(e,"]"),0,"image",t)}))}},{key:"eval",value:function(t){return this.elems.map((function(e){return e.eval(t)}))}},{key:"_applyToShaderSource",value:function(){return{preface:this._prefaceCode("\n                uniform sampler2D atlas".concat(this._uid,";\n\n                vec4 atlas").concat(this._uid,"Fn(vec2 imageUV, float category) {\n                    return texture2D(atlas").concat(this._uid,", imageUV/16. + vec2(mod(category, 16.), floor(category/16.))/16. ).rgba;\n                }\n            ")),inline:"atlas".concat(this._uid,"Fn")}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t).texLoc=e.getUniformLocation(t,"atlas".concat(this._uid))}},{key:"_preDraw",value:function(t,e,n){this.init=!0;for(var i=0;i<this.numImages;i++){var o=this["image-".concat(i)];this.init=this.init&&o.canvas}if(this.init&&!this.texture){n.activeTexture(n.TEXTURE0+e.freeTexUnit),this.texture=n.createTexture(),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,4096,4096,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);for(var r=0,a=0,s=0;s<this.numImages;s++){var u=this["image-".concat(s)];n.texSubImage2D(n.TEXTURE_2D,0,r,a,n.RGBA,n.UNSIGNED_BYTE,u.canvas),(r+=256)+256>4096&&(r=0,a+=256)}n.generateMipmap(n.TEXTURE_2D)}this.texture&&(n.activeTexture(n.TEXTURE0+e.freeTexUnit),n.bindTexture(n.TEXTURE_2D,this.texture),n.uniform1i(this._getBinding(t).texLoc,e.freeTexUnit),e.freeTexUnit++)}}]),e}(Ei),Dr=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"image"),vi("image","url",0,t),(n=E()(this,T()(e).call(this,{}))).type="image",n.canvas=null,n.url=t,n._promise=new Promise((function(t,e){n.image=new window.Image,n.image.onload=function(){n.canvas=function(t){var e=document.createElement("canvas");e.width=256,e.height=256;var n=e.getContext("2d"),i=Math.max(t.width,t.height),o=t.width/i*256,r=t.height/i*256;return n.drawImage(t,(256-o)/2,(256-r)/2,o,r),e}(n.image),n.image=null,t()},n.image.onerror=e,n.image.crossOrigin="anonymous",n.image.src=n.url})),n}return I()(e,t),m()(e,[{key:"loadImages",value:function(){return this.count=this.count+1||1,this._promise}},{key:"keepDefaultsOnBlend",value:function(){this.default&&this.parent.color.default&&(this.parent.color=li())}},{key:"eval",value:function(){return this.value}},{key:"getLegendData",value:function(t){return{name:"image",data:[{key:"url",value:this.url}]}}},{key:"_free",value:function(t){this.texture&&t.deleteTexture(this.texture)}},{key:"_applyToShaderSource",value:function(){return{preface:this._prefaceCode("uniform sampler2D texSprite".concat(this._uid,";")),inline:"texture2D(texSprite".concat(this._uid,", imageUV).rgba")}}},{key:"_postShaderCompile",value:function(t,e){this._getBinding(t)._texLoc=e.getUniformLocation(t,"texSprite".concat(this._uid))}},{key:"_preDraw",value:function(t,e,n){!this.init&&this.canvas&&(this.init=!0,n.activeTexture(n.TEXTURE0+e.freeTexUnit),this.texture=n.createTexture(),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,this.canvas),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.generateMipmap(n.TEXTURE_2D),this.canvas=null),this.texture&&(n.activeTexture(n.TEXTURE0+e.freeTexUnit),n.bindTexture(n.TEXTURE_2D,this.texture),n.uniform1i(this._getBinding(t)._texLoc,e.freeTexUnit),e.freeTexUnit++)}},{key:"value",get:function(){return this.url}}]),e}(Ei),Rr=new Dr(Tr.circle),Fr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ei.prototype._bindMetadata.call(this,t),this.type=this.palette.childType,_i("ramp","input",0,"category",this.input),yi("ramp","palette",1,Ir,this.palette),this.others===co?this.others=Rr:_i("ramp","others",2,"image",this.others),this.input.isA(wo)&&(this.input=new Ar(this.input),this.input._bindMetadata(t)),this.others._bindMetadata(t),this.childrenNames.push("others")}},{key:"eval",value:function(t){var e=this.input.eval(t);return this._calcEval(e)}},{key:"_calcEval",value:function(t){var e=Math.round(t*(this.input.numCategoriesWithoutOthers-1));return this.palette.eval()[e]||this.others.eval()}},{key:"getLegendData",value:function(t){var e=this,n=this.input.type,i=this.input.getLegendData(t),o=i.data.map((function(t){var n=t.value;return{key:t.key,value:n=e._calcEval(n)}}));return t&&t.order&&t.order===ho&&(o=o.sort((function(t,e){return e.key-t.key}))),ir()({type:n},i,{data:o})}},{key:"_applyToShaderSource",value:function(t){var e=this.input._applyToShaderSource(t),n=this.palette._applyToShaderSource(t),i=this.others._applyToShaderSource(t);return{preface:this._prefaceCode("\n                uniform float rampImageMultiplier".concat(this._uid,";\n\n                ").concat(e.preface,"\n                ").concat(n.preface,"\n                ").concat(i.preface,"\n\n                vec4 rampImage").concat(this._uid,"(vec2 imageUV, float index){\n                    if (index == ").concat("(-1.)","){\n                        return ").concat(i.inline,";\n                    }\n                    return ").concat(n.inline,"(imageUV, rampImageMultiplier").concat(this._uid,"*index);\n                }\n            ")),inline:"rampImage".concat(this._uid,"(imageUV, ").concat(e.inline,")")}}},{key:"_postShaderCompile",value:function(t,n){Ai()(T()(e.prototype),"_postShaderCompile",this).call(this,t,n),this._getBinding(t)._multiplierLoc=n.getUniformLocation(t,"rampImageMultiplier".concat(this._uid))}},{key:"_preDraw",value:function(t,n,i){Ai()(T()(e.prototype),"_preDraw",this).call(this,t,n,i),i.uniform1f(this._getBinding(t)._multiplierLoc,this.input.numCategoriesWithoutOthers-1)}},{key:"value",get:function(){return this.eval()}}]),e}(Ei),Lr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){var n=new Fo(1),i=new $o("gray");Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this.type=this.palette.childType,this.others===co?(this.others="number-list"===this.palette.type?n:i,this.others._bindMetadata(t)):(this.others._bindMetadata(t),_i("ramp","others",2,this.palette.childType,this.others)),(this.input.isA(wo)||this.input.isA(Po))&&(this.input="number"===this.input.type?new Ko(this.input):new Ar(this.input),this.input._bindMetadata(t)),_i("ramp","input",0,["number","category"],this.input),this.childrenNames.push("others"),this._metadata=t}},{key:"eval",value:function(t){var e=this.input.eval(t);return this._calcEval(e,t)}},{key:"_calcEval",value:function(t,e){var n=this._getPalette(),i=n.palette,o=n.others,r=this.palette.isA(pr)?i.map((function(t){return t.eval(e)})):this.palette.eval(e);if(-1===t)return o.eval(e);var a=r.length-1,s=Math.floor(t*a),u=Math.ceil(t*a),c=Pi(s,0,a),l=Pi(u,0,a),d=function(t){return t-Math.floor(t)}(t*a);return Mi(r[c],r[l],d)}},{key:"getLegendData",value:function(t){var e=this,n=Object.assign({},po,t),i=this.input.type,o=this.input.getLegendData(n),r=o.data.map((function(t){var n=t.value;return{key:t.key,value:n=e._calcEval(n,void 0)}}));return n.order&&n.order===ho&&(r=function(t){return t[0]&&(Array.isArray(t[0].key)||"number"==typeof t[0].key)}(r)?function(t,e){return Array.isArray(t[0].key)?e===ho?t.sort((function(t,e){return e.key[0]-t.key[0]})):t:e===ho?t.sort((function(t,e){return e.key-t.key})):t}(r,n.order):function(t,e){return t.sort(e===ho?function(t,e){return e.key.localeCompare(t.key)}:function(t,e){return t.key.localeCompare(e.key)})}(r,n.order)),ir()({type:i},o,{data:r})}},{key:"_applyToShaderSource",value:function(t){var e=this.input._applyToShaderSource(t),n=this._getPalette(),i=n.others,o=n.palette.map((function(e){return e._applyToShaderSource(t)})),r=i._applyToShaderSource(t),a="number-list"===this.palette.type?function(t){return zr(t.map((function(t){return t.inline})))}(o):function(t){return"cielabToSRGBA(".concat(zr(t.map((function(t){return"sRGBAToCieLAB(".concat(t.inline,")")}))),")")}(o),s="number-list"===this.palette.type?"float":"vec4",u="ramp_color".concat(this._uid,"(").concat(e.inline,")");return{preface:this._prefaceCode("\n            ".concat(e.preface,"\n            ").concat(bo.a,"\n            ").concat(o.map((function(t){return t.preface})).join("\n"),"\n            ").concat(r.preface,"\n\n            ").concat(s," ramp_color").concat(this._uid,"(float x){\n                return x==").concat("(-1.)","\n                    ? ").concat(r.inline,"\n                    : ").concat(a,";\n            }")),inline:u}}},{key:"_getPalette",value:function(){return this.palette.isA(pr)?this._getColorPalette():{palette:this.palette.elems,others:this.others}}},{key:"_getColorPalette",value:function(){var t=this.palette.getColors(this.input.numCategoriesWithoutOthers);return{palette:t.colors,others:this._defaultOthers&&t.othersColor?t.othersColor:this.others}}},{key:"value",get:function(){return this.eval()}}]),e}(Ei);function zr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t[e];return e===t.length-1?n:function(t,e,n,i){var o=(n/(i-1)).toFixed(20),r=(1/(i-1)).toFixed(20),a="clamp((x - ".concat(o,")/").concat(r,", 0., 1.)");return"mix(".concat(t,", ").concat(e,", ").concat(a,")")}(n,zr(t,e+1),e,t.length)}var Br=function(t){function e(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:co;return f()(this,e),ri(arguments,3,"ramp"),t=ui(t),n=ui(n),mi("ramp","input",0,t),mi("ramp","palette",1,n),o!==co&&mi("ramp","others",2,o=ui(o)),(i=E()(this,T()(e).call(this,{input:t,palette:n}))).palette=n,i.others=o,i.type=n.type,i._defaultOthers=o===co,i}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){switch(Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this.palette.type){case"image-list":Object.setPrototypeOf(this,Fr.prototype);break;default:Object.setPrototypeOf(this,Lr.prototype)}return this._bindMetadata(t)}}]),e}(Ei),Nr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"eval",value:function(t){return this.elems.map((function(e){return e.eval(t)}))}},{key:"_applyToShaderSource",value:function(t){var e=this.elems.map((function(e){return e._applyToShaderSource(t)}));return{preface:e.map((function(t){return t.preface})).join("\n"),inline:e.map((function(t){return t.inline}))}}},{key:"value",get:function(){return this.elems.map((function(t){return t.value}))}}]),e}(Ei),Vr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._getChildren().forEach((function(t,e){return _i("ListTransformation","ListTransformation[".concat(e,"]"),0,"transformation",t)})),this.type="transformation"}},{key:"eval",value:function(t){return this.elems.map((function(e){return e.eval(t)}))}},{key:"_applyToShaderSource",value:function(t){var e=this.elems.map((function(e){return e._applyToShaderSource(t)}));return{preface:this._prefaceCode("\n                ".concat(e.map((function(t){return t.preface})).join("\n"),"\n\n                vec2 listTransform").concat(this._uid,"(vec2 p) {\n                    ").concat(e.map((function(t){return"p = ".concat(t.inline,"(p);")})).join("\n"),"\n                    return p;\n                }\n            ")),inline:"listTransform".concat(this._uid)}}}]),e}(Ei),Ur=["number","category","color","date","image","transformation"],qr=function(t){function e(t){var n;if(f()(this,e),ri(arguments,1,"list"),!t)throw new Fe("list(): invalid parameters: must receive at least one argument.",Le.MISSING_REQUIRED);if(Array.isArray(t)||(t=[t]),!(t=t.map(ui)).length)throw new Fe("list(): invalid parameters: must receive at least one argument.",Le.MISSING_REQUIRED);return t.map((function(t,e){mi("list","item[".concat(e,"]"),e,t)})),(n=E()(this,T()(e).call(this,t))).elems=t,n.type=t[0].type,n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return this.elems.map((function(e){return e.eval(t)}))}},{key:"_bindMetadata",value:function(t){var n=this;if(Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._setTypes(),-1===Ur.indexOf(this.childType))throw new Fe("list(): invalid parameters type: ".concat(this.childType,"."),Le.INCORRECT_TYPE);switch(this.elems.map((function(t,e){if(mi("list","item[".concat(e,"]"),e,t),t.type!==n.childType)throw new Fe("list(): invalid ".concat(di(e+1)," parameter type, invalid argument type combination."),Le.INCORRECT_TYPE)})),this.elems[0].type){case"image":Object.setPrototypeOf(this,Ir.prototype);break;case"transformation":Object.setPrototypeOf(this,Vr.prototype);break;default:Object.setPrototypeOf(this,Nr.prototype)}return this._bindMetadata(t)}},{key:"_setTypes",value:function(){this.childType=this.elems[0].type,this.type="".concat(this.childType,"-list")}},{key:"value",get:function(){return this.elems.map((function(t){return t.value}))}}]),e}(Ei),jr=function(t){function e(t){var n;f()(this,e),ri(arguments,1,"time"),(n=E()(this,T()(e).call(this,{}))).type="date";try{n.date=Je(t)}catch(t){pi("time","date",0,"Date or string or number","other type")}return n.inlineMaker=function(){},n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"isAnimated",value:function(){return!1}},{key:"isPlaying",value:function(){return!1}},{key:"value",get:function(){return this.date}}]),e}(Ei),Gr=function(t){function e(t){var n;return f()(this,e),(n=E()(this,T()(e).call(this,{}))).type="timerange",n.range=sn(t),n.inlineMaker=function(){},n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return{iso:this.range.iso.eval(t),timeZone:this.range.timeZone.eval(t),startValue:this.range.startValue.eval(t),endValue:this.range.endValue.eval(t),startDate:this.range.startDate.eval(t),endDate:this.range.endDate.eval(t)}}},{key:"isAnimated",value:function(){return!1}},{key:"isPlaying",value:function(){return!1}},{key:"value",get:function(){return{iso:this.range.iso.value,timeZone:this.range.timeZone.value,startValue:this.range.startValue.value,endValue:this.range.endValue.value,startDate:this.range.startDate.value,endDate:this.range.endDate.value}}}]),e}(Ei),Hr=function(t){function e(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lo;f()(this,e),ri(arguments,3,"top");for(var r={property:t,buckets:n=ui(n),othersLabel:o=ui(o)},a=0;a<16;a++)r["_top".concat(a)]=Wa(0);return(i=E()(this,T()(e).call(this,r))).numBuckets=0,i.type="category",i}return I()(e,t),m()(e,[{key:"eval",value:function(t){var e=this._metadata.properties[this.property.propertyName],n=l()(e.categories).sort((function(t,e){return e.frequency-t.frequency})),i=this.property.eval(t),o=n.findIndex((function(t){return t.name===i}));return o>=this.numBuckets||-1===o?{label:lo,index:-1}:{label:i,index:o/(this.numCategoriesWithoutOthers-1||1)}}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),yi("top","property",0,wo,this.property),_i("top","property",0,"category",this.property),wi("top","buckets",1,this.buckets),_i("top","buckets",1,"number",this.buckets),_i("top","othersLabel",2,"category",this.othersLabel),wi("top","othersLabel",2,this.othersLabel),this._metadata=t,this._textureBuckets=null,this.numBuckets=this.getNumBuckets(this.buckets)}},{key:"getNumBuckets",value:function(t){var e=Math.round(t);if(e>this.property.numCategories&&(e=this.property.numCategories),e>16){var n=t;throw new Fe("top() function has a limit of ".concat(16," buckets but '").concat(n,"' buckets were specified."),Le.INCORRECT_VALUE)}return e}},{key:"_applyToShaderSource",value:function(t){var e=this,n={};return this.childrenNames.forEach((function(i){n[i]=e[i]._applyToShaderSource(t)})),{preface:this._prefaceCode(Object.values(n).map((function(t){return t.preface})).join("")+"\n            uniform float numCategoriesWithoutOthers".concat(this._uid,";\n\n            float top").concat(this._uid,"(float id){\n                float r;\n                if (").concat(n._top0.inline," == id){\n                    r = 0.;\n                } else if (").concat(n._top1.inline," == id){\n                    r = 1.;\n                } else if (").concat(n._top2.inline," == id){\n                    r = 2.;\n                } else if (").concat(n._top3.inline," == id){\n                    r = 3.;\n                } else if (").concat(n._top4.inline," == id){\n                    r = 4.;\n                } else if (").concat(n._top5.inline," == id){\n                    r = 5.;\n                } else if (").concat(n._top6.inline," == id){\n                    r = 6.;\n                } else if (").concat(n._top7.inline," == id){\n                    r = 7.;\n                } else if (").concat(n._top8.inline," == id){\n                    r = 8.;\n                } else if (").concat(n._top9.inline," == id){\n                    r = 9.;\n                } else if (").concat(n._top10.inline," == id){\n                    r = 10.;\n                } else if (").concat(n._top11.inline," == id){\n                    r = 11.;\n                } else if (").concat(n._top12.inline," == id){\n                    r = 12.;\n                } else if (").concat(n._top13.inline," == id){\n                    r = 13.;\n                } else if (").concat(n._top14.inline," == id){\n                    r = 14.;\n                } else if (").concat(n._top15.inline," == id){\n                    r = 15.;\n                }else{\n                    return ").concat("(-1.)",";\n                }\n                return r/(numCategoriesWithoutOthers").concat(this._uid,"-1.);\n            }")),inline:"top".concat(this._uid,"(").concat(n.property.inline,")")}}},{key:"_postShaderCompile",value:function(t,n){this._numCategoriesLoc=n.getUniformLocation(t,"numCategoriesWithoutOthers".concat(this._uid)),Ai()(T()(e.prototype),"_postShaderCompile",this).call(this,t,n)}},{key:"_preDraw",value:function(t,n,i){for(var o=this,r=this.numBuckets,a=this._metadata.properties[this.property.propertyName],s=l()(a.categories).sort((function(t,e){return e.frequency-t.frequency})),u=0;u<16;u++)this["_top".concat(u)].value=Number.POSITIVE_INFINITY;s.forEach((function(t,e){e<r&&(o["_top".concat(e)].value=o._metadata.categoryToID.get(t.name))})),i.uniform1f(this._numCategoriesLoc,this.numCategoriesWithoutOthers),Ai()(T()(e.prototype),"_preDraw",this).call(this,t,n,i)}},{key:"getLegendData",value:function(t){var e=this._metadata.properties[this.property.propertyName],n=l()(e.categories).sort((function(t,e){return e.frequency-t.frequency})),i=this.numBuckets,o=[],r=this.toString(),a=this.numCategoriesWithoutOthers-1||1;return n.forEach((function(t,e){e<i&&o.push({key:t.name,value:e/a})})),n.length>this.buckets&&o.push({key:t&&t.othersLabel?t.othersLabel:this.othersLabel.value,value:-1}),{name:r,data:o}}},{key:"value",get:function(){return this.eval()}},{key:"numCategories",get:function(){return this.numBuckets+1}},{key:"numCategoriesWithoutOthers",get:function(){return this.numCategories-1}}]),e}(Ei),Zr=void 0,Wr=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zr;f()(this,e),ri(arguments,2,"fade");var o=ui(n===Zr?.15:n),r=i===Zr?o:ui(i);return mi("fade","param1",0,o),mi("fade","param2",1,r),(t=E()(this,T()(e).call(this,{fadeIn:o,fadeOut:r}))).type="fade",t.inlineMaker=function(t){return{in:t.fadeIn,out:t.fadeOut}},t}return I()(e,t),m()(e,[{key:"eval",value:function(t){return{fadeIn:this.fadeIn.eval(t),fadeOut:this.fadeOut.eval(t)}}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("fade","param1",0,"number",this.fadeIn),_i("fade","param2",1,"number",this.fadeOut)}},{key:"value",get:function(){return{fadeIn:this.fadeIn.value,fadeOut:this.fadeOut.value}}}]),e}(Ei),Kr=new Set,Xr=new Set,$r=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Wr;return f()(this,e),ri(arguments,3,"animation"),i=ui(i),t=ui(t),(n=E()(this,T()(e).call(this,{input:t,duration:i,fade:o})))._init(),n}return I()(e,t),m()(e,[{key:"_init",value:function(){var t=this.input,e=t;this._input=t.isA(wo)||t.isA(Ro)&&"timerange"===t.type?qs(t,Iu(t),Au(t),"start"):this.input,this.childrenNames=this.childrenNames.filter((function(t){return"_input"===t})),this.childrenNames.push("_input"),this.childrenNames.push("fade"),this.childrenNames.push("duration"),this.type="number",this._originalInput=e,this._paused=!1,this.progress=Wa(0),this.childrenNames.push("progress"),this.expressionName="animation",this.preface="\n        #ifndef ANIMATION\n        #define ANIMATION\n\n        float animation(float _input, float progress, float duration, float fadeIn, float fadeOut){\n            float x = 0.;\n\n            // Check for NaN\n            if (_input <= 0.0 || 0.0 <= _input){\n                x = 1. - clamp(abs(_input - progress) * duration / (_input > progress ? fadeIn: fadeOut), 0., 1.);\n            }\n\n            return x;\n        }\n\n        #endif\n    ",this.inlineMaker=function(t){return"animation(".concat(t._input,", ").concat(t.progress,", ").concat(t.duration,", ").concat(t.fade.in,", ").concat(t.fade.out,")")},Kr.add(this),this._paused||(this._paused="default")}},{key:"toString",value:function(){return"".concat(this.expressionName,"(").concat(this._input.toString(),", ").concat(this.duration.toString(),", ").concat(this.fade.toString(),")")}},{key:"_bindMetadata",value:function(t){this._input._bindMetadata(t),this.progress._bindMetadata(t),this.fade._bindMetadata(t),this.duration._bindMetadata(t),_i("animation","input",0,["number","date","timerange"],this._originalInput),_i("animation","duration",1,"number",this.duration),_i("animation","fade",2,"fade",this.fade),wi("animation","duration",1,this.duration)}},{key:"isAnimated",value:function(){return!0}},{key:"_dataReady",value:function(){var t=this;Kr.has(this)&&(Kr.delete(this),Xr.add(this)),setTimeout((function(){if(Xr.has(t)){if((Kr=new Set(l()(Kr).filter((function(t){for(;t.parent;)t=t.parent;return!!t._getRootExpressions})))).size>0)return;l()(Xr.values()).map((function(t){"default"===t._paused&&t.play()})),Xr.clear()}}),0)}},{key:"_postShaderCompile",value:function(t,n){Ai()(T()(e.prototype),"_postShaderCompile",this).call(this,t,n)}},{key:"_setTimestamp",value:function(t){if(Ai()(T()(e.prototype),"_setTimestamp",this).call(this,t),!this._paused||void 0!==this._lastTime){var n=0,i=1/this.duration.value;void 0!==this._lastTime&&(n=t-this._lastTime),this._lastTime=t,this._paused||(this.progress.value=(this.progress.value+i*n)%1)}}},{key:"eval",value:function(t){var e=this._input.eval(t);if(null===e)return 0;var n=this.progress.value,i=this.duration.value,o=this.fade.fadeIn.eval(t),r=this.fade.fadeOut.eval(t);return 1-Pi(Math.abs(e-n)*i/(e>n?o:r),0,1)}},{key:"getProgressValue",value:function(){return this._input.converse(this.progress.value)}},{key:"setTimestamp",value:function(t){var e=Je(t),n=this._input.limits(),i=y()(n,2),o=i[0],r=i[1];if(e.getTime()<o)throw new RangeError("animation.setTimestamp requires the date parameter to be higher than the lower limit");if(e.getTime()>r)throw new RangeError("animation.setTimestamp requires the date parameter to be lower than the higher limit");this.progress.value=(e.getTime()-o)/(r-o)}},{key:"getProgressPct",value:function(){return this.progress.value}},{key:"setProgressPct",value:function(t){if((t=Number.parseFloat(t))<0||t>1)throw new TypeError("animation.setProgressPct requires a number between 0 and 1 as parameter but got: ".concat(t));this.progress.value=t}},{key:"isPlaying",value:function(){return!1===this._paused}},{key:"pause",value:function(){this._paused=!0}},{key:"play",value:function(){this._paused=!1,this.notify()}},{key:"stop",value:function(){this.progress.value=0,this._paused=!0}}]),e}(Ei),Yr=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"_init",value:function(){var t=this.input,e=this.duration,n=this.fade,i=qs(t,Iu(t),Au(t),"start"),o={};Object.keys(t).forEach((function(e){o[e]=t[e]})),Object.setPrototypeOf(o,t);var r=qs(o,Iu(o),Au(o),"end"),a=new $r(i,e,new Wr(n.fadeIn,Gu)),s=new $r(r,e,new Wr(Gu,n.fadeOut)),u=ns(a,s);this.combinedAnimation=u,this.childrenNames.push("combinedAnimation"),u.parent=this,this.type="number",this._startAnim=a,this._endAnim=s,this.expressionName="animation",this.inlineMaker=function(t){return t.combinedAnimation}}},{key:"_bindMetadata",value:function(t){this.combinedAnimation._bindMetadata(t)}},{key:"eval",value:function(t){return this.combinedAnimation.eval(t)}},{key:"isAnimated",value:function(){return!0}},{key:"isPlaying",value:function(){return this._startAnim.isPlaying()}},{key:"getProgressValue",value:function(){return this._startAnim.getProgressValue()}},{key:"getProgressPct",value:function(){return this._startAnim.getProgressPct()}},{key:"setProgressPct",value:function(t){this._startAnim.setProgressPct(t),this._endAnim.setProgressPct(t)}},{key:"pause",value:function(){this._startAnim.pause(),this._endAnim.pause()}},{key:"play",value:function(){this._startAnim.play(),this._endAnim.play(),this._endAnim.setProgressPct(this._startAnim.getProgressPct())}},{key:"stop",value:function(){this._startAnim.stop(),this._endAnim.stop()}},{key:"toString",value:function(){return"".concat(this.expressionName,"(").concat(this._input.toString(),", ").concat(this.duration.toString(),", ").concat(this.fade.toString(),")")}}]),e}(Ei),Qr=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Wr;return f()(this,e),ri(arguments,3,"animation"),n=ui(n),t=ui(t),E()(this,T()(e).call(this,{input:t,duration:n,fade:i}))}return I()(e,t),m()(e,[{key:"_resolveAliases",value:function(t){this._getChildren().map((function(e){return e._resolveAliases(t)})),Object.setPrototypeOf(this,"timerange"===this.input.type?Yr.prototype:$r.prototype),this._init()}},{key:"_bindMetadata",value:function(t){this._resolveAliases({}),this._bindMetadata(t)}}]),e}(Ei),Jr=la("log",(function(t){return Math.log(t)}),(function(t){return"log(".concat(t,")")})),ta=la("sqrt",(function(t){return Math.sqrt(t)}),(function(t){return"sqrt(".concat(t,")")})),ea=la("sin",(function(t){return Math.sin(t)}),(function(t){return"sin(".concat(t,")")})),na=la("cos",(function(t){return Math.cos(t)}),(function(t){return"cos(".concat(t,")")})),ia=la("tan",(function(t){return Math.tan(t)}),(function(t){return"tan(".concat(t,")")})),oa=la("sign",(function(t){return Math.sign(t)}),(function(t){return"sign(".concat(t,")")})),ra=la("abs",(function(t){return Math.abs(t)}),(function(t){return"abs(".concat(t,")")})),aa=la("isNull",(function(t){return null===t?1:0}),(function(t){return"((".concat(t," == ").concat(fo.toFixed(20),") ? 1. : 0.)")}),["number","category"]),sa=la("not",(function(t){return 1-t}),(function(t){return"(1.0 - ".concat(t,")")})),ua=la("floor",(function(t){return Math.floor(t)}),(function(t){return"floor(".concat(t,")")})),ca=la("ceil",(function(t){return Math.ceil(t)}),(function(t){return"ceil(".concat(t,")")}));function la(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"number";return function(o){function r(e){var i;return f()(this,r),ri(arguments,1,t),e=ui(e),(i=E()(this,T()(r).call(this,{a:e}))).type="number",i.expressionName=t,i.inlineMaker=function(t){return n(t.a)},i}return I()(r,o),m()(r,[{key:"eval",value:function(t){return e(this.a.eval(t))}},{key:"_bindMetadata",value:function(e){Ai()(T()(r.prototype),"_bindMetadata",this).call(this,e),_i(t,"x",0,i,this.a)}},{key:"value",get:function(){return e(this.a.value)}}]),r}(Ei)}var da=function(t){function e(){return f()(this,e),E()(this,T()(e).call(this,{}))}return I()(e,t),e}(Ei),ha=function(t){function e(t){var n,i=t.property;return f()(this,e),i=ui(i),(n=E()(this,T()(e).call(this,{property:i,_impostor:Wa(0)})))._isViewport=!0,n.type="number",n.inlineMaker=function(t){return t._impostor},n}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t)}},{key:"_getMinimumNeededSchema",value:function(){return this.property._getMinimumNeededSchema()}},{key:"_preDraw",value:function(){var t;this._impostor.value=this.value;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=Ai()(T()(e.prototype),"_preDraw",this)).call.apply(t,[this].concat(i))}}]),e}(Ei),pa=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"viewportAvg"),(n=E()(this,T()(e).call(this,{property:t})))._sum=0,n._count=0,n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"accumViewportAgg",value:function(t){var e=this.property.eval(t);if(null!==e){var n=t._cdb_feature_count||1;this._count+=n,this._sum+=n*e}}},{key:"_resetViewportAgg",value:function(){this._sum=0,this._count=0}},{key:"value",get:function(){return this._sum/this._count}}]),e}(ha),fa=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"viewportMax"),(n=E()(this,T()(e).call(this,{property:t})))._value=Number.NEGATIVE_INFINITY,n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"accumViewportAgg",value:function(t){var e=this.property.eval(t);null!==e&&(this._value=Math.max(this._value,e))}},{key:"_resetViewportAgg",value:function(){this._value=Number.NEGATIVE_INFINITY}},{key:"value",get:function(){return this._value}}]),e}(ha),ga=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"viewportMin"),(n=E()(this,T()(e).call(this,{property:t})))._value=Number.POSITIVE_INFINITY,n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"accumViewportAgg",value:function(t){var e=this.property.eval(t);null!==e&&(this._value=Math.min(this._value,e))}},{key:"_resetViewportAgg",value:function(){this._value=Number.POSITIVE_INFINITY}},{key:"value",get:function(){return this._value}}]),e}(ha),ma=function(t){function e(t){var n;return f()(this,e),ri(arguments,1,"viewportSum"),(n=E()(this,T()(e).call(this,{property:t})))._value=0,n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"accumViewportAgg",value:function(t){var e=this.property.eval(t);null!==e&&(this._value=this._value+(t._cdb_feature_count||1)*e)}},{key:"_resetViewportAgg",value:function(){this._value=0}},{key:"value",get:function(){return this._value}}]),e}(ha),_a=function(t){function e(){var t;return f()(this,e),ri(arguments,0,"viewportCount"),(t=E()(this,T()(e).call(this,{property:Wa(0)})))._value=0,t}return I()(e,t),m()(e,[{key:"toString",value:function(){return"".concat(this.expressionName,"()")}},{key:"eval",value:function(){return this.value}},{key:"accumViewportAgg",value:function(t){this._value+=t._cdb_feature_count||1}},{key:"_resetViewportAgg",value:function(){this._value=0}},{key:"_getMinimumNeededSchema",value:function(){return{}}},{key:"value",get:function(){return this._value}}]),e}(ha),ya=function(t){function e(t,n){var i;return f()(this,e),t=ui(t),n=ui(n),mi("viewportPercentile","property",0,t),mi("viewportPercentile","percentile",0,n),ri(arguments,2,"viewportPercentile"),(i=E()(this,T()(e).call(this,{property:t}))).percentile=n,i.childrenNames.push("percentile"),i}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("viewportPercentile","property",0,"number",this.property),_i("viewportPercentile","percentile",1,"number",this.percentile)}},{key:"eval",value:function(t){return null===this._value&&(this._value=ba(this.percentile.eval(t),this._total,this._values)),this._value}},{key:"_resetViewportAgg",value:function(){this._value=null,this._map=new Map,this._total=0}},{key:"accumViewportAgg",value:function(t){var e=this.property.eval(t),n=t._cdb_feature_count||1;this._map.set(e,(this._map.get(e)||0)+n),this._total+=n}},{key:"value",get:function(){return ba(this.percentile.value,this._total,this._values)}},{key:"_values",get:function(){return l()(this._map.entries())}}]),e}(ha);function ba(t,e,n){var i=Pi(Math.ceil(t/100*e)-1,0,e-1);n.sort((function(t,e){return t[0]-e[0]}));for(var o=0,r=0;r<n.length;r++)n[r][1]=o+=n[r][1];return function t(e,n,i,o){var r=Math.round((i+o)/2),a=(e[r-1]||[e[r][0]-1,0])[1];return n>=a&&n<e[r][1]?e[r][0]:n<a?t(e,n,i,r-1):t(e,n,r+1,o)}(n,i,0,n.length-1)}var va=n(30),Ca=n.n(va),xa=function(t){function e(t){var n;return f()(this,e),(n=E()(this,T()(e).call(this,t))).type="histogram",n.inlineMaker=function(){return null},n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._metadata=t;var n=this.propertyName;this._categories=this._metadata.properties[n]?this._metadata.properties[n].categories.sort(this._sortByFrequency):[]}},{key:"_getCategoryValue",value:function(t){var e=this;return l()(t).map((function(t){var e=y()(t,2);return{x:e[0],y:e[1]}})).sort(this._sortByFrequency).map((function(t,n){return{x:"number"==typeof t.x&&e._categories[n]?e._categories[n].name:t.x,y:t.y}}))}},{key:"_getNumericValue",value:function(t,e){for(var n=l()(t),i=n.length,o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=0;a<i;a++){var s=n[a][0];o=Math.min(o,s),r=Math.max(r,s)}for(var u=Array(e).fill(0),c=r-o,d=e-1,h=0;h<i;h++){var p=n[h][1];u[Math.min(Math.floor(e*(n[h][0]-o)/c),d)]+=p}return u.map((function(t,n){return{x:[o+n/e*c,o+(n+1)/e*c],y:t}}))}},{key:"_getBucketsValue",value:function(t,e){for(var n=Ca()(t).slice(0),i=(e=e.length&&0===e.length?this._genBreakpoints(e):e).length,o=Array(i).fill(0),r=0,a=n.length;r<a;r++)for(var s=n[r][0],u=0;u<i;u++){var c=e[u];if(s>=c[0]&&s<c[1]){o[u]+=n[r][1];break}}return o.map((function(t,n){return{x:e[n],y:t}}))}},{key:"_getDateValue",value:function(t,e){for(var n=l()(t).map((function(t){return{x:t[0].getTime(),y:t[1]}})),i=n.length,o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=0;a<i;a++){var s=n[a].x;o=Math.min(o,s),r=Math.max(r,s)}for(var u=Array(e).fill(0),c=r-o,d=e-1,h=0;h<i;h++){var p=n[h].y;u[Math.min(Math.floor(e*(n[h].x-o)/c),d)]+=p}return u.map((function(t,n){return{x:[new Date(o+n/e*c),new Date(o+(n+1)/e*c)],y:t}}))}},{key:"_genBreakpoints",value:function(){var t=this._histogram.value;if(t){var e=this._getAccumHistogramFrom(t),n=this._getMinMaxFrom(t),i=y()(n,2);this._updateBreakpointsWith({accumHistogram:e,min:i[0],max:i[1]})}}},{key:"_getAccumHistogramFrom",value:function(t){var e=0;return t.map((function(t){return e+=t.y}))}},{key:"_getMinMaxFrom",value:function(t){return[t[0].x[0],t[t.length-1].x[1]]}},{key:"_sortByFrequency",value:function(t,e){var n=e.y-t.y;if(0===n){var i=t.x,o=e.x;return i||o?i?o?"string"==typeof i&&"string"==typeof o?i.localeCompare(o):i<o?-1:i>o?1:0:-1:1:0}return n}},{key:"value",get:function(){switch(this.input.type){case"number":return this._hasBuckets?this._getBucketsValue(this._histogram,this._sizeOrBuckets):this._getNumericValue(this._histogram,this._sizeOrBuckets);case"date":return this._hasBuckets?this._getBucketsValue(this._histogram,this._sizeOrBuckets):this._getDateValue(this._histogram,this._sizeOrBuckets);default:return this._getCategoryValue(this._histogram)}}}]),e}(Ei),wa=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return f()(this,e),ri(arguments,3,"viewportHistogram"),(n=E()(this,T()(e).call(this,{input:ui(t),weight:ui(o)})))._sizeOrBuckets=i,n._isViewport=!0,n._hasBuckets=Array.isArray(i),n._cached=null,n}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.value}},{key:"getJoinedValues",value:function(t,e){if(xi("viewportHistogram.getJoinedValues","values",0,t),!t.length)return[];var n=Object.assign({},po,e),i=[],o=[];this.value.forEach((function(e){var n=t.find((function(t){return Array.isArray(t.key)?t.key[0]===e.x[0]&&t.key[1]===e.x[1]:e.x===t.key}));n?i.push({frequency:e.y,key:n.key,value:n.value}):o.push(e.y)}));var r=t.find((function(t){return n.othersLabel===t.key}));if(r){var a=o.reduce((function(t,e){return t+e}));i.push({frequency:a,key:r.key,value:r.value})}return i.sort((function(t,e){return e.frequency-t.frequency}))}},{key:"accumViewportAgg",value:function(t){var e=this.input.eval(t),n=this.input.isA(Hr)?e.label:e;if(void 0!==n){var i=(t._cdb_feature_count||1)*this.weight.eval(t),o=this._histogram.get(n)||0;this._histogram.set(n,o+i)}}},{key:"_resetViewportAgg",value:function(t){t&&this._bindMetadata(t),this._cached=null,this._histogram=new Map}},{key:"value",get:function(){if(null===this._cached){if(!this._histogram)return null;this._cached=Ai()(T()(e.prototype),"value",this)}return this._cached}}]),e}(xa),Pa=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return f()(this,e),ri(arguments,3,"globalHistogram"),(n=E()(this,T()(e).call(this,{input:ui(t)})))._sizeOrBuckets=i,n._hasBuckets=Array.isArray(i),n._histogram=new Map,n}return I()(e,t),m()(e,[{key:"getJoinedValues",value:function(t,e){if(xi("globalHistogram.getJoinedValues","values",0,t),!t.length)return[];var n=Object.assign({},po,e),i=[];return this.value.forEach((function(e){e.x=e.x===lo?n.othersLabel:e.x;var o=t.find((function(t){return e.x===t.key}));o&&i.push({frequency:e.y,key:o.key,value:o.value})})),i}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this._histogram=new Map,this.input.isA(wo)?"number"!==this.input.type?this._setHistogramForCategoryValues():this._setHistogramForNumericValues():this._setHistogramForExpression()}},{key:"_setHistogramForExpression",value:function(){var t=this,e=this.input.getLegendData(po).data;this._categories.forEach((function(n){if(e.find((function(t){return n.name===t.key})))t._histogram.set(n.name,n.frequency);else{var i=t._histogram.get(lo)||0;t._histogram.set(lo,n.frequency+parseInt(i))}}))}},{key:"_setHistogramForCategoryValues",value:function(){var t=this;this._categories.forEach((function(e){t._histogram.set(e.name,e.frequency)}))}},{key:"_setHistogramForNumericValues",value:function(){var t=this,e=this.propertyName,n=this._metadata.featureCount/this._metadata.sample.length;this._metadata.sample.forEach((function(i){var o=i[e],r=t._histogram.get(o)||0;t._histogram.set(o,r+n)}))}}]),e}(xa);function Ma(t,e,n,i,o){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;n[e]&&n[e][t]&&(n[e][t].replaceChild(n[e][t].mix,xs(ps(Ys(o),e),Qa(0),Qa(r))),i[t].notify(),n[e][t]=void 0)}}function Oa(t,e,n,i,o,r,a){return function(s){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if("string"==typeof s&&(s=a(s)),n[e]&&n[e][t])n[e][t].a.blendTo(s,u);else{var c=xs(s,i[t],xs(1,ps(Ys(r),e),Qa(u)));o(e,t,c,n),i.replaceChild(i[t],c),i[t].notify()}}}var ka=["color","filter","order","resolution","strokeColor","strokeWidth","symbol","symbolPlacement","transform","width"],Ea=["color","filter","order","strokeColor","strokeWidth","symbol","symbolPlacement","transform","width"];function Sa(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e.customizedFeatures,r=e.viz,a=e.trackFeatureViz,s=e.parseVizExpression,u=r.metadata.idProperty;Object.defineProperty(t,i,{get:function(){var t=this;return{blendTo:function(){return function(t){return Oa(n,t,o,r,a,u,s)}(t.id).apply(void 0,arguments)},reset:function(){return function(t){return Ma(n,t,o,r,u)}(t.id).apply(void 0,arguments)},value:r[n].eval(this._rawFeature)}}})}function Ta(t){var e=t[0];if(1===t.length)return e;var n=function(t){return t.map((function(t){var e=t.getRenderedCentroid(),n=y()(e,2);return{centroid:{x:n[0],y:n[1]},aabb:t._rawFeature._dataframe._aabb[t._rawFeature._index]}})).filter((function(t){var e=t.centroid,n=e.y;return!(isNaN(e.x)||isNaN(n))}))}(t);return Object.defineProperty(e,"getRenderedCentroid",{get:function(){return function(){var t=n.reduce((function(t,e){var n=e.aabb,i=(n.maxx-n.minx)*(n.maxy-n.miny);return[t[0]+e.centroid.x*i,t[1]+e.centroid.y*i,t[2]+i]}),[0,0,0]),e=y()(t,3),i=e[2];return[e[0]/i,e[1]/i]}}}),e}var Aa=function(t){function e(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return f()(this,e),i=i.map((function(t){return ui(t)})),(t=E()(this,T()(e).call(this,function(t){var e=0,n={};return t.forEach((function(t){n["p"+ ++e]=t})),n}(i))))._value=[],t.type="featureList",t._isViewport=!0,t._requiredProperties=i,t._FeatureProxy=null,t}return I()(e,t),m()(e,[{key:"_applyToShaderSource",value:function(){throw new xn("'viewportFeatures' cannot be used in visualizations.")}},{key:"isFeatureDependent",value:function(){return!1}},{key:"eval",value:function(){return this.value}},{key:"_resetViewportAgg",value:function(t,e){if(!this._FeatureProxy){if(!this._requiredProperties.every((function(t){return function(t){return[wo,Po,To,Do].some((function(e){return t.isA(e)}))}(t)})))throw new Fe("viewportFeatures arguments can only be properties",Le.INCORRECT_TYPE);var n=this._requiredProperties.map((function(t){return{property:t.propertyName,variable:t._variableName}}));this._FeatureProxy=function(t,e){var n=function t(e){f()(this,t),this._rawFeature=e,this._featureProperties=null};return function(t,e){Object.defineProperty(t,"id",{get:function(){return this._rawFeature[e.viz.metadata.idProperty]},configurable:!0})}(n.prototype,e),function(t,e){ka.forEach((function(n){Sa(t,e,n)}))}(n.prototype,e),function(t,e){Object.defineProperty(t,"variables",{get:function(){var t={};return Object.defineProperty(t,"id",{get:function(){return this.id}}),Object.keys(e.viz.variables).forEach((function(n){var i="__cartovl_variable_".concat(n);Sa(t,e,i,n)})),t}})}(n.prototype,e),function(t,e){Object.defineProperty(t,"properties",{get:function(){var t=this;return null===this._featureProperties&&(this._featureProperties={},e.forEach((function(e){var n=e.property;t._featureProperties[e.variable||n]=t._rawFeature[n]}))),this._featureProperties}})}(n.prototype,t),function(t){Object.defineProperty(t,"blendTo",{get:function(){var t=this;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;Object.keys(e).forEach((function(i){if(!ka.includes(i))throw new Fe("Property '".concat(i,"' is not a valid viz property"),Le.INCORRECT_VALUE);t[i].blendTo(e[i],n)}))}}})}(n.prototype),function(t){Object.defineProperty(t,"reset",{get:function(){var t=this;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;for(var n in ka.forEach((function(n){t[n].reset(e)})),t.variables)t.variables[n].reset(e)}}})}(n.prototype),function(t){Object.defineProperty(t,"getRenderedCentroid",{get:function(){var t=this;return function(){return t._rawFeature._dataframe.getRenderedCentroid(t._rawFeature._index)}},configurable:!0})}(n.prototype),n}(n,e)}this._value=[]}},{key:"accumViewportAgg",value:function(t){var e=this;if(1===(t=Array.isArray(t)?t:[t]).length)this._value.push(new this._FeatureProxy(t[0]));else{var n=Ta(t.map((function(t){return new e._FeatureProxy(t)})));this._value.push(n)}}},{key:"value",get:function(){return this._value},set:function(t){this._value=t}}]),e}(Ei),Ia=function(t){function e(t){var n,i=t.property,o=t.name,r=t.type,a=t.baseStats,s=void 0!==a&&a;return f()(this,e),(n=E()(this,T()(e).call(this,{_value:Wa(0)}))).property=ui(i),n._name=o,n.type=r,n.baseStats=s,Jo()(T()(e.prototype),"inlineMaker",(function(t){return t._value}),uo()(n),!0),n}return I()(e,t),m()(e,[{key:"toString",value:function(){return"".concat(this.expressionName,"(").concat(this.property.toString(),")")}},{key:"isFeatureDependent",value:function(){return!1}},{key:"eval",value:function(){return this.value}},{key:"_resolveAliases",value:function(t){this.property&&this.property._resolveAliases(t)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),this.property._bindMetadata(t);var n=this.property.name||this.property.propertyName,i=this._getValueFromStats(t,n);this._value.value=t.codec(n).sourceToExternal(t,i)}},{key:"_getValueFromStats",value:function(t,e){var n;if(this.baseStats)if("_count"===this.baseStats)n=t.featureCount;else{var i=t.stats(this.property.name);n=i&&i[this.baseStats]}else{if("_cdb_feature_count"===e)throw new Fe(Le.INCORRECT_TYPE,"'clusterCount' can not be used in ".concat(this.expressionName,"."));var o=t.stats(e);n=o&&o[this._name]}if(void 0===n)throw new Fe("Metadata ".concat(this._name," for property ").concat(e," is not defined"),Le.MISSING_REQUIRED);return n}},{key:"_getMinimumNeededSchema",value:function(){return this.property._getMinimumNeededSchema()}},{key:"value",get:function(){return this._value.value}}]),e}(Ei),Da=function(t){function e(t){f()(this,e),ri(arguments,1,"globalAvg");var n=!1;if(t&&t.isA(Po)){if(!t.isA(Mo))throw new Fe("Invalid globlalAvg input",Le.INCORRECT_TYPE);n="avg"}return E()(this,T()(e).call(this,{property:t,name:"avg",type:"number",baseStats:n}))}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i(this.expressionName,"property",0,"number",this.property)}}]),e}(Ia),Ra=function(t){function e(){return f()(this,e),ri(arguments,0,"globalCount"),E()(this,T()(e).call(this,{name:"count",type:"number"}))}return I()(e,t),m()(e,[{key:"toString",value:function(){return"".concat(this.expressionName,"()")}},{key:"_bindMetadata",value:function(t){this._value.value=t.featureCount}},{key:"_getMinimumNeededSchema",value:function(){return{}}}]),e}(Ia),Fa=function(t){function e(t){f()(this,e),ri(arguments,1,"globalMax");var n=!1;if(t&&t.isA(Po)){if(!(t.isA(Mo)||t.isA(ko)||t.isA(Oo)))throw new Fe("Invalid globlalAvg input",Le.INCORRECT_TYPE);n="max"}return E()(this,T()(e).call(this,{property:t,name:"max",type:"number",baseStats:n}))}return I()(e,t),e}(Ia),La=function(t){function e(t){f()(this,e),ri(arguments,1,"globalMin");var n=!1;if(t&&t.isA(Po)){if(!(t.isA(Mo)||t.isA(ko)||t.isA(Oo)))throw new Fe("Invalid globlalAvg input",Le.INCORRECT_TYPE);n="min"}return E()(this,T()(e).call(this,{property:t,name:"min",type:"number",baseStats:n}))}return I()(e,t),e}(Ia),za=function(t){function e(t){f()(this,e),ri(arguments,1,"globalSum");var n=t.type,i=!1;if(t&&(t.isA(Po)||t.isA(To)))if(t.isA(So))i="sum";else{if(!t.isA(To))throw new Fe("Invalid globlalAvg input",Le.INCORRECT_TYPE);i="_count"}return E()(this,T()(e).call(this,{property:t,name:"sum",baseStats:i,type:n}))}return I()(e,t),e}(Ia),Ba=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2,"globalPercentile"),t=ui(t),n=ui(n),mi("globalPercentile","property",0,t),mi("globalPercentile","percentile",1,n),(i=E()(this,T()(e).call(this,{_value:Wa(0),property:t,percentile:n}))).type="number",Jo()(T()(e.prototype),"inlineMaker",(function(t){return t._value}),uo()(i),!0),i}return I()(e,t),m()(e,[{key:"isFeatureDependent",value:function(){return!1}},{key:"eval",value:function(){return this.value}},{key:"_bindMetadata",value:function(t){var n=this;Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("globalPercentile","property",0,"number",this.property),_i("globalPercentile","percentile",0,"number",this.percentile),yi("globalPercentile","property",0,wo,this.property),wi("globalPercentile","percentile",1,this.percentile),this._copySample=t.sample.map((function(t){return t[n.property.propertyName]})),this._copySample.sort((function(t,e){return t-e}))}},{key:"_preDraw",value:function(){var t;this._value.value=this.value;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(t=Ai()(T()(e.prototype),"_preDraw",this)).call.apply(t,[this].concat(i))}},{key:"_getMinimumNeededSchema",value:function(){return this.property._getMinimumNeededSchema()}},{key:"value",get:function(){return this._copySample[Math.floor(this.percentile.value/100*this._copySample.length)]}}]),e}(Ei),Na=function(t){function e(){var t;return f()(this,e),ri(arguments,0,"zoom"),(t=E()(this,T()(e).call(this,{zoom:Wa(0)}))).type="number",Jo()(T()(e.prototype),"inlineMaker",(function(t){return t.zoom}),uo()(t),!0),t}return I()(e,t),m()(e,[{key:"eval",value:function(){return this.zoom.value}},{key:"_preDraw",value:function(t,e,n){this.zoom.value=e.zoomLevel,this.zoom._preDraw(t,e,n)}},{key:"value",get:function(){return this.zoom.value}}]),e}(Ei),Va=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2,"placement"),t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,{x:t,y:n}))).inlineMaker=function(t){return"vec2(".concat(t.x,", ").concat(t.y,")")},i.type="placement",i}return I()(e,t),m()(e,[{key:"eval",value:function(t){return[this.x.eval(t),this.y.eval(t)]}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("placement","x",0,"number",this.x),_i("placement","y",1,"number",this.y)}},{key:"value",get:function(){return[this.x.value,this.y.value]}}]),e}(Ei),Ua=function(t){function e(t){return f()(this,e),ri(arguments,1,"svg"),E()(this,T()(e).call(this,"data:image/svg+xml,".concat(encodeURIComponent(t))))}return I()(e,t),e}(Dr),qa=function(t){function e(t){var n;return f()(this,e),t=ui(t),n=E()(this,T()(e).call(this,{})),mi("zoomrange","zoomBreakpointList",0,t),n.type="number",n._zoomBreakpointList=t,n.inlineMaker=function(t){return t._impostor},n}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){if(this._zoomBreakpointList._bindMetadata(t),_i("zoomrange","zoomBreakpointList",0,"number-list",this._zoomBreakpointList),this._zoomBreakpointList.elems.length<2)throw new Fe("zoomrange() function must receive a list with at least two elements.",Le.INCORRECT_VALUE);var n=l()(this._zoomBreakpointList.elems);this._impostor=function t(e,n,i){if(1===e.length)return 1;var o=e[0],r=e[1];return e.shift(),xs(n/i,t(e,n+1,i),qs(as(2,zu()),as(2,o),as(2,r)))}(n,0,n.length-1),this.childrenNames.push("_impostor"),Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t)}},{key:"eval",value:function(t){return this._impostor.eval(t)}},{key:"value",get:function(){return this._zoomBreakpointList.elems.map((function(t){return t.value}))}}]),e}(Ei),ja=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return f()(this,e),t=ui(t),i=ui(i),(n=E()(this,T()(e).call(this,{scale:is(ns(t,0),as(2,i))}))).type="number",n.inlineMaker=function(t){return t.scale},n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return this.scale.eval(t)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("scaled","width",0,"number",this.scale.a.a),_i("scaled","zoomlevel",1,"number",this.scale.b)}},{key:"_preDraw",value:function(t,n,i){this.scale.a.b.value=Math.pow(2,n.zoomLevel),Ai()(T()(e.prototype),"_preDraw",this).call(this,t,n,i)}},{key:"value",get:function(){return this.scale.value}}]),e}(Ei),Ga=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2,"alphaNormalize"),mi("alphaNormalize","input",0,t),mi("alphaNormalize","normalizer",1,n),(i=E()(this,T()(e).call(this,{_impostor:Hs(t,is(n,Au(n)))})))._input=t,i._normalizer=n,i.type="color",i.inlineMaker=function(t){return t._impostor},i}return I()(e,t),m()(e,[{key:"_bindMetadata",value:function(t){this._input._bindMetadata(t),this._normalizer._bindMetadata(t),_i("alphaNormalize","input",0,"color",this._input),_i("alphaNormalize","normalizer",1,"number",this._normalizer),yi("alphaNormalize","normalizer",1,wo,this._normalizer),Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t)}},{key:"eval",value:function(t){return this._impostor.eval(t)}},{key:"value",get:function(){return this._impostor.value}}]),e}(Ei),Ha=function(t){function e(t,n){var i;return f()(this,e),ri(arguments,2,"translate"),t=ui(t),n=ui(n),(i=E()(this,T()(e).call(this,{x:t,y:n}))).type="transformation",i}return I()(e,t),m()(e,[{key:"_applyToShaderSource",value:function(t){var e=this.x._applyToShaderSource(t),n=this.y._applyToShaderSource(t);return{preface:this._prefaceCode("\n                ".concat(e.preface,"\n                ").concat(n.preface,"\n\n                vec2 translate").concat(this._uid,"(vec2 p){\n                    return p+vec2(").concat(e.inline,", ").concat(n.inline,");\n                }")),inline:"translate".concat(this._uid)}}},{key:"eval",value:function(t){return[this.x.eval(t),this.y.eval(t)]}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("translate","x",0,"number",this.x),_i("translate","y",1,"number",this.y)}},{key:"value",get:function(){return[this.x.value,this.y.value]}}]),e}(Ei),Za=function(t){function e(t){var n;f()(this,e),ri(arguments,1,"rotate");var i=ui(t);return(n=E()(this,T()(e).call(this,{angle:i}))).type="transformation",n}return I()(e,t),m()(e,[{key:"eval",value:function(t){return this.angle.eval(t)}},{key:"_bindMetadata",value:function(t){Ai()(T()(e.prototype),"_bindMetadata",this).call(this,t),_i("rotate","angle",0,"number",this.angle)}},{key:"_applyToShaderSource",value:function(t){var e=this.angle._applyToShaderSource(t);return{preface:this._prefaceCode("\n                ".concat(e.preface,"\n\n                #ifndef DEGREES_TO_RADIANS\n                #define DEGREES_TO_RADIANS\n                float degreesToRadians(float degrees){\n                    return degrees/360.*2.*3.14159265359;\n                }\n                #endif\n                \n                vec2 rotate").concat(this._uid,"(vec2 p){\n                    float angle = degreesToRadians(").concat(e.inline,");\n                    mat2 M = mat2(cos(angle), -sin(angle),\n                                  sin(angle),  cos(angle));\n                    return M * p;\n                }")),inline:"rotate".concat(this._uid)}}},{key:"value",get:function(){return this.angle.value}}]),e}(Ei),Wa=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(er,e)},Ka=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(_o,e)},Xa=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(qr,e)},$a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(lr,e)},Ya=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(dr,e)},Qa=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Si,e)},Ja=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ii,e)},ts=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ri,e)},es=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Li,e)},ns=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Qi,e)},is=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ji,e)},os=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Vi,e)},rs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(oo,e)},as=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(io,e)},ss=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Yi,e)},us=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Wi,e)},cs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ki,e)},ls=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Xi,e)},ds=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()($i,e)},hs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Zi,e)},ps=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(eo,e)},fs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(qi,e)},gs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(no,e)},ms=us,_s=cs,ys=ls,bs=ds,vs=hs,Cs=ps,xs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ao,e)},ws=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(mo,e)},Ps=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(vo,e)},Ms=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Mo,e)},Os=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Oo,e)},ks=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ko,e)},Es=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Eo,e)},Ss=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(So,e)},Ts=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(To,e)},As=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ro,e)},Is=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Fo,e)},Ds=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Dr,e)},Rs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ua,e)},Fs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Lo,e)},Ls=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(zo,e)},zs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Bo,e)},Bs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Vo,e)},Ns=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Uo,e)},Vs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Go,e)},Us=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(jo,e)},qs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ko,e)},js=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()($o,e)},Gs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(tr,e)},Hs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(or,e)},Zs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(rr,e)},Ws=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ar,e)},Ks=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(sr,e)},Xs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ur,e)},$s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(yr,e)},Ys=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(wo,e)},Qs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(wr,e)},Js=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(kr,e)},tu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(xr,e)},eu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Or,e)},nu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Pr,e)},iu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Er,e)},ou=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Br,e)},ru=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(jr,e)},au=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Gr,e)},su=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Hr,e)},uu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Wr,e)},cu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Qr,e)},lu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Jr,e)},du=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ta,e)},hu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ea,e)},pu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(na,e)},fu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ia,e)},gu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(oa,e)},mu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ra,e)},_u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(aa,e)},yu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(sa,e)},bu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ua,e)},vu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ca,e)},Cu=function(){return(function(t){if(ri(arguments,1,"variable"),vi("variable","name",0,t),""===t)throw new Fe("variable(): invalid parameter, zero-length string",Le.INCORRECT_VALUE);var e,n=function(n){if(!n[t])throw new Fe("variable() with name '".concat(t,"' doesn't exist"),Le.MISSING_REQUIRED);e=n[t]},i=function(){return[e]},o={set:function(t,n,i){if("parent"===n)t[n]=i;else if("notify"===n)t[n]=i;else{if(!e||!e[n])return!1;e[n]=i}return!0},get:function(t,o){switch(o){case"propertyName":return e.propertyName;case"name":return e._dimension?e.propertyName:e.name;case"parent":case"notify":case"blendTo":return t[o];case"_resolveAliases":return n;case"_getDependencies":return i;default:if(void 0!==e){var r=e[o];if(void 0!==r)return r.bind?r.bind(e):r}return t[o]}}};return new Proxy(new da,o)}).apply(void 0,arguments)},xu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(pa,e)},wu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(fa,e)},Pu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ga,e)},Mu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ma,e)},Ou=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(_a,e)},ku=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ya,e)},Eu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(wa,e)},Su=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Aa,e)},Tu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Da,e)},Au=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Fa,e)},Iu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(La,e)},Du=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(za,e)},Ru=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ra,e)},Fu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ba,e)},Lu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Pa,e)},zu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Na,e)},Bu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(ja,e)},Nu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(qa,e)},Vu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Va,e)},Uu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ha,e)},qu=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Za,e)},ju=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Xn()(Ga,e)},Gu=new Fo(Number.MAX_SAFE_INTEGER),Hu=new Fo(1),Zu=new Fo(0),Wu=new Fo(Math.PI),Ku=new Fo(Math.E),Xu=new Dr(Tr.bicycle),$u=new Dr(Tr.building),Yu=new Dr(Tr.bus),Qu=new Dr(Tr.car),Ju=new Dr(Tr.circle),tc=new Dr(Tr.circleOutline),ec=new Dr(Tr.cross),nc=new Dr(Tr.flag),ic=new Dr(Tr.house),oc=new Dr(Tr.marker),rc=new Dr(Tr.markerOutline),ac=new Dr(Tr.plus),sc=new Dr(Tr.square),uc=new Dr(Tr.squareOutline),cc=new Dr(Tr.star),lc=new Dr(Tr.starOutline),dc=new Dr(Tr.triangle),hc=new Dr(Tr.triangleOutline),pc=new Va(Is(0),Is(0)),fc=new Va(Is(0),Is(1)),gc=n(10),mc=n.n(gc),_c=[],yc={};Object.keys(s).filter((function(t){return t[0]===t[0].toLowerCase()})).map((function(t){yc[t.toLocaleLowerCase()]=s[t]})),yc.true=Hu,yc.false=Zu,yc.align_center=pc,yc.align_bottom=fc,yc.pi=Wu,yc.e=Ku,yc.hold=Gu,yc.bicycle=Xu,yc.building=$u,yc.bus=Yu,yc.car=Qu,yc.circle=Ju,yc.circle_outline=tc,yc.cross=ec,yc.flag=nc,yc.house=ic,yc.marker=oc,yc.marker_outline=rc,yc.plus=ac,yc.square=sc,yc.square_outline=uc,yc.star=cc,yc.star_outline=lc,yc.triangle=dc,yc.triangle_outline=hc;var bc=Ei.prototype.blendTo;function vc(t){wc();var e=ui(xc(mc()(t)));return Pc(),e}function Cc(t,e){if(":"!==e.operator)throw new F("Invalid syntax.");e.left.name.length&&"@"===e.left.name[0]&&(e.left.name="__cartovl_variable_"+e.left.name.substr(1));var n=e.left.name;if(!n)throw new F("Invalid syntax.");if(n.startsWith("__cartovl_variable_")){if((n=e.left.name.substr("__cartovl_variable_".length))in t.variables)throw new F("Variable '".concat(n,"' is already defined."));t.variables[n]=ui(xc(e.right))}else{if(n in t)throw new F("Property '".concat(n,"' is already defined."));var i=xc(e.right);t[n]="resolution"===n?i:ui(i)}}function xc(t){if("CallExpression"===t.type)return function(t){var e=t.callee.name.toLowerCase();if(_c.includes(e))return t.arguments.map((function(t){return xc(t)}))[0];var n=t.arguments.map((function(t){return xc(t)}));if(yc[e])return yc[e].apply(yc,l()(n));throw new F("Invalid function name '".concat(t.callee.name,"'."))}(t);if("Literal"===t.type)return t.value;if("ArrayExpression"===t.type)return t.elements.map((function(t){return xc(t)}));if("BinaryExpression"===t.type)return function(t){var e=xc(t.left),n=xc(t.right);switch(t.operator.toLowerCase()){case"*":return ns(e,n);case"/":return is(e,n);case"+":return os(e,n);case"-":return rs(e,n);case"%":return ss(e,n);case"^":return as(e,n);case">":return us(e,n);case">=":return cs(e,n);case"<":return ls(e,n);case"<=":return ds(e,n);case"==":return hs(e,n);case"!=":return ps(e,n);case"and":return fs(e,n);case"or":return gs(e,n);case"in":return Ja(e,n);case"nin":return ts(e,n);default:throw new F("Invalid binary operator '".concat(t.operator,"'."))}}(t);if("UnaryExpression"===t.type)return function(t){switch(t.operator){case"-":return ns(-1,xc(t.argument));case"+":return xc(t.argument);default:throw new F("Invalid unary operator '".concat(t.operator,"'."))}}(t);if("Identifier"===t.type)return function(t){if(t.name.length&&"@"===t.name[0]&&(t.name="__cartovl_variable_"+t.name.substr(1)),t.name.startsWith("__cartovl_variable_"))return Cu(t.name.substr("__cartovl_variable_".length));if("#"===t.name[0])return new Lo(t.name);if("$"===t.name[0])return Ys(t.name.substring(1));if(gr[t.name.toUpperCase()])return gr[t.name.toUpperCase()];if(yc[t.name.toLowerCase()])return yc[t.name.toLowerCase()];if(Xo.includes(t.name.toLowerCase()))return new $o(t.name.toLowerCase());throw new F("Invalid expression '".concat(JSON.stringify(t),"'."))}(t);throw new F("Invalid expression '".concat(JSON.stringify(t),"'."))}function wc(){mc.a.addBinaryOp(":",0),mc.a.addBinaryOp("^",11),mc.a.addBinaryOp("or",1),mc.a.addBinaryOp("OR",1),mc.a.addBinaryOp("and",2),mc.a.addBinaryOp("AND",2),mc.a.addBinaryOp("in",13),mc.a.addBinaryOp("IN",1),mc.a.addBinaryOp("nin",13),mc.a.addBinaryOp("NIN",13),mc.a.addIdentifierChar("@"),mc.a.addIdentifierChar("#"),mc.a.removeLiteral("true"),mc.a.removeLiteral("false")}function Pc(){mc.a.removeBinaryOp("in"),mc.a.removeBinaryOp("IN"),mc.a.removeBinaryOp("nin"),mc.a.removeBinaryOp("NIN"),mc.a.removeBinaryOp("and"),mc.a.removeBinaryOp("AND"),mc.a.removeBinaryOp("or"),mc.a.removeBinaryOp("OR"),mc.a.removeBinaryOp("^"),mc.a.removeBinaryOp(":"),mc.a.removeIdentifierChar("@"),mc.a.removeIdentifierChar("#"),mc.a.addLiteral("true"),mc.a.addLiteral("false")}Ei.prototype.blendTo=function(t){"string"==typeof t&&(t=vc(t));for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return bc.bind(this).apply(void 0,[t].concat(n))};var Mc=n(40),Oc=n.n(Mc),kc=n(41),Ec=n.n(kc),Sc=n(42),Tc=n.n(Sc),Ac=n(43),Ic=n.n(Ac),Dc=n(44),Rc=n.n(Dc),Fc=n(45),Lc=n.n(Fc),zc=function(){function t(e){var n=this;f()(this,t);var i=this._getVizDefinition(e);this._checkVizSpec(i),Object.keys(i).forEach((function(t){n._defineProperty(t,i[t])})),Object.keys(i).includes("variables")||this._defineProperty("variables",{}),this.updated=!0,this._changeCallback=null,this._updateRootExpressionList(),this._updateRootExpressions(),this._resolveAliases(),this._validateAliasDAG()}return m()(t,[{key:"loadImages",value:function(){return Promise.all(this._getRootExpressions().map((function(t){return t.loadImages()})))}},{key:"_ignoreChangeRejections",value:function(){return{}}},{key:"_defineProperty",value:function(t,e){var n=this;if("variables"===t||ka.includes(t)){Object.defineProperty(this,t,{get:function(){return n["_"+t]},set:function(e){n["_"+t]=ui(e),n._changed().catch(n._ignoreChangeRejections)}});var i=e;if("variables"===t){var o=!1;i=new Proxy({},{get:function(t,e){return t[e]},set:function(t,e,i){return(i=ui(i))instanceof Ei&&(i._variableName=e),t[e]=i,n["__cartovl_variable_"+e]=i,o&&n._changed().catch(n._ignoreChangeRejections),!0}}),Object.keys(e).map((function(t){i[t]=e[t]})),o=!0}this["_"+t]=i}}},{key:"_getRootExpressions",value:function(){return this._rootExpressions}},{key:"_getRootStyleExpressions",value:function(){return this._rootStyleExpressions}},{key:"_updateRootExpressions",value:function(){var t=this;this._getRootExpressions().forEach((function(e){e.parent=t,e.notify=t._changed.bind(t)}))}},{key:"isAnimated",value:function(){return this._getRootStyleExpressions().some((function(t){return t.isAnimated()}))}},{key:"isPlaying",value:function(){return this._getRootStyleExpressions().some((function(t){return t.isPlaying()}))}},{key:"onChange",value:function(t){this._changeCallback=t}},{key:"_changed",value:function(){return this._updateRootExpressionList(),this._resolveAliases(),this._validateAliasDAG(),this._changeCallback?this._changeCallback(this):Promise.resolve(null)}},{key:"_updateRootExpressionList",value:function(){var t=this,e=l()(ka).map((function(e){return t[e]})),n=l()(Ea).map((function(e){return t[e]})),i=l()(Object.values(this.variables));this._rootExpressions=l()(e).concat(l()(i)),this._rootStyleExpressions=n}},{key:"getMinimumNeededSchema",value:function(){return this._getRootExpressions().filter((function(t){return t&&t._getMinimumNeededSchema})).map((function(t){return t._getMinimumNeededSchema()})).reduce(vn.union,vn.IDENTITY)}},{key:"setDefaultsIfRequired",value:function(t){if(this._geomType=t,!this._appliedDefaults){var e=this._getDefaultGeomStyle(t);e&&(this._appliedDefaults=!0,this.color.default&&(this.color=e.COLOR_EXPRESSION()),this.width.default&&(this.width=e.WIDTH_EXPRESSION()),this.strokeColor.default&&(this.strokeColor=e.STROKE_COLOR_EXPRESSION()),this.strokeWidth.default&&(this.strokeWidth=e.STROKE_WIDTH_EXPRESSION()),this._updateRootExpressions())}}},{key:"_getDefaultGeomStyle",value:function(t){return"point"===t?{COLOR_EXPRESSION:function(){return Bc(Fs("#EE4D5A"))},WIDTH_EXPRESSION:function(){return Bc(Wa(7))},STROKE_COLOR_EXPRESSION:function(){return Bc(Fs("#FFF"))},STROKE_WIDTH_EXPRESSION:function(){return Bc(Wa(1))}}:"line"===t?{COLOR_EXPRESSION:function(){return Bc(Fs("#4CC8A3"))},WIDTH_EXPRESSION:function(){return Bc(Wa(1.5))},STROKE_COLOR_EXPRESSION:function(){return Bc(Fs("#FFF"))},STROKE_WIDTH_EXPRESSION:function(){return Bc(Wa(1))}}:"polygon"===t?{COLOR_EXPRESSION:function(){return Bc(Fs("#826DBA"))},WIDTH_EXPRESSION:function(){return Bc(Wa(1))},STROKE_COLOR_EXPRESSION:function(){return Bc(Fs("#FFF"))},STROKE_WIDTH_EXPRESSION:function(){return Bc(Wa(1))}}:void 0}},{key:"_resolveAliases",value:function(){var t=this;this._getRootExpressions().forEach((function(e){e._resolveAliases(t.variables)}))}},{key:"_validateAliasDAG",value:function(){for(var t=new Set,e=new Set,n=function n(i){if(!t.has(i)){if(e.has(i))throw new xn("Viz contains a circular dependency");e.add(i),i._getDependencies().forEach(n),t.add(i)}},i=this._getRootExpressions().map((function(t){return t._getDependencies()})).reduce((function(t,e){return l()(t).concat(l()(e))}),[]);i.length;)n(i.pop())}},{key:"_bindMetadata",value:function(t){var e=this;this._colorShader=null,this._widthShader=null,this._strokeColorShader=null,this._strokeWidthShader=null,this._filterShader=null,this._symbolShader=null,this._pointShader=null,this._lineShader=null,this._polygonShader=null,this.metadata=t,this._getRootExpressions().forEach((function(t){return t._bindMetadata(e.metadata)})),function(t){var e={color:"color",filter:"number",order:"orderer",resolution:"number",strokeColor:"color",strokeWidth:"number",symbol:"image",symbolPlacement:"placement",transform:"transformation",width:"number"};Object.keys(e).forEach((function(n){var i=t[n].type,o=e[n];if(i!==o)throw new Fe("Viz property '".concat(n,"': must be of type '").concat(o,"' but it was of type '").concat(i,"'"),Le.INCORRECT_TYPE)}))}(this)}},{key:"_compileShader",value:function(t,e,n){return this["_"+t]||(this["_"+t]=function(t,e,n){var i={},o=function(t){return void 0===i[t]&&(i[t]=Object.keys(i).length),"texture2D(propertyTex".concat(i[t],", abs(featureID)).a")},r={},a=new Wn;Object.keys(n).forEach((function(t){var e=n[t];e._setUID(a);var i=e._applyToShaderSource(o);r[t+"_preface"]=i.preface,r[t+"_inline"]=i.inline})),r.propertyPreface=Object.keys(i).map((function(t){return"uniform sampler2D propertyTex".concat(i[t],";")})).join("\n");var s=function(t,e,n){var i=e.vertexShader,o=e.fragmentShader;Object.keys(n).forEach((function(t){i=i.replace("$"+t,n[t]),o=o.replace("$"+t,n[t])}));var r=kn(t,i,o);return r.vertexPositionAttribute=t.getAttribLocation(r.program,"vertexPosition"),r.featureIdAttr=t.getAttribLocation(r.program,"featureID"),r.normalAttr=t.getAttribLocation(r.program,"normal"),r.colorTexture=t.getUniformLocation(r.program,"colorTex"),r.strokeColorTexture=t.getUniformLocation(r.program,"strokeColorTex"),r.strokeWidthTexture=t.getUniformLocation(r.program,"strokeWidthTex"),r.widthTexture=t.getUniformLocation(r.program,"widthTex"),r.orderMinWidth=t.getUniformLocation(r.program,"orderMinWidth"),r.orderMaxWidth=t.getUniformLocation(r.program,"orderMaxWidth"),r.filterTexture=t.getUniformLocation(r.program,"filterTex"),r.normalScale=t.getUniformLocation(r.program,"normalScale"),r.resolution=t.getUniformLocation(r.program,"resolution"),r.matrix=t.getUniformLocation(r.program,"matrix"),r}(t,e,r);return Object.keys(i).map((function(e){i[e]=t.getUniformLocation(s.program,"propertyTex".concat(i[e]))})),Object.values(n).forEach((function(e){e._postShaderCompile(s.program,t)})),{shader:s,textureIds:i,_codes:r,_template:e}}(this.gl,e,n)),this["_"+t]}},{key:"replaceChild",value:function(t,e){var n=this;if(Object.values(this.variables).includes(t)){var i=Object.keys(this.variables).find((function(e){return n.variables[e]===t}));this.variables[i]=e,e.parent=this,e.notify=t.notify}else{var o=ka.find((function(e){return n[e]===t}));if(!o)throw new xn("No child found");this[o]=e,e.parent=this,e.notify=t.notify}}},{key:"_getVizDefinition",value:function(t){if(an.isUndefined(t))return this._setDefaults({});if(an.isObject(t))return this._setDefaults(t);if(an.isString(t))return this._setDefaults(function(t){wc();var e=mc()(function(t){for(var e={singleQuote:!1,doubleQuote:!1,blockComment:!1,lineComment:!1,escape:0},n=0,i=(t=("_"+t+"_").split("")).length;n<i;n++)if(e.singleQuote)"\\"===t[n]?e.escape++:"'"===t[n]&&e.escape%2==0&&(e.singleQuote=!1,e.escape=0);else if(e.doubleQuote)"\\"===t[n]?e.escape++:'"'===t[n]&&e.escape%2==0&&(e.doubleQuote=!1,e.escape=0);else if(e.blockComment)"*"===t[n]&&"/"===t[n+1]&&(t[n+1]="",e.blockComment=!1),t[n]="";else if(e.lineComment)"\n"!==t[n+1]&&"\r"!==t[n+1]||(e.lineComment=!1),n+1<i&&(t[n]="");else if(e.doubleQuote='"'===t[n],e.singleQuote="'"===t[n],"/"===t[n]){if("*"===t[n+1]){t[n]="",e.blockComment=!0;continue}if("/"===t[n+1]){t[n]="",e.lineComment=!0;continue}}return t.join("").slice(1,-1)}(t)),n={variables:{}};return"Compound"===e.type?e.body.map((function(t){return Cc(n,t)})):Cc(n,e),Pc(),n}(t));throw new Fe("viz 'definition' should be a vizSpec object or a valid viz string.",Le.INCORRECT_VALUE)}},{key:"_setDefaults",value:function(t){return an.isUndefined(t.color)&&(t.color=an.isUndefined(t.symbol)?Bc($a(0,0,0)):li()),an.isUndefined(t.width)&&(t.width=Bc(Wa(1))),an.isUndefined(t.strokeColor)&&(t.strokeColor=Bc($a(0,0,0))),an.isUndefined(t.strokeWidth)&&(t.strokeWidth=Bc(Wa(0))),an.isUndefined(t.order)&&(t.order=Bc(Ks())),an.isUndefined(t.filter)&&(t.filter=Bc(Is(1))),an.isUndefined(t.resolution)&&(t.resolution=Bc(Wa(1))),an.isUndefined(t.symbol)&&(t.symbol=Bc(new Dr(Tr.circle))),an.isUndefined(t.symbolPlacement)&&(t.symbolPlacement=Bc(new Va(Is(0),Is(1)))),an.isUndefined(t.transform)&&(t.transform=Bc(new Ha(Is(0),Is(0)))),t.variables=t.variables||{},t}},{key:"_checkResolution",value:function(t){var e=t instanceof Ei?t.eval():t;if(!an.isNumber(e))throw new Fe("'resolution' property must be a number.",Le.INCORRECT_TYPE);if(t<=0)throw new Fe("'resolution' is ".concat(t,", must be greater than ").concat(0,"."),Le.INCORRECT_VALUE);if(t>=256)throw new Fe("'resolution' is ".concat(t,", must be lower than ").concat(256,"."),Le.INCORRECT_VALUE)}},{key:"_applyImplitCastToNumericProperties",value:function(t){t.filter=ui(t.filter),t.resolution=ui(t.resolution),t.strokeWidth=ui(t.strokeWidth),t.symbol=ui(t.symbol),t.symbolPlacement=ui(t.symbolPlacement),t.transform=ui(t.transform),t.width=ui(t.width)}},{key:"_checkVizSpec",value:function(t){for(var e in this._applyImplitCastToNumericProperties(t),this._checkResolution(t.resolution),ka.forEach((function(e){if(!(t[e]instanceof Ei))throw new Fe("'".concat(e,"' parameter is not a valid viz Expresion."),Le.INCORRECT_TYPE)})),t)"variables"!==e&&-1===ka.indexOf(e)&&console.warn("Property '".concat(e,"' is not supported"))}},{key:"toString",value:function(){var t=this,e=Object.keys(this.variables).map((function(e){return"@".concat(e,": ").concat(t.variables[e].toString())})),n=ka.map((function(e){return"".concat(e,": ").concat(t[e].toString())}));return l()(e).concat(l()(n)).join("\n")}},{key:"geometryType",get:function(){return this._geomType}},{key:"colorMetaShader",get:function(){return this._compileShader("colorShader",Zn.styler.colorShaderGLSL,{color:this.color})}},{key:"widthMetaShader",get:function(){return this._compileShader("widthShader",Zn.styler.widthShaderGLSL,{width:this.width})}},{key:"strokeColorMetaShader",get:function(){return this._compileShader("strokeColorShader",Zn.styler.colorShaderGLSL,{color:this.strokeColor})}},{key:"strokeWidthMetaShader",get:function(){return this._compileShader("strokeWidthShader",Zn.styler.widthShaderGLSL,{width:this.strokeWidth})}},{key:"filterMetaShader",get:function(){return this._compileShader("filterShader",Zn.styler.filterShaderGLSL,{filter:this.filter})}},{key:"symbolMetaShader",get:function(){return this._compileShader("symbolShader",Zn.symbolizer.symbolShaderGLSL,{symbol:this.symbol,symbolPlacement:this.symbolPlacement,transform:this.transform})}},{key:"pointMetaShader",get:function(){return this._compileShader("pointShader",{vertexShader:Oc.a,fragmentShader:Ec.a},{transform:this.transform})}},{key:"lineMetaShader",get:function(){return this._compileShader("lineShader",{vertexShader:Tc.a,fragmentShader:Ic.a},{transform:this.transform})}},{key:"polygonMetaShader",get:function(){return this._compileShader("polygonShader",{vertexShader:Rc.a,fragmentShader:Lc.a},{transform:this.transform})}}]),t}();function Bc(t){return t.default=!0,t}var Nc=function(t){return t=t||Object.create(null),{on:function(e,n){(t[e]||(t[e]=[])).push(n)},off:function(e,n){t[e]&&t[e].splice(t[e].indexOf(n)>>>0,1)},emit:function(e,n){(t[e]||[]).slice().map((function(t){t(n)})),(t["*"]||[]).slice().map((function(t){t(e,n)}))}}},Vc=function t(){f()(this,t)},Uc=Date.now(),qc=Uc;requestAnimationFrame((function t(){qc=(Date.now()-Uc)/1e3,requestAnimationFrame(t)}));var jc=1024,Gc=function(){function t(e){f()(this,t),e&&(this.gl=Hc(e),this._initGL(this.gl)),this._center={x:0,y:0},this._zoom=1,this.RTT_WIDTH=jc,this.dataframes=[]}return m()(t,[{key:"initialize",value:function(t){t=Hc(null,t),this._initGL(t)}},{key:"_initGL",value:function(t){this.gl=t,this._initShaders(),this.auxFB=t.createFramebuffer(),this.bigTriangleVBO=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.bigTriangleVBO);var e=new Float32Array([10,-10,0,10,-10,-10]);t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),this.zeroTex=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.zeroTex),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),this._AATex=t.createTexture(),this._AAFB=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,this.zeroTex)}},{key:"_getAspect",value:function(){return this.gl?this.gl.canvas.width/this.gl.canvas.height:1}},{key:"renderLayer",value:function(t,e){var n=this;this.drawMetadata=e;var i=t.getActiveDataframes(),o=t.viz;if(o){var r=this.gl;if(this._updateDataframeMatrices(i),t.parseVizExpression=vc,function(t){var e=function(t){var e=[];return t.map((function t(n){n._isViewport?e.push(n):n._getChildren().map(t)})),e}(t.viz._getRootExpressions());e.length&&(function(t,e){var n=e.viz.metadata;t.forEach((function(t){return t._resetViewportAgg(n,e)}))}(e,t),function(t,e){var n=e.getActiveDataframes(),i=function(t,e,n){var i=new Set,o=e.viz,r=new Set;return n.forEach((function(e){!function(t,e,n,i,o){for(var r=function(r){var a=t.metadata.idProperty,s=n.properties[a][r];if(i.has(s))return"continue";if(!n.inViewport(r))return"continue";i.add(s);var u=n.getFeature(r);if(t.filter.eval(u)<.5)return"continue";o.add(u[a]),e.forEach((function(t){return t.accumViewportAgg(u)}))},a=0;a<n.numFeatures;a++)r(a)}(o,t,e,i,r)})),r}(t,e,n);!function(t,e,n){if(0!==n.size&&"point"!==e.viz.geometryType){var i=t.filter((function(t){return t.isA(Aa)}));i.length>0&&function(t,e,n){t.forEach((function(t){return t._resetViewportAgg(null,e)}));var i=e.getAllPiecesPerFeature(n);t.forEach((function(t){for(var e in i)t.accumViewportAgg(i[e])}))}(i,e,n)}}(t,e,i)}(e,t))}(t),i.length){o._getRootExpressions().map((function(t){return t._dataReady()})),r.enable(r.CULL_FACE),r.disable(r.BLEND),r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.depthMask(!1),r.bindFramebuffer(r.FRAMEBUFFER,this.auxFB);var a=function(t,i,o,a){var s=o.shader,u=o.textureIds;r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0),r.viewport(0,0,jc,t.getSize().height),r.clear(r.COLOR_BUFFER_BIT),r.useProgram(s.program),e.freeTexUnit=Object.keys(u).length,a._setTimestamp(qc),a._preDraw(s.program,e,r),Object.keys(u).forEach((function(e,n){r.activeTexture(r.TEXTURE0+n),r.bindTexture(r.TEXTURE_2D,t.getPropertyTexture(e)),r.uniform1i(u[e],n)})),r.enableVertexAttribArray(s.vertexAttribute),r.bindBuffer(r.ARRAY_BUFFER,n.bigTriangleVBO),r.vertexAttribPointer(s.vertexAttribute,2,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,3),r.disableVertexAttribArray(s.vertexAttribute)};if(i.map((function(t){return a(t,t.texColor,o.colorMetaShader,o.color)})),"polygon"!==i[0].type&&i.map((function(t){return a(t,t.texWidth,o.widthMetaShader,o.width)})),"line"!==i[0].type&&(i.map((function(t){return a(t,t.texStrokeColor,o.strokeColorMetaShader,o.strokeColor)})),i.map((function(t){return a(t,t.texStrokeWidth,o.strokeWidthMetaShader,o.strokeWidth)}))),i.map((function(t){return a(t,t.texFilter,o.filterMetaShader,o.filter)})),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.enable(r.BLEND),"point"===t.type)r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight);else{var s=(window.devicePixelRatio||1)>=2?1:2;r.bindFramebuffer(r.FRAMEBUFFER,this._AAFB);var u=[r.drawingBufferWidth,r.drawingBufferHeight],c=u[0],l=u[1];if(c!==this._width||l!==this._height){r.bindTexture(r.TEXTURE_2D,this._AATex),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,c*s,l*s,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this._AATex,0);var d=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,d),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,c*s,l*s),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,d);var h=[c,l];this._width=h[0],this._height=h[1]}r.viewport(0,0,c*s,l*s),r.clear(r.COLOR_BUFFER_BIT)}var p=function(t){var e=t.viz.order,n=[0],i=[1030];return e.isA(rr)?(n=Array.from({length:64},(function(t,e){return 2*(63-e)})),i=Array.from({length:64},(function(t,e){return 0===e?1030:2*(63-e+1)}))):e.isA(ar)&&(n=Array.from({length:64},(function(t,e){return 2*e})),i=Array.from({length:64},(function(t,e){return 63===e?1030:2*(e+1)}))),{orderingMins:n,orderingMaxs:i}}(t),f=p.orderingMins,g=p.orderingMaxs;"line"!==i[0].type&&"polygon"!==i[0].type||(r.clearDepth(1),r.depthRange(0,1),r.depthFunc(r.NOTEQUAL),r.depthMask(!0),r.enable(r.DEPTH_TEST)),f.map((function(t,n){!function(t){i.forEach((function(n){var i,a=0,s=(i=o.symbol.default?"point"===n.type?o.pointMetaShader:"line"===n.type?o.lineMetaShader:o.polygonMetaShader:o.symbolMetaShader).shader;if(r.useProgram(s.program),r.uniform1f(s.orderMinWidth,f[t]),r.uniform1f(s.orderMaxWidth,g[t]),r.uniform1f(s.normalScale,1/(512*Math.pow(2,e.zoomLevel)*n.scale)),r.uniform2f(s.resolution,r.canvas.width/window.devicePixelRatio,r.canvas.height/window.devicePixelRatio),r.enableVertexAttribArray(s.vertexPositionAttribute),r.bindBuffer(r.ARRAY_BUFFER,n.vertexBuffer),r.vertexAttribPointer(s.vertexPositionAttribute,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(s.featureIdAttr),r.bindBuffer(r.ARRAY_BUFFER,n.featureIDBuffer),r.vertexAttribPointer(s.featureIdAttr,2,r.FLOAT,!1,0,0),"line"!==n.type&&"polygon"!==n.type||(r.enableVertexAttribArray(s.normalAttr),r.bindBuffer(r.ARRAY_BUFFER,n.normalBuffer),r.vertexAttribPointer(s.normalAttr,2,r.FLOAT,!1,0,0)),r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.texColor),r.uniform1i(s.colorTexture,a),a++,r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.texFilter),r.uniform1i(s.filterTexture,a),a++,"point"!==n.type&&"line"!==n.type||(r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.texWidth),r.uniform1i(s.widthTexture,a),a++),o.symbol.default)"line"!==n.type&&(r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.texStrokeColor),r.uniform1i(s.strokeColorTexture,a),a++,r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.texStrokeWidth),r.uniform1i(s.strokeWidthTexture,a),a++);else{var u=i.textureIds;e.freeTexUnit=a+Object.keys(u).length,o.symbol._setTimestamp(qc),o.symbol._preDraw(s.program,e,r),o.symbolPlacement._setTimestamp(qc),o.symbolPlacement._preDraw(s.program,e,r),a=e.freeTexUnit,Object.keys(u).forEach((function(t){r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.getPropertyTexture(t)),r.uniform1i(u[t],a),a++}))}if("line"!==n.type&&"polygon"!==n.type||r.clear(r.DEPTH_BUFFER_BIT),!o.transform.default){var c=i.textureIds;e.freeTexUnit=a+Object.keys(c).length,o.transform._setTimestamp(qc),o.transform._preDraw(s.program,e,r),a=e.freeTexUnit,Object.keys(c).forEach((function(t){r.activeTexture(r.TEXTURE0+a),r.bindTexture(r.TEXTURE_2D,n.getPropertyTexture(t)),r.uniform1i(c[t],a),a++})),r.uniform2f(s.resolution,r.canvas.width,r.canvas.height)}r.uniformMatrix4fv(s.matrix,!1,n.matrix),r.drawArrays(r.TRIANGLES,0,n.numVertex),r.disableVertexAttribArray(s.vertexPositionAttribute),r.disableVertexAttribArray(s.featureIdAttr),"line"!==n.type&&"polygon"!==n.type||(r.disableVertexAttribArray(s.normalAttr),r.disable(r.DEPTH_TEST))}))}(n)})),"point"!==t.type&&(r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.useProgram(this._aaBlendShader.program),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this._AATex),r.uniform1i(this._aaBlendShader.readTU,0),r.enableVertexAttribArray(this._aaBlendShader.vertexAttribute),r.bindBuffer(r.ARRAY_BUFFER,this.bigTriangleVBO),r.vertexAttribPointer(this._aaBlendShader.vertexAttribute,2,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,3),r.disableVertexAttribArray(this._aaBlendShader.vertexAttribute)),r.disable(r.CULL_FACE)}}}},{key:"_updateDataframeMatrices",value:function(t){var e=this;t.forEach((function(t){var n=[],o=[];i.copy(n,e.matrix),i.identity(o),i.translate(o,o,[.5,.5,0]),i.scale(o,o,[.5,-.5,1]),i.translate(o,o,[t.center.x,t.center.y,0]),i.scale(o,o,[t.scale,t.scale,1]),i.multiply(n,n,o),t.matrix=n}))}},{key:"_initShaders",value:function(){this._aaBlendShader=new Zn.AABlender(this.gl)}}]),t}();function Hc(t,e){var n=Wc(t,e,!0);if(n.length>0)throw n[0];return e}function Zc(t,e){return 0===Wc(t,e).length}function Wc(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];if(e||(t||(t=document.createElement("canvas")),e=t.getContext("webgl")||t.getContext("experimental-webgl")),!e)return i.push(new xn("WebGL 1 is unsupported",wn.WEB_GL)),i;if(!e.getExtension("OES_texture_float")&&(i.push(new xn("WebGL extension 'OES_texture_float' is unsupported",wn.WEB_GL)),n))return i;var o=e.getParameter(e.MAX_RENDERBUFFER_SIZE);o<jc&&i.push(new xn("WebGL parameter 'gl.MAX_RENDERBUFFER_SIZE' is below the requirement: ".concat(o," < ").concat(jc),wn.WEB_GL));var r=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return r<8&&i.push(new xn("WebGL parameter 'gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS' is below the requirement: ".concat(r," < ").concat(8),wn.WEB_GL)),i}var Kc=function(){function t(e,n,i,o,r,a){f()(this,t),this._propertyName=e,this._properties=n,this._viz=i,this.blendTo=Oa(e,n[a],o,i,r,a,vc),this.reset=Ma(e,n[a],o,i,a)}return m()(t,[{key:"eval",value:function(){for(var t=this,e=[],n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.forEach((function(n){var i={};i[n]=t._properties[n],e.push(i)})),this._viz[this._propertyName].eval(e)}},{key:"value",get:function(){return this._viz[this._propertyName].eval(this._properties)}}]),t}(),Xc=function(){function t(e,n){var i=n.viz,o=n.customizedFeatures,r=n.trackFeatureViz,a=n.idProperty,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];f()(this,t),this.id=e[a],this._rawFeature=e,this._featureVizParams={rawFeature:e,viz:i,customizedFeatures:o,trackFeatureViz:r,idProperty:a},this._defineVizProperties(),this._defineVizVariables(),this._defineFeatureProperties(s)}return m()(t,[{key:"_defineVizProperties",value:function(){var t=this;ka.forEach((function(e){t[e]=t._buildFeatureVizProperty(e)}))}},{key:"_buildFeatureVizProperty",value:function(t){var e=this._featureVizParams;return new Kc(t,e.rawFeature,e.viz,e.customizedFeatures,e.trackFeatureViz,e.idProperty)}},{key:"_defineVizVariables",value:function(){var t=this,e={};Object.keys(this._featureVizParams.viz.variables).forEach((function(n){var i="__cartovl_variable_".concat(n);e[n]=t._buildFeatureVizProperty(i)})),this.variables=e}},{key:"_defineFeatureProperties",value:function(t){var e=this;t.forEach((function(t){Object.defineProperty(e,t,{get:function(){return this._rawFeature[t]}})}))}},{key:"blendTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;Object.keys(t).forEach((function(i){if(!ka.includes(i))throw new Fe("Property '".concat(i,"' is not a valid viz property"),Le.INCORRECT_VALUE);e[i].blendTo(t[i],n)}))}},{key:"reset",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;for(var n in ka.forEach((function(n){t[n].reset(e)})),this.variables)this.variables[n].reset(e)}},{key:"getRenderedCentroid",value:function(){return this._rawFeature._dataframe.getRenderedCentroid(this._rawFeature._index)}}]),t}(),$c=function(){function t(){f()(this,t),this.dataframes=[],this.renderer=null,this.viz=null,this.type=null,this.customizedFeatures={},this.idProperty=null}return m()(t,[{key:"addDataframe",value:function(t){this.type&&this._checkDataframeType(t),this.type=t.type,this.renderer&&t.bindRenderer(this.renderer),this.dataframes.push(t),this.idProperty=t.metadata.idProperty}},{key:"setRenderer",value:function(t){this.renderer=t,this.dataframes.forEach((function(e){return e.bindRenderer(t)}))}},{key:"setViz",value:function(t){this.viz=t}},{key:"getActiveDataframes",value:function(){this.dataframes=this.dataframes.filter((function(t){return!t.freed}));var t=this.dataframes.filter((function(t){return t.active&&t.numVertex}));return t.length&&void 0!==t[0].orderID&&(t=t.sort((function(t,e){return t.orderID-e.orderID}))),t}},{key:"hasDataframes",value:function(){return this.getActiveDataframes().length>0}},{key:"getNumFeatures",value:function(){return this.getActiveDataframes().map((function(t){return t.numFeatures})).reduce((function(t,e){return t+e}),0)}},{key:"_checkDataframeType",value:function(t){if(this.type!==t.type)throw new Fe("Layer dataframes must always be of the same type",Le.INCORRECT_TYPE)}},{key:"getFeaturesAtPosition",value:function(t){return this.viz?"point"===this.viz.geometryType?this._getPointFeaturesAtPosition(t):this._getPartialFeaturesAtPosition(t):[]}},{key:"_getPointFeaturesAtPosition",value:function(t){var e=this;return this._getRawFeaturesAtPosition(t).map((function(t){return e._buildFeatureFromRaw(t)}))}},{key:"_buildFeatureFromRaw",value:function(t){return new Xc(t,{viz:this.viz,customizedFeatures:this.customizedFeatures,trackFeatureViz:this.trackFeatureViz,idProperty:this.idProperty})}},{key:"_getRawFeaturesAtPosition",value:function(t){var e,n=this;return(e=[]).concat.apply(e,l()(this.getActiveDataframes().map((function(e){return e.getFeaturesAtPosition(t,n.viz)}))))}},{key:"_getPartialFeaturesAtPosition",value:function(t){var e=this._getRawFeaturesAtPosition(t);if(0===e.length)return[];var n=this._getPartialFeaturesFromSingle(e);return this._getCompoundFeaturesFrom(n)}},{key:"_getCompoundFeaturesFrom",value:function(t){var e=this,n=[];for(var i in t){var o=t[i].map((function(t){return e._buildFeatureFromRaw(t)}));n.push(Ta(o))}return n}},{key:"_getPartialFeaturesFromSingle",value:function(t){var e=this,n=new Set(t.map((function(t){return t[e.idProperty]})));return this.getAllPiecesPerFeature(n)}},{key:"getAllPiecesPerFeature",value:function(t){var e=this,n={};return t.forEach((function(t){n[t]=[]})),this.getActiveDataframes().forEach((function(i){e._addPartialFeaturesIfExistIn(i,t,n)})),n}},{key:"_addPartialFeaturesIfExistIn",value:function(t,e,n){for(var i=0;i<t.numFeatures;i++){var o=t.getFeature(i),r=o[this.idProperty];e.has(r)&&n[r].push(o)}}},{key:"trackFeatureViz",value:function(t,e,n,i){i[t]=i[t]||{},i[t][e]=n}},{key:"freeDataframes",value:function(){this.dataframes.map((function(t){return t.free()})),this.dataframes=[],this.type=null}}]),t}(),Yc=function(){function t(){f()(this,t),this._majorNextUID=0,this._majorCurrentUID=null,this._minorNextUID=0,this._minorCurrentUID=null}return m()(t,[{key:"initMajorChange",value:function(){return this._getChangeUID(!0)}},{key:"initMinorChange",value:function(){return this._getChangeUID(!1)}},{key:"endMajorChange",value:function(t){this._detectConcurrentChanges(!0,t),this._setUID(t)}},{key:"endMinorChange",value:function(t){this._detectConcurrentChanges(!1,t),this._setUID(t)}},{key:"_getChangeUID",value:function(t){var e;return t?(e={major:this._majorNextUID,minor:0},this._majorNextUID++,this._minorNextUID=1):(e={major:this._majorCurrentUID,minor:this._minorNextUID},this._minorNextUID++),e}},{key:"_detectConcurrentChanges",value:function(t,e){if(t){if(this._majorCurrentUID>e.major)throw new xn("Another `Layer.update()` finished before this one:\n                 Commit ".concat(e," overridden by commit ").concat(this._majorCurrentUID,"."))}else{if(this._majorCurrentUID>e.major||null!==this._majorCurrentUID&&null===e.major)throw new xn("Another `Layer.update()` finished before this viz change:\n                 Commit ".concat(e," overridden by commit ").concat(this._majorCurrentUID,".").concat(this._minorCurrentUID));if(this._minorCurrentUID>e.minor)throw new xn("Another `viz change` finished before this one:\n                 Commit ".concat(e.major,".").concat(e.minor," overridden by commit ").concat(this._majorCurrentUID,".").concat(this._minorCurrentUID))}}},{key:"_setUID",value:function(t){this._majorCurrentUID=t.major,this._minorCurrentUID=t.minor}}]),t}(),Qc=new WeakMap,Jc=Object.freeze({INIT:"init",IDLE:"idle",UPDATING:"updating"}),tl=function(){function t(e,n,o){var r=this;f()(this,t),this._checkId(e),this._checkSource(n),this._checkViz(o),this.id=e,this.type="custom",o._boundLayer=this,this._context=new Promise((function(t){r._contextInitialize=t})),this._state=Jc.INIT,this._visible=!0,this._emitter=Nc(),this._renderLayer=new $c,this.concurrencyHelper=new Yc,this._initialSource=n,this._initialViz=o,this._renderWaiters=[],this._cameraMatrix=i.identity([]),this._updateLayer=this.update(n,o)}return m()(t,[{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"on",value:function(t,e){return this._emitter.on(t,e)}},{key:"off",value:function(t,e){return this._emitter.off(t,e)}},{key:"addTo",value:function(){var t=Jn()(Yn.a.mark((function t(e,n){var i,o=this;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.once("error",(function(t){console.warn(t.error.message),o._waitForMapToLoad(e,n)})),e.addLayer(this,n),t.next=12;break;case 5:if(t.prev=5,t.t0=t.catch(0),i=/Cannot read property 'addLayer' of undefined/,/Style is not done loading/.test(t.t0)||i.test(t.t0)){t.next=11;break}throw new xn("Error adding layer to map: ".concat(t.t0));case 11:this._waitForMapToLoad(e,n);case 12:case"end":return t.stop()}}),t,this,[[0,5]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_waitForMapToLoad",value:function(t,e){var n=this;t.on("load",(function(){t.addLayer(n,e)}))}},{key:"remove",value:function(){this.map&&this.map.removeLayer(this.id)}},{key:"update",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n=arguments;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._update(e,n.length>1&&void 0!==n[1]?n[1]:this._viz,!0));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_update",value:function(){var t=Jn()(Yn.a.mark((function t(e,n,i){var o,r,a,s,u;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkSource(e),this._checkViz(n),o=this._cloneSourceIfDifferent(e),r=this._initChange(i),t.next=6,Promise.all([n.loadImages(),o.requestMetadata(n)]);case 6:return a=t.sent,s=y()(a,2),u=s[1],t.next=11,this._context;case 11:this._endChange(i,r),this._commitSuccesfulUpdate(u,n,o);case 13:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}()},{key:"_initChange",value:function(t){return t?this.concurrencyHelper.initMajorChange():this.concurrencyHelper.initMinorChange()}},{key:"_endChange",value:function(t,e){t?this.concurrencyHelper.endMajorChange(e):this.concurrencyHelper.endMinorChange(e)}},{key:"_commitSuccesfulUpdate",value:function(t,e,n){this.metadata=t,this._commitVizChange(e),this._commitSourceChange(n),this._needRefresh()}},{key:"_commitVizChange",value:function(t){this._viz&&this._viz.onChange(null),t.setDefaultsIfRequired(this.metadata.geomType),t.setDefaultsIfRequired(this._renderLayer.type),t.onChange(this._vizChanged.bind(this)),t._bindMetadata(this.metadata),t.gl=this.gl,this._viz=t}},{key:"_commitSourceChange",value:function(t){t.bindLayer(this._onDataframeAdded.bind(this)),t!==this._source&&this._freeSource(),this._source=t}},{key:"_cloneSourceIfDifferent",value:function(t){return t!==this._source?t._clone():t}},{key:"blendToViz",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n,i,o=this,r=arguments;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:400,i=r.length>2&&void 0!==r[2]?r[2]:Vs,this._checkViz(e),t.next=5,this._updateLayer;case 5:return this._viz&&!this._source.requiresNewMetadata(e)&&(Object.keys(this._viz.variables).map((function(t){e.variables[t]=o._viz.variables[t]})),e.color._blendFrom(this._viz.color,n,i),e.strokeColor._blendFrom(this._viz.strokeColor,n,i),e.width._blendFrom(this._viz.width,n,i),e.strokeWidth._blendFrom(this._viz.strokeWidth,n,i),e.filter._blendFrom(this._viz.filter,n,i)),t.abrupt("return",this._update(this._source,e,!1));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"hasDataframes",value:function(){return this._renderLayer.hasDataframes()}},{key:"getNumFeatures",value:function(){return this._renderLayer.getNumFeatures()}},{key:"getFeaturesAtPosition",value:function(t){return this.visible?this._renderLayer.getFeaturesAtPosition(t).map(this._addLayerIdToFeature.bind(this)):[]}},{key:"isAnimated",value:function(){return this._viz&&this._viz.isAnimated()}},{key:"isPlaying",value:function(){return this._viz&&this._viz.isPlaying()}},{key:"onAdd",value:function(t,e){this.map=t,this.gl=e,this.renderer=function(t,e){if(!Qc.get(t)){var n=new Gc;n.initialize(e),Qc.set(t,n)}return Qc.get(t)}(t,e),this._renderLayer.setRenderer(this.renderer),this._contextInitialize()}},{key:"onRemove",value:function(t,e){this._fire("removed",this)}},{key:"prerender",value:function(t,e){var n=this._detectAndSetNewMatrix(e);this._source&&this.visible&&this._checkSourceRequestsAndFireEvents(n)}},{key:"_detectAndSetNewMatrix",value:function(t){var e=!i.exactEquals(t,this._cameraMatrix);return e&&(this._cameraMatrix=t,this.renderer.matrix=t),e}},{key:"_checkSourceRequestsAndFireEvents",value:function(t){var e=this;this._source.requestData(this._getZoom(),this._getViewport()).then((function(n){n?e._needRefresh().then((function(){e._state===Jc.INIT&&(e._state=Jc.IDLE,e._fire("loaded")),e._fire("updated","different dataframes required from source")})):t&&e._fire("updated","new camara view")}))}},{key:"_getViewport",value:function(){return nn(this._cameraMatrix)}},{key:"render",value:function(t,e){var n=this;this._paintLayer(),this._renderWaiters.forEach((function(t){return t()})),this.isAnimated()?this.isPlaying()?this._needRefresh().then((function(){n._fire("updated","animation is playing")})):this._keepTimestampIfPaused():this._state===Jc.UPDATING&&(this._state=Jc.IDLE,this._fire("updated","updated viz"))}},{key:"_keepTimestampIfPaused",value:function(){var t=this.renderer.timestamp;this._viz._getRootStyleExpressions().forEach((function(e){e._setTimestamp(t)}))}},{key:"_paintLayer",value:function(){this._renderLayer.setViz(this._viz),this.renderer.renderLayer(this._renderLayer,{zoomLevel:this.map.getZoom()})}},{key:"_fire",value:function(t,e){var n=this;new Promise((function(i){n._emitter.emit(t,e),i()}))}},{key:"_onDataframeAdded",value:function(t){this._renderLayer.addDataframe(t),this._viz&&this._viz.setDefaultsIfRequired(t.type)}},{key:"_needRefresh",value:function(){var t=this;return this._state===Jc.IDLE&&(this._state=Jc.UPDATING),new Promise((function(e){t._renderWaiters.push(e),t.map.triggerRepaint()}))}},{key:"_addLayerIdToFeature",value:function(t){return t.layerId=this.id,t}},{key:"_vizChanged",value:function(){var t=Jn()(Yn.a.mark((function t(e){return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._update(this._source,e,!1));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_checkId",value:function(t){if(void 0===t)throw new Fe("'id'",Le.MISSING_REQUIRED);if(!an.isString(t))throw new Fe("'id' property must be a string.",Le.INCORRECT_TYPE);if(""===t)throw new Fe("'id' property must be not empty.",Le.INCORRECT_VALUE)}},{key:"_checkSource",value:function(t){if(void 0===t)throw new Fe("'source'",Le.MISSING_REQUIRED);if(!(t instanceof Vc))throw new Fe("The given object is not a valid 'source'. See \"carto.source\".",Le.INCORRECT_TYPE)}},{key:"_checkViz",value:function(t){if(an.isUndefined(t))throw new Fe("'viz'",Le.MISSING_REQUIRED);if(!(t instanceof zc))throw new Fe("The given object is not a valid 'viz'. See \"carto.Viz\".",Le.INCORRECT_TYPE);if(t._boundLayer&&t._boundLayer!==this)throw new Fe("The given Viz object is already bound to another layer. Vizs cannot be shared between different layers.",Le.INCORRECT_VALUE)}},{key:"_getZoom",value:function(){return this.map.getZoom()}},{key:"_freeSource",value:function(){this._source&&this._source.free(),this._renderLayer.freeDataframes()}},{key:"visible",get:function(){return this._visible},set:function(t){var e=this._visible;this.map.setLayoutProperty(this.id,"visibility",t?"visible":"none"),this._visible=t,t!==e&&this._fire("updated","visibility change")}},{key:"viz",get:function(){return this._viz}}]),t}(),el=["featureClick","featureClickOut","featureEnter","featureHover","featureLeave"],nl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{autoChangePointer:!0};f()(this,t),e instanceof tl&&(e=[e]),function(t){if(!Array.isArray(t))throw new Fe('Invalid layer list, parameter must be an array of "carto.Layer" objects.',Le.INCORRECT_TYPE);if(!t.length)throw new Fe("Invalid argument, layer list must not be empty.",Le.INCORRECT_VALUE);if(!t.every((function(t){return t instanceof tl})))throw new Fe('Invalid layer, layer must be an instance of "carto.Layer".',Le.INCORRECT_TYPE)}(e),this._init(e,n)}return m()(t,[{key:"on",value:function(t,e){return il(t),this._numListeners[t]=(this._numListeners[t]||0)+1,this._emitter.on(t,e)}},{key:"off",value:function(t,e){return il(t),this._numListeners[t]=this._numListeners[t]-1,this._emitter.off(t,e)}},{key:"disable",value:function(){this._enabled=!1}},{key:"enable",value:function(){this._enabled=!0}},{key:"_init",value:function(t,e){var n=this;this._enabled=!0,this._mapState="idle",this._emitter=Nc(),this._layerList=t,this._prevHoverFeatures=[],this._prevClickFeatures=[],this._numListeners={},this._isAutoChangePointerEnabled=e.autoChangePointer;var i=t.map((function(t){return t._context}));return Promise.all(i).then((function(){!function(t){if(!t.every((function(e){return e.map===t[0].map})))throw new Fe("Invalid argument, all layers must belong to the same map.",Le.INCORRECT_VALUE)}(t),n._map=t[0].map,n._subscribeToLayerEvents(t),n._subscribeToMapEvents(n._map),n._isAutoChangePointerEnabled&&n._setInteractiveCursor()}))}},{key:"_setInteractiveCursor",value:function(){var t=this;this._map.__carto_interactivities||(this._map.__carto_interactivities=new Set),this.on("featureHover",(function(e){return t._onFeatureHover(e,t._map)}))}},{key:"_onFeatureHover",value:function(t,e){t.features.length?e.__carto_interactivities.add(this):e.__carto_interactivities.delete(this),e.getCanvas().style.cursor=e.__carto_interactivities.size>0?"pointer":""}},{key:"_subscribeToMapEvents",value:function(t){this._onMouseMoveBound=this._onMouseMove.bind(this),t.on("mousemove",this._onMouseMoveBound),this._onClickBound=this._onClick.bind(this),t.on("click",this._onClickBound),this._disableWhileMovingMap(t)}},{key:"_unsubscribeToMapEvents",value:function(t){t.off("mousemove",this._onMouseMoveBound),t.off("click",this._onClickBound)}},{key:"_disableWhileMovingMap",value:function(t){var e=this;t.on("movestart",(function(){e._setMapState("moving")})),t.on("moveend",(function(){e._setMapState("idle")}))}},{key:"_setMapState",value:function(t){this._mapState=t}},{key:"_subscribeToLayerEvents",value:function(t){var e=this;t.forEach((function(t){t.on("updated",e._onLayerUpdated.bind(e)),t.on("removed",e._onLayerRemoved.bind(e))}))}},{key:"_onLayerUpdated",value:function(){this._onMouseMove(this._mouseEvent,!0)}},{key:"_onLayerRemoved",value:function(t){this._removeLayerFromInteractivity(t),this._isAutoChangePointerEnabled&&this._onFeatureHover({features:[]},this._map),this._layerList.length||this._unsubscribeToMapEvents(this._map)}},{key:"_removeLayerFromInteractivity",value:function(t){var e=this._layerList.indexOf(t);-1!==e&&this._layerList.splice(e,1)}},{key:"_onMouseMove",value:function(t,e){if(this._mouseEvent=t,this.isEnabled&&t&&(this._numListeners.featureEnter||this._numListeners.featureHover||this._numListeners.featureLeave)){var n=this._createFeatureEvent(t),i=this._manageFeatureLeaveEvent(n),o=this._manageFeatureEnterEvent(n);this._prevHoverFeatures=n.features,this._manageFeatureHoverEvent(n,{featuresLeft:i,featuresEntered:o},e)}}},{key:"_manageFeatureLeaveEvent",value:function(t){var e=this._getDiffFeatures(this._prevHoverFeatures,t.features);return this._fireEventIfFeatures("featureLeave",{featureEvent:t,eventFeatures:e}),e}},{key:"_manageFeatureEnterEvent",value:function(t){var e=this._getDiffFeatures(t.features,this._prevHoverFeatures);return this._fireEventIfFeatures("featureEnter",{featureEvent:t,eventFeatures:e}),e}},{key:"_manageFeatureHoverEvent",value:function(t,e,n){(!n||n&&(e.featuresLeft.length||e.featuresEntered.length))&&this._fireEvent("featureHover",t)}},{key:"_fireEventIfFeatures",value:function(t,e){var n=e.featureEvent,i=e.eventFeatures;i.length>0&&this._fireEvent(t,{coordinates:n.coordinates,position:n.position,features:i})}},{key:"_onClick",value:function(t){if(this.isEnabled&&(this._numListeners.featureClick||this._numListeners.featureClickOut)){var e=this._createFeatureEvent(t);this._manageClickOutEvent(e),this._prevClickFeatures=e.features,this._fireEvent("featureClick",e)}}},{key:"_manageClickOutEvent",value:function(t){var e=this._getDiffFeatures(this._prevClickFeatures,t.features);return this._fireEventIfFeatures("featureClickOut",{featureEvent:t,eventFeatures:e}),e}},{key:"_createFeatureEvent",value:function(t){var e=this._getFeaturesAtPosition(t.point);return{coordinates:t.lngLat,position:t.point,features:e}}},{key:"_fireEvent",value:function(t,e){this._emitter.emit(t,e)}},{key:"_getFeaturesAtPosition",value:function(t){var e;return(e=[]).concat.apply(e,l()(this._layerList.map((function(e){return e.getFeaturesAtPosition(t)}))))}},{key:"_getDiffFeatures",value:function(t,e){var n=this._getFeatureIDs(e);return t.filter((function(t){return!n.includes(t.id)}))}},{key:"_getFeatureIDs",value:function(t){return t.map((function(t){return t.id}))}},{key:"isEnabled",get:function(){return this._enabled&&"moving"!==this._mapState}}]),t}();function il(t){if(!el.includes(t))throw new Fe("Unrecognized event: '".concat(t,"'. Available events: ").concat(el.join(", "),"."),Le.INCORRECT_VALUE)}var ol=n(29),rl=n.n(ol);function al(t,e,n,i,o){var r,a,s,u,c;if(t.length>=4){r=[t[0],t[1]];for(var l=2;l<=t.length;l+=2)if(r[0]!==(a=[t[l],t[l+1]])[0]||r[1]!==a[1]){l+=2;break}for(s=ze(r,a);l<=t.length;l+=2){c=!(o&&o(l));var d=void 0;if(l<=t.length-2?d=[t[l],t[l+1]]:i&&(d=[t[2],t[3]]),!c||r[0]===a[0]&&r[1]===a[1]||(e.vertices[n]=r[0],e.normals[n++]=-s[0],e.vertices[n]=r[1],e.normals[n++]=-s[1],e.vertices[n]=r[0],e.normals[n++]=s[0],e.vertices[n]=r[1],e.normals[n++]=s[1],e.vertices[n]=a[0],e.normals[n++]=s[0],e.vertices[n]=a[1],e.normals[n++]=s[1],e.vertices[n]=r[0],e.normals[n++]=-s[0],e.vertices[n]=r[1],e.normals[n++]=-s[1],e.vertices[n]=a[0],e.normals[n++]=s[0],e.vertices[n]=a[1],e.normals[n++]=s[1],e.vertices[n]=a[0],e.normals[n++]=-s[0],e.vertices[n]=a[1],e.normals[n++]=-s[1]),!d||d[0]===a[0]&&d[1]===a[1])u=s;else if(u=ze(a,d),c){var h=Be(s,u),p=h.turnLeft,f=h.joinNormal,g=p?s:Ne(u),m=p?u:Ne(s);e.vertices[n]=a[0],e.normals[n++]=0,e.vertices[n]=a[1],e.normals[n++]=i?1e-37:0,e.vertices[n]=a[0],e.normals[n++]=g[0],e.vertices[n]=a[1],e.normals[n++]=g[1],e.vertices[n]=a[0],e.normals[n++]=m[0],e.vertices[n]=a[1],e.normals[n++]=m[1],f&&(e.vertices[n]=a[0],e.normals[n++]=f[0],e.vertices[n]=a[1],e.normals[n++]=f[1],e.vertices[n]=a[0],e.normals[n++]=m[0],e.vertices[n]=a[1],e.normals[n++]=m[1],e.vertices[n]=a[0],e.normals[n++]=g[0],e.vertices[n]=a[1],e.normals[n++]=g[1])}r=a,a=d,s=u}}return n}function sl(t,e){var n=new Float32Array(e);return n.set(t),n}var ul=0,cl={vertices:new Float32Array(1048576),normals:new Float32Array(1048576)};function ll(t){var e=ul+t;if(e>cl.vertices.length){var n=2*e;cl.vertices=sl(cl.vertices,n),cl.normals=sl(cl.normals,n)}}var dl=n(38),hl=0,pl={vertices:new Float32Array(2097152),normals:new Float32Array(2097152)};function fl(t){var e=hl+t;if(e>pl.vertices.length){var n=2*e;pl.vertices=sl(pl.vertices,n),pl.normals=sl(pl.normals,n)}}function gl(t,e){pl.vertices[hl]=t[e],pl.normals[hl++]=0,pl.vertices[hl]=t[e+1],pl.normals[hl++]=0}function ml(t,e,n){return!!(t.clipped.includes(e)&&t.clipped.includes(n)&&t.clippedType[t.clipped.indexOf(e)]&t.clippedType[t.clipped.indexOf(n)])}var _l=function(){function t(e){f()(this,t),this.dataframe=e}return m()(t,[{key:"getFeatureIds",value:function(){return this.decodedGeom.breakpoints.length?this._getFeatureIdsForLinesOrPolygons():this._getFeatureIdsForPoints()}},{key:"_getFeatureIdsForPoints",value:function(){for(var t=this.decodedGeom.vertices.length,e=this._createTablesXY(),n=e.tableX,i=e.tableY,o=new Float32Array(t),r=0,a=0;a<t;a+=6)o[a+0]=n[r],o[a+1]=i[r],0===o[a+0]&&(o[a+0]+=1/65536),0===o[a+1]&&(o[a+1]+=1/65536),o[a+2]=-o[a+0],o[a+3]=o[a+1],o[a+4]=o[a+0],o[a+5]=-o[a+1],r++;return o}},{key:"_getFeatureIdsForLinesOrPolygons",value:function(){for(var t=this.decodedGeom.vertices.length,e=this._createTablesXY(),n=e.tableX,i=e.tableY,o=this.decodedGeom.breakpoints,r=new Float32Array(t),a=0,s=0;s<t;s+=2){for(;s===o[a];)a++;r[s+0]=n[a],r[s+1]=i[a]}return r}},{key:"_createTablesXY",value:function(){for(var t={},e={},n=this.dataframe.getSize(),i=n.height,o=n.width,r=0;r<this.numFeatures;r++)t[r]=r%o/(o-1),e[r]=i>1?Math.floor(r/o)/(i-1):.5;return{tableX:t,tableY:e}}},{key:"decodedGeom",get:function(){return this.dataframe.decodedGeom}},{key:"numFeatures",get:function(){return this.dataframe.numFeatures}}]),t}(),yl=n(32),bl="separatingLineFound",vl="separatingLineNotFound";function Cl(t,e){return function(t){var e=y()(t,3),n=e[1],i=e[2];return qe(e[0],n)||qe(n,i)}(t)?function(t,e){var n=y()(t,3),i=n[1],o=n[2],r=n[0],a=qe(i,r)?o:i;return yl([[r.x,r.y],[a.x,a.y]],[e.minx,e.miny,e.maxx,e.maxy]).length>0}(t,e):function(t,e){return e[0].x<t.minx&&e[1].x<t.minx&&e[2].x<t.minx||e[0].y<t.miny&&e[1].y<t.miny&&e[2].y<t.miny||e[0].x>t.maxx&&e[1].x>t.maxx&&e[2].x>t.maxx||e[0].y>t.maxy&&e[1].y>t.maxy&&e[2].y>t.maxy?bl:vl}(e,t)!==bl&&function(t,e){for(var n=0;n<3;n++)for(var i=0;i<e.length&&!(Ue(e[i],t[n],t[(n+1)%3])>0);i++)if(3===i)return bl;return vl}(t,[{x:e.minx,y:e.miny},{x:e.minx,y:e.maxy},{x:e.maxx,y:e.miny},{x:e.maxx,y:e.maxy}])!==bl}var xl=function(){function t(e){f()(this,t),this.dataframe=e}return m()(t,[{key:"toNDC",value:function(t,e){var n=this.toClipSpace(t,e),i=n.ow;return{x:n.ox/i,y:n.oy/i}}},{key:"toClipSpace",value:function(t,e){var n=this.matrix;return{ox:n[0]*t+n[4]*e+n[12],oy:n[1]*t+n[5]*e+n[13],ow:n[3]*t+n[7]*e+n[15]}}},{key:"matrix",get:function(){return this.dataframe.matrix}}]),t}(),wl=function(){function t(e){f()(this,t),this.dataframe=e,this.getFeature=e.getFeature.bind(e),this._getGL=e._getGL.bind(e),this._projection=new xl(e)}return m()(t,[{key:"isPointInViewport",value:function(t){var e=this.decodedGeom.vertices,n=this._projection.toClipSpace(e[6*t+0],e[6*t+1]),i=n.ox,o=n.oy,r=n.ow;return i>-r&&i<r&&o>-r&&o<r}},{key:"isPolygonInViewport",value:function(t){var e=this._compareAABBs(this._aabb[t]);if(0===e){var n=this.decodedGeom.vertices,i=this.decodedGeom.normals,o=this.decodedGeom.featureIDToVertexIndex.get(t);return this._isPolygonCollidingViewport(n,i,o.start,o.end)}return 1===e}},{key:"_getCanvasSizeInPixels",value:function(){var t=this._getGL().canvas;return{WIDTH:t.width/window.devicePixelRatio,HEIGHT:t.height/window.devicePixelRatio}}},{key:"_compareAABBs",value:function(t){if(null===t)return-1;var e=this._projection.toNDC(t.minx,t.miny),n=this._projection.toNDC(t.minx,t.maxy),i=this._projection.toNDC(t.maxx,t.miny),o=this._projection.toNDC(t.maxx,t.maxy),r={minx:Math.min(e.x,n.x,i.x,o.x),miny:Math.min(e.y,n.y,i.y,o.y),maxx:Math.max(e.x,n.x,i.x,o.x),maxy:Math.max(e.y,n.y,i.y,o.y)},a={minx:-1,miny:-1,maxx:1,maxy:1};switch(!0){case this._isFeatureAABBInsideViewport(r,a):return 1;case this._isFeatureAABBOutsideViewport(r,a):return-1;default:return 0}}},{key:"_isPolygonCollidingViewport",value:function(t,e,n,i){if(!this.matrix)return!1;for(var o={minx:-1,miny:-1,maxx:1,maxy:1},r=n;r<i;r+=6){var a=this._projection.toNDC(t[r+0],t[r+1]),s=this._projection.toNDC(t[r+2],t[r+3]),u=this._projection.toNDC(t[r+4],t[r+5]);if(Cl([{x:a.x,y:a.y},{x:s.x,y:s.y},{x:u.x,y:u.y}],o))return!0}return!1}},{key:"_isFeatureAABBInsideViewport",value:function(t,e){return t.minx>=e.minx&&t.maxx<=e.maxx&&t.miny>=e.miny&&t.maxy<=e.maxy}},{key:"_isFeatureAABBOutsideViewport",value:function(t,e){return t.minx>e.maxx||t.miny>e.maxy||t.maxx<e.minx||t.maxy<e.miny}},{key:"getPointsAtPosition",value:function(t,e){for(var n=this.decodedGeom.vertices,i=[],o=0;o<6*this.numFeatures;o+=6){var r=this.getFeature(o/6);if(!this._isFeatureFiltered(r,e.filter)){var a=this._getCircleFor({x:n[o],y:n[o+1]},r,e);je(t,a.center,a.radius)&&i.push(r)}}return i}},{key:"_isFeatureFiltered",value:function(t,e){return e.eval(t)<.5}},{key:"_getCircleFor",value:function(t,e,n){var i=this._getCanvasSizeInPixels(),o=i.WIDTH,r=i.HEIGHT,a=this._projection.toNDC(t.x,t.y);a.x*=.5,a.y*=-.5,a.x+=.5,a.y+=.5,a.x*=o,a.y*=r;var s=this._computePointRadius(e,n);if(!n.symbol.default){var u=n.symbolPlacement.eval(e);a.x+=u[0]*s,a.y-=u[1]*s}if(!n.transform.default){var c=n.transform.eval(e);a.x+=c.x,a.y-=c.y}return{center:a,radius:s}}},{key:"getFeaturesAtPositionFromTriangles",value:function(t,e,n){for(var i,o=this.decodedGeom.vertices,r=this.decodedGeom.normals,a=this.decodedGeom.breakpoints,s=[],u=-1,c={x:0,y:0},l=this._getCanvasSizeInPixels(),d=l.WIDTH,h=l.HEIGHT,p=0;p<o.length;p+=6){if(0===p||p>=a[u]){u++;var f=this.getFeature(u);if(!n.transform.default){var g=n.transform.eval(f);c.x=g[0],c.y=g[1]}if(i="line"===t?this._computeLineWidthScale(f,n):this._computePolygonWidthScale(f,n),this._isFeatureFiltered(f,n.filter)||!this._isPointInAABB(e,c,"line"===t?n.width.eval(f):n.strokeWidth.eval(f),u)){p=a[u]-6;continue}}var m=this._projection.toNDC(o[p+0]+r[p+0]*i,o[p+1]+r[p+1]*i),_=this._projection.toNDC(o[p+2]+r[p+2]*i,o[p+3]+r[p+3]*i),y=this._projection.toNDC(o[p+4]+r[p+4]*i,o[p+5]+r[p+5]*i);m.x*=.5,m.y*=-.5,m.x+=.5,m.y+=.5,_.x*=.5,_.y*=-.5,_.x+=.5,_.y+=.5,y.x*=.5,y.y*=-.5,y.x+=.5,y.y+=.5,Ve(e,{x:m.x*d+c.x,y:m.y*h-c.y},{x:_.x*d+c.x,y:_.y*h-c.y},{x:y.x*d+c.x,y:y.y*h-c.y})&&(s.push(this.getFeature(u)),p=a[u]-6)}return s}},{key:"_isPointInAABB",value:function(t,e,n,i){var o=this._aabb[i];if(null===o||!this.matrix)return!1;var r=this._projection.toNDC(o.minx,o.miny),a=this._projection.toNDC(o.minx,o.maxy),s=this._projection.toNDC(o.maxx,o.miny),u=this._projection.toNDC(o.maxx,o.maxy),c={minx:Math.min(r.x,a.x,s.x,u.x),miny:Math.min(r.y,a.y,s.y,u.y),maxx:Math.max(r.x,a.x,s.x,u.x),maxy:Math.max(r.y,a.y,s.y,u.y)},l=this._getCanvasSizeInPixels(),d=l.WIDTH,h=l.HEIGHT,p=2*e.x/d,f=2*e.y/h,g=t.x/d*2-1,m=-(t.y/h*2-1);return!this._isFeatureAABBOutsideViewport(c,{minx:g+p-2*n/d,miny:m-f-2*n/h,maxx:g+p+2*n/d,maxy:m-f+2*n/h})}},{key:"_computePointRadius",value:function(t,e){return(Math.min(e.width.eval(t),1024)+Math.min(e.strokeWidth.eval(t),1024))/2}},{key:"_computeLineWidthScale",value:function(t,e){return Math.min(e.width.eval(t),1024)/2/this.scale/this._resolutionForZoomLevel()}},{key:"_computePolygonWidthScale",value:function(t,e){return Math.min(e.strokeWidth.eval(t),1024)/2/this.scale/this._resolutionForZoomLevel()}},{key:"_resolutionForZoomLevel",value:function(){return 512*Math.pow(2,this.renderer.drawMetadata.zoomLevel)}},{key:"decodedGeom",get:function(){return this.dataframe.decodedGeom}},{key:"_aabb",get:function(){return this.dataframe._aabb}},{key:"numFeatures",get:function(){return this.dataframe.numFeatures}},{key:"renderer",get:function(){return this.dataframe.renderer}},{key:"matrix",get:function(){return this.dataframe.matrix}},{key:"scale",get:function(){return this.dataframe.scale}}]),t}(),Pl=new Map,Ml=function(t){function e(){var t,n;f()(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=E()(this,(t=T()(e)).call.apply(t,[this].concat(o))))._initHelpers(),n}return I()(e,(function t(e){var n=e.active,i=e.center,o=e.properties,r=e.propertiesArrayBuffer,a=e.scale,s=e.type,u=e.geom,c=e.size,l=e.metadata;f()(this,t),this.active=n,this.center=i,this.properties=o,this.propertiesArrayBuffer=r,this.scale=a,this.type=s,this.decodedGeom=function(t,e){switch(t){case"point":return function(t){return{verticesArrayBuffer:t,vertices:new Float32Array(t),breakpoints:[]}}(e);case"line":return function(t){var e=[],n=new Map;ul=0;for(var i=0;i<t.length;i++){for(var o=t[i],r=0;r<o.length;r++)ll(24*o[r].length),ul=al(o[r],cl,ul);n.set(e.length,0===e.length?{start:0,end:ul}:{start:n.get(e.length-1).end,end:ul}),e.push(ul)}for(var a=new ArrayBuffer(4*ul),s=new ArrayBuffer(4*ul),u=new Float32Array(a),c=new Float32Array(s),l=0;l<ul;l++)u[l]=cl.vertices[l],c[l]=cl.normals[l];return{vertices:u,normals:c,verticesArrayBuffer:a,normalsArrayBuffer:s,featureIDToVertexIndex:n,breakpoints:e}}(e);case"polygon":return function(t){var e=[],n=new Map;hl=0;for(var i=0;i<t.length;i++){for(var o=t[i],r=function(t){var e=o[t],n=dl(e.flat,e.holes);fl(2*n.length+24*e.flat.length);for(var i=0;i<n.length;i++)gl(e.flat,2*n[i]);hl=al(e.flat,pl,hl,!0,(function(t){return e.holes.includes((t-2)/2)||ml(e,t-4,t-2)}))},a=0;a<o.length;a++)r(a);n.set(e.length,0===e.length?{start:0,end:hl}:{start:n.get(e.length-1).end,end:hl}),e.push(hl)}for(var s=new ArrayBuffer(4*hl),u=new ArrayBuffer(4*hl),c=new Float32Array(s),l=new Float32Array(u),d=0;d<hl;d++)c[d]=pl.vertices[d],l[d]=pl.normals[d];return{vertices:c,normals:l,verticesArrayBuffer:s,normalsArrayBuffer:u,featureIDToVertexIndex:n,breakpoints:e}}(e);default:throw new xn("Unimplemented geometry type: '".concat(t,"'."),wn.NOT_SUPPORTED)}}(s,u),this.numVertex="point"===s?3*c:this.decodedGeom.vertices.length/2,this.numFeatures="point"===s?c:this.decodedGeom.breakpoints.length||this.numVertex,this.propertyTex=[],this.metadata=l,this.propertyCount=0,this._aabb=function(t,e){switch(e){case"point":return[];case"line":case"polygon":for(var n=[],i=0;i<t.length;i++){for(var o=t[i],r={minx:Number.POSITIVE_INFINITY,miny:Number.POSITIVE_INFINITY,maxx:Number.NEGATIVE_INFINITY,maxy:Number.NEGATIVE_INFINITY},a=0;a<o.length;a++)r=Ze(o[a],r,e);r.minx===Number.POSITIVE_INFINITY&&(r=null),n.push(r)}return n}}(u,s),this._centroids=function(t,e){switch(e){case"point":return function(t){for(var e=[],n=0;n<t.vertices.length/6;n++){var i=6*n,o=t.vertices.slice(i,i+6),r=y()(o,6);e.push({x:r[4],y:r[5]})}return e}(t);case"line":case"polygon":return function(t,e){var n=[],i=0;return t.breakpoints.forEach((function(o){var r,a=t.vertices.slice(i,o);r="line"===e?function(t){for(var e=[],n=[],i=0;i<t.length/6;i++){var o=6*i,r=t.slice(o,o+6),a=y()(r,6),s=a[0],u=a[1],c=a[2],l=a[3],d=a[4],h=a[5],p=s===c&&u===l;if(!p||c!==d||l!==h){var f=[s,u],g=p?[d,h]:[c,l];e.push(f[0]),e.push(g[0]),n.push(f[1]),n.push(g[1])}}return{x:Re(e),y:Re(n)}}(a):function(t){for(var e=[],n=[],i=[],o=0;o<t.length/6;o++){var r=6*o,a=t.slice(r,r+6),s=y()(a,6),u=s[0],c=s[1],l=s[2],d=s[3],h=s[4],p=s[5],f=He([[u,c],[l,d],[h,p]]);if(f>0){var g=Re([u,l,h]),m=Re([c,d,p]);e.push(g*f),n.push(m*f),i.push(f)}}var _=Ge(i);return{x:Ge(e)/_,y:Ge(n)/_}}(a),n.push(r),i=o})),n}(t,e);default:throw new Fe("Invalid type argument, decoded geometry must have a point, line or polygon type.",Le.INCORRECT_VALUE)}}(this.decodedGeom,s),this.t1=[.1,.1,.1,.1],this.t2=[.1,.1,.1,.1],this.t3=[.1,.1,.1,.1],this.t4=[.1,.1,.1,.1]})),m()(e,[{key:"_initHelpers",value:function(){this._featureIdsHelper||(this._featureIdsHelper=new _l(this)),this._viewportHelper||(this._viewportHelper=new wl(this))}},{key:"bindRenderer",value:function(t){this.renderer=t,this._initHelpers(),this.addProperties(),this._loadVertices(),this._loadNormals(),this._loadFeatureIds(),this._createEmptyStyleTextures()}},{key:"getSize",value:function(){var t=this.renderer.RTT_WIDTH;return{width:t,height:Math.ceil(this.numFeatures/t)}}},{key:"_getGL",value:function(){return this.renderer.gl}},{key:"_loadVertices",value:function(){var t=this._getGL(),e=this.decodedGeom.vertices;this.vertexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}},{key:"_loadNormals",value:function(){var t=this._getGL(),e=this.decodedGeom.normals;e&&(this.normalBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalBuffer),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW))}},{key:"_loadFeatureIds",value:function(){var t=this._getGL(),e=this._featureIdsHelper.getFeatureIds();this.featureIDBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.featureIDBuffer),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)}},{key:"getFeaturesAtPosition",value:function(t,e){if(!this.matrix)return[];switch(this.type){case"point":return this._viewportHelper.getPointsAtPosition(t,e);case"line":case"polygon":return this._viewportHelper.getFeaturesAtPositionFromTriangles(this.type,t,e);default:return[]}}},{key:"inViewport",value:function(t){if(!this.matrix)return!1;switch(this.type){case"point":return this._viewportHelper.isPointInViewport(t);case"line":case"polygon":return this._viewportHelper.isPolygonInViewport(t);default:return!1}}},{key:"getRenderedCentroid",value:function(t){var e=ir()({},this._centroids[t]);e.x=e.x*this.scale+this.center.x,e.y=e.y*this.scale+this.center.y;var n=this._unprojectFromWebMercator(e);return[n.lng,n.lat]}},{key:"getPropertyTexture",value:function(t){var e=this._encodePropertyName(t);return this.propertyTex[e]||this._loadPropertyValuesToTexture(t),this.propertyTex[e]}},{key:"_loadPropertyValuesToTexture",value:function(t){var e=this._getGL(),n=this.properties[t],i=this._encodePropertyName(t),o=this.getSize(),r=o.width,a=o.height;n&&(this.propertyTex[i]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.propertyTex[i]),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,r,a,0,e.ALPHA,e.FLOAT,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST))}},{key:"_encodePropertyName",value:function(t){return"_".concat(t)}},{key:"free",value:function(){var t=this;this._freeWebGLElements(),Object.keys(this).forEach((function(e){t[e]=null})),this.freed=!0}},{key:"_freeWebGLElements",value:function(){if(this.propertyTex){var t=this._getGL();this.propertyTex.map((function(e){return t.deleteTexture(e)})),t.deleteTexture(this.texColor),t.deleteTexture(this.texStrokeColor),t.deleteTexture(this.texWidth),t.deleteTexture(this.texStrokeWidth),t.deleteTexture(this.texFilter),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.featureIDBuffer)}}},{key:"_unprojectFromWebMercator",value:function(t){var e=Math.PI/180;return{lng:t.x*Xe/6378137/e,lat:2*(Math.atan(Math.pow(Math.E,t.y*Xe/6378137))-Math.PI/4)/e}}},{key:"_genFeatureClass",value:function(){if(Pl.has(this.metadata))this._featureClass=Pl.get(this.metadata);else{var t=function(t){var e=function t(e,n){f()(this,t),this._index=e,this._dataframe=n};return Object.defineProperties(e.prototype,function(t){var e={};return t.propertyKeys.forEach((function(n){var i=t.codec(n);if(i.isRange()){var o=t.decodedProperties(n);e[n]={get:function(){var e=this,n=this._index,r=o.map((function(t){return e._dataframe.properties[t][n]}));return i.internalToExternal(t,r)}}}else e[n]={get:function(){return i.internalToExternal(t,this._dataframe.properties[n][this._index])}}})),e}(t)),e}(this.metadata);Pl.set(this.metadata,t),this._featureClass=t}}},{key:"getFeature",value:function(t){if(this.cachedFeatures||(this.cachedFeatures=new Array(this.numFeatures)),void 0!==this.cachedFeatures[t])return this.cachedFeatures[t];this._featureClass||this._genFeatureClass();var e=new this._featureClass(t,this);return this.cachedFeatures[t]=e,e}},{key:"addProperties",value:function(){for(var t=0;t<this.metadata.propertyKeys.length;t++)this._addProperty(this.metadata.propertyKeys[t]);this._genFeatureClass()}},{key:"_addProperty",value:function(t){Object.keys(this.propertyTex).length<32&&this.getPropertyTexture(t)}},{key:"_createEmptyStyleTextures",value:function(){this.texColor=this._createStyleDataframeTexture(),this.texWidth=this._createStyleDataframeTexture(),this.texStrokeColor=this._createStyleDataframeTexture(),this.texStrokeWidth=this._createStyleDataframeTexture(),this.texFilter=this._createStyleDataframeTexture()}},{key:"_createStyleDataframeTexture",value:function(){var t=this._getGL(),e=this.getSize(),n=e.width,i=e.height,o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),o}}]),e}(),Ol="cartodb_id",kl=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},i=n.properties,o=n.featureCount,r=n.sample,a=n.geomType,s=n.isAggregated,u=n.idProperty,c=n.extent;f()(this,t),this.properties=i,this.featureCount=o,this.sample=r,this.geomType=a,this.isAggregated=s,this.idProperty=u||Ol,this.properties.hasOwnProperty(this.idProperty)||(this.properties[this.idProperty]={type:"number"}),this.categoryToID=new Map,this.IDToCategory=new Map,this.numCategories=0,this.extent=c||4096,Object.values(i).map((function(t){t.categories=t.categories||[],t.categories.map((function(n){return e.categorizeString(t,n.name,!0)}))})),this.propertyKeys=Object.keys(i)}return m()(t,[{key:"setCodecs",value:function(){throw new xn('You must call "setCodecs" once you have determined the proper subclass')}},{key:"categorizeString",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e&&(e=null),this.categoryToID.has(e))return this.categoryToID.get(e);n||null===e||this.properties[t].categories.push({name:e,frequency:Number.NaN});var i=null===e?fo:this.numCategories;return this.categoryToID.set(e,i),this.IDToCategory.set(i,e),this.numCategories++,i}},{key:"decodedProperties",value:function(t){return[t]}},{key:"baseName",value:function(t){return t}},{key:"sourcePropertyName",value:function(t){return t}},{key:"stats",value:function(t){return this.properties[t]}},{key:"codec",value:function(t){var e=this.baseName(t);return this.properties[e]&&this.properties[e].codec?this.properties[e].codec:new Wo}}]),t}(),El=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,e){return(isNaN(e)||null==e)&&(e=fo),e}},{key:"internalToExternal",value:function(t,e){return e===fo&&(e=null),e}},{key:"externalToInternal",value:function(t,e){return null===e&&(e=fo),e}}]),e}(Wo),Sl=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,n){var i=h()(n);if(null!==n&&"undefined"!==i&&"number"!==i)throw new xn("MVT decoding error. Metadata property '".concat(this._baseName,"' is of type 'number' but the MVT tile contained a feature property of type '").concat(i,"': '").concat(n,"'"),wn.MVT);return Ai()(T()(e.prototype),"sourceToInternal",this).call(this,t,n)}}]),e}(El),Tl=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,e){return t.categorizeString(this._baseName,e)}},{key:"internalToExternal",value:function(t,e){return t.IDToCategory.get(e)}},{key:"sourceToExternal",value:function(t,e){return e}},{key:"externalToSource",value:function(t,e){return e}}]),e}(Zo),Al=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,n){var i=h()(n);if(null!==n&&"undefined"!==i&&"string"!==i)throw new xn("MVT decoding error. Metadata property '".concat(this._baseName,"' is of type 'category' but the MVT tile contained a feature property of type '").concat(i,"': '").concat(n,"'"),wn.MVT);return Ai()(T()(e.prototype),"sourceToInternal",this).call(this,t,n)}}]),e}(Tl),Il=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"setCodecs",value:function(){var t=this;Object.keys(this.properties).forEach((function(e){var n=t.properties[e],i=n.type;"geometry"!==i&&(n.codec=function(t,e,n){switch(e){case"number":return new Sl(t,n);case"category":return new Al(t,n);default:throw new xn("MVT decoding error. Feature property value of type '".concat(e,"' cannot be decoded."),wn.MVT)}}(t,i,e))}))}}]),e}(kl),Dl=n(31),Rl=function(){function t(){f()(this,t),this._cache=Dl({max:256,length:function(){return 1},maxAge:36e5,dispose:function(t,e){e.then((function(t){t.empty||t.free()}))}})}return m()(t,[{key:"get",value:function(t,e){var n=this._cache.get(t);if(n)return n;var i=e(t);return this._cache.set(t,i),i}},{key:"free",value:function(){this._cache.reset()}}]),t}();function Fl(t,e,n){return{x:(t-n.center.x)/n.scale,y:(e-n.center.y)/n.scale}}function Ll(t,e){return function(t,e){for(var n=y()(e,4),i=n[1],o=n[2],r=n[3],a=1<<t,s=function(t){return Math.min(Math.max(t,0),a-1)},u=s(Math.floor(a*(n[0]+1)*.5)),c=s(Math.ceil(a*(o+1)*.5)-1),l=s(Math.floor(a*(1-r)*.5)),d=s(Math.ceil(a*(1-i)*.5)-1),h=[],p=u;p<=c;++p)for(var f=l;f<=d;++f)h.push({x:p,y:f,z:t});return h}((arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.ceil)(t),e)}var zl=function(){function t(e){f()(this,t),Array.isArray(e)||(e=[e]),this._templateURLs=e,this._nextGroupID=0,this._currentRequestGroupID=0,this._oldDataframes=[],this._cache=new Rl}return m()(t,[{key:"bindLayer",value:function(t){this._addDataframe=t}},{key:"requestData",value:function(t,e,n){var i=Ll(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.ceil);return this._getTiles(i,n)}},{key:"free",value:function(){this._cache.free(),this._cache=new Rl,this._oldDataframes=[]}},{key:"_getTileUrl",value:function(t,e,n){var i=this._getSubdomainIndex(t,e);return this._templateURLs[i].replace("{x}",t).replace("{y}",e).replace("{z}",n)}},{key:"_getSubdomainIndex",value:function(t,e){return Math.abs(t+e)%this._templateURLs.length}},{key:"_getTiles",value:function(){var t=Jn()(Yn.a.mark((function t(e,n){var i,o,r,a=this;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._nextGroupID++,i=this._nextGroupID,t.next=4,Promise.all(e.map((function(t){var e=t.x,i=t.y,o=t.z;return a._cache.get("".concat(e,",").concat(i,",").concat(o),(function(){return a._requestDataframe(e,i,o,n)})).then((function(t){return t.orderID=e+i/1e3,t}))})));case 4:if(o=t.sent,!(i<this._currentRequestGroupID)){t.next=7;break}return t.abrupt("return",!0);case 7:return this._currentRequestGroupID=i,this._oldDataframes.forEach((function(t){t.active=!1})),o.forEach((function(t){t.active=!0})),r=!en(new Set(o),new Set(this._oldDataframes)),this._oldDataframes=o,t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_requestDataframe",value:function(){var t=Jn()(Yn.a.mark((function t(e,n,i,o){var r,a;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._getTileUrl(e,n,i),t.next=3,o(e,n,i,r);case 3:return(a=t.sent).empty||this._addDataframe(a),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,i,o){return t.apply(this,arguments)}}()}]),t}(),Bl=n(39),Nl=n.n(Bl),Vl=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Il,o=arguments.length>2?arguments[2]:void 0;return f()(this,e),(n=E()(this,T()(e).call(this)))._templateURL=t,n._tileClient=new zl(t),n._initMetadata(i),n._initOptions(o),n._workerDispatch={},n._mID=0,n._workerName="MVT",n}return I()(e,t),m()(e,[{key:"_initMetadata",value:function(t){t instanceof kl||(t=new Il(t)),t.setCodecs(),this._metadata=t}},{key:"_initOptions",value:function(t){void 0===t&&(t={layerID:void 0,viewportZoomToSourceZoom:Math.ceil,maxZoom:void 0}),t.viewportZoomToSourceZoom=t.viewportZoomToSourceZoom||Math.ceil,this._options=t}},{key:"_receiveMessageFromWorker",value:function(t){var e=t.data,n=e.mID,i=e.dataframe;i.empty||this._updateMetadataWith(i),this._workerDispatch[n](i)}},{key:"_updateMetadataWith",value:function(t){Object.setPrototypeOf(t,Ml.prototype);var e=t.metadata;this._metadata.numCategories=e.numCategories,this._metadata.categoryToID=e.categoryToID,this._metadata.IDToCategory=e.IDToCategory,this._metadata.geomType=e.geomType,t.metadata=this._metadata}},{key:"_clone",value:function(){return new e(this._templateURL,JSON.parse(JSON.stringify(this._metadata)),this._options)}},{key:"bindLayer",value:function(t){this._tileClient.bindLayer(t)}},{key:"requestMetadata",value:function(){var t=Jn()(Yn.a.mark((function t(){return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._metadata);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"requestData",value:function(t,e){var n=this._urlToDataframeTransformer.bind(this),i=this._viewportZoomToSourceZoom.bind(this);return this._tileClient.requestData(t,e,n,i)}},{key:"_urlToDataframeTransformer",value:function(t,e,n,i){var o=this;return new Promise((function(r){var a=o._validUrlForWorker(i);o._postMessageToWorker({x:t,y:e,z:n},a),o._metadataSent=!0,o._workerDispatch[o._mID]=r,o._mID++}))}},{key:"_postMessageToWorker",value:function(t,e){this._worker.postMessage({x:t.x,y:t.y,z:t.z,url:e,layerID:this._options.layerID,metadata:this._metadataSent?void 0:this._metadata,mID:this._mID,workerName:this._workerName})}},{key:"_viewportZoomToSourceZoom",value:function(t){var e=this._options.maxZoom,n=this._options.viewportZoomToSourceZoom(t);return void 0===e?n:Math.min(n,e)}},{key:"_validUrlForWorker",value:function(t){if("."===t[0]){var e=window.location.pathname.split("/");e.pop();var n=e.join("/");return"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(n,"/").concat(t)}return"/"===t[0]?"".concat(window.location.protocol,"//").concat(window.location.host).concat(t):t}},{key:"free",value:function(){this._tileClient.free()}},{key:"_worker",get:function(){return this._workerInstance||(this._workerInstance=new Nl.a,this._workerInstance.onmessage=this._receiveMessageFromWorker.bind(this)),this._workerInstance}}]),e}(Vc),Ul=function(t){function e(t,n){var i;f()(this,e),i=E()(this,T()(e).call(this,t,n));var o=t.stats(n).min;return i._min_ms=1e3*o,i._min_date=tn(i._min_ms),i}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,e){return tn(1e3*e)-this._min_date}},{key:"internalToExternal",value:function(t,e){var n=e;return tn(n+=this._min_ms)}},{key:"externalToSource",value:function(t,e){return e.getTime()/1e3}},{key:"sourceToExternal",value:function(t,e){return function(t){return t instanceof Date?t:tn(1e3*t)}(e)}},{key:"inlineInternalMatch",value:function(t,e){var n=e._min_ms-this._min_ms;return"(".concat(t,"-").concat(n.toFixed(20),")")}}]),e}(Zo),ql=function(t){function e(t,n){var i;f()(this,e),i=E()(this,T()(e).call(this,t,n));var o=t.stats(n),r=o.grouping&&o.grouping.timezone,a=un({timeZone:r,iso:o.min});return i._min=a.startValue/1e3,i._timeZone=r,i}return I()(e,t),m()(e,[{key:"isRange",value:function(){return!0}},{key:"sourceToInternal",value:function(t,e){var n=this,i=un({iso:e});return[i.startValue/1e3,i.endValue/1e3].map((function(t){return t-n._min}))}},{key:"internalToExternal",value:function(t,e){var n=y()(e,2);return un({start:1e3*(n[0]+this._min),end:1e3*(n[1]+this._min),timeZone:this._timeZone})}},{key:"externalToSource",value:function(t,e){return sn(e,this._timeZone)._iso}},{key:"sourceToExternal",value:function(t,e){return un({iso:e,timeZone:this._timeZone})}},{key:"inlineInternalMatch",value:function(t,e){var n=e._min.getTime()-this._min.getTime();return"(".concat(t,"-").concat(n.toFixed(20),")")}}]),e}(Zo),jl=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gl.DEFAULT;return f()(this,e),(n=E()(this,T()(e).call(this,{message:t,type:i}))).name="CartoMapsAPIError",n}return I()(e,t),e}(R),Gl={DEFAULT:"[Error]",SQL:"[SQL]",NOT_SUPPORTED:"[Not supported]",SECURITY:"[Security]"},Hl=function(t){function e(){var t,n;f()(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(n=E()(this,(t=T()(e)).call.apply(t,[this].concat(o)))).propertyKeys=[],n.baseNames={},Object.keys(n.properties).forEach((function(t){var e=n.properties[t];e.aggregations?Object.values(e.aggregations).forEach((function(e){n._addProperty(t,e)})):e.dimension?e.dimension.range?(e.dimension.range.forEach((function(e){n._addProperty(t,e,!1)})),n._addProperty(t,e.dimension.propertyName)):n._addProperty(t,e.dimension.propertyName):n._addProperty(t,t)})),n}return I()(e,t),m()(e,[{key:"_addProperty",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.baseNames[e]=t,n&&this.propertyKeys.push(e)}},{key:"_dimensionInfo",value:function(t){var e=this.baseName(t)||t,n=this.properties[e],i=null;e!==t&&e!==t&&n.dimension&&(i=n.dimension);var o=n.type,r=i?function(t){return t.type}(i):o;return{baseName:e,column:n,dimension:i,dataframeType:i?function(t,e){return t.range?"date":t.type}(i):r,baseType:o,sourceType:r}}},{key:"baseName",value:function(t){return this.baseNames[t]}},{key:"decodedProperties",value:function(t){var n=this._dimensionInfo(t).dimension;return n&&n.grouping&&n.range?n.range:Ai()(T()(e.prototype),"decodedProperties",this).call(this,t)}},{key:"stats",value:function(t){var n=this._dimensionInfo(t).dimension;return n&&n.grouping?n:Ai()(T()(e.prototype),"stats",this).call(this,t)}},{key:"setCodecs",value:function(){!function(t){Object.keys(t.properties).forEach((function(e){var n=t.properties[e],i=n.type;if("geometry"!==i){var o=n.dimension?n.dimension.type:null;n.codec=function(t,e,n){switch(e){case"number":return new El(t,n);case"category":return new Tl(t,n);case"date":return new Ul(t,n);case"timerange":return new ql(t,n);default:throw new jl("Windshaft MVT decoding error. Feature property value of type '".concat(e,"' cannot be decoded."),Gl.NOT_SUPPORTED)}}(t,("category"===o&&n.dimension.range?"timerange":o)||i,(o?n.dimension.propertyName:e)||e)}}))}(this)}},{key:"sourcePropertyName",value:function(t){var e=this.baseName(t),n=this.properties[e].dimension;return n&&n.range?n.propertyName:t}}]),e}(Il),Zl=function(){function t(e){f()(this,t),this._onlyAggregateFilters=e.exclusive}return m()(t,[{key:"getFilters",value:function(t){var e={},n=this._and(t).filter(Boolean),i=!0,o=!1,r=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=a.value,c=u.property,l=e[c];if(l){if(!this._compatibleAndFilters(l,u.filters))return{};Object.assign(l[0],u.filters[0])}else e[c]=u.filters}}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return e}},{key:"_and",value:function(t){return t.isA(qi)?this._and(t.a).concat(this._and(t.b)).filter(Boolean):[this._or(t)].filter(Boolean)}},{key:"_or",value:function(t){if(t.isA(no)){var e=this._basicCondition(t.a),n=this._basicCondition(t.b);if(e&&n&&e.property===n.property)return e.filters=e.filters.concat(n.filters),e}return this._basicCondition(t)}},{key:"_removeBlend",value:function(t){return t.isA(ao)&&t.originalMix.isA(Si)?t.b:t}},{key:"_basicCondition",value:function(t){return t=this._removeBlend(t),this._between(t)||this._equals(t)||this._notEquals(t)||this._lessThan(t)||this._lessThanOrEqualTo(t)||this._greaterThan(t)||this._greaterThanOrEqualTo(t)||this._in(t)||this._notIn(t)}},{key:"_value",value:function(t){if((t=this._removeBlend(t)).isA(er)||t.isA(Fo)||t.isA(_o))return t.value}},{key:"_between",value:function(t){if(t.isA(Li)){var e=this._aggregation(t.input),n=e&&this._value(t.lowerLimit),i=e&&n&&this._value(t.upperLimit);if(i)return e.filters.push({greater_than_or_equal_to:n,less_than_or_equal_to:i}),e}}},{key:"_in",value:function(t){var e=this;if(t.isA(Ii)){var n=this._aggregation(t.input),i=t.list.elems.map((function(t){return e._value(t)})).filter((function(t){return null!==t}));if(n&&i.length>0&&i.length===t.list.elems.length)return n.filters.push({in:i}),n}}},{key:"_notIn",value:function(t){var e=this;if(t.isA(Ri)){var n=this._aggregation(t.input),i=t.list.elems.map((function(t){return e._value(t)})).filter((function(t){return null!==t}));if(n&&i.length>0&&i.length===t.list.elems.length)return n.filters.push({not_in:i}),n}}},{key:"_equals",value:function(t){return this._cmpOp(t,Zi,"equal")}},{key:"_notEquals",value:function(t){return this._cmpOp(t,eo,"not_equal")}},{key:"_lessThan",value:function(t){return this._cmpOp(t,Xi,"less_than","greater_than")}},{key:"_lessThanOrEqualTo",value:function(t){return this._cmpOp(t,$i,"less_than_or_equal_to","greater_than_or_equal_to")}},{key:"_greaterThan",value:function(t){return this._cmpOp(t,Wi,"greater_than","less_than")}},{key:"_greaterThanOrEqualTo",value:function(t){return this._cmpOp(t,Ki,"greater_than_or_equal_to","less_than_or_equal_to")}},{key:"_aggregation",value:function(t){if((t=this._removeBlend(t)).isA(Mo)||t.isA(Oo)||t.isA(ko)||t.isA(Eo)||t.isA(So)){var e=this._property(t.property);if(e)return e.property=t.propertyName,e}if(!this._onlyAggregateFilters)return this._property(t)}},{key:"_property",value:function(t){if((t=this._removeBlend(t)).isA(wo))return{property:t.name,filters:[]}}},{key:"_cmpOp",value:function(t,e,n,i){if(i=i||n,t.isA(e)){var o=this._aggregation(t.a),r=o&&this._value(t.b),a=n;if(r||(r=(o=this._aggregation(t.b))&&this._value(t.a),a=i),r){var s={};return s[a]=r,o.filters.push(s),o}}}},{key:"_compatibleAndFilters",value:function(t,e){if(0===t.length||0===e.length)return!0;if(1===t.length&&1===e.length){var n=t[0],i=e[0];if(1===Object.keys(n).length&&1===Object.keys(i).length){var o=Object.keys(n)[0],r=Object.keys(i)[0],a=["less_than","less_than_or_equal_to"],s=["greater_than","greater_than_or_equal_to"];return a.includes(o)&&s.includes(r)||a.includes(r)&&s.includes(o)}}return!1}}]),t}(),Wl=function(){function t(){f()(this,t)}return m()(t,[{key:"getFilter",value:function(t){return this._filter(t)}},{key:"_filter",value:function(t){return this._and(t)||this._or(t)||this._in(t)||this._notIn(t)||this._between(t)||this._equals(t)||this._notEquals(t)||this._lessThan(t)||this._lessThanOrEqualTo(t)||this._greaterThan(t)||this._greaterThanOrEqualTo(t)||this._blend(t)||null}},{key:"_and",value:function(t){if(t.isA(qi)){var e=[this._filter(t.a),this._filter(t.b)].filter(Boolean).reduce((function(t,e){return t.concat(e)}),[]);if(e.length)return 1===e.length?e[0]:{type:"and",left:e[0],right:e[1]}}}},{key:"_or",value:function(t){if(t.isA(no)){var e=this._filter(t.a),n=this._filter(t.b);if(e&&n)return{type:"or",left:e,right:n}}}},{key:"_lessThan",value:function(t){return this._cmpOp(t,Xi,"lessThan")}},{key:"_lessThanOrEqualTo",value:function(t){return this._cmpOp(t,$i,"lessThanOrEqualTo")}},{key:"_greaterThan",value:function(t){return this._cmpOp(t,Wi,"greaterThan")}},{key:"_greaterThanOrEqualTo",value:function(t){return this._cmpOp(t,Ki,"greaterThanOrEqualTo")}},{key:"_equals",value:function(t){return this._cmpOp(t,Zi,"equals")}},{key:"_notEquals",value:function(t){return this._cmpOp(t,eo,"notEquals")}},{key:"_cmpOp",value:function(t,e,n){if(t.isA(e)){var i=this._property(t.a)||this._value(t.a),o=this._property(t.b)||this._value(t.b);if(i&&o)return{type:n,left:i,right:o}}}},{key:"_blend",value:function(t){if(t.isA(ao)&&t.originalMix.isA(Si))return this._filter(t.b)}},{key:"_property",value:function(t){if(t.isA(wo))return{type:"property",property:t.name}}},{key:"_value",value:function(t){if(t.isA(er)||t.isA(Fo)||t.isA(_o))return{type:"value",value:t.value}}},{key:"_in",value:function(t){var e=this;if(t.isA(Ii)){var n=this._property(t.input),i=t.list.elems.map((function(t){return e._value(t)}));if(n&&i.length>0&&i.length===t.list.elems.length)return{type:"in",property:n.property,values:i.map((function(t){return t.value}))}}}},{key:"_notIn",value:function(t){var e=this;if(t.isA(Ri)){var n=this._property(t.input),i=t.list.elems.map((function(t){return e._value(t)}));if(n&&i.length>0&&i.length===t.list.elems.length)return{type:"notIn",property:n.property,values:i.map((function(t){return t.value}))}}}},{key:"_between",value:function(t){if(t.isA(Li)){var e=this._property(t.input),n=this._value(t.lowerLimit),i=this._value(t.upperLimit);if(e&&n&&i)return{type:"between",property:e.property,lower:n.value,upper:i.value}}}}]),t}();function Kl(t){return t.type?"(".concat(Ql[t.type](t),")"):Xl(t)}function Xl(t){return isFinite(t)?String(t):"'".concat(t.replace(/\'/g,"''"),"'")}function $l(t){return t.match(/^[a-z\d_]+$/)||(t='"'.concat(t.replace(/\"/g,'""'),'"')),t}function Yl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.map((function(t){return Kl(t)})).join(t)}var Ql={and:function(t){return Yl(" AND ",t.left,t.right)},or:function(t){return Yl(" OR ",t.left,t.right)},between:function(t){return"".concat($l(t.property)," BETWEEN ").concat(Xl(t.lower)," AND ").concat(Xl(t.upper))},in:function(t){return"".concat($l(t.property)," IN (").concat(Yl.apply(void 0,[","].concat(l()(t.values))),")")},notIn:function(t){return"".concat($l(t.property)," NOT IN (").concat(Yl.apply(void 0,[","].concat(l()(t.values))),")")},equals:function(t){return Yl(" = ",t.left,t.right)},notEquals:function(t){return Yl(" <> ",t.left,t.right)},lessThan:function(t){return Yl(" < ",t.left,t.right)},lessThanOrEqualTo:function(t){return Yl(" <= ",t.left,t.right)},greaterThan:function(t){return Yl(" > ",t.left,t.right)},greaterThanOrEqualTo:function(t){return Yl(" >= ",t.left,t.right)},property:function(t){return $l(t.property)},value:function(t){return Xl(t.value)}};function Jl(t){return t&&t.aggregation}var td=n(17),ed=function(){function t(e,n){f()(this,t),this._conf=e,this._mapConfig=n,this._auth=this._encodeParameter("api_key",this._conf.apiKey),this._client=this._encodeParameter("client","vl-".concat(td.a))}return m()(t,[{key:"getLayerGroup",value:function(){var t=Jn()(Yn.a.mark((function t(){var e,n;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this._makeHttpRequest());case 3:e=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new jl("Failed to connect to Maps API with your user('".concat(this._conf.username,"')"));case 9:return t.next=11,e.json();case 11:return n=t.sent,e.ok||this._dealWithWindshaftErrors(e,n),t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(){return t.apply(this,arguments)}}()},{key:"_makeHttpRequest",value:function(){var t=[this._auth,this._client,this._encodeParameter("config",this._mapConfigPayload())],e=this._generateUrl(this._generateMapsApiUrl(),t);return e.length<2048?this._getRequest(e):this._postRequest()}},{key:"_dealWithWindshaftErrors",value:function(t,e){if(401===t.status)throw new jl("Unauthorized access to Maps API: invalid combination of user('".concat(this._conf.username,"') and apiKey('").concat(this._conf.apiKey,"')"),Gl.SECURITY);if(403===t.status)throw new jl("Unauthorized access to dataset: the provided apiKey('".concat(this._conf.apiKey,"') doesn't provide access to the requested data"),Gl.SECURITY);throw new jl("".concat(JSON.stringify(e.errors)),Gl.SQL)}},{key:"_mapConfigPayload",value:function(){return JSON.stringify(this._mapConfig)}},{key:"_getRequest",value:function(t){return new Request(t,{method:"GET",headers:{Accept:"application/json"}})}},{key:"_postRequest",value:function(){var t=[this._auth,this._client];return new Request(this._generateUrl(this._generateMapsApiUrl(),t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:this._mapConfigPayload()})}},{key:"_encodeParameter",value:function(t,e){return"".concat(t,"=").concat(encodeURIComponent(e))}},{key:"_generateUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"".concat(t,"?").concat(e.join("&"))}},{key:"_generateMapsApiUrl",value:function(t){var e="".concat(this._conf.serverURL,"/api/v1/map");return t&&(e+=t),e}}]),t}(),nd=function(){function t(e){f()(this,t),this._source=e,this._exclusive=!0,this._MNS=null,this._promiseMNS=null,this.inProgressInstantiations={}}return m()(t,[{key:"bindLayer",value:function(t){this._addDataframe=t,this._mvtClient.bindLayer(t)}},{key:"_getInstantiationID",value:function(t,e){var n=t.resolution,i=t.filtering;return JSON.stringify({MNS:vn.simplify(t.MNS),resolution:n,filtering:e.backendFilters?i:null,options:e})}},{key:"getMetadata",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._getServerInfoFrom(e),!this._needToInstantiateMap(n)){t.next=6;break}return t.next=4,this._repeatableInstantiate(n);case 4:this._updateStateAfterInstantiating(t.sent);case 6:return t.abrupt("return",this.metadata);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_getServerInfoFrom",value:function(t){return{MNS:this._getMinNeededSchemaFrom(t),resolution:t.resolution.value,filtering:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Zl(e),i={preaggregation:new Wl(e).getFilter(t.filter),aggregation:n.getFilters(t.filter)};return i.preaggregation||i.aggregation?i:null}(t,{exclusive:this._exclusive})}}},{key:"_getMinNeededSchemaFrom",value:function(t){var e=t.getMinimumNeededSchema();return this._checkAcceptableMNS(e),this._forceIncludeCartodbId(e),e}},{key:"_forceIncludeCartodbId",value:function(t){t[Ol]||(t[Ol]=[{type:fn}])}},{key:"requiresNewMetadata",value:function(t){var e=this._getServerInfoFrom(t);return this._needToInstantiateMap(e)}},{key:"_checkAcceptableMNS",value:function(t){Object.keys(t).forEach((function(e){var n=t[e],i=n.some((function(t){return t.type===pn})),o=n.some((function(t){return t.type===fn}));if(i&&o){var r=JSON.stringify(n.filter((function(t){return"aggregated"!==t.type})));throw new Fe("Incompatible combination of cluster aggregation usages (".concat(r,") with unaggregated usage for property '").concat(e,"'"),Le.INCORRECT_VALUE)}}))}},{key:"getData",value:function(t,e){if(this._mvtClient)return this._mvtClient.requestData(t,e)}},{key:"_needToInstantiateMap",value:function(t){var e=t.resolution,n=t.filtering,i=vn.notEquals(this._MNS,t.MNS),o=this.resolution!==e,r=JSON.stringify(this.filtering)!==JSON.stringify(n);return i||o||r&&this.metadata&&this.metadata.featureCount>2e6}},{key:"_isInstantiated",value:function(){return!!this.metadata}},{key:"_instantiationChoices",value:function(t){var e={backendFilters:!0};return t&&t.featureCount>=0&&(e.backendFilters=t.featureCount>2e6||!t.backendFiltersApplied),e}},{key:"_instantiateUncached",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n,i,o,r,a,s,u,c,l,d,h,p,f,g,m,_,y=arguments;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=y.length>1&&void 0!==y[1]?y[1]:{backendFilters:!0},i=y.length>2&&void 0!==y[2]?y[2]:null,o=e.MNS,r=e.resolution,a=e.filtering,t.next=5,this._generateAggregation(o,r);case 5:return s=t.sent,u=this._buildSelectClause(o),c=this._buildQuery(u),l="(".concat(c,") AS tmp"),h=!1,(d=n.backendFilters?a:null)&&this._requiresAggregation(o)&&(s.filters=Jl(d),s.filters&&(h=!0),this._exclusive||(d=null)),d&&(p=this._buildQuery(u,d),h=h||p!==c,c=p),f=this._getConfig(),t.next=16,this._getInstantiationPromise(l,f,s,c,u,i,o);case 16:return m=(g=t.sent).urlTemplates,(_=g.metadata).backendFiltersApplied=h,t.abrupt("return",{MNS:o,resolution:r,filtering:a,metadata:_,urlTemplates:m});case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_updateStateAfterInstantiating",value:function(t){var e=t.MNS,n=t.resolution,i=t.filtering,o=t.metadata,r=t.urlTemplates;this._mvtClient&&this._mvtClient.free(),o.extent=2048,this._mvtClient=new Vl(r,o),this._mvtClient._workerName="windshaft",this._mvtClient.bindLayer(this._addDataframe),this.urlTemplates=r,this.metadata=o,this._MNS=e,this.filtering=i,this.resolution=n,this._checkLayerMeta(e)}},{key:"_instantiate",value:function(){var t=Jn()(Yn.a.mark((function t(e,n,i){var o,r;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=this._getInstantiationID(e,n),!this.inProgressInstantiations[o]){t.next=3;break}return t.abrupt("return",this.inProgressInstantiations[o]);case 3:return r=this._instantiateUncached(e,n,i),this.inProgressInstantiations[o]=r,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}()},{key:"_repeatableInstantiate",value:function(){var t=Jn()(Yn.a.mark((function t(e){var n,i,o=this;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,i=this._instantiationChoices(this.metadata),t.abrupt("return",od(i,(function(t){return n=t.metadata,o._instantiationChoices(t.metadata)}),(function(t){return o._instantiate(e,t,n)})));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_checkLayerMeta",value:function(t){if(!this._isAggregated()&&this._requiresAggregation(t))throw new jl("Aggregation not supported for this dataset",Gl.NOT_SUPPORTED)}},{key:"_isAggregated",value:function(){return this.metadata&&this.metadata.isAggregated}},{key:"_requiresAggregation",value:function(t){return Object.values(t).some((function(t){return t.some((function(t){return t.type===pn}))}))}},{key:"_generateAggregation",value:function(t,e){var n={columns:{},dimensions:{},placement:"centroid",resolution:e,threshold:1};return Object.keys(t).forEach((function(e){e!==Ol&&t[e].forEach((function(t){if("aggregated"===t.type)n.columns[vn.column.aggColumn(e,t.op)]={aggregate_function:t.op,aggregated_column:e};else if("dimension"===t.type){var i=t.dimension;n.dimensions[i.propertyName]={column:e,group:i.group,format:i.format}}else n.dimensions[e]={column:e}}))})),n}},{key:"_buildSelectClause",value:function(t){var e=Object.keys(t).concat(["the_geom_webmercator",Ol]);return e.filter((function(t,n){return e.indexOf(t)===n}))}},{key:"_buildQuery",value:function(t,e){var n=t.map((function(t){return'"'.concat(t,'"')})).join(),i=e?function(t){var e;return(t=t&&t.preaggregation)&&Object.keys(t).length>0&&(e=Kl(t)),e?"WHERE "+e:""}(e):"";return"SELECT ".concat(n," FROM ").concat(this._source._getFromClause()," ").concat(i)}},{key:"_getConfig",value:function(){return{apiKey:this._source._apiKey,username:this._source._username,serverURL:this._source._serverURL}}},{key:"free",value:function(){this._mvtClient&&this._mvtClient.free()}},{key:"_getInstantiationPromise",value:function(){var t=Jn()(Yn.a.mark((function t(e,n,i,o,r,a,s){var u,c;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=this._getMapConfigAgg(i,o),a||this._completeMapConfigWithColumns(u,r),t.next=4,this._getLayerGroupFromWindshaft(n,u);case 4:return t.abrupt("return",{urlTemplates:(c=t.sent).metadata.tilejson.vector.tiles,metadata:a||this._adaptMetadata(c.metadata.layers[0].meta,i,s)});case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,i,o,r,a,s){return t.apply(this,arguments)}}()},{key:"_getMapConfigAgg",value:function(t,e){return{buffersize:{mvt:1},layers:[{type:"mapnik",options:{sql:e,aggregation:t,vector_extent:2048,vector_simplify_extent:2048,dates_as_numbers:!0}}]}}},{key:"_completeMapConfigWithColumns",value:function(t,e){var n=["the_geom","the_geom_webmercator"],i=e.filter((function(t){return!n.includes(t)}));t.layers[0].options.metadata={geometryType:!0,columnStats:{topCategories:32768,includeNulls:!0},dimensions:!0,sample:{num_rows:1e3,include_columns:i}}}},{key:"_getLayerGroupFromWindshaft",value:function(){var t=Jn()(Yn.a.mark((function t(e,n){var i;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new ed(e,n),t.abrupt("return",i.getLayerGroup());case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_adaptMetadata",value:function(t,e,n){t.datesAsNumbers=t.dates_as_numbers;var i=t.stats,o=t.aggregation,r=t.datesAsNumbers,a=i.hasOwnProperty("featureCount")?i.featureCount:i.estimatedFeatureCount,s=i.geometryType&&function(t){switch(t){case"ST_MultiPolygon":case"ST_Polygon":return"polygon";case"ST_Point":return"point";case"ST_MultiLineString":case"ST_LineString":return"line";default:throw new jl("Unimplemented geometry type '".concat(t,"'."),Gl.NOT_SUPPORTED)}}(i.geometryType),u=i.columns;return Object.keys(e.columns).forEach((function(t){var n=e.columns[t].aggregated_column,i=e.columns[t].aggregate_function;u[n].aggregations||(u[n].aggregations={}),u[n].aggregations[i]=t,n!==t&&(u[t]=JSON.parse(JSON.stringify(u[n])))})),Object.keys(e.dimensions).forEach((function(t){var o=e.dimensions[t];if(i.dimensions&&i.dimensions[t].type){var r=i.dimensions[t],a=id(r.type),s=o.column,c=rl()(o,["column"]);if(u[s].dimension)throw new jl("Multiple dimensions based on same column '".concat(s,"'."),Gl.NOT_SUPPORTED);u[s].dimension={propertyName:t,grouping:0===Object.keys(c).length?void 0:r.params,type:a,min:r.min,max:r.max},n[s].some((function(t){return t.range}))>0&&(u[s].dimension.range=["start","end"].map((function(e){return"".concat(t,"_").concat(e)})))}})),Object.values(u).map((function(t){t.type=id(t.type)})),Object.keys(u).forEach((function(t){var e=u[t];"category"===e.type&&e.categories?e.categories.forEach((function(t){t.name=t.category,delete t.category})):r&&r.includes(t)&&(e.type="date")})),"point"===s&&(u._cdb_feature_count={type:"number"}),new Hl({properties:u,featureCount:a,sample:i.sample,geomType:s,isAggregated:o.mvt,idProperty:Ol})}}]),t}();function id(t){return"string"===t?"category":t}function od(t,e,n){return rd.apply(this,arguments)}function rd(){return(rd=Jn()(Yn.a.mark((function t(e,n,i){var o,r;return Yn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i(e),t.next=3,o;case 3:if(r=n(t.sent),JSON.stringify(e)!==JSON.stringify(r)){t.next=9;break}return t.abrupt("return",o);case 9:return t.abrupt("return",i(r));case 10:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var ad=function(t){function e(){var t;return f()(this,e),(t=E()(this,T()(e).call(this)))._client=new nd(uo()(uo()(t))),t}return I()(e,t),m()(e,[{key:"initialize",value:function(t,e){this._initializeAuth(t),this._initializeConfig(e),this._initializeServerURL()}},{key:"_initializeAuth",value:function(t){this._auth=t||on,ln(this._auth),this._apiKey=this._auth.apiKey,this._username=this._auth.username}},{key:"_initializeConfig",value:function(t){this._config=t||rn,hn(this._config)}},{key:"_initializeServerURL",value:function(){var t=this._config&&this._config.serverURL||"https://{user}.carto.com";t=t.replace(/{user}/,this._username),this._serverURL=t}},{key:"bindLayer",value:function(t){this._client.bindLayer(t)}},{key:"requiresNewMetadata",value:function(t){return this._client.requiresNewMetadata(t)}},{key:"requestMetadata",value:function(t){return this._client.getMetadata(t)}},{key:"requestData",value:function(t,e){return this._client.getData(t,e)}},{key:"free",value:function(){this._client.free()}}]),e}(Vc),sd=function(t){function e(t,n,i){var o;return f()(this,e),(o=E()(this,T()(e).call(this)))._checkTableName(t),o._tableName=t,o.initialize(n,i),o}return I()(e,t),m()(e,[{key:"_getFromClause",value:function(){return this._tableName}},{key:"_clone",value:function(){return new e(this._tableName,this._auth,this._config)}},{key:"_checkTableName",value:function(t){if(an.isUndefined(t))throw new Fe("'tableName'",Le.MISSING_REQUIRED);if(!an.isString(t))throw new Fe("'tableName' property must be a string.",Le.INCORRECT_TYPE);if(""===t)throw new Fe("'tableName' property must be not empty.",Le.INCORRECT_VALUE)}}]),e}(ad),ud=function(){function t(e){f()(this,t),this._center=e}return m()(t,[{key:"computePoint",value:function(t){var e=an.projectToWebMercator({lat:t[1],lng:t[0]});return Fl(e.x,e.y,{scale:an.WM_R,center:this._center})}},{key:"computeLineString",value:function(t,e){for(var n=[],i=0;i<t.length;i++){var o=this.computePoint(t[e?t.length-i-1:i]);n.push(o.x,o.y)}return n}},{key:"computeMultiLineString",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=this.computeLineString(t[n]);i.length>0&&e.push(i)}return e}},{key:"computePolygon",value:function(t){var e={flat:[],holes:[],clipped:[]},n=0,i=!1;if(t.length){i=this._isReversed(t[0]);var o=this.computeLineString(t[0],i);e.flat=e.flat.concat(o)}for(var r=1;r<t.length;r++){i!==this._isReversed(t[r])&&e.holes.push(n+=t[r-1].length);var a=this.computeLineString(t[r],i);e.flat=e.flat.concat(a)}return e}},{key:"computeMultiPolygon",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=this.computePolygon(t[n]);i.flat.length>0&&e.push(i)}return e}},{key:"_isReversed",value:function(t){for(var e,n=0,i=t[0],o=0;o<t.length-1;o++)n+=((e=t[o+1])[1]-i[1])*(e[0]+i[0]),i=e;return n>=0}}]),t}(),cd=Object.freeze({POINT:"Point",LINE_STRING:"LineString",MULTI_LINE_STRING:"MultiLineString",POLYGON:"Polygon",MULTI_POLYGON:"MultiPolygon"});function ld(t){switch(t){case cd.POINT:return"point";case cd.LINE_STRING:case cd.MULTI_LINE_STRING:return"line";case cd.POLYGON:case cd.MULTI_POLYGON:return"polygon";default:return""}}var dd=function(t){function e(t,n){var i;f()(this,e),i=E()(this,T()(e).call(this,t,n));var o=t.stats(n).min;return i._min_date=Je(o),i._min_ms=i._min_date.getTime(),i}return I()(e,t),m()(e,[{key:"sourceToInternal",value:function(t,e){return Je(e).getTime()-this._min_ms}},{key:"internalToExternal",value:function(t,e){var n=e;return tn(n+=this._min_ms)}},{key:"externalToSource",value:function(t,e){return e.getTime()}},{key:"sourceToExternal",value:function(t,e){return Je(e)}},{key:"inlineInternalMatch",value:function(t,e){var n=e._min_ms-this._min_ms;return"(".concat(t,"-").concat(n.toFixed(20),")")}}]),e}(Zo),hd=function(t){function e(){return f()(this,e),E()(this,T()(e).apply(this,arguments))}return I()(e,t),m()(e,[{key:"setCodecs",value:function(){var t=this;Object.keys(this.properties).forEach((function(e){var n=t.properties[e],i=n.type;"geometry"!==i&&(n.codec=function(t,e,n){switch(e){case"number":return new El(t,n);case"category":return new Tl(t,n);case"date":return new dd(t,n);default:throw new xn("Feature property value of type '".concat(e,"' cannot be decoded."),wn.NOT_SUPPORTED)}}(t,i,e))}))}}]),e}(kl),pd=function(){function t(e,n){f()(this,t),this._providedDateColumns=e,this._boundColumns=n,this._numFields=new Set,this._catFields=new Set,this._dateFields=new Set,this._properties={}}return m()(t,[{key:"buildFrom",value:function(t,e){this._addNumericColumnField(Ol);for(var n=[],i=this._requiredColumnsIn(t),o=0;o<e.length;o++){var r=e[o].properties;this._addPropertiesToMetadata(r,i),this._sampleFeatureOnMetadata(r,n,e.length)}this._calculateAvgForNumericFields();var a=new hd({properties:this._properties,featureCount:e.length,sample:n,geomType:this._dataframeGeomTypeFrom(e),idProperty:Ol});return a.setCodecs(),a}},{key:"getCurrentFields",value:function(){return l()(this._numFields).concat(l()(this._catFields)).concat(l()(this._dateFields))}},{key:"_requiredColumnsIn",value:function(t){return new Set(Object.keys(vn.simplify(t.getMinimumNeededSchema())))}},{key:"_addPropertiesToMetadata",value:function(t,e){for(var n=Object.keys(t),i=0,o=n.length;i<o;i++){var r=n[i];e.has(r)&&!this._boundColumns.has(r)&&this._addPropertyToMetadata(r,t[r])}}},{key:"_calculateAvgForNumericFields",value:function(){var t=this;this._numFields.forEach((function(e){var n=t._properties[e];n.avg=n.sum/n.count}))}},{key:"_dataframeGeomTypeFrom",value:function(t){var e="";return t.length>0&&(e=ld(t[0].geometry.type)),e}},{key:"_sampleFeatureOnMetadata",value:function(t,e,n){if(n>1e3){var i=1e3/n;if(Math.random()>i)return}e.push(t)}},{key:"_addNumericPropertyToMetadata",value:function(t,e){if(this._catFields.has(t)||this._dateFields.has(t))throw new Fe("Unsupported GeoJSON: the property '".concat(t,"' has different types in different features."),Le.INCORRECT_TYPE);this._addNumericColumnField(t);var n=this._properties[t];n.min=Math.min(n.min,e),n.max=Math.max(n.max,e),n.sum+=e}},{key:"_addNumericColumnField",value:function(t){this._numFields.has(t)||(this._numFields.add(t),this._properties[t]={type:"number",min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,avg:Number.NaN,sum:0,count:0})}},{key:"_addDatePropertyToMetadata",value:function(t,e){if(this._catFields.has(t)||this._numFields.has(t))throw new xn("Unsupported GeoJSON: the property '".concat(t,"' has different types in different features."),wn.NOT_SUPPORTED);this._addDateColumnField(t);var n=this._properties[t],i=an.castDate(e);n.min=n.min?an.castDate(Math.min(n.min,i)):i,n.max=n.max?an.castDate(Math.max(n.max,i)):i,n.sum+=e,n.count++}},{key:"_addDateColumnField",value:function(t){this._dateFields.has(t)||(this._dateFields.add(t),this._properties[t]={type:"date",min:null,max:null,avg:null,sum:0,count:0})}},{key:"_addPropertyToMetadata",value:function(t,e){return this._providedDateColumns.has(t)?this._addDatePropertyToMetadata(t,e):Number.isFinite(e)?this._addNumericPropertyToMetadata(t,e):void(null!==e&&this._addCategoryPropertyToMetadata(t,e))}},{key:"_addCategoryPropertyToMetadata",value:function(t,e){if(this._numFields.has(t)||this._dateFields.has(t))throw new xn("Unsupported GeoJSON: the property '".concat(t,"' has different types in different features."),wn.NOT_SUPPORTED);this._catFields.has(t)||(this._catFields.add(t),this._properties[t]={type:"category",categories:[]});var n=this._properties[t],i=n.categories.find((function(t){return t.name===e}));i?i.frequency++:n.categories.push({name:e,frequency:1})}}]),t}(),fd=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,e),(n=E()(this,T()(e).call(this)))._initializeData(t),n._initializeMetadataHelpers(i),n}return I()(e,t),m()(e,[{key:"_initializeData",value:function(t){this._checkData(t),this._data=t,this._features=this._featuresFromData(),this._geomType=this._getGeomType(),this._webMercatorCenter=this._getWebMercatorCoordsCenter(),this._geometryTransformer=new ud(this._webMercatorCenter)}},{key:"_initializeMetadataHelpers",value:function(t){this._providedDateColumns=new Set(t.dateColumns),this._boundColumns=new Set,this._metadataBuilder=new pd(this._providedDateColumns,this._boundColumns)}},{key:"_checkData",value:function(t){if(an.isUndefined(t))throw new Fe("'data'",Le.MISSING_REQUIRED);if(!an.isObject(t))throw new Fe("'data' property must be an object.",Le.INCORRECT_TYPE)}},{key:"_featuresFromData",value:function(){var t,e=this._data.type;if("FeatureCollection"===e)t=this._data.features;else{if("Feature"!==e)throw new Fe("'data' property must be a GeoJSON object.",Le.INCORRECT_VALUE);t=[this._data]}return this._initializePropertiesIn(t),t}},{key:"_getGeomType",value:function(){return this._features[0].geometry.type}},{key:"_getWebMercatorCoordsCenter",value:function(){var t=this,e=0,n=0,i=0;return this._fetchFeatureGeometry({sample:10},(function(o,r){var a=t._samplePoint(r),s=an.projectToWebMercator({lng:a[0],lat:a[1]});e+=s.x,n+=s.y,i+=1})),i>1&&(e/=i,n/=i),{x:e,y:n}}},{key:"_getDataframeCenter",value:function(){var t=this._webMercatorCenter;return Fl(t.x,t.y,{scale:an.WM_R,center:{x:0,y:0}})}},{key:"bindLayer",value:function(t){this._addDataframe=t}},{key:"requestMetadata",value:function(t){return Promise.resolve(this._computeMetadata(t))}},{key:"requestData",value:function(){var t=this;if(this._dataframe){var e=this._decodeUnboundProperties();this._dataframe.addProperties();var n=Object.keys(e);return n.forEach((function(e){t._boundColumns.add(e)})),Promise.resolve(n.length>0)}return this._dataframe=this._createNewDataframe(),Promise.resolve(!0)}},{key:"_createNewDataframe",value:function(){var t=new Ml({active:!0,center:this._getDataframeCenter(),geom:this._decodeGeometry(),properties:this._decodeUnboundProperties(),scale:1,size:this._features.length,type:ld(this._geomType),metadata:this._metadata});return this._boundColumns=new Set(Object.keys(t.properties)),this._addDataframe&&this._addDataframe(t),t}},{key:"requiresNewMetadata",value:function(){return!1}},{key:"_clone",value:function(){return new e(this._data,{dateColumns:Array.from(this._providedDateColumns)})}},{key:"_initializePropertiesIn",value:function(t){for(var e=0;e<t.length;e++)t[e].properties=t[e].properties||{}}},{key:"_computeMetadata",value:function(t){return this._metadata=this._metadataBuilder.buildFrom(t,this._features),this._metadata}},{key:"_decodeUnboundProperties",value:function(){for(var t=this,e=this._getUnboundProperties(),n=Object.keys(e),i=function(i){var o=t._features[i];n.forEach((function(n){n!==Ol||Number.isFinite(o.properties[Ol])||(o.properties[Ol]=-i),e[n][i]=t._metadata.codec(n).sourceToInternal(t._metadata,o.properties[n])}))},o=0;o<this._features.length;o++)i(o);return e}},{key:"_getUnboundProperties",value:function(){var t=this,e={};return this._metadataBuilder.getCurrentFields().forEach((function(n){t._boundColumns.has(n)||(e[n]=new Float32Array(t._features.length+1024))})),e}},{key:"_fetchFeatureGeometry",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=this._features.length,i=t.sample?Math.max(1,Math.floor(n/t.sample)):1,o=0;o<n;o+=i){var r=this._features[o];"Feature"===r.type&&e(o,r.geometry)}return null}},{key:"_allocGeometry",value:function(){return"Point"===this._geomType?new Float32Array(6*this._features.length):[]}},{key:"_decodeGeometry",value:function(){var t=this,e=this._allocGeometry();return this._fetchFeatureGeometry({},(function(n,i){var o=i.type,r=i.coordinates,a=ld(o),s=ld(t._geomType);if(a!==s)throw new Fe("multiple geometry types not supported: found '".concat(a,"' instead of '").concat(s,"'."),Le.INCORRECT_TYPE);if(o===cd.POINT){var u=t._geometryTransformer.computePoint(r);e[6*n+0]=u.x,e[6*n+1]=u.y,e[6*n+2]=u.x,e[6*n+3]=u.y,e[6*n+4]=u.x,e[6*n+5]=u.y}else if(o===cd.LINE_STRING){var c=t._geometryTransformer.computeLineString(r);e.push([c])}else if(o===cd.MULTI_LINE_STRING){var l=t._geometryTransformer.computeMultiLineString(r);e.push(l)}else if(o===cd.POLYGON){var d=t._geometryTransformer.computePolygon(r);e.push([d])}else if(o===cd.MULTI_POLYGON){var h=t._geometryTransformer.computeMultiPolygon(r);e.push(h)}})),e}},{key:"_samplePoint",value:function(t){var e=t.type,n=t.coordinates;return e===cd.POINT?n:e===cd.LINE_STRING?n[0]:e===cd.MULTI_LINE_STRING||e===cd.POLYGON?n[0][0]:e===cd.MULTI_POLYGON?n[0][0][0]:void 0}},{key:"free",value:function(){}}]),e}(Vc),gd=function(t){function e(t,n,i){var o;return f()(this,e),(o=E()(this,T()(e).call(this)))._checkQuery(t),o._query=t,o.initialize(n,i),o}return I()(e,t),m()(e,[{key:"_getFromClause",value:function(){return"(".concat(this._query,") as _cdb_query_wrapper")}},{key:"_clone",value:function(){return new e(this._query,this._auth,this._config)}},{key:"_checkQuery",value:function(t){if(an.isUndefined(t))throw new Fe("'query'",Le.MISSING_REQUIRED);if(!an.isString(t))throw new Fe("'query' property must be a string.",Le.INCORRECT_TYPE);if(""===t)throw new Fe("'query' property must be not empty.",Le.INCORRECT_VALUE);if(!t.match(/\bSELECT\b/i))throw new Fe("'query' property must be a SQL query.",Le.INCORRECT_VALUE)}}]),e}(ad),md=[];function _d(t,e,n){var i=[];if("loaded"===t){var o=new Set(e);e.forEach((function(t){var e=function(){o.delete(t),0===o.size&&n()};t.on("loaded",e),i.push(e)}))}else{if("updated"!==t)throw new Fe("Event name '".concat(t,"' is not supported by \"carto.on\". Supported event names are: 'loaded' and 'updated'."),Le.INCORRECT_VALUE);var r=!1;e.forEach((function(t){var e=function(){r||window.requestAnimationFrame((function(){r=!1,n()}))};t.on("updated",e),i.push(e)}))}md.push({eventName:t,layerList:e,callback:n,internalCallbacks:i})}function yd(t,e,n){md.forEach((function(i){i.eventName===t&&i.layerList.every((function(t){return e.includes(t)}))&&i.callback===n&&i.layerList.forEach((function(e){i.internalCallbacks.forEach((function(n){e.off(t,n)}))}))})),md=md.filter((function(i){return!(i.eventName===t&&i.layerList.every((function(t){return e.includes(t)}))&&i.callback===n)}))}var bd="https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",vd="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",Cd="https://basemaps.cartocdn.com/gl/positron-gl-style/style.json";n.d(e,"source",(function(){return xd})),n.d(e,"version",(function(){return td.a})),n.d(e,"on",(function(){return _d})),n.d(e,"off",(function(){return yd})),n.d(e,"isBrowserSupported",(function(){return Zc})),n.d(e,"unsupportedBrowserReasons",(function(){return Wc})),n.d(e,"setDefaultAuth",(function(){return cn})),n.d(e,"setDefaultConfig",(function(){return dn})),n.d(e,"expressions",(function(){return s})),n.d(e,"Layer",(function(){return tl})),n.d(e,"Viz",(function(){return zc})),n.d(e,"Interactivity",(function(){return nl})),n.d(e,"basemaps",(function(){return u}));var xd={Dataset:sd,SQL:gd,GeoJSON:fd,MVT:Vl};e.default={version:td.a,on:_d,off:yd,setDefaultAuth:cn,setDefaultConfig:dn,source:xd,expressions:s,Layer:tl,Viz:zc,Interactivity:nl,basemaps:u}}])},"hN/g":function(t,e,n){"use strict";n.r(e),n("pDpN")},pDpN:function(t,e,n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";!function(t){const e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function i(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");const o=t.__Zone_symbol_prefix||"__zone_symbol__";function r(t){return o+t}const a=!0===t[r("forceDuplicateZoneCheck")];if(t.Zone){if(a||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class s{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new c(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==S.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=s.current;for(;t.parent;)t=t.parent;return t}static get current(){return A.zone}static get currentTask(){return I}static __load_patch(e,o){if(S.hasOwnProperty(e)){if(a)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const r="Zone:"+e;n(r),S[e]=o(t,s,T),i(r,r)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),i=this;return function(){return i.runGuarded(n,this,arguments,e)}}run(t,e,n,i){A={parent:A,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,i)}finally{A=A.parent}}runGuarded(t,e=null,n,i){A={parent:A,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,i)}catch(o){if(this._zoneDelegate.handleError(this,o))throw o}}finally{A=A.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||b).name+"; Execution: "+this.name+")");if(t.state===v&&(t.type===E||t.type===k))return;const i=t.state!=w;i&&t._transitionTo(w,x),t.runCount++;const o=I;I=t,A={parent:A,zone:this};try{t.type==k&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(r){if(this._zoneDelegate.handleError(this,r))throw r}}finally{t.state!==v&&t.state!==M&&(t.type==E||t.data&&t.data.isPeriodic?i&&t._transitionTo(x,w):(t.runCount=0,this._updateTaskCount(t,-1),i&&t._transitionTo(v,w,v))),A=A.parent,I=o}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(C,v);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(n){throw t._transitionTo(M,C,v),this._zoneDelegate.handleError(this,n),n}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==C&&t._transitionTo(x,C),t}scheduleMicroTask(t,e,n,i){return this.scheduleTask(new l(O,t,e,n,i,void 0))}scheduleMacroTask(t,e,n,i,o){return this.scheduleTask(new l(k,t,e,n,i,o))}scheduleEventTask(t,e,n,i,o){return this.scheduleTask(new l(E,t,e,n,i,o))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||b).name+"; Execution: "+this.name+")");t._transitionTo(P,x,w);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(M,P),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(v,P),t.runCount=0,t}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let i=0;i<n.length;i++)n[i]._updateTaskCount(t.type,e)}}s.__symbol__=r;const u={name:"",onHasTask:(t,e,n,i)=>t.hasTask(n,i),onScheduleTask:(t,e,n,i)=>t.scheduleTask(n,i),onInvokeTask:(t,e,n,i,o,r)=>t.invokeTask(n,i,o,r),onCancelTask:(t,e,n,i)=>t.cancelTask(n,i)};class c{constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const i=n&&n.onHasTask;(i||e&&e._hasTaskZS)&&(this._hasTaskZS=i?n:u,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new s(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,i,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,i,o):e.apply(n,i)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),n||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=O)throw new Error("Task is missing scheduleFn.");_(e)}return n}invokeTask(t,e,n,i){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,i):e.callback.apply(n,i)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(n){this.handleError(t,n)}}_updateTaskCount(t,e){const n=this._taskCounts,i=n[t],o=n[t]=i+e;if(o<0)throw new Error("More tasks executed then were scheduled.");0!=i&&0!=o||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})}}class l{constructor(e,n,i,o,r,a){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=o,this.scheduleFn=r,this.cancelFn=a,!i)throw new Error("callback is not defined");this.callback=i;const s=this;this.invoke=e===E&&o&&o.useG?l.invokeTask:function(){return l.invokeTask.call(t,s,this,arguments)}}static invokeTask(t,e,n){t||(t=this),D++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==D&&y(),D--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(v,C)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==v&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const d=r("setTimeout"),h=r("Promise"),p=r("then");let f,g=[],m=!1;function _(e){if(0===D&&0===g.length)if(f||t[h]&&(f=t[h].resolve(0)),f){let t=f[p];t||(t=f.then),t.call(f,y)}else t[d](y,0);e&&g.push(e)}function y(){if(!m){for(m=!0;g.length;){const e=g;g=[];for(let n=0;n<e.length;n++){const i=e[n];try{i.zone.runTask(i,null,null)}catch(t){T.onUnhandledError(t)}}}T.microtaskDrainDone(),m=!1}}const b={name:"NO ZONE"},v="notScheduled",C="scheduling",x="scheduled",w="running",P="canceling",M="unknown",O="microTask",k="macroTask",E="eventTask",S={},T={symbol:r,currentZoneFrame:()=>A,onUnhandledError:R,microtaskDrainDone:R,scheduleMicroTask:_,showUncaughtError:()=>!s[r("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:R,patchMethod:()=>R,bindArguments:()=>[],patchThen:()=>R,patchMacroTask:()=>R,setNativePromise:t=>{t&&"function"==typeof t.resolve&&(f=t.resolve(0))},patchEventPrototype:()=>R,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>R,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>R,wrapWithCurrentZone:()=>R,filterProperties:()=>[],attachOriginToPatched:()=>R,_redefineProperty:()=>R,patchCallbacks:()=>R};let A={parent:null,zone:new s(null,null)},I=null,D=0;function R(){}i("Zone","Zone"),t.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(t,e,n)=>{const i=Object.getOwnPropertyDescriptor,o=Object.defineProperty,r=n.symbol,a=[],s=r("Promise"),u=r("then");n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;a.length;)for(;a.length;){const e=a.shift();try{e.zone.runGuarded(()=>{throw e})}catch(t){l(t)}}};const c=r("unhandledPromiseRejectionHandler");function l(t){n.onUnhandledError(t);try{const n=e[c];n&&"function"==typeof n&&n.call(this,t)}catch(i){}}function d(t){return t&&t.then}function h(t){return t}function p(t){return M.reject(t)}const f=r("state"),g=r("value"),m=r("finally"),_=r("parentPromiseValue"),y=r("parentPromiseState");function b(t,e){return n=>{try{C(t,e,n)}catch(i){C(t,!1,i)}}}const v=r("currentTaskTrace");function C(t,i,r){const s=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}}();if(t===r)throw new TypeError("Promise resolved with itself");if(null===t[f]){let l=null;try{"object"!=typeof r&&"function"!=typeof r||(l=r&&r.then)}catch(c){return s(()=>{C(t,!1,c)})(),t}if(!1!==i&&r instanceof M&&r.hasOwnProperty(f)&&r.hasOwnProperty(g)&&null!==r[f])w(r),C(t,r[f],r[g]);else if(!1!==i&&"function"==typeof l)try{l.call(r,s(b(t,i)),s(b(t,!1)))}catch(c){s(()=>{C(t,!1,c)})()}else{t[f]=i;const s=t[g];if(t[g]=r,t[m]===m&&!0===i&&(t[f]=t[y],t[g]=t[_]),!1===i&&r instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;t&&o(r,v,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<s.length;)P(t,s[e++],s[e++],s[e++],s[e++]);if(0==s.length&&0==i){t[f]=0;try{throw new Error("Uncaught (in promise): "+((u=r)&&u.toString===Object.prototype.toString?(u.constructor&&u.constructor.name||"")+": "+JSON.stringify(u):u?u.toString():Object.prototype.toString.call(u))+(r&&r.stack?"\n"+r.stack:""))}catch(c){const i=c;i.rejection=r,i.promise=t,i.zone=e.current,i.task=e.currentTask,a.push(i),n.scheduleMicroTask()}}}}var u;return t}const x=r("rejectionHandledHandler");function w(t){if(0===t[f]){try{const n=e[x];n&&"function"==typeof n&&n.call(this,{rejection:t[g],promise:t})}catch(n){}t[f]=!1;for(let e=0;e<a.length;e++)t===a[e].promise&&a.splice(e,1)}}function P(t,e,n,i,o){w(t);const r=t[f],a=r?"function"==typeof i?i:h:"function"==typeof o?o:p;e.scheduleMicroTask("Promise.then",()=>{try{const i=t[g],o=!!n&&m===n[m];o&&(n[_]=i,n[y]=r);const s=e.run(a,void 0,o&&a!==p&&a!==h?[]:[i]);C(n,!0,s)}catch(i){C(n,!1,i)}},n)}class M{constructor(t){const e=this;if(!(e instanceof M))throw new Error("Must be an instanceof Promise.");e[f]=null,e[g]=[];try{t&&t(b(e,!0),b(e,!1))}catch(n){C(e,!1,n)}}static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return C(new this(null),!0,t)}static reject(t){return C(new this(null),!1,t)}static race(t){let e,n,i=new this((t,i)=>{e=t,n=i});function o(t){e(t)}function r(t){n(t)}for(let a of t)d(a)||(a=this.resolve(a)),a.then(o,r);return i}static all(t){return M.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof M?this:M).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let n,i,o=new this((t,e)=>{n=t,i=e}),r=2,a=0;const s=[];for(let c of t){d(c)||(c=this.resolve(c));const t=a;try{c.then(i=>{s[t]=e?e.thenCallback(i):i,r--,0===r&&n(s)},o=>{e?(s[t]=e.errorCallback(o),r--,0===r&&n(s)):i(o)})}catch(u){i(u)}r++,a++}return r-=2,0===r&&n(s),o}get[Symbol.toStringTag](){return"Promise"}then(t,n){const i=new this.constructor(null),o=e.current;return null==this[f]?this[g].push(o,i,t,n):P(this,o,i,t,n),i}catch(t){return this.then(null,t)}finally(t){const n=new this.constructor(null);n[m]=m;const i=e.current;return null==this[f]?this[g].push(i,n,t,t):P(this,i,n,t,t),n}}M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;const O=t[s]=t.Promise,k=e.__symbol__("ZoneAwarePromise");let E=i(t,"Promise");E&&!E.configurable||(E&&delete E.writable,E&&delete E.value,E||(E={configurable:!0,enumerable:!0}),E.get=function(){return t[k]?t[k]:t[s]},E.set=function(e){e===M?t[k]=e:(t[s]=e,e.prototype[u]||T(e),n.setNativePromise(e))},o(t,"Promise",E)),t.Promise=M;const S=r("thenPatched");function T(t){const e=t.prototype,n=i(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const o=e.then;e[u]=o,t.prototype.then=function(t,e){return new M((t,e)=>{o.call(this,t,e)}).then(t,e)},t[S]=!0}if(n.patchThen=T,O){T(O);const e=t.fetch;"function"==typeof e&&(t[n.symbol("fetch")]=e,t.fetch=(A=e,function(){let t=A.apply(this,arguments);if(t instanceof M)return t;let e=t.constructor;return e[S]||T(e),t}))}var A;return Promise[e.__symbol__("uncaughtPromiseErrors")]=a,M});const t=Object.getOwnPropertyDescriptor,e=Object.defineProperty,n=Object.getPrototypeOf,i=Object.create,o=Array.prototype.slice,r=Zone.__symbol__("addEventListener"),a=Zone.__symbol__("removeEventListener"),s=Zone.__symbol__("");function u(t,e){return Zone.current.wrap(t,e)}function c(t,e,n,i,o){return Zone.current.scheduleMacroTask(t,e,n,i,o)}const l=Zone.__symbol__,d="undefined"!=typeof window,h=d?window:void 0,p=d&&h||"object"==typeof self&&self||global,f=[null];function g(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=u(t[n],e+"_"+n));return t}function m(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const _="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,y=!("nw"in p)&&void 0!==p.process&&"[object process]"==={}.toString.call(p.process),b=!y&&!_&&!(!d||!h.HTMLElement),v=void 0!==p.process&&"[object process]"==={}.toString.call(p.process)&&!_&&!(!d||!h.HTMLElement),C={},x=function(t){if(!(t=t||p.event))return;let e=C[t.type];e||(e=C[t.type]=l("ON_PROPERTY"+t.type));const n=this||t.target||p,i=n[e];let o;if(b&&n===h&&"error"===t.type){const e=t;o=i&&i.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===o&&t.preventDefault()}else o=i&&i.apply(this,arguments),null==o||o||t.preventDefault();return o};function w(n,i,o){let r=t(n,i);if(!r&&o&&t(o,i)&&(r={enumerable:!0,configurable:!0}),!r||!r.configurable)return;const a=l("on"+i+"patched");if(n.hasOwnProperty(a)&&n[a])return;delete r.writable,delete r.value;const s=r.get,u=r.set,c=i.substr(2);let d=C[c];d||(d=C[c]=l("ON_PROPERTY"+c)),r.set=function(t){let e=this;e||n!==p||(e=p),e&&(e[d]&&e.removeEventListener(c,x),u&&u.apply(e,f),"function"==typeof t?(e[d]=t,e.addEventListener(c,x,!1)):e[d]=null)},r.get=function(){let t=this;if(t||n!==p||(t=p),!t)return null;const e=t[d];if(e)return e;if(s){let e=s&&s.call(this);if(e)return r.set.call(this,e),"function"==typeof t.removeAttribute&&t.removeAttribute(i),e}return null},e(n,i,r),n[a]=!0}function P(t,e,n){if(e)for(let i=0;i<e.length;i++)w(t,"on"+e[i],n);else{const e=[];for(const n in t)"on"==n.substr(0,2)&&e.push(n);for(let i=0;i<e.length;i++)w(t,e[i],n)}}const M=l("originalInstance");function O(t){const n=p[t];if(!n)return;p[l(t)]=n,p[t]=function(){const e=g(arguments,t);switch(e.length){case 0:this[M]=new n;break;case 1:this[M]=new n(e[0]);break;case 2:this[M]=new n(e[0],e[1]);break;case 3:this[M]=new n(e[0],e[1],e[2]);break;case 4:this[M]=new n(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},S(p[t],n);const i=new n((function(){}));let o;for(o in i)"XMLHttpRequest"===t&&"responseBlob"===o||function(n){"function"==typeof i[n]?p[t].prototype[n]=function(){return this[M][n].apply(this[M],arguments)}:e(p[t].prototype,n,{set:function(e){"function"==typeof e?(this[M][n]=u(e,t+"."+n),S(this[M][n],e)):this[M][n]=e},get:function(){return this[M][n]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(p[t][o]=n[o])}function k(e,i,o){let r=e;for(;r&&!r.hasOwnProperty(i);)r=n(r);!r&&e[i]&&(r=e);const a=l(i);let s=null;if(r&&!(s=r[a])&&(s=r[a]=r[i],m(r&&t(r,i)))){const t=o(s,a,i);r[i]=function(){return t(this,arguments)},S(r[i],s)}return s}function E(t,e,n){let i=null;function o(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},i.apply(e.target,e.args),t}i=k(t,e,t=>function(e,i){const r=n(e,i);return r.cbIdx>=0&&"function"==typeof i[r.cbIdx]?c(r.name,i[r.cbIdx],r,o):t.apply(e,i)})}function S(t,e){t[l("OriginalDelegate")]=e}let T=!1,A=!1;function I(){try{const t=h.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function D(){if(T)return A;T=!0;try{const t=h.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(A=!0)}catch(t){}return A}Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,n=l("OriginalDelegate"),i=l("Promise"),o=l("Error"),r=function(){if("function"==typeof this){const r=this[n];if(r)return"function"==typeof r?e.call(r):Object.prototype.toString.call(r);if(this===Promise){const n=t[i];if(n)return e.call(n)}if(this===Error){const n=t[o];if(n)return e.call(n)}}return e.call(this)};r[n]=e,Function.prototype.toString=r;const a=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":a.call(this)}});let R=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){R=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(at){R=!1}const F={useG:!0},L={},z={},B=new RegExp("^"+s+"(\\w+)(true|false)$"),N=l("propagationStopped");function V(t,e,i){const o=i&&i.add||"addEventListener",r=i&&i.rm||"removeEventListener",a=i&&i.listeners||"eventListeners",u=i&&i.rmAll||"removeAllListeners",c=l(o),d="."+o+":",h=function(t,e,n){if(t.isRemoved)return;const i=t.callback;"object"==typeof i&&i.handleEvent&&(t.callback=t=>i.handleEvent(t),t.originalDelegate=i),t.invoke(t,e,[n]);const o=t.options;o&&"object"==typeof o&&o.once&&e[r].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,o)},p=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,i=n[L[e.type].false];if(i)if(1===i.length)h(i[0],n,e);else{const t=i.slice();for(let i=0;i<t.length&&(!e||!0!==e[N]);i++)h(t[i],n,e)}},f=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,i=n[L[e.type].true];if(i)if(1===i.length)h(i[0],n,e);else{const t=i.slice();for(let i=0;i<t.length&&(!e||!0!==e[N]);i++)h(t[i],n,e)}};function g(e,i){if(!e)return!1;let h=!0;i&&void 0!==i.useG&&(h=i.useG);const g=i&&i.vh;let m=!0;i&&void 0!==i.chkDup&&(m=i.chkDup);let _=!1;i&&void 0!==i.rt&&(_=i.rt);let b=e;for(;b&&!b.hasOwnProperty(o);)b=n(b);if(!b&&e[o]&&(b=e),!b)return!1;if(b[c])return!1;const v=i&&i.eventNameToString,C={},x=b[c]=b[o],w=b[l(r)]=b[r],P=b[l(a)]=b[a],M=b[l(u)]=b[u];let O;function k(t){R||"boolean"==typeof C.options||null==C.options||(t.options=!!C.options.capture,C.options=t.options)}i&&i.prepend&&(O=b[l(i.prepend)]=b[i.prepend]);const E=h?function(t){if(!C.isExisting)return k(t),x.call(C.target,C.eventName,C.capture?f:p,C.options)}:function(t){return k(t),x.call(C.target,C.eventName,t.invoke,C.options)},T=h?function(t){if(!t.isRemoved){const e=L[t.eventName];let n;e&&(n=e[t.capture?"true":"false"]);const i=n&&t.target[n];if(i)for(let o=0;o<i.length;o++)if(i[o]===t){i.splice(o,1),t.isRemoved=!0,0===i.length&&(t.allRemoved=!0,t.target[n]=null);break}}if(t.allRemoved)return w.call(t.target,t.eventName,t.capture?f:p,t.options)}:function(t){return w.call(t.target,t.eventName,t.invoke,t.options)},A=i&&i.diff?i.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},I=Zone[l("BLACK_LISTED_EVENTS")],D=function(e,n,o,r,a=!1,u=!1){return function(){const c=this||t;let l=arguments[0];i&&i.transferEventName&&(l=i.transferEventName(l));let d=arguments[1];if(!d)return e.apply(this,arguments);if(y&&"uncaughtException"===l)return e.apply(this,arguments);let p=!1;if("function"!=typeof d){if(!d.handleEvent)return e.apply(this,arguments);p=!0}if(g&&!g(e,d,c,arguments))return;const f=arguments[2];if(I)for(let t=0;t<I.length;t++)if(l===I[t])return e.apply(this,arguments);let _,b=!1;void 0===f?_=!1:!0===f?_=!0:!1===f?_=!1:(_=!!f&&!!f.capture,b=!!f&&!!f.once);const x=Zone.current,w=L[l];let P;if(w)P=w[_?"true":"false"];else{const t=(v?v(l):l)+"false",e=(v?v(l):l)+"true",n=s+t,i=s+e;L[l]={},L[l].false=n,L[l].true=i,P=_?i:n}let M,O=c[P],k=!1;if(O){if(k=!0,m)for(let t=0;t<O.length;t++)if(A(O[t],d))return}else O=c[P]=[];const E=c.constructor.name,S=z[E];S&&(M=S[l]),M||(M=E+n+(v?v(l):l)),C.options=f,b&&(C.options.once=!1),C.target=c,C.capture=_,C.eventName=l,C.isExisting=k;const T=h?F:void 0;T&&(T.taskData=C);const D=x.scheduleEventTask(M,d,T,o,r);return C.target=null,T&&(T.taskData=null),b&&(f.once=!0),(R||"boolean"!=typeof D.options)&&(D.options=f),D.target=c,D.capture=_,D.eventName=l,p&&(D.originalDelegate=d),u?O.unshift(D):O.push(D),a?c:void 0}};return b[o]=D(x,d,E,T,_),O&&(b.prependListener=D(O,".prependListener:",(function(t){return O.call(C.target,C.eventName,t.invoke,C.options)}),T,_,!0)),b[r]=function(){const e=this||t;let n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));const o=arguments[2];let r;r=void 0!==o&&(!0===o||!1!==o&&!!o&&!!o.capture);const a=arguments[1];if(!a)return w.apply(this,arguments);if(g&&!g(w,a,e,arguments))return;const u=L[n];let c;u&&(c=u[r?"true":"false"]);const l=c&&e[c];if(l)for(let t=0;t<l.length;t++){const i=l[t];if(A(i,a))return l.splice(t,1),i.isRemoved=!0,0===l.length&&(i.allRemoved=!0,e[c]=null,"string"==typeof n)&&(e[s+"ON_PROPERTY"+n]=null),i.zone.cancelTask(i),_?e:void 0}return w.apply(this,arguments)},b[a]=function(){const e=this||t;let n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));const o=[],r=U(e,v?v(n):n);for(let t=0;t<r.length;t++){const e=r[t];o.push(e.originalDelegate?e.originalDelegate:e.callback)}return o},b[u]=function(){const e=this||t;let n=arguments[0];if(n){i&&i.transferEventName&&(n=i.transferEventName(n));const t=L[n];if(t){const i=e[t.false],o=e[t.true];if(i){const t=i.slice();for(let e=0;e<t.length;e++){const i=t[e];this[r].call(this,n,i.originalDelegate?i.originalDelegate:i.callback,i.options)}}if(o){const t=o.slice();for(let e=0;e<t.length;e++){const i=t[e];this[r].call(this,n,i.originalDelegate?i.originalDelegate:i.callback,i.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=B.exec(t[e]);let i=n&&n[1];i&&"removeListener"!==i&&this[u].call(this,i)}this[u].call(this,"removeListener")}if(_)return this},S(b[o],x),S(b[r],w),M&&S(b[u],M),P&&S(b[a],P),!0}let m=[];for(let n=0;n<e.length;n++)m[n]=g(e[n],i);return m}function U(t,e){const n=[];for(let i in t){const o=B.exec(i);let r=o&&o[1];if(r&&(!e||r===e)){const e=t[i];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}function q(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(e,n){e[N]=!0,t&&t.apply(e,n)})}function j(t,e,n,i,o){const r=Zone.__symbol__(i);if(e[r])return;const a=e[r]=e[i];e[i]=function(r,s,u){return s&&s.prototype&&o.forEach((function(e){const o=`${n}.${i}::`+e,r=s.prototype;if(r.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(r,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,o),t._redefineProperty(s.prototype,e,n)):r[e]&&(r[e]=t.wrapWithCurrentZone(r[e],o))}else r[e]&&(r[e]=t.wrapWithCurrentZone(r[e],o))})),a.call(e,r,s,u)},t.attachOriginToPatched(e[i],a)}const G=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],H=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Z=["load"],W=["blur","error","focus","load","resize","scroll","messageerror"],K=["bounce","finish","start"],X=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],$=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],Y=["close","error","open","message"],Q=["error","message"],J=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],G,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function tt(t,e,n){if(!n||0===n.length)return e;const i=n.filter(e=>e.target===t);if(!i||0===i.length)return e;const o=i[0].ignoreProperties;return e.filter(t=>-1===o.indexOf(t))}function et(t,e,n,i){t&&P(t,tt(t,e,n),i)}function nt(t,e){if(y&&!v)return;if(Zone[t.symbol("patchEvents")])return;const i="undefined"!=typeof WebSocket,o=e.__Zone_ignore_on_properties;if(b){const t=window,e=I?[{target:t,ignoreProperties:["error"]}]:[];et(t,J.concat(["messageerror"]),o?o.concat(e):o,n(t)),et(Document.prototype,J,o),void 0!==t.SVGElement&&et(t.SVGElement.prototype,J,o),et(Element.prototype,J,o),et(HTMLElement.prototype,J,o),et(HTMLMediaElement.prototype,H,o),et(HTMLFrameSetElement.prototype,G.concat(W),o),et(HTMLBodyElement.prototype,G.concat(W),o),et(HTMLFrameElement.prototype,Z,o),et(HTMLIFrameElement.prototype,Z,o);const i=t.HTMLMarqueeElement;i&&et(i.prototype,K,o);const r=t.Worker;r&&et(r.prototype,Q,o)}const r=e.XMLHttpRequest;r&&et(r.prototype,X,o);const a=e.XMLHttpRequestEventTarget;a&&et(a&&a.prototype,X,o),"undefined"!=typeof IDBIndex&&(et(IDBIndex.prototype,$,o),et(IDBRequest.prototype,$,o),et(IDBOpenDBRequest.prototype,$,o),et(IDBDatabase.prototype,$,o),et(IDBTransaction.prototype,$,o),et(IDBCursor.prototype,$,o)),i&&et(WebSocket.prototype,Y,o)}Zone.__load_patch("util",(n,r,a)=>{a.patchOnProperties=P,a.patchMethod=k,a.bindArguments=g,a.patchMacroTask=E;const c=r.__symbol__("BLACK_LISTED_EVENTS"),l=r.__symbol__("UNPATCHED_EVENTS");n[l]&&(n[c]=n[l]),n[c]&&(r[c]=r[l]=n[c]),a.patchEventPrototype=q,a.patchEventTarget=V,a.isIEOrEdge=D,a.ObjectDefineProperty=e,a.ObjectGetOwnPropertyDescriptor=t,a.ObjectCreate=i,a.ArraySlice=o,a.patchClass=O,a.wrapWithCurrentZone=u,a.filterProperties=tt,a.attachOriginToPatched=S,a._redefineProperty=Object.defineProperty,a.patchCallbacks=j,a.getGlobalObjects=()=>({globalSources:z,zoneSymbolEventNames:L,eventNames:J,isBrowser:b,isMix:v,isNode:y,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:s,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"})});const it=l("zoneTask");function ot(t,e,n,i){let o=null,r=null;n+=i;const a={};function s(e){const n=e.data;return n.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof n.handleId?delete a[n.handleId]:n.handleId&&(n.handleId[it]=null))}},n.handleId=o.apply(t,n.args),e}function u(t){return r(t.data.handleId)}o=k(t,e+=i,n=>function(o,r){if("function"==typeof r[0]){const t=c(e,r[0],{isPeriodic:"Interval"===i,delay:"Timeout"===i||"Interval"===i?r[1]||0:void 0,args:r},s,u);if(!t)return t;const n=t.data.handleId;return"number"==typeof n?a[n]=t:n&&(n[it]=t),n&&n.ref&&n.unref&&"function"==typeof n.ref&&"function"==typeof n.unref&&(t.ref=n.ref.bind(n),t.unref=n.unref.bind(n)),"number"==typeof n||n?n:t}return n.apply(t,r)}),r=k(t,n,e=>function(n,i){const o=i[0];let r;"number"==typeof o?r=a[o]:(r=o&&o[it],r||(r=o)),r&&"string"==typeof r.type?"notScheduled"!==r.state&&(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&("number"==typeof o?delete a[o]:o&&(o[it]=null),r.zone.cancelTask(r)):e.apply(t,i)})}function rt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:i,TRUE_STR:o,FALSE_STR:r,ZONE_SYMBOL_PREFIX:a}=e.getGlobalObjects();for(let u=0;u<n.length;u++){const t=n[u],e=a+(t+r),s=a+(t+o);i[t]={},i[t][r]=e,i[t][o]=s}const s=t.EventTarget;return s&&s.prototype?(e.patchEventTarget(t,[s&&s.prototype]),!0):void 0}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",t=>{ot(t,"set","clear","Timeout"),ot(t,"set","clear","Interval"),ot(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{ot(t,"request","cancel","AnimationFrame"),ot(t,"mozRequest","mozCancel","AnimationFrame"),ot(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,e)=>{const n=["alert","prompt","confirm"];for(let i=0;i<n.length;i++)k(t,n[i],(n,i,o)=>function(i,r){return e.current.run(n,t,r,o)})}),Zone.__load_patch("EventTarget",(t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),rt(t,n);const i=t.XMLHttpRequestEventTarget;i&&i.prototype&&n.patchEventTarget(t,[i.prototype]),O("MutationObserver"),O("WebKitMutationObserver"),O("IntersectionObserver"),O("FileReader")}),Zone.__load_patch("on_property",(t,e,n)=>{nt(n,t)}),Zone.__load_patch("customElements",(t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:i}=e.getGlobalObjects();(n||i)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)}),Zone.__load_patch("XHR",(t,e)=>{!function(t){const h=t.XMLHttpRequest;if(!h)return;const p=h.prototype;let f=p[r],g=p[a];if(!f){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;f=t[r],g=t[a]}}function m(t){const i=t.data,u=i.target;u[s]=!1,u[d]=!1;const c=u[o];f||(f=u[r],g=u[a]),c&&g.call(u,"readystatechange",c);const l=u[o]=()=>{if(u.readyState===u.DONE)if(!i.aborted&&u[s]&&"scheduled"===t.state){const n=u[e.__symbol__("loadfalse")];if(n&&n.length>0){const o=t.invoke;t.invoke=function(){const n=u[e.__symbol__("loadfalse")];for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);i.aborted||"scheduled"!==t.state||o.call(t)},n.push(t)}else t.invoke()}else i.aborted||!1!==u[s]||(u[d]=!0)};return f.call(u,"readystatechange",l),u[n]||(u[n]=t),x.apply(u,i.args),u[s]=!0,t}function _(){}function y(t){const e=t.data;return e.aborted=!0,w.apply(e.target,e.args)}const b=k(p,"open",()=>function(t,e){return t[i]=0==e[2],t[u]=e[1],b.apply(t,e)}),v=l("fetchTaskAborting"),C=l("fetchTaskScheduling"),x=k(p,"send",()=>function(t,n){if(!0===e.current[C])return x.apply(t,n);if(t[i])return x.apply(t,n);{const e={target:t,url:t[u],isPeriodic:!1,args:n,aborted:!1},i=c("XMLHttpRequest.send",_,e,m,y);t&&!0===t[d]&&!e.aborted&&"scheduled"===i.state&&i.invoke()}}),w=k(p,"abort",()=>function(t,i){const o=t[n];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===e.current[v])return w.apply(t,i)})}(t);const n=l("xhrTask"),i=l("xhrSync"),o=l("xhrListener"),s=l("xhrScheduled"),u=l("xhrURL"),d=l("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const r=n[o],a=e[r];if(a){if(!m(t(e,r)))continue;e[r]=(t=>{const e=function(){return t.apply(this,g(arguments,i+"."+r))};return S(e,t),e})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(e){return function(n){U(t,e).forEach(i=>{const o=t.PromiseRejectionEvent;if(o){const t=new o(e,{promise:n.promise,reason:n.rejection});i.invoke(t)}})}}t.PromiseRejectionEvent&&(e[l("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[l("rejectionHandledHandler")]=n("rejectionhandled"))})})?i.call(e,n,e,t):i)||(t.exports=o)},pg82:function(t,e){var n=null,i=null;function o(t,e,n){t.addEventListener(e,(function(t){var o=new MouseEvent(n,t);o.pointerId=1,o.isPrimary=!0,o.pointerType="mouse",o.width=1,o.height=1,o.tiltX=0,o.tiltY=0,o.pressure="buttons"in t&&0!==t.buttons?.5:0;var r=t.target;null!==i&&(r=i,"mouseup"===e&&(i=null)),r.dispatchEvent(o),o.defaultPrevented&&t.preventDefault()}))}function r(t,e,i){t.addEventListener(e,(function(t){for(var o=t.changedTouches,r=o.length,a=0;a<r;a++){var s=new CustomEvent(i,{bubbles:!0,cancelable:!0});s.ctrlKey=t.ctrlKey,s.shiftKey=t.shiftKey,s.altKey=t.altKey,s.metaKey=t.metaKey;var u=o.item(a);s.clientX=u.clientX,s.clientY=u.clientY,s.screenX=u.screenX,s.screenY=u.screenY,s.pageX=u.pageX,s.pageY=u.pageY;var c=u.target.getBoundingClientRect();s.offsetX=u.clientX-c.left,s.offsetY=u.clientY-c.top,s.pointerId=1+u.identifier,s.button=0,s.buttons=1,s.movementX=0,s.movementY=0,s.region=null,s.relatedTarget=null,s.x=s.clientX,s.y=s.clientY,s.pointerType="touch",s.width=1,s.height=1,s.tiltX=0,s.tiltY=0,s.pressure=1,"touchstart"===e&&null===n&&(n=u.identifier),s.isPrimary=u.identifier===n,"touchend"===e&&s.isPrimary&&(n=null),t.target.dispatchEvent(s),s.defaultPrevented&&t.preventDefault()}}))}"PointerEvent"in window||(Element.prototype.setPointerCapture=Element.prototype.setCapture,Element.prototype.releasePointerCapture=Element.prototype.releaseCapture,"TouchEvent"in window||(o(document,"mousedown","pointerdown"),o(document,"mousemove","pointermove"),o(document,"mouseup","pointerup")),r(document,"touchstart","pointerdown"),r(document,"touchmove","pointermove"),r(document,"touchend","pointerup"))},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e),n("hN/g");let o=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function a(t){setTimeout(()=>{throw t},0)}const s={closed:!0,next(t){},error(t){if(r.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:o,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(o))try{o.call(this)}catch(a){e=a instanceof l?h(a.errors):[a]}if(u(r)){let t=-1,n=r.length;for(;++t<n;){const n=r[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof l?e=e.concat(h(a.errors)):e.push(a)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function h(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s;break;case 1:if(!t){this.destination=s;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,o){let r;super(),this._parentSubscriber=t;let a=this;i(e)?r=e:e&&(r=e.next,n=e.error,o=e.complete,e!==s&&(a=Object.create(e),i(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=r;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return r.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(a(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(){}function y(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:_}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,o=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(s)}(t,e,n);if(o.add(i?i.call(o,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),r.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(e){r.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(o){n(o),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=r.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class P extends f{constructor(t){super(t),this.destination=t}}let M=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new P(this)}lift(t){const e=new O(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new O(t,e),t})();class O extends M{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class E extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const S=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=T(),I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return S(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,i};function F(t,e,n,i,o=new E(t,n,i)){if(!o.closed)return e instanceof v?e.subscribe(o):R(e)(o)}class L extends f{notifyNext(t,e,n,i,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function z(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}class B{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new N(t,this.project,this.thisArg))}}class N extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new v(n=>{const i=new d;let o=0;return i.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new v(n=>{const i=new d;return i.add(e.schedule(()=>{const o=t[m]();i.add(o.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(D(t))return function(t,e){return new v(n=>{const i=new d;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(I(t))return V(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const i=new d;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(e.schedule(()=>{o=t[A](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(R(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(q((n,i)=>U(t(n,i)).pipe(z((t,o)=>e(n,t,i,o))),n)):("number"==typeof e&&(n=e),e=>e.lift(new j(t,n)))}class j{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new G(t,this.project,this.concurrent))}}class G extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new E(this,e,n),o=this.destination;o.add(i);const r=F(this,t,void 0,void 0,i);r!==i&&o.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,o){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t){return t}function Z(t=Number.POSITIVE_INFINITY){return q(H,t)}function W(t,e){return e?V(t,e):new v(S(t))}function K(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return k(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:Z(e)(W(t,n))}function X(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new Y(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o}}class Y extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return X()(this)}}const J=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends P{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(){return new M}function nt(t){return{toString:t}.toString()}function it(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function ot(t,e,n){return nt(()=>{const i=it(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return n.annotation=e,n;function n(t,n,i){const o=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;o.length<=i;)o.push(null);return(o[i]=o[i]||[]).push(e),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function rt(t,e,n,i){return nt(()=>{const o=it(e);function r(...t){if(this instanceof r)return o.apply(this,t),this;const e=new r(...t);return function(n,o){const r=n.constructor,a=r.hasOwnProperty("__prop__metadata__")?r.__prop__metadata__:Object.defineProperty(r,"__prop__metadata__",{value:{}}).__prop__metadata__;a[o]=a.hasOwnProperty(o)&&a[o]||[],a[o].unshift(e),i&&i(n,o,...t)}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const at=ot("Inject",t=>({token:t})),st=ot("Optional"),ut=ot("Self"),ct=ot("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function ht(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function gt(t){return mt(t,t[yt])||mt(t,t[Ct])}function mt(t,e){return e&&e.token===t?e:null}function _t(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(xt))?t[bt]:null}const yt=dt({"\u0275prov":dt}),bt=dt({"\u0275inj":dt}),vt=dt({"\u0275provFallback":dt}),Ct=dt({ngInjectableDef:dt}),xt=dt({ngInjectorDef:dt});function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Pt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Mt=dt({__forward_ref__:dt});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return wt(this())},t}function kt(t){return Et(t)?t():t}function Et(t){return"function"==typeof t&&t.hasOwnProperty(Mt)&&t.__forward_ref__===Ot}const St="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,Dt=St||It||Tt||At,Rt=dt({"\u0275cmp":dt}),Ft=dt({"\u0275dir":dt}),Lt=dt({"\u0275pipe":dt}),zt=dt({"\u0275mod":dt}),Bt=dt({"\u0275loc":dt}),Nt=dt({"\u0275fac":dt}),Vt=dt({__NG_ELEMENT_ID__:dt});class Ut{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qt=new Ut("INJECTOR",-1),jt={},Gt=/\n/gm,Ht=dt({provide:String,useValue:dt});let Zt,Wt=void 0;function Kt(t){const e=Wt;return Wt=t,e}function Xt(t){const e=Zt;return Zt=t,e}function $t(t,e=lt.Default){if(void 0===Wt)throw new Error("inject() must be called from an injection context");return null===Wt?Jt(t,void 0,e):Wt.get(t,e&lt.Optional?null:void 0,e)}function Yt(t,e=lt.Default){return(Zt||$t)(kt(t),e)}const Qt=Yt;function Jt(t,e,n){const i=gt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${wt(t)}]`)}function te(t){const e=[];for(let n=0;n<t.length;n++){const i=kt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<i.length;e++){const o=i[e];o instanceof st||"Optional"===o.ngMetadataName||o===st?n|=lt.Optional:o instanceof ct||"SkipSelf"===o.ngMetadataName||o===ct?n|=lt.SkipSelf:o instanceof ut||"Self"===o.ngMetadataName||o===ut?n|=lt.Self:t=o instanceof at||o===at?o.token:o}e.push(Yt(t,n))}else e.push(Yt(i))}return e}class ee{get(t,e=jt){if(e===jt){const e=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw e.name="NullInjectorError",e}return e}}class ne{}class ie{}function oe(t,e){t.forEach(t=>Array.isArray(t)?oe(t,e):e(t))}function re(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ae(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function se(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ue(t,e,n){let i=le(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let o=t.length;if(o==e)t.push(n,i);else if(1===o)t.push(i,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ce(t,e){const n=le(t,e);if(n>=0)return t[1|n]}function le(t,e){return function(t,e,n){let i=0,o=t.length>>1;for(;o!==i;){const n=i+(o-i>>1),r=t[n<<1];if(e===r)return n<<1;r>e?o=n:i=n+1}return~(o<<1)}(t,e)}const de=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),he=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),pe={},fe=[];let ge=0;function me(t){return nt(()=>{const e=t.type,n=e.prototype,i={},o={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||he.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,a=t.features,s=t.pipes;return o.id+=ge++,o.inputs=Ce(t.inputs,i),o.outputs=Ce(t.outputs),a&&a.forEach(t=>t(o)),o.directiveDefs=r?()=>("function"==typeof r?r():r).map(_e):null,o.pipeDefs=s?()=>("function"==typeof s?s():s).map(ye):null,o})}function _e(t){return Pe(t)||function(t){return t[Ft]||null}(t)}function ye(t){return function(t){return t[Lt]||null}(t)}const be={};function ve(t){const e={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt(()=>{be[t.id]=t.type}),e}function Ce(t,e){if(null==t)return pe;const n={};for(const i in t)if(t.hasOwnProperty(i)){let o=t[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),n[o]=i,e&&(e[o]=r)}return n}const xe=me;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pe(t){return t[Rt]||null}function Me(t,e){return t.hasOwnProperty(Nt)?t[Nt]:null}function Oe(t,e){const n=t[zt]||null;if(!n&&!0===e)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function ke(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ee(t){return Array.isArray(t)&&!0===t[1]}function Se(t){return 0!=(8&t.flags)}function Te(t){return 2==(2&t.flags)}function Ae(t){return 1==(1&t.flags)}function Ie(t){return null!==t.template}function De(t){return 0!=(512&t[2])}const Re={lFrame:en(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Fe(){return Re.bindingsEnabled}function Le(){return Re.lFrame.lView}function ze(){return Re.lFrame.tView}function Be(t){Re.lFrame.contextLView=t}function Ne(){return Re.lFrame.previousOrParentTNode}function Ve(t,e){Re.lFrame.previousOrParentTNode=t,Re.lFrame.isParent=e}function Ue(){return Re.lFrame.isParent}function qe(){Re.lFrame.isParent=!1}function je(){return Re.checkNoChangesMode}function Ge(t){Re.checkNoChangesMode=t}function He(){const t=Re.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ze(){return Re.lFrame.bindingIndex}function We(){return Re.lFrame.bindingIndex++}function Ke(t){const e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xe(t,e){const n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function $e(){return Re.lFrame.currentQueryIndex}function Ye(t){Re.lFrame.currentQueryIndex=t}function Qe(t,e){const n=tn();Re.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Je(t,e){const n=tn(),i=t[1];Re.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function tn(){const t=Re.lFrame,e=null===t?null:t.child;return null===e?en(t):e}function en(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function nn(){const t=Re.lFrame;return Re.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const on=nn;function rn(){const t=nn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function an(){return Re.lFrame.selectedIndex}function sn(t){Re.lFrame.selectedIndex=t}function un(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function cn(t,e,n){hn(t,e,3,n)}function ln(t,e,n,i){(3&t[2])===n&&hn(t,e,n,i)}function dn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function hn(t,e,n,i){const o=null!=i?i:-1;let r=0;for(let a=void 0!==i?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(r=e[a],null!=i&&r>=i)break}else e[a]<0&&(t[18]+=65536),(r<o||-1==o)&&(pn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function pn(t,e,n,i){const o=n[i]<0,r=n[i+1],a=t[o?-n[i]:n[i]];o?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,r.call(a)):r.call(a)}class fn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let gn=void 0;function mn(){return void 0!==gn?gn:"undefined"!=typeof document?document:void 0}function _n(t){return!!t.listen}const yn={createRenderer:(t,e)=>mn()};function bn(t,e,n){const i=_n(t);let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const a=n[o++],s=n[o++],u=n[o++];i?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{const a=r,s=n[++o];Cn(a)?i&&t.setProperty(e,a,s):i?t.setAttribute(e,a,s):e.setAttribute(a,s),o++}}return o}function vn(t){return 3===t||4===t||6===t}function Cn(t){return 64===t.charCodeAt(0)}function xn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?n=o:0===n||wn(t,n,o,null,-1===n||2===n?e[++i]:null)}}return t}function wn(t,e,n,i,o){let r=0,a=t.length;if(-1===e)a=-1;else for(;r<t.length;){const n=t[r++];if("number"==typeof n){if(n===e){a=-1;break}if(n>e){a=r-1;break}}}for(;r<t.length;){const e=t[r];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==o&&(t[r+1]=o));if(i===t[r+1])return void(t[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==a&&(t.splice(a,0,e),r=a+1),t.splice(r++,0,n),null!==i&&t.splice(r++,0,i),null!==o&&t.splice(r++,0,o)}function Pn(t){return-1!==t}function Mn(t){return 32767&t}function On(t){return t>>16}function kn(t,e){let n=On(t),i=e;for(;n>0;)i=i[15],n--;return i}function En(t){return"string"==typeof t?t:null==t?"":""+t}function Sn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():En(t)}const Tn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dt))();function An(t){return t instanceof Function?t():t}let In=!0;function Dn(t){const e=In;return In=t,e}let Rn=0;function Fn(t,e){const n=zn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Ln(i.data,t),Ln(e,null),Ln(i.blueprint,null));const o=Bn(t,e),r=t.injectorIndex;if(Pn(o)){const t=Mn(o),n=kn(o,e),i=n[1].data;for(let o=0;o<8;o++)e[r+o]=n[t+o]|i[t+o]}return e[r+8]=o,r}function Ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Bn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Nn(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[Vt]:n.charCodeAt(0)||0;null==i&&(i=n[Vt]=Rn++);const o=255&i,r=1<<o,a=64&o,s=32&o,u=e.data;128&o?a?s?u[t+7]|=r:u[t+6]|=r:s?u[t+5]|=r:u[t+4]|=r:a?s?u[t+3]|=r:u[t+2]|=r:s?u[t+1]|=r:u[t]|=r}(t,e,n)}function Vn(t,e,n,i=lt.Default,o){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Vt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Qe(e,t);try{const t=o();if(null!=t||i&lt.Optional)return t;throw new Error(`No provider for ${Sn(n)}!`)}finally{on()}}else if("number"==typeof o){if(-1===o)return new Wn(t,e);let r=null,a=zn(t,e),s=-1,u=i&lt.Host?e[16][6]:null;for((-1===a||i&lt.SkipSelf)&&(s=-1===a?Bn(t,e):e[a+8],Zn(i,!1)?(r=e[1],a=Mn(s),e=kn(s,e)):a=-1);-1!==a;){s=e[a+8];const t=e[1];if(Hn(o,a,t.data)){const t=qn(a,e,n,r,i,u);if(t!==Un)return t}Zn(i,e[1].data[a+8]===u)&&Hn(o,a,e)?(r=t,a=Mn(s),e=kn(s,e)):a=-1}}}if(i&lt.Optional&&void 0===o&&(o=null),0==(i&(lt.Self|lt.Host))){const t=e[9],r=Xt(void 0);try{return t?t.get(n,o,i&lt.Optional):Jt(n,o,i&lt.Optional)}finally{Xt(r)}}if(i&lt.Optional)return o;throw new Error(`NodeInjector: NOT_FOUND [${Sn(n)}]`)}const Un={};function qn(t,e,n,i,o,r){const a=e[1],s=a.data[t+8],u=jn(s,a,n,null==i?Te(s)&&In:i!=a&&3===s.type,o&lt.Host&&r===s);return null!==u?Gn(e,a,u,s):Un}function jn(t,e,n,i,o){const r=t.providerIndexes,a=e.data,s=65535&r,u=t.directiveStart,c=r>>16,l=o?s+c:t.directiveEnd;for(let d=i?s:s+c;d<l;d++){const t=a[d];if(d<u&&n===t||d>=u&&t.type===n)return d}if(o){const t=a[u];if(t&&Ie(t)&&t.type===n)return u}return null}function Gn(t,e,n,i){let o=t[n];const r=e.data;if(o instanceof fn){const a=o;if(a.resolving)throw new Error(`Circular dep for ${Sn(r[n])}`);const s=Dn(a.canSeeViewProviders);let u;a.resolving=!0,a.injectImpl&&(u=Xt(a.injectImpl)),Qe(t,i);try{o=t[n]=a.factory(void 0,r,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:o,doCheck:r}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,o),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r))}(n,r[n],e)}finally{a.injectImpl&&Xt(u),Dn(s),a.resolving=!1,on()}}return o}function Hn(t,e,n){const i=64&t,o=32&t;let r;return r=128&t?i?o?n[e+7]:n[e+6]:o?n[e+5]:n[e+4]:i?o?n[e+3]:n[e+2]:o?n[e+1]:n[e],!!(r&1<<t)}function Zn(t,e){return!(t&lt.Self||t&lt.Host&&e)}class Wn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Vn(this._tNode,this._lView,t,void 0,e)}}function Kn(t){return nt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Nt]||function t(e){const n=e;if(Et(e))return()=>{const e=t(kt(n));return e?e():null};let i=Me(n);if(null===i){const t=_t(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t})}function Xn(t){return t.ngDebugContext}function $n(t){return t.ngOriginalError}function Yn(t,...e){t.error(...e)}class Qn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Yn}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Xn(t)?Xn(t):this._findContext($n(t)):null}_findOriginalError(t){let e=$n(t);for(;e&&$n(e);)e=$n(e);return e}}class Jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function ti(t){return t instanceof Jn?t.changingThisBreaksApplicationSecurity:t}function ei(t,e){const n=function(t){return t instanceof Jn&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}let ni=!0,ii=!1;function oi(){return ii=!0,ni}class ri{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ai=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,si=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ui(t){return(t=String(t)).match(ai)||t.match(si)?t:(oi()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ci(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function li(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const di=ci("area,br,col,hr,img,wbr"),hi=ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pi=ci("rp,rt"),fi=li(pi,hi),gi=li(di,li(hi,ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),li(pi,ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fi),mi=ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_i=ci("srcset"),yi=li(mi,_i,ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bi=ci("script,style,template");class vi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!gi.hasOwnProperty(e))return this.sanitizedSomething=!0,!bi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let o=0;o<n.length;o++){const t=n.item(o),e=t.name,r=e.toLowerCase();if(!yi.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let a=t.value;mi[r]&&(a=ui(a)),_i[r]&&(i=a,a=(i=String(i)).split(",").map(t=>ui(t.trim())).join(", ")),this.buf.push(" ",e,'="',wi(a),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();gi.hasOwnProperty(e)&&!di.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(wi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ci=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xi=/([^\#-~ |!])/g;function wi(t){return t.replace(/&/g,"&amp;").replace(Ci,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(xi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pi;function Mi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Oi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),ki=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ei=/^url\(([^)]+)\)$/;function Si(t){const e=Ai();return e?e.sanitize(Oi.HTML,t)||"":ei(t,"HTML")?ti(t):function(t,e){let n=null;try{Pi=Pi||new ri(t);let i=e?String(e):"";n=Pi.getInertBodyElement(i);let o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=Pi.getInertBodyElement(i)}while(i!==r);const a=new vi,s=a.sanitizeChildren(Mi(n)||n);return oi()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n){const t=Mi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(mn(),En(t))}function Ti(t){const e=Ai();return e?e.sanitize(Oi.URL,t)||"":ei(t,"URL")?ti(t):ui(En(t))}function Ai(){const t=Le();return t&&t[12]}function Ii(t){for(;Array.isArray(t);)t=t[0];return t}function Di(t,e){return Ii(e[t+19])}function Ri(t,e){return Ii(e[t.index])}function Fi(t,e){return t.data[e+19]}function Li(t,e){return t[e+19]}function zi(t,e){const n=e[t];return ke(n)?n:n[0]}function Bi(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ni(t){return 4==(4&t[2])}function Vi(t){return 128==(128&t[2])}function Ui(t,e){return null===t||null==e?null:t[e]}function qi(t){t[18]=0}function ji(t,e){t.__ngContext__=e}function Gi(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Hi(){throw new Error("Cannot mix multi providers and regular providers")}function Zi(t,e,n){let i=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const n=e.length;if(o+n===i||t.charCodeAt(o+n)<=32)return o}n=o+1}}function Wi(t,e,n){let i=0;for(;i<t.length;){let o=t[i++];if(n&&"class"===o){if(o=t[i],-1!==Zi(o.toLowerCase(),e,0))return!0}else if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function Ki(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Xi(t,e,n){let i=4;const o=t.attrs||[],r=function(t){for(let e=0;e<t.length;e++)if(vn(t[e]))return e;return t.length}(o);let a=!1;for(let s=0;s<e.length;s++){const u=e[s];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!Ki(t,u,n)||""===u&&1===e.length){if($i(i))return!1;a=!0}}else{const c=8&i?u:e[++s];if(8&i&&null!==t.attrs){if(!Wi(t.attrs,c,n)){if($i(i))return!1;a=!0}continue}const l=Yi(8&i?"class":u,o,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if($i(i))return!1;a=!0;continue}if(""!==c){let t;t=l>r?"":o[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Zi(e,c,0)||2&i&&c!==t){if($i(i))return!1;a=!0}}}}else{if(!a&&!$i(i)&&!$i(u))return!1;if(a&&$i(u))continue;a=!1,i=u|1&i}}return $i(i)||a}function $i(t){return 0==(1&t)}function Yi(t,e,n,i){if(null===e)return-1;let o=0;if(i||!n){let n=!1;for(;o<e.length;){const i=e[o];if(i===t)return o;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++o];for(;"string"==typeof t;)t=e[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Qi(t,e,n=!1){for(let i=0;i<e.length;i++)if(Xi(t,e[i],n))return!0;return!1}function Ji(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function to(t,e){return t?":not("+e.trim()+")":e}function eo(t){let e=t[0],n=1,i=2,o="",r=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&i){const e=t[++n];o+="["+a+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?o+="."+a:4&i&&(o+=" "+a);else""===o||$i(a)||(e+=to(r,o),o=""),i=a,r=r||!$i(i);n++}return""!==o&&(e+=to(r,o)),e}const no={};function io(t){const e=t[3];return Ee(e)?e[3]:e}function oo(t){ro(ze(),Le(),an()+t,je())}function ro(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&cn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&ln(e,i,0,n)}sn(n)}function ao(t,e){return t<<17|e<<2}function so(t){return t>>17&32767}function uo(t){return 2|t}function co(t){return(131068&t)>>2}function lo(t,e){return-131069&t|e<<2}function ho(t){return 1|t}function po(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i],r=n[i+1];if(-1!==r){const n=t.data[r];Ye(o),n.contentQueries(2,e[r],r)}}}function fo(t,e,n){return _n(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function go(t,e,n,i,o,r,a,s,u,c){const l=e.blueprint.slice();return l[0]=o,l[2]=140|i,qi(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=r,l[16]=2==e.type?t[16]:l,l}function mo(t,e,n,i,o,r){const a=n+19,s=t.data[a]||function(t,e,n,i,o,r){const a=Ne(),s=Ue(),u=s?a:a&&a.parent,c=t.data[n]=Oo(0,u&&u!==e?u:null,i,n,o,r);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,i,o,r);return Ve(s,!0),s}function _o(t,e,n){Je(e,e[6]);try{const i=t.viewQuery;null!==i&&Xo(1,i,n);const o=t.template;null!==o&&vo(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&po(t,e),t.staticViewQueries&&Xo(2,t.viewQuery,n);const r=t.components;null!==r&&function(t,e){for(let n=0;n<e.length;n++)Go(t,e[n])}(e,r)}finally{e[2]&=-5,rn()}}function yo(t,e,n,i){const o=e[2];if(256==(256&o))return;Je(e,e[6]);const r=je();try{qi(e),Re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&vo(t,e,n,2,i);const a=3==(3&o);if(!r)if(a){const n=t.preOrderCheckHooks;null!==n&&cn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ln(e,n,0,null),dn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Ee(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],i=n[1];Vi(n)&&yo(i,n,i.template,n[8])}0!=(1&n)&&qo(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&po(t,e),!r)if(a){const n=t.contentCheckHooks;null!==n&&cn(e,n)}else{const n=t.contentHooks;null!==n&&ln(e,n,1),dn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,o=-1,r=-1;for(let t=0;t<n.length;t++){const a=n[t];"number"==typeof a?a<=0?(r=0-a,sn(r),i+=9+n[++t],o=i):i+=a:(null!==a&&(Xe(i,o),a(2,e[o])),o++)}}}finally{sn(-1)}}(t,e);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)jo(t,e[n])}(e,s);const u=t.viewQuery;if(null!==u&&Xo(2,u,i),!r)if(a){const n=t.viewCheckHooks;null!==n&&cn(e,n)}else{const n=t.viewHooks;null!==n&&ln(e,n,2),dn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r||(e[2]&=-73)}finally{rn()}}function bo(t,e,n,i){const o=e[10],r=!je(),a=Ni(e);try{r&&!a&&o.begin&&o.begin(),a&&_o(t,e,i),yo(t,e,n,i)}finally{r&&!a&&o.end&&o.end()}}function vo(t,e,n,i,o){const r=an();try{sn(-1),2&i&&e.length>19&&ro(t,e,0,je()),n(i,o)}finally{sn(r)}}function Co(t,e,n){if(Se(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const e=t.data[o];e.contentQueries&&e.contentQueries(1,n[o],o)}}}function xo(t,e,n){Fe()&&(function(t,e,n,i){const o=n.directiveStart,r=n.directiveEnd;t.firstCreatePass||Fn(n,e),ji(i,e);const a=n.initialInputs;for(let s=o;s<r;s++){const i=t.data[s],r=Ie(i);r&&Bo(e,n,i);const u=Gn(e,t,s,n);ji(u,e),null!==a&&No(0,s-o,u,i,0,a),r&&(zi(n.index,e)[8]=u)}}(t,e,n,Ri(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,o=n.directiveEnd,r=t.expandoInstructions,a=t.firstCreatePass,s=n.index-19;try{sn(s);for(let n=i;n<o;n++){const i=t.data[n],o=e[n];null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Io(i,o):a&&r.push(null)}}finally{sn(-1)}}(t,e,n))}function wo(t,e,n=Ri){const i=e.localNames;if(null!==i){let o=e.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],s=-1===a?n(e,t):t[a];t[o++]=s}}}function Po(t){return t.tView||(t.tView=Mo(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Mo(t,e,n,i,o,r,a,s,u,c){const l=19+i,d=l+o,h=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:no);return n}(l,d);return h[1]={type:t,id:e,blueprint:h,template:n,queries:null,viewQuery:s,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c}}function Oo(t,e,n,i,o,r){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ko(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const o=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,o):n[i]=[e,o]}return n}function Eo(t,e,n,i,o,r,a,s){const u=Di(n,e),c=Fi(t,n);let l,d=c.inputs;if(!a&&null!=d&&(l=d[i]))tr(t,e,l,i,o),Te(c)&&function(t,e){const n=zi(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===c.type){i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h;const t=s?s(c,e):e[11];o=null!=r?r(o,c.tagName||"",i):o,_n(t)?t.setProperty(u,i,o):Cn(i)||(u.setProperty?u.setProperty(i,o):u[i]=o)}var h}function So(t,e,n,i){let o=!1;if(Fe()){const r=function(t,e,n){const i=t.directiveRegistry;let o=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];Qi(n,a.selectors,!1)&&(o||(o=[]),Nn(Fn(n,e),t,a.type),Ie(a)?(2&n.flags&&Gi(n),Ro(t,n),o.unshift(a)):o.push(a))}return o}(t,e,n),a=null===i?null:{"":-1};if(null!==r){let i=0;o=!0,Lo(n,t.data.length,r.length);for(let t=0;t<r.length;t++){const e=r[t];e.providersResolver&&e.providersResolver(e)}Do(t,n,r.length);let s=!1,u=!1;for(let o=0;o<r.length;o++){const c=r[o];n.mergedAttrs=xn(n.mergedAttrs,c.hostAttrs),zo(t,e,c),Fo(t.data.length-1,c,a),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!s&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),s=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),To(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,o=e.attrs,r=[];let a=null,s=null;for(let u=e.directiveStart;u<n;u++){const t=i[u],e=t.inputs;r.push(null!==o?Vo(e,o):null),a=ko(e,u,a),s=ko(t.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=a,e.outputs=s}(t,n),Ao(t,e,i)}a&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const o=n[e[t+1]];if(null==o)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],o)}}}(n,i,a)}return n.mergedAttrs=xn(n.mergedAttrs,n.attrs),o}function To(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Ao(t,e,n){for(let i=0;i<n;i++)e.push(no),t.blueprint.push(no),t.data.push(null)}function Io(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Do(t,e,n){const i=19-e.index,o=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,o,n)}function Ro(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fo(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ie(e)&&(n[""]=t)}}function Lo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zo(t,e,n){t.data.push(n);const i=n.factory||(n.factory=Me(n.type)),o=new fn(i,Ie(n),null);t.blueprint.push(o),e.push(o)}function Bo(t,e,n){const i=Ri(e,t),o=Po(n),r=t[10],a=Ho(t,go(t,o,null,n.onPush?64:16,i,e,r,r.createRenderer(i,n)));t[e.index]=a}function No(t,e,n,i,o,r){const a=r[e];if(null!==a){const t=i.setInput;for(let e=0;e<a.length;){const o=a[e++],r=a[e++],s=a[e++];null!==t?i.setInput(n,s,o,r):n[r]=s}}}function Vo(t,e){let n=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Uo(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function qo(t,e){const n=t[5];for(let i=0;i<n.length;i++){const t=n[i],o=t[3][3][16];if(o!==e&&0==(16&o[2])){const e=t[1];yo(e,t,e.template,t[8])}}}function jo(t,e){const n=zi(e,t);if(Vi(n)&&80&n[2]){const t=n[1];yo(t,n,t.template,n[8])}}function Go(t,e){const n=zi(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),_o(i,n,n[8])}function Ho(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Zo(t){for(;t;){t[2]|=64;const e=io(t);if(De(t)&&!e)return t;t=e}return null}function Wo(t,e,n){const i=e[10];i.begin&&i.begin();try{yo(t,e,t.template,n)}catch(o){throw Jo(e,o),o}finally{i.end&&i.end()}}function Ko(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Bi(n),o=i[1];bo(o,i,o.template,n)}}(t[8])}function Xo(t,e,n){Ye(0),e(t,n)}const $o=(()=>Promise.resolve(null))();function Yo(t){return t[7]||(t[7]=[])}function Qo(t){return t.cleanup||(t.cleanup=[])}function Jo(t,e){const n=t[9],i=n?n.get(Qn,null):null;i&&i.handleError(e)}function tr(t,e,n,i,o){for(let r=0;r<n.length;){const a=n[r++],s=n[r++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,o,i,s):u[s]=o}}function er(t,e){const n=e[3];return-1===t.index?Ee(n)?n:null:n}function nr(t,e){const n=er(t,e);return n?fr(e[11],n[7]):null}function ir(t,e,n,i,o){if(null!=i){let r,a=!1;Ee(i)?r=i:ke(i)&&(a=!0,i=i[0]);const s=Ii(i);0===t&&null!==n?null==o?hr(e,n,s):dr(e,n,s,o||null):1===t&&null!==n?dr(e,n,s,o||null):2===t?function(t,e,n){const i=fr(t,e);i&&function(t,e,n,i){_n(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=r&&function(t,e,n,i,o){const r=n[7];r!==Ii(n)&&ir(e,t,i,r,o);for(let a=9;a<n.length;a++){const o=n[a];br(o[1],o,t,e,i,r)}}(e,t,r,n,o)}}function or(t,e,n,i){const o=nr(t.node,e);o&&br(t,e,e[11],n?1:2,o,i)}function rr(t,e){const n=t[5],i=n.indexOf(e);n.splice(i,1)}function ar(t,e){if(t.length<=9)return;const n=9+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&rr(o,i),e>0&&(t[n-1][4]=i[4]);const r=ae(t,9+e);or(i[1],i,!1,null);const a=r[5];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function sr(t,e){if(!(256&e[2])){const n=e[11];_n(n)&&n.destroyNode&&br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return cr(t[1],t);for(;e;){let n=null;if(ke(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ke(e)&&cr(e[1],e),e=ur(e,t);null===e&&(e=t),ke(e)&&cr(e[1],e),n=e&&e[4]}e=n}}(e)}}function ur(t,e){let n;return ke(t)&&(n=t[6])&&2===n.type?er(n,t):t[3]===e?null:t[3]}function cr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];t instanceof fn||n[i+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const o=n[i+1],r="function"==typeof o?o(e):Ii(e[o]),a=t[n[i+2]],s=n[i+3];"boolean"==typeof s?r.removeEventListener(n[i],a,s):s>=0?t[s]():t[-s].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&_n(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Ee(e[3])){i!==e[3]&&rr(i,e);const n=e[5];null!==n&&n.detachView(t)}}}function lr(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?nr(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ri(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==he.ShadowDom&&n!==he.Native)return null}return Ri(i,n)}function dr(t,e,n,i){_n(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function hr(t,e,n){_n(t)?t.appendChild(e,n):e.appendChild(n)}function pr(t,e,n,i){null!==i?dr(t,e,n,i):hr(t,e,n)}function fr(t,e){return _n(t)?t.parentNode(e):e.parentNode}function gr(t,e){if(2===t.type){const n=er(t,e);return null===n?null:_r(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Ri(t,e):null}function mr(t,e,n,i){const o=lr(t,i,e);if(null!=o){const t=e[11],r=gr(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)pr(t,o,n[e],r);else pr(t,o,n,r)}}function _r(t,e){const n=9+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return Ri(n,e);if(0===i)return _r(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Ee(t)?_r(-1,t):Ii(t)}}{const i=e[16],o=i[6],r=io(i),a=o.projection[n.projection];return null!=a?t(r,a):t(e,n.next)}}return null}(t,i)}return e[7]}function yr(t,e,n,i,o,r,a){for(;null!=n;){const s=i[n.index],u=n.type;a&&0===e&&(s&&ji(Ii(s),i),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(yr(t,e,n.child,i,o,r,!1),ir(e,t,o,s,r)):1===u?vr(t,e,i,n,o,r):ir(e,t,o,s,r)),n=a?n.projectionNext:n.next}}function br(t,e,n,i,o,r){yr(n,i,t.node.child,e,o,r,!1)}function vr(t,e,n,i,o,r){const a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(let u=0;u<s.length;u++)ir(e,t,o,s[u],r);else yr(t,e,s,a[3],o,r,!0)}function Cr(t,e,n){_n(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function xr(t,e,n){_n(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class wr{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,o,r=!1){for(;null!==i;){const a=n[i.index];if(null!==a&&o.push(Ii(a)),Ee(a))for(let e=9;e<a.length;e++){const n=a[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,o)}const s=i.type;if(4===s||5===s)t(e,n,i.child,o);else if(1===s){const e=n[16],r=e[6],a=io(e);let s=r.projection[i.projection];null!==s&&null!==a&&t(a[1],a,s,o,!0)}i=r?i.projectionNext:i.next}return o}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}sr(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,Yo(n=this._lView).push(i),e.firstCreatePass&&Qo(e).push(n[7].length-1,null)}markForCheck(){Zo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ge(!0);try{Wo(t,e,n)}finally{Ge(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Pr extends wr{constructor(t){super(t),this._view=t}detectChanges(){Ko(this._view)}checkNoChanges(){!function(t){Ge(!0);try{Ko(t)}finally{Ge(!1)}}(this._view)}get context(){return null}}let Mr,Or,kr;function Er(t,e,n){return Mr||(Mr=class extends t{}),new Mr(Ri(e,n))}function Sr(t,e,n,i){return Or||(Or=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=go(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),_o(e,n,t);const o=new wr(n);return o._tViewNode=n[6],o}}),0===n.type?new Or(i,n,Er(e,n,i)):null}function Tr(t,e,n,i){let o;kr||(kr=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Er(e,this._hostTNode,this._hostView)}get injector(){return new Wn(this._hostTNode,this._hostView)}get parentInjector(){const t=Bn(this._hostTNode,this._hostView),e=kn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=On(t),o=e,r=e[6];for(;i>1;)o=o[15],r=o[6],i--;return r}(t,this._hostView,this._hostTNode);return Pn(t)&&null!=n?new Wn(n,e):new Wn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,o){const r=n||this.parentInjector;if(!o&&null==t.ngModule&&r){const t=r.get(ne,null);t&&(o=t)}const a=t.create(r,i,void 0,o);return this.insert(a.hostView,e),a}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ee(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new kr(e,e[6],e[3]);i.detach(i.indexOf(t))}}const o=this._adjustIndex(e);return function(t,e,n,i){const o=9+i,r=n.length;i>0&&(n[o-1][4]=e),i<r-9?(e[4]=n[o],re(n,9+i,e)):(n.push(e),e[4]=null),e[3]=n;const a=e[17];null!==a&&n!==a&&function(t,e){const n=t[5],i=e[3][3][16];16!=(16&i[2])&&e[16]!==i&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(a,e);const s=e[5];null!==s&&s.insertView(t),e[2]|=128}(i,n,this._lContainer,o),or(i,n,!0,_r(o,this._lContainer)),t.attachToViewContainerRef(this),re(this._lContainer[8],o,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=ar(t,e);n&&sr(n[1],n)})(this._lContainer,e),ae(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ar(this._lContainer,e);return n&&null!=ae(this._lContainer[8],e)?new wr(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=i[n.index];if(Ee(r))o=r,function(t,e){t[2]=-2}(o);else{let t;if(4===n.type)t=Ii(r);else if(t=i[11].createComment(""),De(i)){const e=i[11],o=Ri(n,i);dr(e,fr(e,o),t,function(t,e){return _n(t)?t.nextSibling(e):e.nextSibling}(e,o))}else mr(i[1],i,t,n);i[n.index]=o=Uo(r,i,t,n),Ho(i,o)}return new kr(o,n,i)}let Ar=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ir(),t})();const Ir=function(t=!1){return function(t,e,n){if(!n&&Te(t)){const n=zi(t.index,e);return new wr(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new wr(e[16],e):null}(Ne(),Le(),t)},Dr=new Ut("Set Injector scope."),Rr={},Fr={},Lr=[];let zr=void 0;function Br(){return void 0===zr&&(zr=new ee),zr}function Nr(t,e=null,n=null,i){return new Vr(t,n,e||Br(),i)}class Vr{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&oe(e,n=>this.processProvider(n,t,e)),oe([t],t=>this.processInjectorType(t,[],o)),this.records.set(qt,jr(void 0,this));const r=this.records.get(Dr);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof t?null:wt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jt,n=lt.Default){this.assertNotDestroyed();const i=Kt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Ut)&&gt(t);e=n&&this.injectableDefInScope(n)?jr(Ur(t),Rr):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?Br():this.parent).get(t,e=n&lt.Optional&&e===jt?null:e)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(wt(t)),i)throw r;return function(t,e,n,i){const o=t.ngTempTokenPath;throw e.__source&&o.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=wt(e);if(Array.isArray(e))o=e.map(wt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):wt(i)))}o=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${o}]: ${t.replace(Gt,"\n  ")}`}("\n"+t.message,o,n,i),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(r,t,"R3InjectorError",this.source)}throw r}finally{Kt(i)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(wt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=kt(t)))return!1;let i=_t(t);const o=null==i&&t.ngModule||void 0,r=void 0===o?t:o,a=-1!==n.indexOf(r);if(void 0!==o&&(i=_t(o)),null==i)return!1;if(null!=i.imports&&!a){let t;n.push(r);try{oe(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];oe(i,t=>this.processProvider(t,n,i||Lr))}}this.injectorDefTypes.add(r),this.records.set(r,jr(i.factory,Rr));const s=i.providers;if(null!=s&&!a){const e=t;oe(s,t=>this.processProvider(t,e,s))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,n){let i=Hr(t=kt(t))?t:kt(t&&t.provide);const o=function(t,e,n){return Gr(t)?jr(void 0,t.useValue):jr(qr(t,e,n),Rr)}(t,e,n);if(Hr(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&Hi()}else{let e=this.records.get(i);e?void 0===e.multi&&Hi():(e=jr(void 0,Rr,!0),e.factory=()=>te(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,o)}hydrate(t,e){var n;return e.value===Fr?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(wt(t)):e.value===Rr&&(e.value=Fr,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ur(t){const e=gt(t),n=null!==e?e.factory:Me(t);if(null!==n)return n;const i=_t(t);if(null!==i)return i.factory;if(t instanceof Ut)throw new Error(`Token ${wt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=se(e,"?");throw new Error(`Can't resolve all parameters for ${wt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[yt]||t[Ct]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function qr(t,e,n){let i=void 0;if(Hr(t)){const e=kt(t);return Me(e)||Ur(e)}if(Gr(t))i=()=>kt(t.useValue);else if((o=t)&&o.useFactory)i=()=>t.useFactory(...te(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Yt(kt(t.useExisting));else{const o=kt(t&&(t.useClass||t.provide));if(o||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${wt(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return Me(o)||Ur(o);i=()=>new o(...te(t.deps))}var o;return i}function jr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Gr(t){return null!==t&&"object"==typeof t&&Ht in t}function Hr(t){return"function"==typeof t}const Zr=function(t,e,n){return function(t,e=null,n=null,i){const o=Nr(t,e,n,i);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)};let Wr=(()=>{class t{static create(t,e){return Array.isArray(t)?Zr(t,e,""):Zr(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=jt,t.NULL=new ee,t.\u0275prov=pt({token:t,providedIn:"any",factory:()=>Yt(qt)}),t.__NG_ELEMENT_ID__=-1,t})();const Kr=new Ut("AnalyzeForEntryComponents");let Xr=new Map;const $r=new Set;function Yr(t){return"string"==typeof t?t:t.text()}function Qr(t,e){let n=t.styles,i=t.classes,o=0;for(let r=0;r<e.length;r++){const t=e[r];"number"==typeof t?o=t:1==o?i=Pt(i,t):2==o&&(n=Pt(n,t+": "+e[++r]+";"))}null!==n&&(t.styles=n),null!==i&&(t.classes=i)}let Jr=null;function ta(){if(!Jr){const t=Dt.Symbol;if(t&&t.iterator)Jr=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Jr=n)}}}return Jr}function ea(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class na{constructor(t){this.wrapped=t}static wrap(t){return new na(t)}static unwrap(t){return na.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof na}}function ia(t){return!!oa(t)&&(Array.isArray(t)||!(t instanceof Map)&&ta()in t)}function oa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ra(t,e,n){return t[e]=n}function aa(t,e){return t[e]}function sa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ua(t,e,n,i){const o=sa(t,e,n);return sa(t,e+1,i)||o}function ca(t,e,n,i,o,r){const a=ua(t,e,n,i);return ua(t,e+2,o,r)||a}function la(t,e,n,i){const o=Le();return sa(o,We(),e)&&function(t,e,n,i,o,r,a){const s=Di(t,o),u=o[11];if(null==n)_n(u)?u.removeAttribute(s,e,a):s.removeAttribute(e);else{const o=Fi(i,t),c=null==r?En(n):r(n,o.tagName||"",e);_n(u)?u.setAttribute(s,e,c,a):a?s.setAttributeNS(a,e,c):s.setAttribute(e,c)}}(an(),t,e,ze(),o,n,i),la}function da(t,e,n,i){return sa(t,We(),n)?e+En(n)+i:no}function ha(t,e,n,i,o,r,a,s){const u=Le(),c=ze(),l=t+19,d=c.firstCreatePass?function(t,e,n,i,o,r,a,s,u){const c=e.consts,l=mo(e,n[6],t,0,a||null,Ui(c,s));So(e,n,l,Ui(c,u)),un(e,l);const d=l.tViews=Mo(2,-1,i,o,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),h=Oo(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,d.node=h,null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,i,o,r,a):c.data[l];Ve(d,!1);const h=u[11].createComment("");mr(c,u,h,d),ji(h,u),Ho(u,u[l]=Uo(h,u,h,d)),Ae(d)&&xo(c,u,d),null!=a&&wo(u,d,s)}function pa(t){return Li(Re.lFrame.contextLView,t)}function fa(t,e=lt.Default){const n=Le();return null==n?Yt(t,e):Vn(Ne(),n,kt(t),e)}function ga(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const o=n[i];if(vn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Ne(),t)}function ma(){throw new Error("invalid")}function _a(t,e,n){const i=Le();if(sa(i,We(),e)){const o=an();Eo(ze(),i,o,t,e,n)}return _a}function ya(t,e,n,i,o){const r=o?"class":"style";tr(t,n,e.inputs[r],r,i)}function ba(t,e,n,i){const o=Le(),r=ze(),a=19+t,s=o[11],u=o[a]=fo(e,s,Re.lFrame.currentNamespace),c=r.firstCreatePass?function(t,e,n,i,o,r,a){const s=e.consts,u=Ui(s,r),c=mo(e,n[6],t,3,o,u);return So(e,n,c,Ui(s,a)),null!==c.mergedAttrs&&Qr(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,r,o,0,e,n,i):r.data[a];Ve(c,!0);const l=c.mergedAttrs;null!==l&&bn(s,u,l);const d=c.classes;null!==d&&xr(s,u,d);const h=c.styles;null!==h&&Cr(s,u,h),mr(r,o,u,c),0===Re.lFrame.elementDepthCount&&ji(u,o),Re.lFrame.elementDepthCount++,Ae(c)&&(xo(r,o,c),Co(r,c,o)),null!==i&&wo(o,c)}function va(){let t=Ne();Ue()?qe():(t=t.parent,Ve(t,!1));const e=t;Re.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(un(n,t),Se(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&ya(n,e,Le(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&ya(n,e,Le(),e.styles,!1)}function Ca(t,e,n,i){ba(t,e,n,i),va()}function xa(t,e,n){const i=Le(),o=ze(),r=t+19,a=o.firstCreatePass?function(t,e,n,i,o){const r=e.consts,a=Ui(r,i),s=mo(e,n[6],t,4,"ng-container",a);return null!==a&&Qr(s,a),So(e,n,s,Ui(r,o)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,o,i,e,n):o.data[r];Ve(a,!0);const s=i[r]=i[11].createComment("");mr(o,i,s,a),ji(s,i),Ae(a)&&(xo(o,i,a),Co(o,a,i)),null!=n&&wo(i,a)}function wa(){let t=Ne();const e=ze();Ue()?qe():(t=t.parent,Ve(t,!1)),e.firstCreatePass&&(un(e,t),Se(t)&&e.queries.elementEnd(t))}function Pa(t,e,n){xa(t,e,n),wa()}function Ma(){return Le()}function Oa(t){return!!t&&"function"==typeof t.then}function ka(t){return!!t&&"function"==typeof t.subscribe}function Ea(t,e,n=!1,i){const o=Le(),r=ze(),a=Ne();return function(t,e,n,i,o,r,a=!1,s){const u=Ae(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Yo(e);let d=!0;if(3===i.type){const h=Ri(i,e),p=s?s(h):pe,f=p.target||h,g=l.length,m=s?t=>s(Ii(t[i.index])).target:i.index;if(_n(n)){let a=null;if(!s&&u&&(a=function(t,e,n,i){const o=t.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const t=o[r];if(t===n&&o[r+1]===i){const t=e[7],n=o[r+2];return t.length>n?t[n]:null}"string"==typeof t&&(r+=2)}return null}(t,e,o,i.index)),null!==a)(a.__ngLastListenerFn__||a).__ngNextListenerFn__=r,a.__ngLastListenerFn__=r,d=!1;else{r=Ta(i,e,r,!1);const t=n.listen(p.name||f,o,r);l.push(r,t),c&&c.push(o,m,g,g+1)}}else r=Ta(i,e,r,!0),f.addEventListener(o,r,a),l.push(r),c&&c.push(o,m,g,a)}const h=i.outputs;let p;if(d&&null!==h&&(p=h[o])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(r),a=l.length;l.push(r,t),c&&c.push(o,i.index,a,-(a+1))}}}(r,o,o[11],a,t,e,n,i),Ea}function Sa(t,e,n){try{return!1!==e(n)}catch(i){return Jo(t,i),!1}}function Ta(t,e,n,i){return function o(r){if(r===Function)return n;const a=2&t.flags?zi(t.index,e):e;0==(32&e[2])&&Zo(a);let s=Sa(e,n,r),u=o.__ngNextListenerFn__;for(;u;)s=Sa(e,u,r)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(r.preventDefault(),r.returnValue=!1),s}}function Aa(t=1){return function(t){return(Re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Re.lFrame.contextLView))[8]}(t)}function Ia(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let o=0;o<e.length;o++){const r=e[o];if("*"!==r){if(null===i?Qi(t,r,!0):Ji(i,r))return o}else n=o}return n}function Da(t){const e=Le()[16][6];if(!e.projection){const n=e.projection=se(t?t.length:1,null),i=n.slice();let o=e.child;for(;null!==o;){const e=t?Ia(o,t):0;null!==e&&(i[e]?i[e].projectionNext=o:n[e]=o,i[e]=o),o=o.next}}}function Ra(t,e=0,n){const i=Le(),o=ze(),r=mo(o,i[6],t,1,null,n||null);null===r.projection&&(r.projection=e),qe(),function(t,e,n){vr(e[11],0,e,n,lr(t,n,e),gr(n.parent||e[6],e))}(o,i,r)}function Fa(t,e,n){return La(t,"",e,"",n),Fa}function La(t,e,n,i,o){const r=Le(),a=da(r,e,n,i);if(a!==no){const e=an();Eo(ze(),r,e,t,a,o)}return La}function za(t,e,n,i,o,r,a){const s=Le(),u=function(t,e,n,i,o,r){const a=ua(t,Ze(),n,o);return Ke(2),a?e+En(n)+i+En(o)+r:no}(s,e,n,i,o,r);if(u!==no){const e=an();Eo(ze(),s,e,t,u,a)}return za}const Ba=[];function Na(t,e,n,i,o){const r=t[n+1],a=null===e;let s=i?so(r):co(r),u=!1;for(;0!==s&&(!1===u||a);){const n=t[s+1];Va(t[s],e)&&(u=!0,t[s+1]=i?ho(n):uo(n)),s=i?so(n):co(n)}u&&(t[n+1]=i?uo(r):ho(r))}function Va(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&le(t,e)>=0}const Ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qa(t){return t.substring(Ua.key,Ua.keyEnd)}function ja(t){return t.substring(Ua.value,Ua.valueEnd)}function Ga(t,e){const n=Ua.textEnd;return n===e?-1:(e=Ua.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ua.key=e,n),Wa(t,e,n))}function Ha(t,e){const n=Ua.textEnd;let i=Ua.key=Wa(t,e,n);return n===i?-1:(i=Ua.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90);)e++;return e}(t,i,n),i=Ka(t,i,n),i=Ua.value=Wa(t,i,n),i=Ua.valueEnd=function(t,e,n){let i=-1,o=-1,r=-1,a=e,s=a;for(;a<n;){const u=t.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=Xa(t,u,a,n):e===a-4&&85===r&&82===o&&76===i&&40===u?s=a=Xa(t,41,a,n):u>32&&(s=a),r=o,o=i,i=-33&u}return s}(t,i,n),Ka(t,i,n))}function Za(t){Ua.key=0,Ua.keyEnd=0,Ua.value=0,Ua.valueEnd=0,Ua.textEnd=t.length}function Wa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ka(t,e,n,i){return(e=Wa(t,e,n))<n&&e++,e}function Xa(t,e,n,i){let o=-1,r=n;for(;r<i;){const n=t.charCodeAt(r++);if(n==e&&92!==o)return r;o=92==n&&92===o?0:n}throw new Error}function $a(t,e,n){return es(t,e,n,!1),$a}function Ya(t,e){return es(t,e,null,!0),Ya}function Qa(t,e){for(let n=function(t){return Za(t),Ha(t,Wa(t,0,Ua.textEnd))}(e);n>=0;n=Ha(e,n))ss(t,qa(e),ja(e))}function Ja(t){ns(ue,ts,t,!0)}function ts(t,e){for(let n=function(t){return Za(t),Ga(t,Wa(t,0,Ua.textEnd))}(e);n>=0;n=Ga(e,n))ue(t,qa(e),!0)}function es(t,e,n,i){const o=Le(),r=ze(),a=Ke(2);if(r.firstUpdatePass&&os(r,t,a,i),e!==no&&sa(o,a,e)){let s;null==n&&(s=function(){const t=Re.lFrame;return null===t?null:t.currentSanitizer}())&&(n=s),us(r,r.data[an()+19],o,o[11],t,o[a+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=wt(ti(t)))),t}(e,n),i,a)}}function ns(t,e,n,i){const o=ze(),r=Ke(2);o.firstUpdatePass&&os(o,null,r,i);const a=Le();if(n!==no&&sa(a,r,n)){const s=o.data[an()+19];if(ds(s,i)&&!is(o,r)){let t=i?s.classes:s.styles;null!==t&&(n=Pt(t,n||"")),ya(o,s,a,n,i)}else!function(t,e,n,i,o,r,a,s){o===no&&(o=Ba);let u=0,c=0,l=0<o.length?o[0]:null,d=0<r.length?r[0]:null;for(;null!==l||null!==d;){const h=u<o.length?o[u+1]:void 0,p=c<r.length?r[c+1]:void 0;let f=null,g=void 0;l===d?(u+=2,c+=2,h!==p&&(f=d,g=p)):null===d||null!==l&&l<d?(u+=2,f=l):(c+=2,f=d,g=p),null!==f&&us(t,e,n,i,f,g,a,s),l=u<o.length?o[u]:null,d=c<r.length?r[c]:null}}(o,s,a,a[11],a[r+1],a[r+1]=function(t,e,n){if(null==n||""===n)return Ba;const i=[],o=ti(n);if(Array.isArray(o))for(let r=0;r<o.length;r++)t(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&t(i,r,o[r]);else"string"==typeof o&&e(i,o);return i}(t,e,n),i,r)}}function is(t,e){return e>=t.expandoStartIndex}function os(t,e,n,i){const o=t.data;if(null===o[n+1]){const r=o[an()+19],a=is(t,n);ds(r,i)&&null===e&&!a&&(e=!1),e=function(t,e,n,i){const o=function(t){const e=Re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let r=i?e.residualClasses:e.residualStyles;if(null===o)0===(i?e.classBindings:e.styleBindings)&&(n=as(n=rs(null,t,e,n,i),e.attrs,i),r=null);else{const a=e.directiveStylingLast;if(-1===a||t[a]!==o)if(n=rs(o,t,e,n,i),null===r){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==co(i))return t[so(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=rs(null,t,e,n[1],i),n=as(n,e.attrs,i),function(t,e,n,i){t[so(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else r=function(t,e,n){let i=void 0;const o=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<o;r++)i=as(i,t[r].hostAttrs,n);return as(i,e.attrs,n)}(t,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),n}(o,r,e,i),function(t,e,n,i,o,r){let a=r?e.classBindings:e.styleBindings,s=so(a),u=co(a);t[i]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||le(t,c)>0)&&(l=!0)}else c=n;if(o)if(0!==u){const e=so(t[s+1]);t[i+1]=ao(e,s),0!==e&&(t[e+1]=lo(t[e+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=ao(s,0),0!==s&&(t[s+1]=lo(t[s+1],i)),s=i;else t[i+1]=ao(u,0),0===s?s=i:t[u+1]=lo(t[u+1],i),u=i;l&&(t[i+1]=uo(t[i+1])),Na(t,c,i,!0),Na(t,c,i,!1),function(t,e,n,i,o){const r=o?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof e&&le(r,e)>=0&&(n[i+1]=ho(n[i+1]))}(e,c,t,i,r),a=ao(s,u),r?e.classBindings=a:e.styleBindings=a}(o,r,e,n,a,i)}}function rs(t,e,n,i,o){let r=null;const a=n.directiveEnd;let s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=e[s],i=as(i,r.hostAttrs,o),r!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function as(t,e,n){const i=n?1:2;let o=-1;if(null!==e)for(let r=0;r<e.length;r++){const a=e[r];"number"==typeof a?o=a:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ue(t,a,!!n||e[++r]))}return void 0===t?null:t}function ss(t,e,n){var i;("background-image"===(i=e)||"backgroundImage"===i||"background"===i||"border-image"===i||"borderImage"===i||"border-image-source"===i||"borderImageSource"===i||"filter"===i||"list-style"===i||"listStyle"===i||"list-style-image"===i||"listStyleImage"===i||"clip-path"===i||"clipPath"===i)&&(n=function(t){const e=Ai();return e?e.sanitize(Oi.STYLE,t)||"":ei(t,"Style")?ti(t):function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ei);return e&&ui(e[1])===e[1]||t.match(ki)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const o=t.charAt(i);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(oi()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(En(t))}(n)),ue(t,e,n)}function us(t,e,n,i,o,r,a,s){if(3!==e.type)return;const u=t.data,c=u[s+1];ls(1==(1&c)?cs(u,e,n,o,co(c),a):void 0)||(ls(r)||function(t){return 2==(2&t)}(c)&&(r=cs(u,null,n,o,s,a)),function(t,e,n,i,o){const r=_n(t);if(e)o?r?t.addClass(n,i):n.classList.add(i):r?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==o?r?t.removeStyle(n,i,e):n.style.removeProperty(i):r?t.setStyle(n,i,o,e):n.style.setProperty(i,o)}}(i,a,Di(an(),n),o,r))}function cs(t,e,n,i,o,r){const a=null===e;let s=void 0;for(;o>0;){const e=t[o],r=Array.isArray(e),u=r?e[1]:e,c=null===u;let l=n[o+1];l===no&&(l=c?Ba:void 0);let d=c?ce(l,i):u===i?l:void 0;if(r&&!ls(d)&&(d=ce(e,i)),ls(d)&&(s=d,a))return s;const h=t[o+1];o=a?so(h):co(h)}if(null!==e){let t=r?e.residualClasses:e.residualStyles;null!=t&&(s=ce(t,i))}return s}function ls(t){return void 0!==t}function ds(t,e){return 0!=(t.flags&(e?16:32))}function hs(t,e=""){const n=Le(),i=ze(),o=t+19,r=i.firstCreatePass?mo(i,n[6],t,3,null,null):i.data[o],a=n[o]=function(t,e){return _n(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);mr(i,n,a,r),Ve(r,!1)}function ps(t){return fs("",t,""),ps}function fs(t,e,n){const i=Le(),o=da(i,t,e,n);return o!==no&&function(t,e,n){const i=Di(e,t),o=t[11];_n(o)?o.setValue(i,n):i.textContent=n}(i,an(),o),fs}function gs(t,e,n){const i=Le();if(sa(i,We(),e)){const o=an();Eo(ze(),i,o,t,e,n,!0)}return gs}function ms(t,e){const n=Bi(t)[1],i=n.data.length-1;un(n,{directiveStart:i,directiveEnd:i+1})}function _s(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let o=void 0;if(Ie(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");o=e.\u0275dir}if(o){if(n){i.push(o);const e=t;e.inputs=ys(t.inputs),e.declaredInputs=ys(t.declaredInputs),e.outputs=ys(t.outputs);const n=o.hostBindings;n&&Cs(t,n);const r=o.viewQuery,a=o.contentQueries;if(r&&bs(t,r),a&&vs(t,a),ht(t.inputs,o.inputs),ht(t.declaredInputs,o.declaredInputs),ht(t.outputs,o.outputs),Ie(o)&&o.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(o.data.animation)}e.afterContentChecked=e.afterContentChecked||o.afterContentChecked,e.afterContentInit=t.afterContentInit||o.afterContentInit,e.afterViewChecked=t.afterViewChecked||o.afterViewChecked,e.afterViewInit=t.afterViewInit||o.afterViewInit,e.doCheck=t.doCheck||o.doCheck,e.onDestroy=t.onDestroy||o.onDestroy,e.onInit=t.onInit||o.onInit}const e=o.features;if(e)for(let i=0;i<e.length;i++){const o=e[i];o&&o.ngInherit&&o(t),o===_s&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=e+=o.hostVars,o.hostAttrs=xn(o.hostAttrs,n=xn(n,o.hostAttrs))}}(i)}function ys(t){return t===pe?{}:t===fe?[]:t}function bs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function vs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,o)=>{e(t,i,o),n(t,i,o)}:e}function Cs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class xs{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ws(t){t.type.prototype.ngOnChanges&&(t.setInput=Ps,t.onChanges=function(){const t=Ms(this),e=t&&t.current;if(e){const n=t.previous;if(n===pe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Ps(t,e,n,i){const o=Ms(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:pe,current:null}),r=o.current||(o.current={}),a=o.previous,s=this.declaredInputs[n],u=a[s];r[s]=new xs(u&&u.currentValue,e,a===pe),t[i]=e}function Ms(t){return t.__ngSimpleChanges__||null}function Os(t,e,n,i,o){if(t=kt(t),Array.isArray(t))for(let r=0;r<t.length;r++)Os(t[r],e,n,i,o);else{const r=ze(),a=Le();let s=Hr(t)?t:kt(t.provide),u=qr(t);const c=Ne(),l=65535&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>16;if(Hr(t)||!t.multi){const i=new fn(u,o,fa),p=Ss(s,e,o?l:l+h,d);-1===p?(Nn(Fn(c,a),r,s),ks(r,t,e.length),e.push(s),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(i),a.push(i)):(n[p]=i,a[p]=i)}else{const p=Ss(s,e,l+h,d),f=Ss(s,e,l,l+h),g=p>=0&&n[p],m=f>=0&&n[f];if(o&&!m||!o&&!g){Nn(Fn(c,a),r,s);const l=function(t,e,n,i,o){const r=new fn(t,n,fa);return r.multi=[],r.index=e,r.componentProviders=0,Es(r,o,i&&!n),r}(o?As:Ts,n.length,o,i,u);!o&&m&&(n[f].providerFactory=l),ks(r,t,e.length),e.push(s),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(l),a.push(l)}else ks(r,t,p>-1?p:f),Es(n[o?f:p],u,!o&&i);!o&&i&&m&&n[f].componentProviders++}}}function ks(t,e,n){if(Hr(e)||e.useClass){const i=(e.useClass||e).prototype.ngOnDestroy;i&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i)}}function Es(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Ss(t,e,n,i){for(let o=n;o<i;o++)if(e[o]===t)return o;return-1}function Ts(t,e,n,i){return Is(this.multi,[])}function As(t,e,n,i){const o=this.multi;let r;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Gn(n,n[1],this.providerFactory.index,i);r=e.slice(0,t),Is(o,r);for(let n=t;n<e.length;n++)r.push(e[n])}else r=[],Is(o,r);return r}function Is(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ds(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=ze();if(i.firstCreatePass){const o=Ie(t);Os(n,i.data,i.blueprint,o,!0),Os(e,i.data,i.blueprint,o,!1)}}(n,i?i(t):t,e)}}ws.ngInherit=!0;class Rs{}class Fs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${wt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ls=(()=>{class t{}return t.NULL=new Fs,t})(),zs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Bs(t),t})();const Bs=function(t){return Er(t,Ne(),Le())};class Ns{}const Vs=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qs(),t})();const qs=function(){const t=Le(),e=zi(Ne().index,t);return function(t){const e=t[11];if(_n(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ke(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class Gs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hs=new Gs("9.1.0-next.4");class Zs{constructor(){}supports(t){return ia(t)}create(t){return new Ks(t)}}const Ws=(t,e)=>e;class Ks{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ws}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,o=null;for(;e||n;){const r=!n||e&&e.currentIndex<Qs(n,i,o)?e:n,a=Qs(r,i,o),s=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(e=e._next,null==r.previousIndex)i++;else{o||(o=[]);const t=a-i,e=s-i;if(t!=e){for(let n=0;n<t;n++){const i=n<o.length?o[n]:o[n]=0,r=i+n;e<=r&&r<t&&(o[n]=i+1)}o[r.previousIndex]=e-t}}a!==s&&t(r,a,s)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ia(t))throw new Error(`Error trying to diff '${wt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,o=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==o&&ea(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,n,i,e)),ea(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,e),r=!0),o=o._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ta()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==o&&ea(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,t,i,e)),ea(o.item,t)||this._addIdentityChange(o,t)):(o=this._mismatch(o,t,i,e),r=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(ea(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(ea(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):t=this._addAfter(new Xs(e,n),o,i),t}_verifyReinsertion(t,e,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ys),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $s{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&ea(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ys{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new $s,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qs(t,e,n){const i=t.previousIndex;if(null===i)return i;let o=0;return n&&i<n.length&&(o=n[i]),i+e+o}class Js{constructor(){}supports(t){return t instanceof Map||oa(t)}create(){return new tu}}class tu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||oa(t)))throw new Error(`Error trying to diff '${wt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}const n=new eu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){ea(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class eu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let nu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new Zs])}),t})(),iu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new Js])}),t})();const ou=[new Js],ru=new nu([new Zs]),au=new iu(ou);let su=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>uu(t,zs),t})();const uu=function(t,e){return Sr(t,e,Ne(),Le())};let cu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>lu(t,zs),t})();const lu=function(t,e){return Tr(t,e,Ne(),Le())},du={};class hu extends Ls{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pe(t);return new gu(e,this.ngModule)}}function pu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fu=new Ut("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tn});class gu extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(eo).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pu(this.componentDef.inputs)}get outputs(){return pu(this.componentDef.outputs)}create(t,e,n,i){const o=(i=i||this.ngModule)?function(t,e){return{get:(n,i,o)=>{const r=t.get(n,du,o);return r!==du||i===du?r:e.get(n,i,o)}}}(t,i.injector):t,r=o.get(Ns,yn),a=o.get(js,null),s=r.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(_n(t))return t.selectRootElement(e,n===he.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(s,n,this.componentDef.encapsulation):fo(u,r.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:Tn,clean:$o,playerHandler:null,flags:0},p=Mo(0,-1,null,1,0,null,null,null,null,null),f=go(null,p,h,l,null,null,r,s,a,o);let g,m;Je(f,null);try{const t=function(t,e,n,i,o,r){const a=n[1];n[19]=t;const s=mo(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Qr(s,u),null!==t&&(bn(o,t,u),null!==s.classes&&xr(o,t,s.classes),null!==s.styles&&Cr(o,t,s.styles)));const c=i.createRenderer(t,e),l=go(n,Po(e),null,e.onPush?64:16,n[19],s,i,c,void 0);return a.firstCreatePass&&(Nn(Fn(s,n),a,e.type),Ro(a,s),Lo(s,n.length,1)),Ho(n,l),n[19]=l}(c,this.componentDef,f,r,s);if(c)if(n)bn(s,c,["ng-version",Hs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,o=2;for(;i<t.length;){let r=t[i];if("string"==typeof r)2===o?""!==r&&e.push(r,t[++i]):8===o&&n.push(r);else{if(!$i(o))break;o=r}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&bn(s,c,t),e&&e.length>0&&xr(s,c,e.join(" "))}m=Fi(f[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,i,o){const r=n[1],a=function(t,e,n){const i=Ne();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Do(t,i,1),zo(t,e,n));const o=Gn(e,t,e.length-1,i);ji(o,e);const r=Ri(i,e);return r&&ji(r,e),o}(r,n,e);i.components.push(a),t[8]=a,o&&o.forEach(t=>t(a,e)),e.contentQueries&&e.contentQueries(1,a,n.length-1);const s=Ne();if(r.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){sn(s.index-19);const t=n[1];To(t,e),Ao(t,n,e.hostVars),Io(e,a)}return a}(t,this.componentDef,f,h,[ms]),_o(p,f,null)}finally{rn()}const _=new mu(this.componentType,g,Er(zs,m,f),f,m);return n&&!d||(_.hostView._tViewNode.child=m),_}}class mu extends class{}{constructor(t,e,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Pr(i),this.hostView._tViewNode=function(t,e,n,i){let o=t.node;return null==o&&(t.node=o=Oo(0,null,2,-1,null,null)),i[6]=o}(i[1],0,0,i),this.componentType=t}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const _u=void 0;var yu=["en",[["a","p"],["AM","PM"],_u],[["AM","PM"],_u,_u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_u,"{1} 'at' {0}",_u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let bu={};function vu(t){return t in bu||(bu[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),bu[t]}const Cu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let xu="en-US";function wu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(xu=t.toLowerCase().replace(/_/g,"-"))}const Pu=new Map;class Mu extends ne{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hu(this);const n=Oe(t),i=t[Bt]||null;i&&wu(i),this._bootstrapComponents=An(n.bootstrap),this._r3Injector=Nr(t,e,[{provide:ne,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],wt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Wr.THROW_IF_NOT_FOUND,n=lt.Default){return t===Wr||t===ne||t===qt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ou extends ie{constructor(t){super(),this.moduleType=t,null!==Oe(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${wt(e)} vs ${wt(e.name)}`)})(t,Pu.get(t),e),Pu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Mu(this.moduleType,t)}}function ku(t,e,n){const i=He()+t,o=Le();return o[i]===no?ra(o,i,n?e.call(n):e()):aa(o,i)}function Eu(t,e,n,i){return Ru(Le(),He(),t,e,n,i)}function Su(t,e,n,i,o){return function(t,e,n,i,o,r,a){const s=e+n;return ua(t,s,o,r)?ra(t,s+2,a?i.call(a,o,r):i(o,r)):aa(t,s+2)}(Le(),He(),t,e,n,i,o)}function Tu(t,e,n,i,o,r){return Fu(Le(),He(),t,e,n,i,o,r)}function Au(t,e,n,i,o,r,a){return function(t,e,n,i,o,r,a,s,u){const c=e+n;return ca(t,c,o,r,a,s)?ra(t,c+4,u?i.call(u,o,r,a,s):i(o,r,a,s)):aa(t,c+4)}(Le(),He(),t,e,n,i,o,r,a)}function Iu(t,e,n,i,o,r,a,s){const u=He()+t,c=Le(),l=ca(c,u,n,i,o,r);return sa(c,u+4,a)||l?ra(c,u+5,s?e.call(s,n,i,o,r,a):e(n,i,o,r,a)):aa(c,u+5)}function Du(t,e,n,i,o,r,a,s,u){const c=He()+t,l=Le(),d=ca(l,c,n,i,o,r);return ua(l,c+4,a,s)||d?ra(l,c+6,u?e.call(u,n,i,o,r,a,s):e(n,i,o,r,a,s)):aa(l,c+6)}function Ru(t,e,n,i,o,r){const a=e+n;return sa(t,a,o)?ra(t,a+1,r?i.call(r,o):i(o)):aa(t,a+1)}function Fu(t,e,n,i,o,r,a,s){const u=e+n;return function(t,e,n,i,o){const r=ua(t,e,n,i);return sa(t,e+2,o)||r}(t,u,o,r,a)?ra(t,u+3,s?i.call(s,o,r,a):i(o,r,a)):aa(t,u+3)}function Lu(t,e){const n=ze();let i;const o=t+19;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[o]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,i.onDestroy)):i=n.data[o];const r=i.factory||(i.factory=Me(i.type)),a=Xt(fa),s=r();return Xt(a),function(t,e,n,i){const o=n+19;o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),e[o]=i}(n,Le(),t,s),s}function zu(t,e,n,i,o){const r=Le(),a=Li(r,t);return Nu(r,Bu(r,t)?Fu(r,He(),e,a.transform,n,i,o,a):a.transform(n,i,o))}function Bu(t,e){return t[1].data[e+19].pure}function Nu(t,e){return na.isWrapped(e)&&(e=na.unwrap(e),t[Ze()]=no),e}class Vu extends M{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,o=t=>null,r=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(r=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(r=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,o,r);return t instanceof d&&t.add(a),a}}function Uu(){return this._results[ta()]()}class qu{constructor(){this.dirty=!0,this._results=[],this.changes=new Vu,this.length=0;const t=ta(),e=qu.prototype;e[t]||(e[t]=Uu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let o=e[i];Array.isArray(o)?(n===e&&(n=e.slice(0,i)),t(o,n)):n!==e&&n.push(o)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ju{constructor(t){this.queryList=t,this.matches=null}clone(){return new ju(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Gu(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==sc(t,e).matches&&this.queries[e].setDirty()}}class Hu{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Zu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new Zu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,Ku(e,n[i]))}else{const n=this.metadata.predicate;n===su?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,jn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===zs||i===cu||i===su&&0===e.type)this.addMatch(e.index,-2);else{const n=jn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ku(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Xu(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Er(zs,t,e):0===t.type?Sr(su,zs,t,e):null}(e,t):-2===n?function(t,e,n){return n===zs?Er(zs,e,t):n===su?Sr(su,zs,e,t):n===cu?Tr(cu,zs,e,t):void 0}(t,e,i):Gn(t,t[1],n,e)}function $u(t,e,n,i){const o=e[5].queries[i];if(null===o.matches){const i=t.data,r=n.matches,a=[];for(let t=0;t<r.length;t+=2){const o=r[t];a.push(o<0?null:Xu(e,i[o],r[t+1],n.metadata.read))}o.matches=a}return o.matches}function Yu(t){const e=Le(),n=ze(),i=$e();Ye(i+1);const o=sc(n,i);if(t.dirty&&Ni(e)===o.metadata.isStatic){if(null===o.matches)t.reset([]);else{const r=o.crossesNgTemplate?function t(e,n,i,o){const r=e.queries.getByIndex(i),a=r.matches;if(null!==a){const s=$u(e,n,r,i);for(let e=0;e<a.length;e+=2){const i=a[e];if(i>0)o.push(s[e/2]);else{const r=a[e+1],s=n[-i];for(let e=9;e<s.length;e++){const n=s[e];n[17]===n[3]&&t(n[1],n,r,o)}if(null!==s[5]){const e=s[5];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,r,o)}}}}}return o}(n,e,i,[]):$u(n,e,o,i);t.reset(r),t.notifyOnChanges()}return!0}return!1}function Qu(t,e,n){tc(ze(),Le(),t,e,n,!0)}function Ju(t,e,n){tc(ze(),Le(),t,e,n,!1)}function tc(t,e,n,i,o,r){t.firstCreatePass&&(ac(t,new Hu(n,i,r,o),-1),r&&(t.staticViewQueries=!0)),rc(t,e)}function ec(t,e,n,i){ic(ze(),Le(),e,n,i,!1,Ne(),t)}function nc(t,e,n,i){ic(ze(),Le(),e,n,i,!0,Ne(),t)}function ic(t,e,n,i,o,r,a,s){t.firstCreatePass&&(ac(t,new Hu(n,i,r,o),a.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),r&&(t.staticContentQueries=!0)),rc(t,e)}function oc(){return t=Le(),e=$e(),t[5].queries[e].queryList;var t,e}function rc(t,e){const n=new qu;!function(t,e,n,i){const o=Yo(e);o.push(n),t.firstCreatePass&&Qo(t).push(i,o.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new Gu),e[5].queries.push(new ju(n))}function ac(t,e,n){null===t.queries&&(t.queries=new Zu),t.queries.track(new Wu(e,n))}function sc(t,e){return t.queries.getByIndex(e)}function uc(t,e){return Sr(su,zs,t,e)}const cc=rt("Input",t=>({bindingPropertyName:t})),lc=new Ut("Application Initializer");let dc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Oa(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yt(lc,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const hc=new Ut("AppId"),pc={provide:hc,useFactory:function(){return`${fc()}${fc()}${fc()}`},deps:[]};function fc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gc=new Ut("Platform Initializer"),mc=new Ut("Platform ID"),_c=new Ut("appBootstrapListener");let yc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const bc=new Ut("LocaleId"),vc=new Ut("DefaultCurrencyCode");class Cc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xc=function(t){return new Ou(t)},wc=xc,Pc=function(t){return Promise.resolve(xc(t))},Mc=function(t){const e=xc(t),n=An(Oe(t).declarations).reduce((t,e)=>{const n=Pe(e);return n&&t.push(new gu(n)),t},[]);return new Cc(e,n)},Oc=Mc,kc=function(t){return Promise.resolve(Mc(t))};let Ec=(()=>{class t{constructor(){this.compileModuleSync=wc,this.compileModuleAsync=Pc,this.compileModuleAndAllComponentsSync=Oc,this.compileModuleAndAllComponentsAsync=kc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Sc=new Ut("compilerOptions"),Tc=(()=>Promise.resolve(0))();function Ac(t){"undefined"==typeof Zone?Tc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ic{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vu(!1),this.onMicrotaskEmpty=new Vu(!1),this.onStable=new Vu(!1),this.onError=new Vu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Dt.requestAnimationFrame,e=Dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.lastRequestAnimationFrameId=-1,Lc(t),Fc(t)}),Lc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,o,r,a,s)=>{try{return zc(t),n.invokeTask(o,r,a,s)}finally{e&&"eventTask"===r.type&&e(),Bc(t)}},onInvoke:(e,n,i,o,r,a,s)=>{try{return zc(t),e.invoke(i,o,r,a,s)}finally{Bc(t)}},onHasTask:(e,n,i,o)=>{e.hasTask(i,o),n===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Lc(t),Fc(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ic.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ic.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,t,Rc,Dc,Dc);try{return o.runTask(r,e,n)}finally{o.cancelTask(r)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Dc(){}const Rc={};function Fc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function zc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bc(t){t._nesting--,Fc(t)}class Nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vu,this.onMicrotaskEmpty=new Vu,this.onStable=new Vu,this.onError=new Vu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Vc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ac(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Uc=(()=>{class t{constructor(){this._applications=new Map,Gc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Gc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class qc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let jc,Gc=new qc,Hc=function(t,e,n){const i=new Ou(n);if(0===Xr.size)return Promise.resolve(i);const o=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Sc,[]).concat(e).map(t=>t.providers));if(0===o.length)return Promise.resolve(i);const r=function(){const t=Dt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=Wr.create({providers:o}).get(r.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=i.then(Yr))}return e}return Xr.forEach((t,n)=>{const o=[];t.templateUrl&&o.push(i(t.templateUrl).then(e=>{t.template=e}));const r=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;r&&r.forEach((e,n)=>{a.push(""),o.push(i(e).then(i=>{a[s+n]=i,r.splice(r.indexOf(e),1),0==r.length&&(t.styleUrls=void 0)}))});const u=Promise.all(o).then(()=>function(t){$r.delete(t)}(n));e.push(u)}),Xr=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const Zc=new Ut("AllowMultipleToken");class Wc{constructor(t,e){this.name=t,this.token=e}}function Kc(t,e,n=[]){const i=`Platform: ${e}`,o=new Ut(i);return(e=[])=>{let r=Xc();if(!r||r.injector.get(Zc,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{const t=n.concat(e).concat({provide:o,useValue:!0},{provide:Dr,useValue:"platform"});!function(t){if(jc&&!jc.destroyed&&!jc.injector.get(Zc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jc=t.get($c);const e=t.get(gc,null);e&&e.forEach(t=>t())}(Wr.create({providers:t,name:i}))}return function(t){const e=Xc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function Xc(){return jc&&!jc.destroyed?jc:null}let $c=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Nc:("zone.js"===t?void 0:t)||new Ic({enableLongStackTrace:oi(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Ic,useValue:n}];return n.run(()=>{const e=Wr.create({providers:i,parent:this.injector,name:t.moduleType.name}),o=t.create(e),r=o.injector.get(Qn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(()=>Jc(this._modules,o)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{r.handleError(t)}})),function(t,e,n){try{const i=n();return Oa(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(r,n,()=>{const t=o.injector.get(dc);return t.runInitializers(),t.donePromise.then(()=>(wu(o.injector.get(bc,"en-US")||"en-US"),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=Yc({},e);return Hc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Qc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${wt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yt(Wr))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Yc(t,e){return Array.isArray(e)?e.reduce(Yc,t):Object.assign(Object.assign({},t),e)}let Qc=(()=>{class t{constructor(t,e,n,i,o,r){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ic.assertNotInAngularZone(),Ac(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ic.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=K(a,s.pipe(t=>{return X()((e=et,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,J);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ne),o=n.create(Wr.NULL,[],e||n.selector,i);o.onDestroy(()=>{this._unloadComponent(o)});const r=o.injector.get(Vc,null);return r&&o.injector.get(Uc).registerApplication(o.location.nativeElement,r),this._loadComponent(o),oi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Jc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(_c,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Jc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic),Yt(yc),Yt(Wr),Yt(Qn),Yt(Ls),Yt(dc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Jc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class tl{}class el{}const nl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let il=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||nl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>ol(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+o]).then(t=>ol(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ec),Yt(el,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function ol(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const rl=Kc(null,"core",[{provide:mc,useValue:"unknown"},{provide:$c,deps:[Wr]},{provide:Uc,deps:[]},{provide:yc,deps:[]}]),al=[{provide:Qc,useClass:Qc,deps:[Ic,yc,Wr,Qn,Ls,dc]},{provide:fu,deps:[Ic],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:dc,useClass:dc,deps:[[new st,lc]]},{provide:Ec,useClass:Ec,deps:[]},pc,{provide:nu,useFactory:function(){return ru},deps:[]},{provide:iu,useFactory:function(){return au},deps:[]},{provide:bc,useFactory:function(t){return wu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new at(bc),new st,new ct]]},{provide:vc,useValue:"USD"}];let sl=(()=>{class t{constructor(t){}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Yt(Qc))},providers:al}),t})(),ul=null;function cl(){return ul}const ll=new Ut("DocumentToken");let dl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:hl,token:t,providedIn:"platform"}),t})();function hl(){return Yt(fl)}const pl=new Ut("Location Initialized");let fl=(()=>{class t extends dl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=cl().getLocation(),this._history=cl().getHistory()}getBaseHrefFromDOM(){return cl().getBaseHref(this._doc)}onPopState(t){cl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){cl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){gl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){gl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll))},t.\u0275prov=pt({factory:ml,token:t,providedIn:"platform"}),t})();function gl(){return!!window.history.pushState}function ml(){return new fl(Yt(ll))}function _l(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function yl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function bl(t){return t&&"?"!==t[0]?"?"+t:t}let vl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:Cl,token:t,providedIn:"root"}),t})();function Cl(t){const e=Yt(ll).location;return new wl(Yt(dl),e&&e.origin||"")}const xl=new Ut("appBaseHref");let wl=(()=>{class t extends vl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _l(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+bl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const o=this.prepareExternalUrl(n+bl(i));this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,i){const o=this.prepareExternalUrl(n+bl(i));this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(dl),Yt(xl,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Pl=(()=>{class t extends vl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=_l(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let o=this.prepareExternalUrl(n+bl(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,i){let o=this.prepareExternalUrl(n+bl(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(dl),Yt(xl,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Ml=(()=>{class t{constructor(t,e){this._subject=new Vu,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=yl(kl(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+bl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,kl(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Yt(vl),Yt(dl))},t.normalizeQueryParams=bl,t.joinWithSlash=_l,t.stripTrailingSlash=yl,t.\u0275prov=pt({factory:Ol,token:t,providedIn:"root"}),t})();function Ol(){return new Ml(Yt(vl),Yt(dl))}function kl(t){return t.replace(/\/index.html$/,"")}const El=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class Sl{}let Tl=(()=>{class t extends Sl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=vu(e);if(n)return n;const i=e.split("-")[0];if(n=vu(i),n)return n;if("en"===i)return yu;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Cu.PluralCase]}(e||this.locale)(t)){case El.Zero:return"zero";case El.One:return"one";case El.Two:return"two";case El.Few:return"few";case El.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Yt(bc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Al(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,o]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let Il=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ia(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${wt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(fa(nu),fa(iu),fa(zs),fa(Us))},t.\u0275dir=xe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Dl{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){oi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Dl(null,this._ngForOf,-1,-1),null===i?void 0:i),o=new Fl(t,n);e.push(o)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,i);const r=new Fl(t,o);e.push(r)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(fa(cu),fa(su),fa(nu))},t.\u0275dir=xe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Fl{constructor(t,e){this.record=t,this.view=e}}let Ll=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new zl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Bl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Bl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(fa(cu),fa(su))},t.\u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class zl{constructor(){this.$implicit=null,this.ngIf=null}}function Bl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}let Nl=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(iu),fa(Us))},t.\u0275dir=xe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Vl=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(fa(cu))},t.\u0275dir=xe({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ws]}),t})();function Ul(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${wt(t)}'`)}const ql=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let jl=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw Ul(t,e);return e.replace(ql,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"titlecase",type:t,pure:!0}),t})(),Gl=(()=>{class t{transform(e,n,i){if(null==e)return e;if(!this.supports(e))throw Ul(t,e);return e.slice(n,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"slice",type:t,pure:!1}),t})(),Hl=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:Sl,useClass:Tl}]}),t})(),Zl=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new Wl(Yt(ll),window,Yt(Qn))}),t})();class Wl{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Kl{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.opacity="0",i.position="absolute",i.left=i.top="-999em",n.setAttribute("aria-hidden","true"),n.value=t,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n instanceof HTMLElement&&n.focus()}}catch(n){}return e}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}let Xl=(()=>{class t{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new Kl(t,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll))},t.\u0275prov=pt({factory:function(){return new t(Yt(ll))},token:t,providedIn:"root"}),t})(),$l=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();class Yl extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Yl,ul||(ul=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Jl||(Jl=document.querySelector("base"),Jl)?Jl.getAttribute("href"):null;return null==e?null:(n=e,Ql||(Ql=document.createElement("a")),Ql.setAttribute("href",n),"/"===Ql.pathname.charAt(0)?Ql.pathname:"/"+Ql.pathname);var n}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Al(document.cookie,t)}}let Ql,Jl=null;const td=new Ut("TRANSITION_ID"),ed=[{provide:lc,useFactory:function(t,e,n){return()=>{n.get(dc).donePromise.then(()=>{const n=cl();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[td,ll,Wr],multi:!0}];class nd{static init(){var t;t=new nd,Gc=t}addToWindow(t){Dt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dt.getAllAngularRootElements=()=>t.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(t=>{const e=Dt.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?cl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const id=new Ut("EventManagerPlugins");let od=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Yt(id),Yt(Ic))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class rd{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=cl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let ad=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),sd=(()=>{class t extends ad{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>cl().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cd=/%COMP%/g;function ld(t,e,n){for(let i=0;i<e.length;i++){let o=e[i];Array.isArray(o)?ld(t,o,n):(o=o.replace(cd,t),n.push(o))}return n}function dd(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hd=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new pd(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case he.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new fd(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case he.Native:case he.ShadowDom:return new gd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ld(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Yt(od),Yt(sd),Yt(hc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class pd{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ud[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const o=ud[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=ud[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Vs.DashCase?t.style.setProperty(e,n,i&Vs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Vs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dd(n)):this.eventManager.addEventListener(t,e,dd(n))}}class fd extends pd{constructor(t,e,n,i){super(t),this.component=n;const o=ld(i+"-"+n.id,n.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(cd,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(cd,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class gd extends pd{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===he.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=ld(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let md=(()=>{class t extends rd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const _d=["alt","control","meta","shift"],yd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Cd=(()=>{class t extends rd{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),r=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cl().onAndCancel(e,o.domEventName,r))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(n.pop());let r="";if(_d.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),r+=t+".")}),r+=o,0!=n.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=r,a}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bd.hasOwnProperty(e)&&(e=bd[e]))}return yd[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_d.forEach(i=>{i!=n&&(0,vd[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return o=>{t.getEventFullKey(o)===e&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const xd=Kc(rl,"browser",[{provide:mc,useValue:"browser"},{provide:gc,useValue:function(){Yl.makeCurrent(),nd.init()},multi:!0},{provide:ll,useFactory:function(){return function(t){gn=t}(document),document},deps:[]}]),wd=[[],{provide:Dr,useValue:"root"},{provide:Qn,useFactory:function(){return new Qn},deps:[]},{provide:id,useClass:md,multi:!0,deps:[ll,Ic,mc]},{provide:id,useClass:Cd,multi:!0,deps:[ll]},[],{provide:hd,useClass:hd,deps:[od,sd,hc]},{provide:Ns,useExisting:hd},{provide:ad,useExisting:sd},{provide:sd,useClass:sd,deps:[ll]},{provide:Vc,useClass:Vc,deps:[Ic]},{provide:od,useClass:od,deps:[id,Ic]},[]];let Pd=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:hc,useValue:e.appId},{provide:td,useExisting:hc},ed]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Yt(t,12))},providers:wd,imports:[Hl,sl]}),t})();"undefined"!=typeof window&&window;class Md{}function Od(t,e){return{type:7,name:t,definitions:e,options:{}}}function kd(t,e=null){return{type:4,styles:e,timings:t}}function Ed(t,e=null){return{type:2,steps:t,options:e}}function Sd(t){return{type:6,styles:t,offset:null}}function Td(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ad(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Id(t){Promise.resolve(null).then(t)}class Dd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Id(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Rd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const o=this.players.length;0==o?Id(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==o&&this._onFinish()}),t.onDestroy(()=>{++n==o&&this._onDestroy()}),t.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Fd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ld(t){switch(t.length){case 0:return new Dd;case 1:return t[0];default:return new Rd(t)}}function zd(t,e,n,i,o={},r={}){const a=[],s=[];let u=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==u,l=i&&c||{};Object.keys(t).forEach(n=>{let i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=o[n];break;case"*":s=r[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}l[i]=s}),i||s.push(l),c=l,u=n}),a.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${a.join(t)}`)}return s}function Bd(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Nd(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Nd(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Nd(n,"destroy",t)))}}function Nd(t,e,n){const i=n.totalTime,o=Vd(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),r=t._data;return null!=r&&(o._data=r),o}function Vd(t,e,n,i,o="",r=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:o,totalTime:r,disabled:!!a}}function Ud(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function qd(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let jd=(t,e)=>!1,Gd=(t,e)=>!1,Hd=(t,e,n)=>[];const Zd=Fd();(Zd||"undefined"!=typeof Element)&&(jd=(t,e)=>t.contains(e),Gd=(()=>{if(Zd||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Gd}})(),Hd=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Wd=null,Kd=!1;function Xd(t){Wd||(Wd=("undefined"!=typeof document?document.body:null)||{},Kd=!!Wd.style&&"WebkitAppearance"in Wd.style);let e=!0;return Wd.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Wd.style,!e&&Kd)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Wd.style),e}const $d=Gd,Yd=jd,Qd=Hd;function Jd(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let th=(()=>{class t{validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return $d(t,e)}containsElement(t,e){return Yd(t,e)}query(t,e,n){return Qd(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,o,r=[],a){return new Dd(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),eh=(()=>{class t{}return t.NOOP=new th,t})();function nh(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ih(parseFloat(e[1]),e[2])}function ih(t,e){switch(e){case"s":return 1e3*t;default:return t}}function oh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,o=0,r="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=ih(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(o=ih(parseFloat(a),n[4]));const s=n[5];s&&(r=s)}else i=t;if(!n){let n=!1,r=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(r,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:o,easing:r}}(t,e,n)}function rh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ah(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else rh(t,n);return n}function sh(t,e,n){return n?e+":"+n+";":""}function uh(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=sh(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=sh(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ch(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const o=_h(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[o]),t.style[o]=e[i]}),Fd()&&uh(t))}function lh(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=_h(e);t.style[n]=""}),Fd()&&uh(t))}function dh(t){return Array.isArray(t)?1==t.length?t[0]:Ed(t):t}const hh=new RegExp("{{\\s*(.+?)\\s*}}","g");function ph(t){let e=[];if("string"==typeof t){let n;for(;n=hh.exec(t);)e.push(n[1]);hh.lastIndex=0}return e}function fh(t,e,n){const i=t.toString(),o=i.replace(hh,(t,i)=>{let o=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),o=""),o.toString()});return o==i?t:o}function gh(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const mh=/-+([a-z0-9])/g;function _h(t){return t.replace(mh,(...t)=>t[1].toUpperCase())}function yh(t,e){return 0===t||0===e}function bh(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let r=e[0],a=[];if(i.forEach(t=>{r.hasOwnProperty(t)||a.push(t),r[t]=n[t]}),a.length)for(var o=1;o<e.length;o++){let n=e[o];a.forEach((function(e){n[e]=Ch(t,e)}))}}return e}function vh(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ch(t,e){return window.getComputedStyle(t)[e]}function xh(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const o=i[1],r=i[2],a=i[3];e.push(Mh(o,a)),"<"!=r[0]||"*"==o&&"*"==a||e.push(Mh(a,o))}(t,n,e)):n.push(t),n}const wh=new Set(["true","1"]),Ph=new Set(["false","0"]);function Mh(t,e){const n=wh.has(t)||Ph.has(t),i=wh.has(e)||Ph.has(e);return(o,r)=>{let a="*"==t||t==o,s="*"==e||e==r;return!a&&n&&"boolean"==typeof o&&(a=o?wh.has(t):Ph.has(t)),!s&&i&&"boolean"==typeof r&&(s=r?wh.has(e):Ph.has(e)),a&&s}}const Oh=new RegExp("s*:selfs*,?","g");function kh(t,e,n){return new Eh(t).build(e,n)}class Eh{constructor(t){this._driver=t}build(t,e){const n=new Sh(e);return this._resetContextStyleTimingState(n),vh(this,dh(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const o=[],r=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,o.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const o=this.visitTransition(t,e);n+=o.queryCount,i+=o.depCount,r.push(o)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:r,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=i||{};if(n.styles.forEach(t=>{if(Th(t)){const e=t;Object.keys(e).forEach(t=>{ph(e[t]).forEach(t=>{r.hasOwnProperty(t)||o.add(t)})})}}),o.size){const n=gh(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=vh(this,dh(t.animation),e);return{type:1,matchers:xh(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ah(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>vh(this,t,e)),options:Ah(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const o=t.steps.map(t=>{e.currentTime=n;const o=vh(this,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:Ah(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ih(oh(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ih(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||oh(i,e),Ih(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let o=t.styles?t.styles:Sd({});if(5==o.type)i=this.visitKeyframes(o,e);else{let o=t.styles,r=!1;if(!o){r=!0;const t={};n.easing&&(t.easing=n.easing),o=Sd(t)}e.currentTime+=n.duration+n.delay;const a=this.visitStyle(o,e);a.isEmptyStep=r,i=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,o=null;return n.forEach(t=>{if(Th(t)){const e=t,n=e.easing;if(n&&(o=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=e.collectedStyles[e.currentQuerySelector],a=r[n];let s=!0;a&&(o!=i&&o>=a.startTime&&i<=a.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${a.startTime}ms" and "${a.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),s=!1),o=a.startTime),s&&(r[n]={startTime:o,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},o=ph(t);o.length&&o.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const o=[];let r=!1,a=!1,s=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Th(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Th(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(i++,c=n.offset=u),a=a||c<0||c>1,r=r||c<s,s=c,o.push(c),n});a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/(c-1));const d=c-1,h=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return u.forEach((t,i)=>{const r=l>0?i==d?1:l*i:o[i],a=r*f;e.currentTime=h+p.delay+a,p.duration=a,this._validateStyleAst(t,e),t.offset=r,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:vh(this,dh(t.animation),e),options:Ah(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ah(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ah(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,r]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Oh,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ud(e.collectedStyles,e.currentQuerySelector,{});const a=vh(this,dh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:a,originalSelector:t.selector,options:Ah(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:oh(t.timings,e.errors,!0);return{type:12,animation:vh(this,dh(t.animation),e),timings:n,options:null}}}class Sh{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Th(t){return!Array.isArray(t)&&"object"==typeof t}function Ah(t){var e;return t?(t=rh(t)).params&&(t.params=(e=t.params)?rh(e):null):t={},t}function Ih(t,e,n){return{duration:t,delay:e,easing:n}}function Dh(t,e,n,i,o,r,a=null,s=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:a,subTimeline:s}}class Rh{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fh=new RegExp(":enter","g"),Lh=new RegExp(":leave","g");function zh(t,e,n,i,o,r={},a={},s,u,c=[]){return(new Bh).buildKeyframes(t,e,n,i,o,r,a,s,u,c)}class Bh{buildKeyframes(t,e,n,i,o,r,a,s,u,c=[]){u=u||new Rh;const l=new Vh(t,e,u,i,o,c,[]);l.options=s,l.currentTimeline.setStyles([r],null,l.errors,s),vh(this,n,l);const d=l.timelines.filter(t=>t.containsAnimation());if(d.length&&Object.keys(a).length){const t=d[d.length-1];t.allowOnlyTimelineStyles()||t.setStyles([a],null,l.errors,s)}return d.length?d.map(t=>t.buildKeyframes()):[Dh(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const o=null!=n.duration?nh(n.duration):null,r=null!=n.delay?nh(n.delay):null;return 0!==o&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,o,r);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),vh(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Nh);const t=nh(o.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>vh(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?nh(t.options.delay):0;t.steps.forEach(r=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),vh(this,r,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return oh(e.params?fh(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,r=e.createSubContext().currentTimeline;r.easing=n.easing,t.styles.forEach(t=>{r.forwardTime((t.offset||0)*o),r.setStyles(t.styles,t.easing,e.errors,e.options),r.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?nh(i.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nh);let r=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let s=null;a.forEach((n,i)=>{e.currentQueryIndex=i;const a=e.createSubContext(t.options,n);o&&a.delayNextStep(o),n===e.element&&(s=a.currentTimeline),vh(this,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,a.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),s&&(e.currentTimeline.mergeTimelineCollectedStyles(s),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,o=t.timings,r=Math.abs(o.duration),a=r*(e.currentQueryTotal-1);let s=r*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}const u=e.currentTimeline;s&&u.delayNextStep(s);const c=u.currentTime;vh(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const Nh={};class Vh{constructor(t,e,n,i,o,r,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new Uh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=nh(n.duration)),null!=n.delay&&(i.delay=nh(n.delay));const o=n.params;if(o){let t=i.params;t||(t=this.options.params={}),Object.keys(o).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=fh(o[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,o=new Vh(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Nh,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},o=new qh(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,r){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(Fh,"."+this._enterClassName)).replace(Lh,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),a.push(...e)}return o||0!=a.length||r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class Uh{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Uh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const o=i&&i.params||{},r=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):ah(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(r).forEach(t=>{const e=fh(r[t],o,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,r)=>{const a=ah(o,!0);Object.keys(a).forEach(n=>{const i=a[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(a.offset=r/this.duration),i.push(a)});const o=t.size?gh(t.values()):[],r=e.size?gh(e.values()):[];if(n){const t=i[0],e=rh(t);t.offset=0,e.offset=1,i=[t,e]}return Dh(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)}}class qh extends Uh{constructor(t,e,n,i,o,r,a=!1){super(t,e,r.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],r=n+e,a=e/r,s=ah(t[0],!1);s.offset=0,o.push(s);const u=ah(t[0],!1);u.offset=jh(a),o.push(u);const c=t.length-1;for(let i=1;i<=c;i++){let a=ah(t[i],!1);a.offset=jh((e+a.offset*n)/r),o.push(a)}n=r,e=0,i="",t=o}return Dh(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function jh(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Gh{}class Hh extends Gh{normalizePropertyName(t,e){return _h(t)}normalizeStyleValue(t,e,n,i){let o="";const r=n.toString().trim();if(Zh[e]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return r+o}}const Zh=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wh(t,e,n,i,o,r,a,s,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:o,fromState:n,fromStyles:r,toState:i,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const Kh={};class Xh{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,o){return t.some(t=>t(e,n,i,o))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],o=this._stateStyles[t],r=i?i.buildStyles(e,n):{};return o?o.buildStyles(e,n):r}build(t,e,n,i,o,r,a,s,u,c){const l=[],d=this.ast.options&&this.ast.options.params||Kh,h=this.buildStyles(n,a&&a.params||Kh,l),p=s&&s.params||Kh,f=this.buildStyles(i,p,l),g=new Set,m=new Map,_=new Map,y="void"===i,b={params:Object.assign(Object.assign({},d),p)},v=c?[]:zh(t,e,this.ast.animation,o,r,h,f,b,u,l);let C=0;if(v.forEach(t=>{C=Math.max(t.duration+t.delay,C)}),l.length)return Wh(e,this._triggerName,n,i,y,h,f,[],[],m,_,C,l);v.forEach(t=>{const n=t.element,i=Ud(m,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const o=Ud(_,n,{});t.postStyleProps.forEach(t=>o[t]=!0),n!==e&&g.add(n)});const x=gh(g.values());return Wh(e,this._triggerName,n,i,y,h,f,v,x,m,_,C)}}class $h{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=rh(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const o=t;Object.keys(o).forEach(t=>{let r=o[t];r.length>1&&(r=fh(r,i,e)),n[t]=r})}}),n}}class Yh{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new $h(t.style,t.options&&t.options.params||{})}),Qh(this.states,"true","1"),Qh(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Xh(t,e,this.states))}),this.fallbackTransition=new Xh(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(o=>o.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Qh(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Jh=new Rh;class tp{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=kh(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,o=zd(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],o=this._animations[t];let r;const a=new Map;if(o?(r=zh(this._driver,e,o,"ng-enter","ng-leave",{},{},n,Jh,i),r.forEach(t=>{const e=Ud(a,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);a.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const s=Ld(r.map(t=>{const e=a.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=s,s.onDestroy(()=>this.destroy(t)),this.players.push(s),s}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const o=Vd(e,"","","");return Bd(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const ep=[],np={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ip={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class op{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=rh(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const rp=new op("void");class ap{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pp(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(o=n)&&"done"!=o)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var o;const r=Ud(this._elementListeners,t,[]),a={name:e,phase:n,callback:i};r.push(a);const s=Ud(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(pp(t,"ng-trigger"),pp(t,"ng-trigger-"+e),s[e]=rp),()=>{this._engine.afterFlush(()=>{const t=r.indexOf(a);t>=0&&r.splice(t,1),this._triggers[e]||delete s[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const o=this._getTrigger(e),r=new up(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(pp(t,"ng-trigger"),pp(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));let s=a[e];const u=new op(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&u.absorbOptions(s.options),a[e]=u,s||(s=rp),"void"!==u.value&&s.value===u.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let o=0;o<n.length;o++){const i=n[o];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(s.params,u.params)){const e=[],n=o.matchStyles(s.value,s.params,e),i=o.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{lh(t,n),ch(t,i)})}return}const c=Ud(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=o.matchTransition(s.value,u.value,t,u.params),d=!1;if(!l){if(!i)return;l=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:s,toState:u,player:r,isFallbackTransition:d}),d||(pp(t,"ng-animate-queued"),r.onStart(()=>{fp(t,"ng-animate-queued")})),r.onDone(()=>{let e=this.players.indexOf(r);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(r);t>=0&&n.splice(t,1)}}),this.players.push(r),c.push(r),r}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const o=this._engine.statesByElement.get(t);if(o){const r=[];if(Object.keys(o).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ld(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const o=this._triggers[i].fallbackTransition,r=this._engine.statesByElement.get(t)[i]||rp,a=new op("void"),s=new up(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:r,toState:a,player:s,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==np||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){pp(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(e=>{if(e.name==n.triggerName){const i=Vd(o,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Bd(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class sp{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ap(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const o=n[t[i]].namespaceId;if(o){const t=this._fetchNamespace(o);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(cp(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!cp(e))return;const o=e.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pp(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fp(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(cp(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,o){return cp(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ld(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=np,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)pp(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ld(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Rh,i=[],o=new Map,r=[],a=new Map,s=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,d=Array.from(this.statesByElement.keys()),h=hp(d,this.collectedEnterElements),p=new Map;let f=0;h.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>pp(t,n))});const g=[],m=new Set,_=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){const t=this.collectedLeaveElements[T],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):_.add(t))}const y=new Map,b=hp(d,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+f++;y.set(e,n),t.forEach(t=>pp(t,n))}),t.push(()=>{h.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>fp(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>fp(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const v=[],C=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(t=>{const e=t.player,o=t.element;if(v.push(e),this.collectedEnterElements.length){const t=o.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,o),d=y.get(o),h=p.get(o),f=this._buildInstruction(t,n,h,d,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>lh(o,f.fromStyles)),e.onDestroy(()=>ch(o,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(o,f.timelines),r.push({instruction:f,player:e,element:o}),f.queriedElements.forEach(t=>Ud(a,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=s.get(e);t||s.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=u.get(e);i||u.set(e,i=new Set),n.forEach(t=>i.add(t))}));C.push(f)});if(C.length){const t=[];C.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,w=new Map;r.forEach(t=>{const e=t.element;n.has(e)&&(w.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ud(x,e,[]).push(t),t.destroy()})});const P=g.filter(t=>mp(t,s,u)),M=new Map;dp(M,this.driver,_,u,"*").forEach(t=>{mp(t,s,u)&&P.push(t)});const O=new Map;h.forEach((t,e)=>{dp(O,this.driver,new Set(t),s,"!")}),P.forEach(t=>{const e=M.get(t),n=O.get(t);M.set(t,Object.assign(Object.assign({},e),n))});const k=[],E=[],S={};r.forEach(t=>{const{element:e,player:r,instruction:a}=t;if(n.has(e)){if(c.has(e))return r.onDestroy(()=>ch(e,a.toStyles)),r.disabled=!0,r.overrideTotalTime(a.totalTime),void i.push(r);let t=S;if(w.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=w.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>w.set(e,t))}const n=this._buildAnimation(r.namespaceId,a,x,o,O,M);if(r.setRealPlayer(n),t===S)k.push(r);else{const e=this.playersByElement.get(t);e&&e.length&&(r.parentPlayer=Ld(e)),i.push(r)}}else lh(e,a.fromStyles),r.onDestroy(()=>ch(e,a.toStyles)),E.push(r),c.has(e)&&i.push(r)}),E.forEach(t=>{const e=o.get(t.element);if(e&&e.length){const n=Ld(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let T=0;T<g.length;T++){const t=g[T],e=t.__ng_removed;if(fp(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(a.size){let e=a.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=a.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?gp(this,t,i):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let r=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(r=e)}else{const e=this.playersByElement.get(t);if(e){const t=!o||"void"==o;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&r.push(e)})}}return(n||i)&&(r=r.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),r}_beforeAnimationBuild(t,e,n){const i=e.element,o=e.isRemovalTransition?void 0:t,r=e.isRemovalTransition?void 0:e.triggerName;for(const a of e.timelines){const t=a.element,s=t!==i,u=Ud(n,t,[]);this._getPreviousPlayers(t,s,o,r,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}lh(i,e.fromStyles)}_buildAnimation(t,e,n,i,o,r){const a=e.triggerName,s=e.element,u=[],c=new Set,l=new Set,d=e.timelines.map(e=>{const d=e.element;c.add(d);const h=d.__ng_removed;if(h&&h.removedBeforeQueried)return new Dd(e.duration,e.delay);const p=d!==s,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const o=e[i];o instanceof Rd?t(o.players,n):n.push(o)}}(t,e),e}((n.get(d)||ep).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===d),g=o.get(d),m=r.get(d),_=zd(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,_,f);if(e.subTimeline&&i&&l.add(d),p){const e=new up(t,a,d);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{Ud(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>pp(t,"ng-animating"));const h=Ld(d);return h.onDestroy(()=>{c.forEach(t=>fp(t,"ng-animating")),ch(s,e.toStyles)}),l.forEach(t=>{Ud(i,t,[]).push(h)}),h}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Dd(t.duration,t.delay)}}class up{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Dd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bd(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ud(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cp(t){return t&&1===t.nodeType}function lp(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function dp(t,e,n,i,o){const r=[];n.forEach(t=>r.push(lp(t)));const a=[];i.forEach((n,i)=>{const r={};n.forEach(t=>{const n=r[t]=e.computeStyle(i,t,o);n&&0!=n.length||(i.__ng_removed=ip,a.push(i))}),t.set(i,r)});let s=0;return n.forEach(t=>lp(t,r[s++])),a}function hp(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),o=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let r=o.get(e);if(r)return r;const a=e.parentNode;return r=n.has(a)?a:i.has(a)?1:t(a),o.set(e,r),r}(t);1!==e&&n.get(e).push(t)}),n}function pp(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function fp(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function gp(t,e,n){Ld(n).onDone(()=>t.processLeaveNode(e))}function mp(t,e,n){const i=n.get(t);if(!i)return!1;let o=e.get(t);return o?i.forEach(t=>o.add(t)):e.set(t,i),n.delete(t),!0}class _p{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new sp(t,e,n),this._timelineEngine=new tp(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,o){const r=t+"-"+i;let a=this._triggerCache[r];if(!a){const t=[],e=kh(this._driver,o,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);a=function(t,e){return new Yh(t,e)}(i,e),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,o]=qd(n);this._timelineEngine.command(t,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if("@"==n.charAt(0)){const[t,i]=qd(n);return this._timelineEngine.listen(t,e,i,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function yp(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=vp(e[0]),e.length>1&&(i=vp(e[e.length-1]))):e&&(n=vp(e)),n||i?new bp(t,n,i):null}let bp=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ch(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ch(this._element,this._initialStyles),this._endStyles&&(ch(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(lh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lh(this._element,this._endStyles),this._endStyles=null),ch(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function vp(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const o=n[i];Cp(o)&&(e=e||{},e[o]=t[o])}return e}function Cp(t){return"display"===t||"position"===t}class xp{constructor(t,e,n,i,o,r,a){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=o,this._fillMode=r,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ep(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),kp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Op(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wp(this._element,this._name,"paused")}resume(){wp(this._element,this._name,"running")}setPosition(t){const e=Pp(this._element,this._name);this._position=t*this._duration,kp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Op(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ep(t,"").split(","),i=Mp(n,e);i>=0&&(n.splice(i,1),kp(t,"",n.join(",")))}(this._element,this._name))}}function wp(t,e,n){kp(t,"PlayState",n,Pp(t,e))}function Pp(t,e){const n=Ep(t,"");return n.indexOf(",")>0?Mp(n.split(","),e):Mp([n],e)}function Mp(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Op(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function kp(t,e,n,i){const o="animation"+e;if(null!=i){const e=t.style[o];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[o]=n}function Ep(t,e){return t.style["animation"+e]}class Sp{constructor(t,e,n,i,o,r,a,s){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new xp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ch(this.element,n))})}this.currentSnapshot=t}}class Tp extends Dd{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Jd(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ap{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return $d(t,e)}containsElement(t,e){return Yd(t,e)}query(t,e,n){return Qd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Jd(t));let i=`@keyframes ${e} {\n`,o="";n.forEach(t=>{o=" ";const e=parseFloat(t.offset);i+=`${o}${100*e}% {\n`,o+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${o}animation-timing-function: ${n};\n`));default:return void(i+=`${o}${e}: ${n};\n`)}}),i+=`${o}}\n`}),i+="}\n";const r=document.createElement("style");return r.innerHTML=i,r}animate(t,e,n,i,o,r=[],a){a&&this._notifyFaultyScrubber();const s=r.filter(t=>t instanceof Sp),u={};yh(n,i)&&s.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=bh(t,e,u));if(0==n)return new Tp(t,c);const l=`gen_css_kf_${this._count++}`,d=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(d);const h=yp(t,e),p=new Sp(t,e,l,n,i,o,c,h);return p.onDestroy(()=>{var t;(t=d).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Ip{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ch(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Dp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Rp().toString()),this._cssKeyframesDriver=new Ap}validateStyleProperty(t){return Xd(t)}matchesElement(t,e){return $d(t,e)}containsElement(t,e){return Yd(t,e)}query(t,e,n){return Qd(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,o,r=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,o,r);const s={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(s.easing=o);const u={},c=r.filter(t=>t instanceof Ip);yh(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=yp(t,e=bh(t,e=e.map(t=>ah(t,!1)),u));return new Ip(t,e,s,l)}}function Rp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Fp=(()=>{class t extends Md{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:he.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ed(t):t;return Bp(this._renderer,null,e,"register",[n]),new Lp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ns),Yt(ll))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Lp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zp(this._id,t,e||{},this._renderer)}}class zp{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Bp(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Bp(t,e,n,i,o){return t.setProperty(e,`@@${n}:${i}`,o)}let Np=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Vp("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const r=e=>{Array.isArray(e)?e.forEach(r):this.engine.registerTrigger(i,o,t,e.name,e)};return e.data.animation.forEach(r),new Up(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ns),Yt(_p),Yt(Ic))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Vp{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Up extends Vp{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let o=e.substr(1),r="";return"@"!=o.charAt(0)&&([o,r]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,r,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qp=(()=>{class t extends _p{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll),Yt(eh),Yt(Gh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const jp=[{provide:eh,useFactory:function(){return"function"==typeof Rp()?new Dp:new Ap}},{provide:new Ut("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Md,useClass:Fp},{provide:Gh,useFactory:function(){return new Hh}},{provide:_p,useClass:qp},{provide:Ns,useFactory:function(t,e,n){return new Np(t,e,n)},deps:[hd,_p,Ic]}];let Gp=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:jp,imports:[Pd]}),t})();function Hp(...t){let e=t[t.length-1];return k(e)?(t.pop(),V(t,e)):W(t)}class Zp extends M{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const Wp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Kp={};class Xp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $p(t,this.resultSelector))}}class $p extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Kp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(F(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,o){const r=this.values,a=this.toRespond?r[n]===Kp?--this.toRespond:this.toRespond:0;r[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Yp=new v(t=>t.complete());function Qp(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):Yp}function Jp(t){return new v(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?U(n):Qp()).subscribe(e)})}function tf(){return Z(1)}function ef(t,e){return function(n){return n.lift(new nf(t,e))}}class nf{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new of(t,this.predicate,this.thisArg))}}class of extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const rf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function af(t){return function(e){return 0===t?Qp():e.lift(new sf(t))}}class sf{constructor(t){if(this.total=t,this.total<0)throw new rf}call(t,e){return e.subscribe(new uf(t,this.total))}}class uf extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<n;o++){const o=e++%n;t.next(i[o])}}t.complete()}}function cf(t=hf){return e=>e.lift(new lf(t))}class lf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new df(t,this.errorFactory))}}class df extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function hf(){return new Wp}function pf(t=null){return e=>e.lift(new ff(t))}class ff{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new gf(t,this.defaultValue))}}class gf extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function mf(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ef((e,n)=>t(e,n,i)):H,af(1),n?pf(e):cf(()=>new Wp))}function _f(t){return function(e){const n=new yf(t),i=e.lift(n);return n.caught=i}}class yf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new bf(t,this.selector,this.caught))}}class bf extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new E(this,void 0,void 0);this.add(i);const o=F(this,n,void 0,void 0,i);o!==i&&this.add(o)}}}function vf(t){return e=>0===t?Qp():e.lift(new Cf(t))}class Cf{constructor(t){if(this.total=t,this.total<0)throw new rf}call(t,e){return e.subscribe(new xf(t,this.total))}}class xf extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function wf(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ef((e,n)=>t(e,n,i)):H,vf(1),n?pf(e):cf(()=>new Wp))}class Pf{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Mf(t,this.predicate,this.thisArg,this.source))}}class Mf extends f{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Of(t,e){return"function"==typeof e?n=>n.pipe(Of((n,i)=>U(t(n,i)).pipe(z((t,o)=>e(n,t,i,o))))):e=>e.lift(new kf(t))}class kf{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ef(t,this.project))}}class Ef extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const o=new E(this,e,n),r=this.destination;r.add(o),this.innerSubscription=F(this,t,void 0,void 0,o),this.innerSubscription!==o&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,o){this.destination.next(e)}}function Sf(...t){return tf()(Hp(...t))}function Tf(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>Sf(t,n,e)):e=>Sf(t,e)}function Af(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new If(t,e,n))}}class If{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Df(t,this.accumulator,this.seed,this.hasSeed))}}class Df extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Rf(t,e){return q(t,e,1)}function Ff(t,e,n){return function(i){return i.lift(new Lf(t,e,n))}}class Lf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new zf(t,this.nextOrObserver,this.error,this.complete))}}class zf extends f{constructor(t,e,n,o){super(t),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=n||_,this._tapComplete=o||_,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||_,this._tapError=e.error||_,this._tapComplete=e.complete||_)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Bf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Nf(t,this.callback))}}class Nf extends f{constructor(t,e){super(t),this.add(new d(e))}}class Vf{constructor(t,e){this.id=t,this.url=e}}class Uf extends Vf{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qf extends Vf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jf extends Vf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gf extends Vf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hf extends Vf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zf extends Vf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wf extends Vf{constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kf extends Vf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xf extends Vf{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $f{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tg{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eg{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ng{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ig=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ca(0,"router-outlet")},directives:function(){return[u_]},encapsulation:2}),t})();class og{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function rg(t){return new og(t)}function ag(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function sg(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const o={};for(let r=0;r<i.length;r++){const e=i[r],n=t[r];if(e.startsWith(":"))o[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}class ug{constructor(t,e){this.routes=t,this.module=e}}function cg(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];lg(i,dg(e,i))}}function lg(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&cg(t.children,e)}function dg(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function hg(t){const e=t.children&&t.children.map(hg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ig),n}function pg(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let o;for(let r=0;r<n.length;r++)if(o=n[r],!fg(t[o],e[o]))return!1;return!0}function fg(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function gg(t){return Array.prototype.concat.apply([],t)}function mg(t){return t.length>0?t[t.length-1]:null}function _g(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yg(t){return ka(t)?t:Oa(t)?U(Promise.resolve(t)):Hp(t)}function bg(t,e,n){return n?function(t,e){return pg(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!wg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fg(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,o){if(n.segments.length>o.length)return!!wg(n.segments.slice(0,o.length),o)&&!i.hasChildren();if(n.segments.length===o.length){if(!wg(n.segments,o))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=o.slice(0,n.segments.length),r=o.slice(n.segments.length);return!!wg(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,r)}}(e,n,n.segments)}(t.root,e.root)}class vg{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rg(this.queryParams)),this._queryParamMap}toString(){return kg.serialize(this)}}class Cg{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_g(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}}class xg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=rg(this.parameters)),this._parameterMap}toString(){return Rg(this)}}function wg(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Pg(t,e){let n=[];return _g(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),_g(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class Mg{}class Og{parse(t){const e=new Ng(t);return new vg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Eg(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return _g(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Pg(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${Eg(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Tg(e)}=${Tg(t)}`).join("&"):`${Tg(e)}=${Tg(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const kg=new Og;function Eg(t){return t.segments.map(t=>Rg(t)).join("/")}function Sg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tg(t){return Sg(t).replace(/%3B/gi,";")}function Ag(t){return Sg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ig(t){return decodeURIComponent(t)}function Dg(t){return Ig(t.replace(/\+/g,"%20"))}function Rg(t){return`${Ag(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ag(t)}=${Ag(e[t])}`).join("")}`;var e}const Fg=/^[^\/()?;=#]+/;function Lg(t){const e=t.match(Fg);return e?e[0]:""}const zg=/^[^=?&#]+/,Bg=/^[^?&#]+/;class Ng{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cg([],{}):new Cg([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Cg(t,e)),n}parseSegment(){const t=Lg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xg(Ig(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Lg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Lg(this.remaining);t&&(n=t,this.capture(n))}t[Ig(e)]=Ig(n)}parseQueryParam(t){const e=function(t){const e=t.match(zg);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Bg);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Dg(e),o=Dg(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Lg(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o="primary");const r=this.parseChildren();e[o]=1===Object.keys(r).length?r.primary:new Cg([],r),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ug(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ug(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return qg(t,this._root).map(t=>t.value)}}function Ug(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ug(t,n);if(e)return e}return null}function qg(t,e){if(t===e.value)return[e];for(const n of e.children){const i=qg(t,n);if(i.length)return i.unshift(e),i}return[]}class jg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Hg extends Vg{constructor(t,e){super(t),this.snapshot=e,Yg(this,t)}toString(){return this.snapshot.toString()}}function Zg(t,e){const n=function(t,e){const n=new Xg([],{},{},"",{},"primary",e,null,t.root,-1,{});return new $g("",new jg(n,[]))}(t,e),i=new Zp([new xg("",{})]),o=new Zp({}),r=new Zp({}),a=new Zp({}),s=new Zp(""),u=new Wg(i,o,a,s,r,"primary",e,n.root);return u.snapshot=n.root,new Hg(new jg(u,[]),n)}class Wg{constructor(t,e,n,i,o,r,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=a,this._futureSnapshot=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(z(t=>rg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(t=>rg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kg(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Xg{constructor(t,e,n,i,o,r,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $g extends Vg{constructor(t,e){super(e),this.url=t,Yg(this,e)}toString(){return Qg(this._root)}}function Yg(t,e){e.value._routerState=t,e.children.forEach(e=>Yg(t,e))}function Qg(t){const e=t.children.length>0?` { ${t.children.map(Qg).join(", ")} } `:"";return`${t.value}${e}`}function Jg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pg(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),pg(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pg(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),pg(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function tm(t,e){var n,i;return pg(t.params,e.params)&&wg(n=t.url,i=e.url)&&n.every((t,e)=>pg(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||tm(t.parent,e.parent))}function em(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nm(t,e,n,i,o){let r={};return i&&_g(i,(t,e)=>{r[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new vg(n.root===t?e:function t(e,n,i){const o={};return _g(e.children,(e,r)=>{o[r]=e===n?i:t(e,n,i)}),new Cg(e.segments,o)}(n.root,t,e),r,o)}class im{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&em(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==mg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class om{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rm(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function am(t,e,n){if(t||(t=new Cg([],{})),0===t.segments.length&&t.hasChildren())return sm(t,e,n);const i=function(t,e,n){let i=0,o=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=n.length)return r;const e=t.segments[o],a=rm(n[i]),s=i<n.length-1?n[i+1]:null;if(o>0&&void 0===a)break;if(a&&s&&"object"==typeof s&&void 0===s.outlets){if(!dm(a,s,e))return r;i+=2}else{if(!dm(a,{},e))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Cg(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Cg(t.segments.slice(i.pathIndex),t.children),sm(e,0,o)}return i.match&&0===o.length?new Cg(t.segments,{}):i.match&&!t.hasChildren()?um(t,e,n):i.match?sm(t,0,o):um(t,e,n)}function sm(t,e,n){if(0===n.length)return new Cg(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),o={};return _g(i,(n,i)=>{null!==n&&(o[i]=am(t.children[i],e,n))}),_g(t.children,(t,e)=>{void 0===i[e]&&(o[e]=t)}),new Cg(t.segments,o)}}function um(t,e,n){const i=t.segments.slice(0,e);let o=0;for(;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){const t=cm(n[o].outlets);return new Cg(i,t)}if(0===o&&em(n[0])){i.push(new xg(t.segments[e].path,n[0])),o++;continue}const r=rm(n[o]),a=o<n.length-1?n[o+1]:null;r&&a&&em(a)?(i.push(new xg(r,lm(a))),o+=2):(i.push(new xg(r,{})),o++)}return new Cg(i,{})}function cm(t){const e={};return _g(t,(t,n)=>{null!==t&&(e[n]=um(new Cg([],{}),0,t))}),e}function lm(t){const e={};return _g(t,(t,n)=>e[n]=`${t}`),e}function dm(t,e,n){return t==n.path&&pg(e,n.parameters)}class hm{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Jg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Gg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),_g(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Gg(t),o=t.value.component?n.children:e;_g(i,(t,e)=>this.deactivateRouteAndItsChildren(t,o)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Gg(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new eg(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Jf(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(Jg(i),i===o)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),pm(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),o=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=o,e.outlet&&e.outlet.activateWith(i,o),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function pm(t){Jg(t.value),t.children.forEach(pm)}function fm(t){return"function"==typeof t}function gm(t){return t instanceof vg}class mm{constructor(t){this.segmentGroup=t||null}}class _m{constructor(t){this.urlTree=t}}function ym(t){return new v(e=>e.error(new mm(t)))}function bm(t){return new v(e=>e.error(new _m(t)))}function vm(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Cm{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ne)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(z(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(_f(t=>{if(t instanceof _m)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof mm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(z(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(_f(t=>{if(t instanceof mm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Cg([],{primary:t}):t;return new vg(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(z(t=>new Cg([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Hp({});const n=[],i=[],o={};return _g(t,(t,r)=>{const a=e(r,t).pipe(z(t=>o[r]=t));"primary"===r?n.push(a):i.push(a)}),Hp.apply(null,n.concat(i)).pipe(tf(),mf(),z(()=>o))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,o,r){return Hp(...n).pipe(z(a=>this.expandSegmentAgainstRoute(t,e,n,a,i,o,r).pipe(_f(t=>{if(t instanceof mm)return Hp(null);throw t}))),tf(),wf(t=>!!t),_f((t,n)=>{if(t instanceof Wp||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,o))return Hp(new Cg([],{}));throw new mm(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,o,r,a){return Mm(i)!==r?ym(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r):ym(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?bm(o):this.lineralizeSegments(n,o).pipe(q(n=>{const o=new Cg(n,{});return this.expandSegment(t,o,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r){const{matched:a,consumedSegments:s,lastChild:u,positionalParamSegments:c}=xm(e,i,o);if(!a)return ym(e);const l=this.applyRedirectCommands(s,i.redirectTo,c);return i.redirectTo.startsWith("/")?bm(l):this.lineralizeSegments(i,l).pipe(q(i=>this.expandSegment(t,e,n,i.concat(o.slice(u)),r,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(z(t=>(n._loadedConfig=t,new Cg(i,{})))):Hp(new Cg(i,{}));const{matched:o,consumedSegments:r,lastChild:a}=xm(e,n,i);if(!o)return ym(e);const s=i.slice(a);return this.getChildConfig(t,n,i).pipe(q(t=>{const n=t.module,i=t.routes,{segmentGroup:o,slicedSegments:a}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Pm(t,e,n)&&"primary"!==Mm(n))}(t,n,i)?{segmentGroup:wm(new Cg(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==Mm(i)&&(n[Mm(i)]=new Cg([],{}));return n}(i,new Cg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Pm(t,e,n))}(t,n,i)?{segmentGroup:wm(new Cg(t.segments,function(t,e,n,i){const o={};for(const r of n)Pm(t,e,r)&&!i[Mm(r)]&&(o[Mm(r)]=new Cg([],{}));return Object.assign(Object.assign({},i),o)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,r,s,i);return 0===a.length&&o.hasChildren()?this.expandChildren(n,i,o).pipe(z(t=>new Cg(r,t))):0===i.length&&0===a.length?Hp(new Cg(r,{})):this.expandSegment(n,o,i,a,"primary",!0).pipe(z(t=>new Cg(r.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Hp(new ug(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Hp(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?U(i).pipe(z(i=>{const o=t.get(i);let r;if(function(t){return t&&fm(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!fm(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return yg(r)})).pipe(tf(),(o=t=>!0===t,t=>t.lift(new Pf(o,void 0,t)))):Hp(!0);var o}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(ag(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Hp(new ug([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Hp(n);if(i.numberOfChildren>1||!i.children.primary)return vm(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const o=this.createSegmentGroup(t,e.root,n,i);return new vg(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _g(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const o=t.substring(1);n[i]=e[o]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const o=this.createSegments(t,e.segments,n,i);let r={};return _g(e.children,(e,o)=>{r[o]=this.createSegmentGroup(t,e,n,i)}),new Cg(o,r)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function xm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||sg)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wm(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Cg(t.segments.concat(e.segments),e.children)}return t}function Pm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Mm(t){return t.outlet||"primary"}class Om{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class km{constructor(t,e){this.component=t,this.route=e}}function Em(t,e,n){const i=t._root;return function t(e,n,i,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Gg(n);return e.children.forEach(e=>{!function(e,n,i,o,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,s=n?n.value:null,u=i?i.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wg(t.url,e.url)||!pg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tm(t,e)||!pg(t.queryParams,e.queryParams);case"paramsChange":default:return!tm(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Om(o)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:i,o,r),c&&r.canDeactivateChecks.push(new km(u&&u.outlet&&u.outlet.component||null,s))}else s&&Tm(n,u,r),r.canActivateChecks.push(new Om(o)),t(e,null,a.component?u?u.children:null:i,o,r)}(e,a[e.value.outlet],i,o.concat([e.value]),r),delete a[e.value.outlet]}),_g(a,(t,e)=>Tm(t,i.getContext(e),r)),r}(i,e?e._root:null,n,[i.value])}function Sm(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Tm(t,e,n){const i=Gg(t),o=t.value;_g(i,(t,i)=>{Tm(t,o.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new km(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}const Am=Symbol("INITIAL_VALUE");function Im(){return Of(t=>function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),W(t,n).lift(new Xp(e))}(...t.map(t=>t.pipe(vf(1),Tf(Am)))).pipe(Af((t,e)=>{let n=!1;return e.reduce((t,i,o)=>{if(t!==Am)return t;if(i===Am&&(n=!0),!n){if(!1===i)return i;if(o===e.length-1||gm(i))return i}return t},t)},Am),ef(t=>t!==Am),z(t=>gm(t)?t:!0===t),vf(1)))}function Dm(t,e){return null!==t&&e&&e(new tg(t)),Hp(!0)}function Rm(t,e){return null!==t&&e&&e(new Qf(t)),Hp(!0)}function Fm(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Hp(i.map(i=>Jp(()=>{const o=Sm(i,e,n);let r;if(function(t){return t&&fm(t.canActivate)}(o))r=yg(o.canActivate(e,t));else{if(!fm(o))throw new Error("Invalid CanActivate guard");r=yg(o(e,t))}return r.pipe(wf())}))).pipe(Im()):Hp(!0)}function Lm(t,e,n){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Jp(()=>Hp(e.guards.map(o=>{const r=Sm(o,e.node,n);let a;if(function(t){return t&&fm(t.canActivateChild)}(r))a=yg(r.canActivateChild(i,t));else{if(!fm(r))throw new Error("Invalid CanActivateChild guard");a=yg(r(i,t))}return a.pipe(wf())})).pipe(Im())));return Hp(o).pipe(Im())}class zm{}class Bm{constructor(t,e,n,i,o,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){try{const t=Um(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Xg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new jg(n,e),o=new $g(this.url,i);return this.inheritParamsAndData(o._root),Hp(o)}catch(t){return new v(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Kg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Pg(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const r of t)try{return this.processSegmentAgainstRoute(r,e,n,i)}catch(o){if(!(o instanceof zm))throw o}if(this.noLeftoversInUrl(e,n,i))return[];throw new zm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new zm;if((t.outlet||"primary")!==i)throw new zm;let o,r=[],a=[];if("**"===t.path){const r=n.length>0?mg(n).parameters:{};o=new Xg(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(t),i,t.component,t,Nm(e),Vm(e)+n.length,Hm(t))}else{const s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new zm;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||sg)(n,t,e);if(!i)throw new zm;const o={};_g(i.posParams,(t,e)=>{o[e]=t.path});const r=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(e,t,n);r=s.consumedSegments,a=n.slice(s.lastChild),o=new Xg(r,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(t),i,t.component,t,Nm(e),Vm(e)+r.length,Hm(t))}const s=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Um(e,r,a,s,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(s,u);return[new jg(o,t)]}if(0===s.length&&0===c.length)return[new jg(o,[])];const l=this.processSegment(s,u,c,"primary");return[new jg(o,l)]}}function Nm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Um(t,e,n,i,o){if(n.length>0&&function(t,e,n){return n.some(n=>qm(t,e,n)&&"primary"!==jm(n))}(t,n,i)){const o=new Cg(e,function(t,e,n,i){const o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const r of n)if(""===r.path&&"primary"!==jm(r)){const n=new Cg([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,o[jm(r)]=n}return o}(t,e,i,new Cg(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qm(t,e,n))}(t,n,i)){const r=new Cg(t.segments,function(t,e,n,i,o,r){const a={};for(const s of i)if(qm(t,n,s)&&!o[jm(s)]){const n=new Cg([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===r?t.segments.length:e.length,a[jm(s)]=n}return Object.assign(Object.assign({},o),a)}(t,e,n,i,t.children,o));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:n}}const r=new Cg(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:n}}function qm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function jm(t){return t.outlet||"primary"}function Gm(t){return t.data||{}}function Hm(t){return t.resolve||{}}function Zm(t,e,n,i){const o=Sm(t,e,i);return yg(o.resolve?o.resolve(e,n):o(e,n))}function Wm(t){return function(e){return e.pipe(Of(e=>{const n=t(e);return n?U(n).pipe(z(()=>e)):U([e])}))}}class Km{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Xm=new Ut("ROUTES");class $m{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(z(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ug(gg(i.injector.get(Xm)).map(hg),i)}))}loadModuleFactory(t){return"string"==typeof t?U(this.loader.load(t)):yg(t()).pipe(q(t=>t instanceof ie?Hp(t):U(this.compiler.compileModuleAsync(t))))}}class Ym{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qm(t){throw t}function Jm(t,e,n){return e.parse("/")}function t_(t,e){return Hp(null)}let e_=(()=>{class t{constructor(t,e,n,i,o,r,a,s){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=Qm,this.malformedUriErrorHandler=Jm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:t_,afterPreactivation:t_},this.urlHandlingStrategy=new Ym,this.routeReuseStrategy=new Km,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(ne),this.console=o.get(yc);const u=o.get(Ic);this.isNgZoneEnabled=u instanceof Ic,this.resetConfig(s),this.currentUrlTree=new vg(new Cg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $m(r,a,t=>this.triggerEvent(new $f(t)),t=>this.triggerEvent(new Yf(t))),this.routerState=Zg(this.currentUrlTree,this.rootComponentType),this.transitions=new Zp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ef(t=>0!==t.id),z(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Of(t=>{let n=!1,i=!1;return Hp(t).pipe(Ff(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Of(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Hp(t).pipe(Of(t=>{const n=this.transitions.getValue();return e.next(new Uf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Yp:[t]}),Of(t=>Promise.resolve(t)),(i=this.ngModule.injector,o=this.configLoader,r=this.urlSerializer,a=this.config,function(t){return t.pipe(Of(t=>function(t,e,n,i,o){return new Cm(t,e,n,i,o).apply()}(i,o,r,t.extractedUrl,a).pipe(z(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Ff(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,o){return function(r){return r.pipe(q(r=>function(t,e,n,i,o="emptyOnly",r="legacy"){return new Bm(t,e,n,i,o,r).recognize()}(t,e,r.urlAfterRedirects,n(r.urlAfterRedirects),i,o).pipe(z(t=>Object.assign(Object.assign({},r),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ff(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ff(t=>{const n=new Hf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,o,r,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:o,restoredState:r,extras:a}=t,s=new Uf(n,this.serializeUrl(i),o,r);e.next(s);const u=Zg(i,this.rootComponentType).snapshot;return Hp(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Yp}),Wm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:a}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!a})}),Ff(t=>{const e=new Zf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),z(t=>Object.assign(Object.assign({},t),{guards:Em(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:a}}=n;return 0===a.length&&0===r.length?Hp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return U(t).pipe(q(t=>function(t,e,n,i,o){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Hp(r.map(r=>{const a=Sm(r,e,o);let s;if(function(t){return t&&fm(t.canDeactivate)}(a))s=yg(a.canDeactivate(t,e,n,i));else{if(!fm(a))throw new Error("Invalid CanDeactivate guard");s=yg(a(t,e,n,i))}return s.pipe(wf())})).pipe(Im()):Hp(!0)}(t.component,t.route,n,e,i)),wf(t=>!0!==t,!0))}(a,i,o,t).pipe(q(n=>n&&"boolean"==typeof n?function(t,e,n,i){return U(e).pipe(Rf(e=>U([Rm(e.route.parent,i),Dm(e.route,i),Lm(t,e.path,n),Fm(t,e.route,n)]).pipe(tf(),wf(t=>!0!==t,!0))),wf(t=>!0!==t,!0))}(i,r,t,e):Hp(n)),z(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Ff(t=>{if(gm(t.guardsResult)){const e=ag(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Ff(t=>{const e=new Wf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ef(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new jf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wm(t=>{if(t.guards.canActivateChecks.length)return Hp(t).pipe(Ff(t=>{const e=new Kf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(q(t=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=t;return o.length?U(o).pipe(Rf(t=>function(t,e,n,i){return function(t,e,n,i){const o=Object.keys(t);if(0===o.length)return Hp({});if(1===o.length){const r=o[0];return Zm(t[r],e,n,i).pipe(z(t=>({[r]:t})))}const r={};return U(o).pipe(q(o=>Zm(t[o],e,n,i).pipe(z(t=>(r[o]=t,t))))).pipe(mf(),z(()=>r))}(t._resolve,t,e,i).pipe(z(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Kg(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return y(Af(t,e),af(1),pf(e))(n)}:function(e){return y(Af((e,n,i)=>t(e,n,i+1)),af(1))(e)}}((t,e)=>t),z(e=>t)):Hp(t)}))}),Ff(t=>{const e=new Xf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Wm(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:a}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!a})}),z(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=n.value;const r=function(e,n,i){return n.children.map(n=>{for(const o of i.children)if(e.shouldReuseRoute(o.value.snapshot,n.value))return t(e,n,o);return t(e,n)})}(e,n,i);return new jg(o,r)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Wg(new Zp((o=n.value).url),new Zp(o.params),new Zp(o.queryParams),new Zp(o.fragment),new Zp(o.data),o.outlet,o.component,o),r=n.children.map(n=>t(e,n));return new jg(i,r)}}var o}(t,e._root,n?n._root:void 0);return new Hg(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Ff(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,a=this.routeReuseStrategy,s=t=>this.triggerEvent(t),z(t=>(new hm(a,t.targetRouterState,t.currentRouterState,s).activate(r),t))),Ff({next(){n=!0},complete(){n=!0}}),(o=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new jf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Bf(o))),_f(n=>{if(i=!0,(o=n)&&o.ngNavigationCancelingError){const i=gm(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const o=new jf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(o),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Gf(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(r){t.reject(r)}}var o;return Yp}));var o,r,a,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cg(t),this.config=t.map(hg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:r,queryParamsHandling:a,preserveFragment:s}=e;oi()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o;let l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}else l=r?this.currentUrlTree.queryParams:i||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,o){if(0===n.length)return nm(e.root,e.root,e,i,o);const r=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new im(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return _g(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===o?(i.split("/").forEach((i,o)=>{0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new im(n,e,i)}(n);if(r.toRoot())return nm(e.root,new Cg([],{}),e,i,o);const a=function(t,e,n){if(t.isAbsolute)return new om(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new om(n.snapshot._urlSegment,!0,0);const i=em(t.commands[0])?0:1;return function(t,e,n){let i=t,o=e,r=n;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new om(i,!1,o-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(r,e,t),s=a.processChildren?sm(a.segmentGroup,a.index,r.commands):am(a.segmentGroup,a.index,r.commands);return nm(a.segmentGroup,s,e,i,o)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){oi()&&this.isNgZoneEnabled&&!Ic.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=gm(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(gm(t))return bg(this.currentUrlTree,t,e);const n=this.parseUrl(t);return bg(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new qf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,o){const r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);let a,s,u;o?(a=o.resolve,s=o.reject,u=o.promise):u=new Promise((t,e)=>{a=t,s=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:a,reject:s,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const o=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){ma()},t.\u0275dir=xe({type:t}),t})(),n_=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(o.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oi()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:o_(this.skipLocationChange),replaceUrl:o_(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:o_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:o_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(fa(e_),fa(Wg),ga("tabindex"),fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Ea("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),i_=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof qf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){oi()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:o_(this.skipLocationChange),replaceUrl:o_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:o_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:o_(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(fa(e_),fa(Wg),fa(vl))},t.\u0275dir=xe({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ea("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(gs("href",e.href,Ti),la("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ws]}),t})();function o_(t){return""===t||!!t}let r_=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof qf&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(fa(e_),fa(zs),fa(Us),fa(n_,8),fa(i_,8))},t.\u0275dir=xe({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(ec(n,n_,!0),ec(n,i_,!0)),2&t&&(Yu(i=oc())&&(e.links=i),Yu(i=oc())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ws]}),t})();class a_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new s_,this.attachRef=null}}class s_{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new a_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let u_=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Vu,this.deactivateEvents=new Vu,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new c_(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(fa(s_),fa(cu),fa(Ls),ga("name"),fa(Ar))},t.\u0275dir=xe({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class c_{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wg?this.route:t===s_?this.childContexts:this.parent.get(t,e)}}class l_{}class d_{preload(t,e){return Hp(null)}}let h_=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new $m(e,n,e=>t.triggerEvent(new $f(e)),e=>t.triggerEvent(new Yf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ef(t=>t instanceof qf),Rf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ne);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return U(n).pipe(Z(),z(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Yt(e_),Yt(tl),Yt(Ec),Yt(Wr),Yt(l_))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),p_=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Uf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ng&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ng(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){ma()},t.\u0275dir=xe({type:t}),t})();const f_=new Ut("ROUTER_CONFIGURATION"),g_=new Ut("ROUTER_FORROOT_GUARD"),m_=[Ml,{provide:Mg,useClass:Og},{provide:e_,useFactory:function(t,e,n,i,o,r,a,s={},u,c){const l=new e_(null,t,e,n,i,o,r,gg(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){const t=cl();l.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[Mg,s_,Ml,Wr,tl,Ec,Xm,f_,[class{},new st],[class{},new st]]},s_,{provide:Wg,useFactory:function(t){return t.routerState.root},deps:[e_]},{provide:tl,useClass:il},h_,d_,class{preload(t,e){return e().pipe(_f(()=>Hp(null)))}},{provide:f_,useValue:{enableTracing:!1}}];function __(){return new Wc("Router",e_)}let y_=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[m_,x_(e),{provide:g_,useFactory:C_,deps:[[e_,new st,new ct]]},{provide:f_,useValue:n||{}},{provide:vl,useFactory:v_,deps:[dl,[new at(xl),new st],f_]},{provide:p_,useFactory:b_,deps:[e_,Zl,f_]},{provide:l_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:d_},{provide:Wc,multi:!0,useFactory:__},[w_,{provide:lc,multi:!0,useFactory:P_,deps:[w_]},{provide:O_,useFactory:M_,deps:[w_]},{provide:_c,multi:!0,useExisting:O_}]]}}static forChild(e){return{ngModule:t,providers:[x_(e)]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Yt(g_,8),Yt(e_,8))}}),t})();function b_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new p_(t,e,n)}function v_(t,e,n={}){return n.useHash?new Pl(t,e):new wl(t,e)}function C_(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function x_(t){return[{provide:Kr,multi:!0,useValue:t},{provide:Xm,multi:!0,useValue:t}]}let w_=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new M}appInitializer(){return this.injector.get(pl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(e_),i=this.injector.get(f_);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Hp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(f_),n=this.injector.get(h_),i=this.injector.get(p_),o=this.injector.get(e_),r=this.injector.get(Qc);t===r.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Yt(Wr))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function P_(t){return t.appInitializer.bind(t)}function M_(t){return t.bootstrapListener.bind(t)}const O_=new Ut("Router Initializer"),k_=[];let E_=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[y_.forRoot(k_)],y_]}),t})();var S_=n("ED5Z"),T_=n.n(S_),A_=n("4ZJM");class I_{}class D_{}class R_{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),o=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof R_?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new R_;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof R_?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===o.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class F_{encodeKey(t){return L_(t)}encodeValue(t){return L_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function L_(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class z_{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new F_,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[o,r]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],a=n.get(o)||[];a.push(r),n.set(o,a)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new z_({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function B_(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function N_(t){return"undefined"!=typeof Blob&&t instanceof Blob}function V_(t){return"undefined"!=typeof FormData&&t instanceof FormData}class U_{constructor(t,e,n,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new R_),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new z_,this.urlWithParams=e}serializeBody(){return null===this.body?null:B_(this.body)||N_(this.body)||V_(this.body)||"string"==typeof this.body?this.body:this.body instanceof z_?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||V_(this.body)?null:N_(this.body)?this.body.type||null:B_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof z_?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,r=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let s=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),s)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new U_(e,n,o,{params:u,headers:s,reportProgress:a,responseType:i,withCredentials:r})}}const q_=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class j_{constructor(t,e=200,n="OK"){this.headers=t.headers||new R_,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class G_ extends j_{constructor(t={}){super(t),this.type=q_.ResponseHeader}clone(t={}){return new G_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class H_ extends j_{constructor(t={}){super(t),this.type=q_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new H_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Z_ extends j_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function W_(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let K_=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof U_)i=t;else{let o=void 0;o=n.headers instanceof R_?n.headers:new R_(n.headers);let r=void 0;n.params&&(r=n.params instanceof z_?n.params:new z_({fromObject:n.params})),i=new U_(t,e,void 0!==n.body?n.body:null,{headers:o,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=Hp(i).pipe(Rf(t=>this.handler.handle(t)));if(t instanceof U_||"events"===n.observe)return o;const r=o.pipe(ef(t=>t instanceof H_));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return r.pipe(z(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return r.pipe(z(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return r.pipe(z(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return r.pipe(z(t=>t.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new z_).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,W_(n,e))}post(t,e,n={}){return this.request("POST",t,W_(n,e))}put(t,e,n={}){return this.request("PUT",t,W_(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Yt(I_))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class X_{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const $_=new Ut("HTTP_INTERCEPTORS");let Y_=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Q_=/^\)\]\}',?\n/;class J_{}let ty=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),ey=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let o=null;const r=()=>{if(null!==o)return o;const e=1223===n.status?204:n.status,i=n.statusText||"OK",r=new R_(n.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return o=new G_({headers:r,status:e,statusText:i,url:a}),o},a=()=>{let{headers:i,status:o,statusText:a,url:s}=r(),u=null;204!==o&&(u=void 0===n.response?n.responseText:n.response),0===o&&(o=u?200:0);let c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Q_,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new H_({body:u,headers:i,status:o,statusText:a,url:s||void 0})),e.complete()):e.error(new Z_({error:u,headers:i,status:o,statusText:a,url:s||void 0}))},s=t=>{const{url:i}=r(),o=new Z_({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(o)};let u=!1;const c=i=>{u||(e.next(r()),u=!0);let o={type:q_.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),"text"===t.responseType&&n.responseText&&(o.partialText=n.responseText),e.next(o)},l=t=>{let n={type:q_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",a),n.addEventListener("error",s),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",l)),n.send(i),e.next({type:q_.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("load",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Yt(J_))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ny=new Ut("XSRF_COOKIE_NAME"),iy=new Ut("XSRF_HEADER_NAME");class oy{}let ry=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Al(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Yt(ll),Yt(mc),Yt(ny))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),ay=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(oy),Yt(iy))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),sy=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get($_,[]);this.chain=t.reduceRight((t,e)=>new X_(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(D_),Yt(Wr))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),uy=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ay,useClass:Y_}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ny,useValue:e.cookieName}:[],e.headerName?{provide:iy,useValue:e.headerName}:[]]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[ay,{provide:$_,useExisting:ay,multi:!0},{provide:oy,useClass:ry},{provide:ny,useValue:"XSRF-TOKEN"},{provide:iy,useValue:"X-XSRF-TOKEN"}]}),t})(),cy=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[K_,{provide:I_,useClass:sy},ey,{provide:D_,useExisting:ey},ty,{provide:J_,useExisting:ty}],imports:[[uy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),ly=(()=>{class t{constructor(t){this.http=t,this.API_BASE_URL="https://nzlur.carto.com:443/api/v2/sql?q="}getZoning(t,e,n){return this.http.get(`${this.API_BASE_URL}${`select ${t} from public.zoning_2 where blocklot = '${e}-${n}'`}`)}}return t.\u0275fac=function(e){return new(e||t)(Yt(K_))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),dy=(()=>{class t{openStreetView(t,e){window.open(`https://www.google.com/maps?q=&layer=c&cbll=${t.toString()},${e.toString()}`,"_blank")}openGoogleMaps(t,e){window.open(`https://www.google.com/maps/place/${this.getDMS(t,"lat")}+${this.getDMS(e,"lon")}/@${t.toString()},${e.toString()}`,"_blank")}truncate(t){return t>0?Math.floor(t):Math.ceil(t)}getDMS(t,e){const n=/^[WE]|(?:lon)/i.test(e)?t<0?"W":"E":t<0?"S":"N",i=Math.abs(t),o=this.truncate(i),r=this.truncate(60*(i-o)),a=[o,r,((i-o-r/60)*Math.pow(60,2)).toFixed(2),n];return`${a[0]}\xb0${a[1]}'${a[2]}"${a[3]}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),hy=(()=>{class t{getId(){return this.id}setId(t){this.id=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function py(){return function(){throw new Error("Unimplemented abstract method.")}()}var fy=0;function gy(t){return t.ol_uid||(t.ol_uid=String(++fy))}var my,_y=(my=function(t,e){return(my=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}my(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yy=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/v"+"6.2.1".split("-")[0]+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return _y(e,t),e}(Error),by="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function vy(t){for(var e in t)delete t[e]}var Cy="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function xy(t,e,n,i,o){if(i&&i!==t&&(n=n.bind(i)),o){var r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function wy(t,e,n,i){return xy(t,e,n,i,!0)}function Py(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),vy(t))}var My=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Oy(t,e){return t>e?1:t<e?-1:0}function ky(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function Ey(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Sy(){return!0}function Ty(){return!1}function Ay(){}var Iy=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Dy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ry=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return Dy(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(this.listeners_[t]=n=[]),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Iy(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var i,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,a=o.length;r<a;++r)if(!1===o[r].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,Ay);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){vy(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);-1!==i&&(t in this.pendingRemovals_?(n[i]=Ay,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t]))}},e}(My),Fy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ly=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return Fy(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=xy(this,t[o],e);return i}return xy(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=wy(this,t[o],e);return i}return wy(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(Ry),zy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),By=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return zy(e,t),e}(Iy),Ny=function(t){function e(e){var n=t.call(this)||this;return gy(n),n.values_={},void 0!==e&&n.setProperties(e),n}return zy(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return by({},this.values_)},e.prototype.notify=function(t,e){var n;n=Uy(t),this.dispatchEvent(new By(n,t,e)),this.dispatchEvent(new By(n="propertychange",t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(Ly),Vy={};function Uy(t){return Vy.hasOwnProperty(t)?Vy[t]:Vy[t]="change:"+t}var qy=Ny,jy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gy=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return jy(e,t),e}(Iy),Hy=function(t){function e(e,n){var i=t.call(this)||this;if(i.unique_=!!(n||{}).unique,i.array_=e||[],i.unique_)for(var o=0,r=i.array_.length;o<r;++o)i.assertUnique_(i.array_[o],o);return i.updateLength_(),i}return jy(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Gy("add",e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Gy("remove",e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Gy("remove",i,t)),this.dispatchEvent(new Gy("add",e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new yy(58)},e}(qy),Zy=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wy=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return Zy(e,t),e}(Iy),Ky=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xy=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return Ky(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Wy),$y=(n("pg82"),"undefined"!=typeof navigator?navigator.userAgent.toLowerCase():""),Yy=-1!==$y.indexOf("firefox"),Qy=(-1!==$y.indexOf("safari")&&$y.indexOf("chrom"),-1!==$y.indexOf("webkit")&&-1==$y.indexOf("edge")),Jy=-1!==$y.indexOf("macintosh"),tb=window.devicePixelRatio||1,eb="undefined"!=typeof Image&&Image.prototype.decode,nb=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}(),ib={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ob=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rb=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i,o,r)||this;return a.pointerEvent=i,a}return ob(e,t),e}(Xy),ab=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sb=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*tb:tb,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=xy(o,"pointerdown",i.handlePointerDown_,i),i.relayedListenerKey_=xy(o,"pointermove",i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener("touchmove",i.boundHandleTouchMove_,!!nb&&{passive:!1}),i}return ab(e,t),e.prototype.emulateClick_=function(t){var e=new rb(ib.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new rb(ib.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new rb(ib.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==ib.POINTERUP||e.type==ib.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==ib.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new rb(ib.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Py),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new rb(ib.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(xy(document,ib.POINTERMOVE,this.handlePointerMove_,this),xy(document,ib.POINTERUP,this.handlePointerUp_,this),xy(this.element_,ib.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new rb(ib.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new rb(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_.defaultPrevented&&t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Py(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Py(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Py),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Ry);function ub(t,e){if(!t)throw new yy(e)}var cb=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,vy(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){ub(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<i&&n[u]<n[s]?u:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}(),lb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),db=function(t){function e(e,n){var i=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return lb(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener("change",this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&2===n||3===n||4===n){e.removeEventListener("change",this.boundHandleTileChange_);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),0!==n.getState()||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,n.load())},e}(cb);function hb(t,e,n){return Math.min(Math.max(t,e),n)}var pb="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function fb(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var u=((t-n)*a+(e-i)*s)/(a*a+s*s);u>1?(n=o,i=r):u>0&&(n+=a*u,i+=s*u)}return gb(t,e,n,i)}function gb(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function mb(t,e){var n=t%e;return n*e<0?n+e:n}function _b(t,e,n){return t+n*(e-t)}function yb(t,e,n){return function(i,o,r,a){if(i){var s=e?0:r[0]*o,u=e?0:r[1]*o,c=t[0]+s/2,l=t[2]-s/2,d=t[1]+u/2,h=t[3]-u/2;c>l&&(l=c=(l+c)/2),d>h&&(h=d=(h+d)/2);var p=hb(i[0],c,l),f=hb(i[1],d,h),g=30*o;return a&&n&&(p+=-g*Math.log(1+Math.max(0,c-i[0])/g)+g*Math.log(1+Math.max(0,i[0]-l)/g),f+=-g*Math.log(1+Math.max(0,d-i[1])/g)+g*Math.log(1+Math.max(0,i[1]-h)/g)),[p,f]}}}function bb(t){return t}function vb(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function Cb(t,e){var n=e[0],i=e[1],o=0;return n<t[0]?o|=16:n>t[2]&&(o|=4),i<t[1]?o|=8:i>t[3]&&(o|=2),0===o&&(o=1),o}function xb(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function wb(t){return xb(1/0,1/0,-1/0,-1/0,t)}function Pb(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Mb(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ob(t,e,n,i,o){for(;n<i;n+=o)kb(t,e[n],e[n+1]);return t}function kb(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Eb(t){return[t[0],t[1]]}function Sb(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Tb(t,e,n,i,o){var r=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),u=Math.sin(n),c=r*s,l=r*u,d=a*s,h=a*u,p=t[0],f=t[1],g=p-c+h,m=p-c-h,_=p+c-h,y=p+c+h,b=f-l-d,v=f-l+d,C=f+l+d,x=f+l-d;return xb(Math.min(g,m,_,y),Math.min(b,v,C,x),Math.max(g,m,_,y),Math.max(b,v,C,x),o)}function Ab(t){return t[3]-t[1]}function Ib(t){return[t[2],t[3]]}function Db(t){return t[2]-t[0]}function Rb(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Fb(t){return t[2]<t[0]||t[3]<t[1]}function Lb(t,e,n,i){var o=Db(e)/n[0],r=Ab(e)/n[1];return i?Math.min(t,Math.max(o,r)):Math.min(t,Math.min(o,r))}function zb(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),hb(i,n/2,2*e)}function Bb(t,e,n,i,o){return function(r,a,s,u){if(void 0!==r){var c=i?Lb(t,i,s,o):t;return(void 0===n||n)&&u?zb(r,c,e):hb(r,e,c)}}}function Nb(t){return void 0!==t?0:void 0}function Vb(t){return void 0!==t?t:void 0}function Ub(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function qb(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=o,t}function jb(t){return 1-function(t){return Math.pow(t,3)}(1-t)}function Gb(t){return 3*t*t-2*t*t*t}function Hb(t){return t}function Zb(t,e,n,i,o,r){for(var a=r||[],s=0,u=e;u<n;u+=i){var c=t[u],l=t[u+1];a[s++]=o[0]*c+o[2]*l+o[4],a[s++]=o[1]*c+o[3]*l+o[5]}return r&&a.length!=s&&(a.length=s),a}var Wb={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Kb={};Kb[Wb.DEGREES]=2*Math.PI*6370997/360,Kb[Wb.FEET]=.3048,Kb[Wb.METERS]=1,Kb[Wb.USFEET]=1200/3937;var Xb=Wb,$b=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Kb[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Yb=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qb=6378137*Math.PI,Jb=[-Qb,-Qb,Qb,Qb],tv=[-180,-85,180,85],ev=function(t){function e(e){return t.call(this,{code:e,units:Xb.METERS,extent:Jb,global:!0,worldExtent:tv,getPointResolution:function(t,e){return t/pb(e[1]/6378137)}})||this}return Yb(e,t),e}($b),nv=[new ev("EPSG:3857"),new ev("EPSG:102100"),new ev("EPSG:102113"),new ev("EPSG:900913"),new ev("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ev("urn:ogc:def:crs:EPSG::3857"),new ev("http://www.opengis.net/gml/srs/epsg.xml#3857")],iv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ov=[-180,-90,180,90],rv=6378137*Math.PI/180,av=function(t){function e(e,n){return t.call(this,{code:e,units:Xb.DEGREES,extent:ov,axisOrientation:n,global:!0,metersPerUnit:rv,worldExtent:ov})||this}return iv(e,t),e}($b),sv=[new av("CRS:84"),new av("EPSG:4326","neu"),new av("urn:ogc:def:crs:EPSG::4326","neu"),new av("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new av("urn:ogc:def:crs:OGC:1.3:CRS84"),new av("urn:ogc:def:crs:OGC:2:84"),new av("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new av("urn:x-ogc:def:crs:EPSG:4326","neu")],uv={};function cv(t,e,n){var i=t.getCode(),o=e.getCode();i in uv||(uv[i]={}),uv[i][o]=n}var lv,dv,hv,pv={};function fv(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function gv(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function mv(t){!function(t,e){pv[t]=e}(t.getCode(),t),cv(t,t,fv)}function _v(t){return"string"==typeof t?pv[t]||null:t||null}function yv(t){!function(t){t.forEach(mv)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&cv(e,t,fv)}))}))}function bv(t,e){return t?"string"==typeof t?_v(t):t:_v(e)}function vv(t,e){return n=_v(t),i=_v(e),o=n.getCode(),r=i.getCode(),o in uv&&r in uv[o]&&(a=uv[o][r]),(s=a)||(s=gv),s;var n,i,o,r,a,s}function Cv(t,e){return t}function xv(t,e){return t}function wv(t,e){return t}function Pv(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Mv(t,e,n,i,o,r,a,s){var u=Math.sin(r),c=Math.cos(r);return t[0]=i*c,t[1]=o*u,t[2]=-i*u,t[3]=o*c,t[4]=a*i*c-s*i*u+e,t[5]=a*o*u+s*o*c+n,t}yv(nv),yv(sv),lv=nv,dv=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=Qb,s=0;s<i;s+=o){r[s]=a*t[s]/180;var u=6378137*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),r[s+1]=u}return r},hv=function(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o)r[a]=180*t[a]/Qb,r[a+1]=360*Math.atan(Math.exp(t[a+1]/6378137))/Math.PI-90;return r},sv.forEach((function(t){lv.forEach((function(e){cv(t,e,dv),cv(e,t,hv)}))})),new Array(6);var Ov=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kv=[1,0,0,1,0,0],Ev=function(t){function e(){var e,n,i,o,r,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var i=this.clone();return i.applyTransform(n),i.getSimplifiedGeometry(e)},r=!1,function(){var t=Array.prototype.slice.call(arguments);return r&&this===o&&Ey(t,i)||(r=!0,o=this,i=t,n=e.apply(this,arguments)),n}),a}return Ov(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return py()},e.prototype.closestPointXY=function(t,e,n,i){return py()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return py()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){py()},e.prototype.scale=function(t,e,n){py()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return py()},e.prototype.getType=function(){return py()},e.prototype.applyTransform=function(t){py()},e.prototype.intersectsExtent=function(t){return py()},e.prototype.translate=function(t,e){py()},e.prototype.transform=function(t,e){var n=_v(t),i=n.getUnits()==Xb.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),a=n.getWorldExtent(),s=Ab(a)/Ab(r);return Mv(kv,a[0],a[3],s,-s,0,0,0),Zb(t,0,t.length,o,kv,i),vv(n,e)(t,i,o)}:vv(n,e);return this.applyTransform(i),this},e}(qy),Sv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Tv(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}var Av=function(t){function e(){var e=t.call(this)||this;return e.layout="XY",e.stride=2,e.flatCoordinates=null,e}return Sv(e,t),e.prototype.computeExtent=function(t){return e=this.flatCoordinates,n=this.flatCoordinates.length,i=this.stride,Ob(wb(t),e,0,n,i);var e,n,i},e.prototype.getCoordinates=function(){return py()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Tv(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){py()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=Tv(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],u=Math.cos(o),c=Math.sin(o),l=r[0],d=r[1],h=0,p=0;p<n;p+=i){var f=t[p]-l,g=t[p+1]-d;s[h++]=l+f*u-g*c,s[h++]=d+f*c+g*u;for(var m=p+2;m<p+i;++m)s[h++]=t[m]}a&&s.length!=h&&(s.length=h)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Sb(this.getExtent()));var r=this.getFlatCoordinates();if(r){var a=this.getStride();!function(t,e,n,i,o,r,a,s){for(var u=s||[],c=a[0],l=a[1],d=0,h=0;h<n;h+=i){var p=t[h+1]-l;u[d++]=c+o*(t[h]-c),u[d++]=l+r*p;for(var f=h+2;f<h+i;++f)u[d++]=t[f]}s&&u.length!=d&&(u.length=d)}(r,0,r.length,a,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,o,r,a){for(var s=a||[],u=0,c=0;c<n;c+=i){s[u++]=t[c]+o,s[u++]=t[c+1]+r;for(var l=c+2;l<c+i;++l)s[u++]=t[l]}a&&s.length!=u&&(s.length=u)}(n,0,n.length,i,t,e,n),this.changed()}},e}(Ev);function Iv(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];o+=a*s-r*u,r=s,a=u}return o/2}function Dv(t,e,n,i,o,r,a){var s,u=t[e],c=t[e+1],l=t[n]-u,d=t[n+1]-c;if(0===l&&0===d)s=e;else{var h=((o-u)*l+(r-c)*d)/(l*l+d*d);if(h>1)s=n;else{if(h>0){for(var p=0;p<i;++p)a[p]=_b(t[e+p],t[n+p],h);return void(a.length=i)}s=e}}for(p=0;p<i;++p)a[p]=t[s+p];a.length=i}function Rv(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],u=t[e+1],c=gb(r,a,s,u);c>o&&(o=c),r=s,a=u}return o}function Fv(t,e,n,i,o,r,a,s,u,c,l){if(e==n)return c;var d,h;if(0===o){if((h=gb(a,s,t[e],t[e+1]))<c){for(d=0;d<i;++d)u[d]=t[e+d];return u.length=i,h}return c}for(var p=l||[NaN,NaN],f=e+i;f<n;)if(Dv(t,f-i,f,i,a,s,p),(h=gb(a,s,p[0],p[1]))<c){for(c=h,d=0;d<i;++d)u[d]=p[d];u.length=i,f+=i}else f+=i*Math.max((Math.sqrt(h)-Math.sqrt(c))/o|0,1);if(r&&(Dv(t,n-i,e,i,a,s,p),(h=gb(a,s,p[0],p[1]))<c)){for(c=h,d=0;d<i;++d)u[d]=p[d];u.length=i}return c}function Lv(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var a=n[o],s=0;s<i;++s)t[e++]=a[s];return e}function zv(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=e;s<n;s+=i)r[a++]=t.slice(s,s+i);return r.length=a,r}function Bv(t,e){return e*Math.round(t/e)}function Nv(t,e,n,i,o,r,a){if(e==n)return a;var s,u,c=Bv(t[e],o),l=Bv(t[e+1],o);e+=i,r[a++]=c,r[a++]=l;do{if(s=Bv(t[e],o),u=Bv(t[e+1],o),(e+=i)==n)return r[a++]=s,r[a++]=u,a}while(s==c&&u==l);for(;e<n;){var d=Bv(t[e],o),h=Bv(t[e+1],o);if(e+=i,d!=s||h!=u){var p=s-c,f=u-l,g=d-c,m=h-l;p*m==f*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(f<0&&m<f||f==m||f>0&&m>f)?(s=d,u=h):(r[a++]=s,r[a++]=u,c=s,l=u,s=d,u=h)}}return r[a++]=s,r[a++]=u,a}var Vv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uv=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return Vv(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<vb(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Rv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Iv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return zv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=function(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var c=[e,n-i],l=0;c.length>0;){for(var d=c.pop(),h=c.pop(),p=0,f=t[h],g=t[h+1],m=t[d],_=t[d+1],y=h+i;y<d;y+=i){var b=fb(t[y],t[y+1],f,g,m,_);b>p&&(l=y,p=b)}p>o&&(u[(l-e)/i]=1,h+i<l&&c.push(h,l),l+i<d&&c.push(l,d))}for(y=0;y<s;++y)u[y]&&(r[a++]=t[e+y*i],r[a++]=t[e+y*i+1]);return a}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Lv(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Av),qv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jv=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return qv(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=gb(t,e,o[0],o[1]);if(r<i){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return xb(n=(e=this.flatCoordinates)[0],i=e[1],n,i,t);var e,n,i},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t),this.changed()},e}(Av);function Gv(t,e,n,i,o){return!function(t,e){var n;return(n=e(Eb(t)))||(n=e(function(t){return[t[2],t[1]]}(t)))||(n=e(Ib(t)))?n:(n=e(function(t){return[t[0],t[3]]}(t)))||!1}(o,(function(o){return!Hv(t,e,n,i,o[0],o[1])}))}function Hv(t,e,n,i,o,r){for(var a=0,s=t[n-i],u=t[n-i+1];e<n;e+=i){var c=t[e],l=t[e+1];u<=r?l>r&&(c-s)*(r-u)-(o-s)*(l-u)>0&&a++:l<=r&&(c-s)*(r-u)-(o-s)*(l-u)<0&&a--,s=c,u=l}return 0!==a}function Zv(t,e,n,i,o,r){if(0===n.length)return!1;if(!Hv(t,e,n[0],i,o,r))return!1;for(var a=1,s=n.length;a<s;++a)if(Hv(t,n[a-1],n[a],i,o,r))return!1;return!0}function Wv(t,e,n,i,o){var r,a,s=Ob([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Rb(o,s)&&((r=o)[0]<=(a=s)[0]&&a[2]<=r[2]&&r[1]<=a[1]&&a[3]<=r[3]||s[0]>=o[0]&&s[2]<=o[2]||s[1]>=o[1]&&s[3]<=o[3]||function(t,e,n,i,o){for(var r,a=[t[e],t[e+1]],s=[];e+i<n;e+=i){if(s[0]=t[e+i],s[1]=t[e+i+1],r=o(a,s))return r;a[0]=s[0],a[1]=s[1]}return!1}(t,e,n,i,(function(t,e){return function(t,e,n){var i=!1,o=Cb(t,e),r=Cb(t,n);if(1===o||1===r)i=!0;else{var a=t[0],s=t[1],u=t[2],c=t[3],l=n[0],d=n[1],h=(d-e[1])/(l-e[0]),p=void 0,f=void 0;2&r&&!(2&o)&&(i=(p=l-(d-c)/h)>=a&&p<=u),i||!(4&r)||4&o||(i=(f=d-(l-u)*h)>=s&&f<=c),i||!(8&r)||8&o||(i=(p=l-(d-s)/h)>=a&&p<=u),i||!(16&r)||16&o||(i=(f=d-(l-a)*h)>=s&&f<=c)}return i}(o,t,e)})))}function Kv(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function Xv(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],u=t[e+1];o+=(s-r)*(u+a),r=s,a=u}return o>0}function $v(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var u=n[a],c=Xv(t,e,u,i);(0===a?r&&c||!r&&!c:r&&!c||!r&&c)&&Kv(t,e,u,i),e=u}return e}var Yv=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qv=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return Yv(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?function(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<vb(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=Rv(t,e,s,i,o),e=s}return o}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,o,r,a,s,u,c,l){for(var d=[NaN,NaN],h=0,p=n.length;h<p;++h){var f=n[h];c=Fv(t,e,f,i,o,!0,a,s,u,c,d),e=f}return c}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Zv(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=Iv(t,e,s,i),e=s}return o}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?$v(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,function(t,e,n,i,o){for(var r=[],a=0,s=0,u=n.length;s<u;++s){var c=n[s];r[a++]=zv(t,e,c,i,r[a]),e=c}return r.length=a,r}(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Sb(this.getExtent());this.flatInteriorPoint_=function(t,e,n,i,o,r,a){for(var s,u,c,l,d,h,p,f=o[1],g=[],m=0,_=n.length;m<_;++m){var y=n[m];for(l=t[y-i],h=t[y-i+1],s=0;s<y;s+=i)d=t[s],p=t[s+1],(f<=h&&p<=f||h<=f&&f<=p)&&g.push(c=(f-h)/(p-h)*(d-l)+l),l=d,h=p}var b=NaN,v=-1/0;for(g.sort(Oy),l=g[0],s=1,u=g.length;s<u;++s){d=g[s];var C=Math.abs(d-l);C>v&&Zv(t,0,n,i,c=(l+d)/2,f)&&(b=c,v=C),l=d}return isNaN(b)&&(b=o[0]),[b,f,v]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new jv(this.getFlatInteriorPoint(),"XYM")},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Uv(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r],u=new Uv(e.slice(o,s),t);i.push(u),o=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r],u=Xv(t,e,s,i);if(0===r){if(!u)return!1}else if(u)return!1;e=s}return!0}(t,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=$v(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,o,r,a,s){for(var u=0,c=n.length;u<c;++u){var l=n[u];a=Nv(t,e,l,i,o,r,a),s.push(a),e=l}return a}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,"XY",i)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,o){if(!function(t,e,n,i,o){return!!(Wv(t,0,n,i,o)||Hv(t,0,n,i,o[0],o[1])||Hv(t,0,n,i,o[0],o[3])||Hv(t,0,n,i,o[2],o[1])||Hv(t,0,n,i,o[2],o[3]))}(t,0,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(Gv(t,n[r-1],n[r],i,o)&&!Wv(t,n[r-1],n[r],i,o))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,o){for(var r=o||[],a=0,s=0,u=n.length;s<u;++s){var c=Lv(t,e,n[s],i);r[a++]=c,e=c}return r.length=a,r}(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Av),Jv=Qv;function tC(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new Qv(r,"XY",[r.length])}var eC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function nC(t,e){setTimeout((function(){t(e)}),0)}function iC(t){return!(t.sourceCenter&&t.targetCenter&&!Ub(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}var oC=function(t){function e(e){var n=t.call(this)||this,i=by({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=bv(i.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,i.center&&(i.center=xv(i.center)),i.extent&&(i.extent=wv(i.extent)),n.applyOptions_(i),n}return eC(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:0,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=void 0!==t.showFullExtent&&t.showFullExtent,l=bv(t.projection,"EPSG:3857"),d=l.getExtent(),h=t.constrainOnlyCenter,p=t.extent;if(s||p||!l.isGlobal()||(h=!1,p=d),void 0!==t.resolutions){var f=t.resolutions;n=f[o],i=void 0!==f[r]?f[r]:f[f.length-1],e=t.constrainResolution?function(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var u=t[0],c=t[t.length-1],l=n?Lb(u,n,a,i):u;if(s)return void 0===e||e?zb(o,l,c):hb(o,c,l);var d=Math.min(l,o),h=Math.floor(ky(t,d,r));return t[h]>l&&h<t.length-1?t[h+1]:t[h]}}}(f,u,!h&&p,c):Bb(n,i,u,!h&&p,c)}else{var g=(d?Math.max(Db(d),Ab(d)):360*Kb[Xb.DEGREES]/l.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=g/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):g/Math.pow(a,r):m),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),e=t.constrainResolution?function(t,e,n,i,o,r){return function(a,s,u,c){if(void 0!==a){var l=o?Lb(e,o,u,r):e,d=void 0!==n?n:0;if(c)return void 0===i||i?zb(a,l,d):hb(a,d,l);var h=Math.ceil(Math.log(e/l)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,f=Math.min(l,a),g=Math.floor(Math.log(e/f)/Math.log(t)+p),m=Math.max(h,g);return hb(e/Math.pow(t,m),d,l)}}}(a,n,i,u,!h&&p,c):Bb(n,i,u,!h&&p,c)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return yb(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=bv(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,yb(n,!1,!1)}return bb}(t),i=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=5*Math.PI/180,function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}):!1===e?Vb:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):Vb}var n,i;return Nb}(t);this.constraints_={center:n,resolution:i,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=by({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),by({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var i=arguments[n];i.center&&((i=by({},i)).center=xv(i.center,this.getProjection())),i.anchor&&((i=by({},i)).anchor=xv(i.anchor,this.getProjection())),e[n]=i}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenterInternal(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&nC(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],c=0;c<n;++c){var l=arguments[c],d={start:o,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||Gb,callback:e};if(l.center&&(d.sourceCenter=r,d.targetCenter=l.center.slice(),r=d.targetCenter),void 0!==l.zoom?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(l.zoom),a=d.targetResolution):l.resolution&&(d.sourceResolution=a,d.targetResolution=l.resolution,a=d.targetResolution),void 0!==l.rotation){d.sourceRotation=s;var h=mb(l.rotation-s+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=s+h,s=d.targetRotation}iC(d)?d.complete=!0:o+=d.duration,u.push(d)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var i=this.animations_[e];i[0].callback&&nC(i[0].callback,!1),t=t||i.filter((function(t){return!t.complete}))[0].anchor}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var u=s.duration>0?(t-s.start)/s.duration:1;u>=1?(s.complete=!0,u=1):o=!1;var c=s.easing(u);if(s.sourceCenter){var l=s.sourceCenter[0],d=s.sourceCenter[1];this.targetCenter_=[l+c*(s.targetCenter[0]-l),d+c*(s.targetCenter[1]-d)]}if(s.sourceResolution&&s.targetResolution){var h=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var p=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(h,0,p,!0);this.targetCenter_=this.calculateCenterZoom(f,s.anchor)}this.targetResolution_=h,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var g=1===c?mb(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var m=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(m,s.anchor)}this.targetRotation_=g}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(0,-1);var _=i[0].callback;_&&nC(_,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenterInternal();return void 0!==r&&(qb(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),(i=n)[0]+=+(o=e)[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenterInternal(),o=this.getResolution();return void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],i=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(i*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(i*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100]},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Cv(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return e=this.calculateExtentInternal(t),this.getProjection(),e;var e},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();ub(n,1);var i=this.getResolution();ub(void 0!==i,2);var o=this.getRotation();return ub(void 0!==o,3),Tb(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(wv(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),i=Db(t)/n[0],o=Ab(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),i=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=ky(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=hb(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],hb(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=by({size:this.getViewportSize_()},e||{});if(ub(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))ub(!Fb(t),25),n=tC(o=wv(t,this.getProjection()));else if("Circle"===t.getType()){var o;(n=tC(o=wv(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Sb(o))}else n=t;this.fitInternal(n,i)},e.prototype.fitInternal=function(t,e){var n=e||{},i=n.size;i||(i=this.getViewportSize_());var o,r=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),u=this.getRotation(),c=Math.cos(-u),l=Math.sin(-u),d=1/0,h=1/0,p=-1/0,f=-1/0,g=t.getStride(),m=0,_=s.length;m<_;m+=g){var y=s[m]*c-s[m+1]*l,b=s[m]*l+s[m+1]*c;d=Math.min(d,y),h=Math.min(h,b),p=Math.max(p,y),f=Math.max(f,b)}var v=this.getResolutionForExtentInternal([d,h,p,f],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);v=isNaN(v)?o:Math.max(v,o),v=this.getConstrainedResolution(v,a?0:1);var C=(d+p)/2,x=(h+f)/2,w=[(C+=(r[1]-r[3])/2*v)*c-(x+=(r[0]-r[2])/2*v)*(l=-l),x*c+C*l],P=n.callback?n.callback:Ay;void 0!==n.duration?this.animateInternal({resolution:v,center:this.getConstrainedCenter(w,v),duration:n.duration,easing:n.easing},P):(this.targetResolution_=v,this.targetCenter_=w,this.applyTargetState_(!1,!0),nC(P,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(xv(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var i=this.getRotation(),o=Math.cos(-i),r=Math.sin(-i),a=t[0]*o-t[1]*r,s=t[1]*o+t[0]*r,u=this.getResolution();this.setCenterInternal([(a+=(e[0]/2-n[0])*u)*o-(s+=(n[1]-e[1]/2)*u)*(r=-r),s*o+a*r])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Cv(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&xv(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=xv(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(xv(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n);this.get("rotation")!==i&&this.set("rotation",i),this.get("resolution")!==r&&this.set("resolution",r),this.get("center")&&Ub(this.get("center"),a)||this.set("center",a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),u=this.constraints_.center(this.targetCenter_,s,a);if(0===i&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=u,void this.applyTargetState_();var c=n||(0===i?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===r&&this.getCenterInternal()&&Ub(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:u,resolution:s,duration:i,easing:jb,anchor:c}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var i=n&&xv(n,this.getProjection());this.endInteractionInternal(t,e,i)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(qy);function rC(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function aC(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var sC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uC=function(t){function e(e){var n=t.call(this)||this,i=by({},e);return i.opacity=void 0!==e.opacity?e.opacity:1,ub("number"==typeof i.opacity,64),i.visible=void 0===e.visible||e.visible,i.zIndex=e.zIndex,i.maxResolution=void 0!==e.maxResolution?e.maxResolution:1/0,i.minResolution=void 0!==e.minResolution?e.minResolution:0,i.minZoom=void 0!==e.minZoom?e.minZoom:-1/0,i.maxZoom=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return sC(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=hb(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return py()},e.prototype.getLayerStatesArray=function(t){return py()},e.prototype.getExtent=function(){return this.get("extent")},e.prototype.getMaxResolution=function(){return this.get("maxResolution")},e.prototype.getMinResolution=function(){return this.get("minResolution")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.getOpacity=function(){return this.get("opacity")},e.prototype.getSourceState=function(){return py()},e.prototype.getVisible=function(){return this.get("visible")},e.prototype.getZIndex=function(){return this.get("zIndex")},e.prototype.setExtent=function(t){this.set("extent",t)},e.prototype.setMaxResolution=function(t){this.set("maxResolution",t)},e.prototype.setMinResolution=function(t){this.set("minResolution",t)},e.prototype.setMaxZoom=function(t){this.set("maxZoom",t)},e.prototype.setMinZoom=function(t){this.set("minZoom",t)},e.prototype.setOpacity=function(t){ub("number"==typeof t,64),this.set("opacity",t)},e.prototype.setVisible=function(t){this.set("visible",t)},e.prototype.setZIndex=function(t){this.set("zIndex",t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(qy),cC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lC=function(t){function e(e){var n=this,i=e||{},o=by({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Uy("layers"),n.handleLayersChanged_),r?Array.isArray(r)?r=new Hy(r.slice(),{unique:!0}):ub("function"==typeof r.getArray,43):r=new Hy(void 0,{unique:!0}),n.setLayers(r),n}return cC(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Py),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(xy(t,"add",this.handleLayersAdd_,this),xy(t,"remove",this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Py);vy(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.listenerKeys_[gy(r)]=[xy(r,"propertychange",this.handleLayerChange_,this),xy(r,"change",this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[gy(e)]=[xy(e,"propertychange",this.handleLayerChange_,this),xy(e,"change",this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=gy(t.element);this.listenerKeys_[e].forEach(Py),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get("layers")},e.prototype.setLayers=function(t){this.set("layers",t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e,n,i,o=void 0!==t?t:[],r=o.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(o)}));for(var a=this.getLayerState(),s=r,u=o.length;s<u;s++){var c=o[s];c.opacity*=a.opacity,c.visible=c.visible&&a.visible,c.maxResolution=Math.min(c.maxResolution,a.maxResolution),c.minResolution=Math.max(c.minResolution,a.minResolution),c.minZoom=Math.max(c.minZoom,a.minZoom),c.maxZoom=Math.min(c.maxZoom,a.maxZoom),void 0!==a.extent&&(c.extent=void 0!==c.extent?(i=void 0,i=[1/0,1/0,-1/0,-1/0],Rb(e=c.extent,n=a.extent)?(i[0]=e[0]>n[0]?e[0]:n[0],i[1]=e[1]>n[1]?e[1]:n[1],i[2]=e[2]<n[2]?e[2]:n[2],i[3]=e[3]<n[3]?e[3]:n[3]):wb(i),i):a.extent)}return o},e.prototype.getSourceState=function(){return"ready"},e}(uC),dC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hC=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new lC({layers:t.layers});return r.layergroup=a,r.target=t.target,r.view=void 0!==t.view?t.view:new oC,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Hy(t.controls.slice()):(ub("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Hy(t.interactions.slice()):(ub("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new Hy(t.overlays.slice()):(ub("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Hy,{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:tb,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new sb(n,e.moveTolerance);var o=n.handleMapBrowserEvent.bind(n);for(var r in ib)n.mapBrowserEventHandler_.addEventListener(ib[r],o);n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener("contextmenu",a,!1),n.viewport_.addEventListener("wheel",a,!!nb&&{passive:!1}),n.controls=i.controls||new Hy,n.interactions=i.interactions||new Hy,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new db(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Uy("layergroup"),n.handleLayerGroupChanged_),n.addEventListener(Uy("view"),n.handleViewChanged_),n.addEventListener(Uy("size"),n.handleSizeChanged_),n.addEventListener(Uy("target"),n.handleTargetChanged_),n.setProperties(i.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener("add",(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener("remove",(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener("add",(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener("remove",(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return dC(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:Sy,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,e,i.layerFilter||Sy)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:Sy,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get("target")},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Cv(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Pv(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get("layergroup")},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=xv(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Pv(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get("size")},e.prototype.getView=function(){return this.get("view")},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var o=this.frameState_;if(!(o&&e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var r=o.viewState.center,a=n[0]-r[0],s=n[1]-r[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=new Xy(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent.target;if(t.dragging||!this.overlayContainerStopEvent_.contains(e)&&document.body.contains(e)){t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.getActive()&&!o.handleEvent(t))break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[0]||o[1]){var r=!eb&&Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Py(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[xy(i,"keydown",this.handleBrowserEvent,this),xy(i,"keypress",this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener("resize",this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),aC(this.viewport_),void 0!==this.handleResize_&&(removeEventListener("resize",this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Py(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Py(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=xy(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=xy(t,"change",this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Py),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[xy(t,"propertychange",this.render,this),xy(t,"change",this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n,i=this.getSize(),o=this.getView(),r=this.frameState_,a=null;if(void 0!==i&&function(t){return t[0]>0&&t[1]>0}(i)&&o&&o.isDef()){var s=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:Tb(u.center,u.resolution,u.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:u,viewHints:s,wantedTiles:{}}}this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r&&(!this.previousExtent_||!Fb(this.previousExtent_)&&!Pb(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Wy("movestart",this,r)),this.previousExtent_=wb(this.previousExtent_)),this.previousExtent_&&!a.viewHints[0]&&!a.viewHints[1]&&!Pb(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Wy("moveend",this,a)),e=a.extent,(n=this.previousExtent_)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]):e.slice())),this.dispatchEvent(new Wy("postrender",this,a)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set("layergroup",t)},e.prototype.setSize=function(t){this.set("size",t)},e.prototype.setTarget=function(t){this.set("target",t)},e.prototype.setView=function(t){this.set("view",t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(qy),pC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fC=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render_=e.render?e.render:Ay,e.target&&n.setTarget(e.target),n}return pC(e,t),e.prototype.disposeInternal=function(){aC(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&aC(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Py(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ay&&this.listenerKeys.push(xy(t,"postrender",this.render,this)),t.render())},e.prototype.render=function(t){this.render_.call(this,t)},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(qy),gC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function mC(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}!function(t){function e(e){var n=this,i=by({},e);return delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Uy("source"),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}gC(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get("source")||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Py(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=xy(t,"change",this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Py(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Py(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=xy(t,"precompose",(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);ub(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=xy(this,"change",t.render,t),this.changed())},e.prototype.setSource=function(t){this.set("source",t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)}}(uC);var _C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function yC(t){this.updateElement_(t.frameState)}var bC=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render||yC,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"\xbb";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==i.label?i.label:"i";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=r,c.appendChild(u),c.addEventListener("click",n.handleClick_.bind(n),!1);var l=n.element;return l.className=o+" ol-unselectable ol-control"+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),l.appendChild(n.ulElement_),l.appendChild(c),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return _C(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,o=0,r=i.length;o<r;++o){var a=i[o];if(mC(a,t.viewState)){var s=a.layer.getSource();if(s){var u=s.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var l=0,d=c.length;l<d;++l)c[l]in e||(n.push(c[l]),e[c[l]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Ey(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?rC(this.collapseLabel_,this.label_):rC(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(fC),vC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function CC(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains("ol-hidden");o||0!==n?o&&0!==n&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.label_.style.transform=i}this.rotation_=n}}var xC=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render||CC,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"\u21e7";n.label_=null,"string"==typeof r?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=r):(n.label_=r,n.label_.classList.add("ol-compass"));var a=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=o+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener("click",n.handleClick_.bind(n),!1);var u=n.element;return u.className=o+" ol-unselectable ol-control",u.appendChild(s),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add("ol-hidden"),n}return vC(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:jb}):t.setRotation(0))}},e}(fC),wC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PC=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"\u2212",u=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",c=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=o+"-in",l.setAttribute("type","button"),l.title=u,l.appendChild("string"==typeof a?document.createTextNode(a):a),l.addEventListener("click",n.handleClick_.bind(n,r),!1);var d=document.createElement("button");d.className=o+"-out",d.setAttribute("type","button"),d.title=c,d.appendChild("string"==typeof s?document.createTextNode(s):s),d.addEventListener("click",n.handleClick_.bind(n,-r),!1);var h=n.element;return h.className=o+" ol-unselectable ol-control",h.appendChild(l),h.appendChild(d),n.duration_=void 0!==i.duration?i.duration:250,n}return wC(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:jb})):e.setZoom(i)}}},e}(fC),MC=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),OC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function kC(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:jb})}}var EC=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return OC(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(qy),SC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function TC(t){var e=!1;if(t.type==ib.DBLCLICK){var n=t.coordinate,i=t.originalEvent.shiftKey?-this.delta_:this.delta_;kC(t.map.getView(),i,n,this.duration_),t.preventDefault(),e=!0}return!e}var AC=function(t){function e(e){var n=t.call(this,{handleEvent:TC})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return SC(e,t),e}(EC),IC=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},DC=function(t){return t.target.getTargetElement()===document.activeElement},RC=Sy,FC=function(t){var e=t.originalEvent;return 0==e.button&&!(Qy&&Jy&&e.ctrlKey)},LC=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},zC=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},BC=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},NC=function(t){var e=t.pointerEvent;return ub(void 0!==e,56),"mouse"==e.pointerType},VC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function UC(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}var qC=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return VC(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ib.POINTERDRAG)this.handleDragEvent(t);else if(t.type==ib.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==ib.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==ib.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===ib.POINTERDOWN||e===ib.POINTERDRAG||e===ib.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==ib.POINTERUP?delete this.trackedPointers_[n]:(t.type==ib.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Cy(this.trackedPointers_)}},e}(EC),jC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function GC(t){return LC(t)&&function(t){var e=t.pointerEvent;return ub(void 0!==e,56),e.isPrimary&&0===e.button}(t)}var HC=function(t){function e(e){var n=t.call(this,{stopDown:Ty})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.panning_=!1,n.condition_=i.condition?i.condition:GC,n.noKinetic_=!1,n}return jC(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=DC(t)),e&&this.condition_(t)},e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=UC(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=r,n=a.getResolution(),e[0]*=n,e[1]*=n,qb(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(r),s=e.getCoordinateFromPixelInternal([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:jb})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.conditionInternal_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(qC),ZC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),WC=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:Ty})||this).condition_=i.condition?i.condition:IC,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return ZC(e,t),e.prototype.handleDragEvent=function(t){if(NC(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Nb){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(r-this.lastAngle_)),this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!NC(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!NC(t)||!FC(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(qC),KC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XC=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return KC(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Jv([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(My),$C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YC=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return $C(e,t),e}(Iy),QC=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new XC(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:Ay,n.startPixel_=null,n.condition_=i.condition?i.condition:FC,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return $C(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new YC("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){return this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new YC("boxend",t.coordinate,t))),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new YC("boxstart",t.coordinate,t)),!0)},e}(qC),JC=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function tx(){var t,e=this.getMap(),n=e.getView(),i=e.getSize(),o=this.getGeometry().getExtent();if(this.out_){var r=n.calculateExtentInternal(i),a=(t=[e.getPixelFromCoordinateInternal(Eb(o)),e.getPixelFromCoordinateInternal(Ib(o))],function(t,e){for(var n=0,i=e.length;n<i;++n)Mb(t,e[n]);return t}(wb(void 0),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(r,1/n.getResolutionForExtentInternal(a,i)),o=r}var s=n.getConstrainedResolution(n.getResolutionForExtentInternal(o,i)),u=n.getConstrainedCenter(Sb(o),s);n.animateInternal({resolution:s,center:u,duration:this.duration_,easing:jb})}var ex=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{condition:i.condition?i.condition:zC,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:tx})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return JC(e,t),e}(QC),nx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ix(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(40==n||37==n||39==n||38==n)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,r=0,a=0;40==n?a=-o:37==n?r=-o:39==n?r=o:a=o;var s=[r,a];qb(s,i.getRotation()),function(t,e,n){var i=t.getCenterInternal();i&&t.animateInternal({duration:void 0!==n?n:250,easing:Hb,center:t.getConstrainedCenter([i[0]+e[0],i[1]+e[1]])})}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var ox=function(t){function e(e){var n=t.call(this,{handleEvent:ix})||this,i=e||{};return n.defaultCondition_=function(t){return LC(t)&&BC(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return nx(e,t),e}(EC),rx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ax(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;kC(i.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var sx=function(t){function e(e){var n=t.call(this,{handleEvent:ax})||this,i=e||{};return n.condition_=i.condition?i.condition:BC,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return rx(e,t),e}(EC),ux=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cx=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:RC,n.lastAnchor_=null,n.startTime_=void 0,n.eventGap_=400,n.deltaPerZoom_=300,n}return ux(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=DC(t)),e&&this.condition_(t)},e.prototype.endInteraction_=function(){this.timeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.conditionInternal_(t))return!0;if("wheel"!==t.type)return!0;t.preventDefault();var e,n=t.map,i=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),"wheel"==t.type&&(e=i.deltaY,Yy&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=tb),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var o=Date.now();void 0===this.startTime_&&(this.startTime_=o);var r=n.getView();return this.timeoutId_?clearTimeout(this.timeoutId_):r.beginInteraction(),this.timeoutId_=setTimeout(this.endInteraction_.bind(this),this.eventGap_),r.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(EC),lx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dx=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Ty),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return lx(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Nb){var u=a.getViewport().getBoundingClientRect(),c=UC(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(qC),hx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),px=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Ty),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return hx(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),l=UC(this.targetPointers);l[0]-=c.left,l[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(l),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(qC),fx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gx=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return fx(e,t),e}(Iy);function mx(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function _x(t,e,n){return e+":"+t+":"+(n?function(t){return"string"==typeof t?t:mx(t)}(n):"null")}var yx=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var i=_x(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=_x(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}());function bx(t){return Array.isArray(t)?mx(t):t}var vx=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),Cx=[],xx=new qy;(new Ry).setSize=function(){console.warn("labelCache is deprecated.")};var wx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){function e(e,n,i,o,r,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=i,u.transform_=o,u.viewRotation_=r,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=0,u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=0,u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}wx(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=Zb(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,l=o.length;c<l;c+=2){var d=o[c]-this.imageAnchorX_,h=o[c+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var p=d+this.imageAnchorX_,f=h+this.imageAnchorY_;Mv(a,p,f,this.imageScale_,this.imageScale_,u,-p,-f),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,h,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Zb(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,u=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=Mv(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,a,-s,-u);r.setTransform.apply(r,c)}this.textStrokeState_&&r.strokeText(this.text_,s,u),this.textFillState_&&r.fillText(this.text_,s,u)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=Zb(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var u=2;u<s;u+=2)r.lineTo(a[u],a[u+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(Rb(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return Zb(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Rb(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rb(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Rb(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=r.length;s<u;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rb(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Rb(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a)i=this.drawRings_(n,i,o[a],r);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Ey(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=i&&(n.textAlign=i,e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:bx(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:r||Cx,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==c?c:10,strokeStyle:bx(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:bx(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),l=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:"round",lineDash:a||Cx,lineDashOffset:s||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==l?l:10,strokeStyle:bx(o||"#000")}}else this.textStrokeState_=null;var d=t.getFont(),h=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation(),m=t.getScale(),_=t.getText(),y=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==d?d:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==b?b:"middle"},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==m?m:1)}else this.text_=""}}(vx);var Px=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Mx(t,e){yx.expire()}var Ox=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Px(e,t),e.prototype.dispatchRenderEvent=function(t,e){py()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Mv(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),function(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];ub(0!==i,32);var o=e[0],r=e[1],a=e[2],s=e[3],u=e[4],c=e[5];t[0]=s/i,t[1]=-r/i,t[2]=-a/i,t[3]=o/i,t[4]=(a*c-s*u)/i,t[5]=-(o*c-r*u)/i}(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a,s){var u,c=e.viewState;function l(t,e,n){return o.call(r,e,t?n:null)}var d=c.projection,h=t,p=[[0,0]];if(d.canWrapX()){var f=d.getExtent(),g=Db(f),m=t[0];(m<f[0]||m>f[2])&&(h=[m+g*Math.ceil((f[0]-m)/g),t[1]]),i&&p.push([-g,0],[g,0])}var _,y=e.layerStatesArray,b=y.length;this.declutterTree_&&(_=this.declutterTree_.all().map((function(t){return t.value})));for(var v=[],C=0;C<p.length;C++)for(var x=b-1;x>=0;--x){var w=y[x],P=w.layer;if(P.hasRenderer()&&mC(w,c)&&a.call(s,P)){var M=P.getRenderer(),O=P.getSource();if(M&&O){var k=O.getWrapX()?h:t,E=l.bind(null,w.managed);v[0]=k[0]+p[C][0],v[1]=k[1]+p[C][1],u=M.forEachFeatureAtCoordinate(v,e,n,E,_)}if(u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return py()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,i,Sy,this,o,r)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var o=n[i],r=o.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){yx.canExpireCache()&&t.postRenderFunctions.push(Mx)},e}(My),kx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ex=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=xy(xx,"propertychange",e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className="ol-unselectable ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return kx(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new gx(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Py(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),i=e.viewState;this.children_.length=0;for(var o=null,r=0,a=n.length;r<a;++r){var s=n[r];if(e.layerIndex=r,mC(s,i)&&("ready"==s.sourceState||"undefined"==s.sourceState)){var u=s.layer.render(e,o);u&&u!==o&&(this.children_.push(u),o=u)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],c=u.layer;if(c.hasRenderer()&&mC(u,r)&&o(c)){var l=c.getRenderer().getDataAtPixel(t,e,n);if(l){var d=i(c,l);if(d)return d}}}},e}(Ox),Sx=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tx=function(t){function e(e){return(e=by({},e)).controls||(e.controls=function(t){var e={},n=new Hy;return(void 0===e.zoom||e.zoom)&&n.push(new PC(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new xC(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new bC(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e={},n=new Hy,i=new MC(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new WC),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new AC({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new HC({condition:e.onFocusOnly?DC:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new dx),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new px({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new ox),n.push(new sx({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new cx({condition:e.onFocusOnly?DC:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new ex({duration:e.zoomDuration})),n}()),t.call(this,e)||this}return Sx(e,t),e.prototype.createRenderer=function(){return new Ex(this)},e}(hC);let Ax=(()=>{class t{constructor(){this.map={}}createMap(t){return new Tx({target:t,view:new oC({center:[-74.1723667,40.735657],projection:"EPSG:3857",zoom:12})})}getMap(t){return t=(t&&t.getId?t.getId():t)||"map",this.map[t]||(this.map[t]=this.createMap(t)),this.map[t]}getMaps(){return this.map}getArrayMaps(){return Object.values(this.map)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ix=(()=>{class t{addLabels(t,e){t.on("load",()=>{t.addSource("GeoLabelSource",{type:"geojson",data:e}),t.addLayer({id:"geoLabels",layout:{"text-field":["get","NAME"],"text-letter-spacing":.1,"text-max-width":4.5,"text-transform":"uppercase"},source:"GeoLabelSource",type:"symbol"})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Dx=[ly,dy,Ix,hy,Ax];S_.setDefaultAuth({apiKey:"0c3e2b7cbff1b34a35e1f2ce3ff94114493bd681",user:"nzlur"});const Rx=new S_.Viz("\n        @v_features: viewportFeatures($NAME)\n        color: rgba(0,0,0,0)\n        strokeWidth: scaled(1, 12)\n        strokeColor: #627BC1\n      "),Fx=new S_.source.Dataset("\n        public.zoning_2\n      "),Lx=new S_.Viz('\n        @code: $code\n        @proploc: $proploc\n        @blocklot: $blocklot\n        color: opacity(ramp(buckets($code,\n        [\n          "R-1",\n          "R-2",\n          "R-3",\n          "R-4",\n          "C-1",\n          "C-2",\n          "C-3",\n          "MX-1",\n          "MX-2",\n          "MX-3",\n          "I-1",\n          "I-2",\n          "I-3",\n          "RDV",\n          "PARK",\n          "INST",\n          "CEM",\n          "PORT",\n          "EWR"\n        ]), [\n          #fffaca,\n          #fff68f,\n          #fff100,\n          #ebd417,\n          #a18aad,\n          #da2028,\n          #850204,\n          #e4a024,\n          #f37520,\n          #FF2900,\n          #e1c3dd,\n          #A53ED5,\n          #c0188c,\n          #dddddd,\n          #229A00,\n          #0063ff,\n          #561818,\n          #B81609,\n          #820c0c\n        ]),0.7)\n        strokeWidth: scaled(.1, 12)\n        strokeColor: rgb(200, 200, 200)\n      '),zx=new S_.source.Dataset("\n        public.zoning_2\n      "),Bx=new S_.Viz('\n        @propclass: $propclass\n        @proploc: $proploc\n        color: opacity(ramp(buckets($propclass,\n        [\n            "1",\n            "2",\n            "4A",\n            "4B",\n            "4C",\n            "5A",\n            "5B",\n            "15A",\n            "15B",\n            "15C",\n            "15D",\n            "15E",\n            "15F"\n        ]), [\n            #686868,\n            #FFEBAF,\n            #FF7F7F,\n            #E8BEFF,\n            #FFAA00,\n            #B5E6B9,\n            #B5E6B9,\n            #BED2FF,\n            #BED2FF,\n            #BEFFE8,\n            #73B2FF,\n            #fff,\n            #00C5FF\n        ]),0.7)\n        strokeWidth: scaled(.1, 12)\n        strokeColor: rgb(200, 200, 200)\n      '),Nx=new S_.Viz("\n        @proploc: $proploc\n        @blocklot: $blocklot\n        color: opacity(#fff, .25)\n        strokeWidth: scaled(.1, 12)\n        strokeColor: rgb(200, 200, 200)\n      ");let Vx=(()=>{class t{static addClass(t,e){t.classList?t.classList.add(e):t.className+=" "+e}static addMultipleClasses(t,e){if(t.classList){let n=e.split(" ");for(let e=0;e<n.length;e++)t.classList.add(n[e])}else{let n=e.split(" ");for(let e=0;e<n.length;e++)t.className+=" "+n[e]}}static removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,(function(e){return e!==t}))}static find(t,e){return Array.from(t.querySelectorAll(e))}static findSingle(t,e){return t?t.querySelector(e):null}static index(t){let e=t.parentNode.childNodes,n=0;for(var i=0;i<e.length;i++){if(e[i]==t)return n;1==e[i].nodeType&&n++}return-1}static indexWithinGroup(t,e){let n=t.parentNode?t.parentNode.childNodes:[],i=0;for(var o=0;o<n.length;o++){if(n[o]==t)return i;n[o].attributes&&n[o].attributes[e]&&1==n[o].nodeType&&i++}return-1}static relativePosition(t,e){let n=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t);const i=e.offsetHeight,o=e.getBoundingClientRect(),r=this.getViewport();let a,s;o.top+i+n.height>r.height?(a=-1*n.height,o.top+a<0&&(a=-1*o.top)):a=i,s=n.width>r.width?-1*o.left:o.left+n.width>r.width?-1*(o.left+n.width-r.width):0,t.style.top=a+"px",t.style.left=s+"px"}static absolutePosition(t,e){let n,i,o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),r=o.height,a=o.width,s=e.offsetHeight,u=e.offsetWidth,c=e.getBoundingClientRect(),l=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport();c.top+s+r>h.height?(n=c.top+l-r,n<0&&(n=l)):n=s+c.top+l,i=c.left+a>h.width?Math.max(0,c.left+d+u-a):c.left+d,t.style.top=n+"px",t.style.left=i+"px"}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let e=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",e}static getHiddenElementDimensions(t){let e={};return t.style.visibility="hidden",t.style.display="block",e.width=t.offsetWidth,e.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",e}static scrollInView(t,e){let n=getComputedStyle(t).getPropertyValue("borderTopWidth"),i=n?parseFloat(n):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),r=o?parseFloat(o):0,a=t.getBoundingClientRect(),s=e.getBoundingClientRect().top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-r,u=t.scrollTop,c=t.clientHeight,l=this.getOuterHeight(e);s<0?t.scrollTop=u+s:s+l>c&&(t.scrollTop=u+s-c+l)}static fadeIn(t,e){t.style.opacity=0;let n=+new Date,i=0,o=function(){i=+t.style.opacity.replace(",",".")+((new Date).getTime()-n)/e,t.style.opacity=i,n=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,e){var n=1,i=50/e;let o=setInterval(()=>{(n-=i)<=0&&(n=0,clearInterval(o)),t.style.opacity=n},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,e){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)}).call(t,e)}static getOuterWidth(t,e){let n=t.offsetWidth;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginLeft)+parseFloat(e.marginRight)}return n}static getHorizontalPadding(t){let e=getComputedStyle(t);return parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}static getHorizontalMargin(t){let e=getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)}static innerWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static width(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e}static getInnerHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),e}static getOuterHeight(t,e){let n=t.offsetHeight;if(e){let e=getComputedStyle(t);n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)}return n}static getHeight(t){let e=t.offsetHeight,n=getComputedStyle(t);return e-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),e}static getWidth(t){let e=t.offsetWidth,n=getComputedStyle(t);return e-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),e}static getViewport(){let t=window,e=document,n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}static getOffset(t){let e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}static replaceElementWith(t,e){let n=t.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(e,t)}static getUserAgent(){return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(t,e){if(this.isElement(e))e.appendChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot append "+e+" to "+t;e.el.nativeElement.appendChild(t)}}static removeChild(t,e){if(this.isElement(e))e.removeChild(t);else{if(!e.el||!e.el.nativeElement)throw"Cannot remove "+t+" from "+e;e.el.nativeElement.removeChild(t)}}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let e=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="ui-scrollbar-measure",document.body.appendChild(t);let e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="ui-scrollbar-measure",document.body.appendChild(t);let e=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=e,e}static invokeElementMethod(t,e,n){t[e].apply(t,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return null===t.offsetParent}static getFocusableElements(e){let n=t.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),i=[];for(let t of n)"none"!=getComputedStyle(t).display&&"hidden"!=getComputedStyle(t).visibility&&i.push(t);return i}}return t.zindex=1e3,t.calculatedScrollbarWidth=null,t.calculatedScrollbarHeight=null,t})();const Ux=function(t){return{"ui-helper-hidden":t}};function qx(t,e){if(1&t&&Ca(0,"li",4),2&t){const t=Aa().$implicit;_a("ngClass",Eu(1,Ux,!1===t.visible))}}function jx(t,e){1&t&&Ca(0,"span",14)}function Gx(t,e){1&t&&Ca(0,"span",15),2&t&&_a("ngClass",Aa(3).$implicit.icon)}const Hx=function(t){return{"ui-menuitem-link ui-corner-all":!0,"ui-state-disabled":t}};function Zx(t,e){if(1&t){const t=Ma();ba(0,"a",10),Ea("click",(function(e){Be(t);const n=Aa(2).$implicit;return Aa().itemClick(e,n)})),ha(1,jx,1,0,"span",11),ha(2,Gx,1,1,"span",12),ba(3,"span",13),hs(4),va(),va()}if(2&t){Aa();const t=pa(1),e=Aa().$implicit,n=Aa();Ja(e.styleClass),_a("href",e.url||"#",Ti)("ngClass",Eu(14,Hx,e.disabled))("ngStyle",e.style),la("target",e.target)("title",e.title)("id",e.id)("tabindex",e.tabindex?e.tabindex:"0")("aria-haspopup",null!=t.items)("aria-expanded",t===n.activeItem),oo(1),_a("ngIf",e.items),oo(1),_a("ngIf",e.icon),oo(2),ps(e.label)}}function Wx(t,e){1&t&&Ca(0,"span",14)}function Kx(t,e){1&t&&Ca(0,"span",15),2&t&&_a("ngClass",Aa(3).$implicit.icon)}const Xx=function(){return{exact:!1}};function $x(t,e){if(1&t){const t=Ma();ba(0,"a",16),Ea("click",(function(e){Be(t);const n=Aa(2).$implicit;return Aa().itemClick(e,n)})),ha(1,Wx,1,0,"span",11),ha(2,Kx,1,1,"span",12),ba(3,"span",13),hs(4),va(),va()}if(2&t){const t=Aa(2).$implicit;Ja(t.styleClass),_a("routerLink",t.routerLink)("queryParams",t.queryParams)("routerLinkActive","ui-state-active")("routerLinkActiveOptions",t.routerLinkActiveOptions||ku(15,Xx))("ngClass",Eu(16,Hx,t.disabled))("ngStyle",t.style),la("target",t.target)("title",t.title)("id",t.id)("tabindex",t.tabindex?t.tabindex:"0"),oo(1),_a("ngIf",t.items),oo(1),_a("ngIf",t.icon),oo(2),ps(t.label)}}function Yx(t,e){if(1&t&&Ca(0,"p-contextMenuSub",17),2&t){Aa();const t=pa(1),e=Aa().$implicit;_a("parentActive",t==Aa().activeItem)("item",e)}}const Qx=function(t,e){return{"ui-menuitem ui-corner-all":!0,"ui-menuitem-active":t,"ui-helper-hidden":e}};function Jx(t,e){if(1&t){const t=Ma();ba(0,"li",5,6),Ea("mouseenter",(function(e){Be(t);const n=pa(1),i=Aa().$implicit;return Aa().onItemMouseEnter(e,n,i)})),ha(2,Zx,5,16,"a",7),ha(3,$x,5,18,"a",8),ha(4,Yx,1,2,"p-contextMenuSub",9),va()}if(2&t){const t=pa(1),e=Aa().$implicit,n=Aa();_a("ngClass",Su(4,Qx,t==n.activeItem,!1===e.visible)),oo(2),_a("ngIf",!e.routerLink),oo(1),_a("ngIf",e.routerLink),oo(1),_a("ngIf",e.items)}}function tw(t,e){if(1&t&&(ha(0,qx,1,3,"li",2),ha(1,Jx,5,7,"li",3)),2&t){const t=e.$implicit;_a("ngIf",t.separator),oo(1),_a("ngIf",!t.separator)}}const ew=function(t){return{"ui-widget-content ui-corner-all ui-submenu-list ui-shadow":t}},nw=["container"];let iw=(()=>{let t=class{constructor(t){this.contextMenu=t}get parentActive(){return this._parentActive}set parentActive(t){this._parentActive=t,t||(this.activeItem=null)}onItemMouseEnter(t,e,n){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this.activeItem=e,n.disabled)return;let i=e.children[0].nextElementSibling;if(i){let t=i.children[0];t.style.zIndex=++Vx.zindex,this.position(t,e)}}itemClick(t,e){e.disabled?t.preventDefault():(e.url||t.preventDefault(),e.command&&e.command({originalEvent:t,item:e}))}listClick(t){this.activeItem=null}position(t,e){this.containerOffset=Vx.getOffset(e.parentElement);let n=Vx.getViewport(),i=t.offsetParent?t.offsetWidth:Vx.getHiddenElementOuterWidth(t),o=Vx.getOuterWidth(e.children[0]),r=Vx.getOuterHeight(e.children[0]),a=t.offsetHeight?t.offsetHeight:Vx.getHiddenElementOuterHeight(t);parseInt(this.containerOffset.top)+r+a>n.height-Vx.calculateScrollbarHeight()?t.style.bottom="0px":t.style.top="0px",t.style.left=parseInt(this.containerOffset.left)+o+i>n.width-Vx.calculateScrollbarWidth()?-i+"px":o+"px"}};return t.\u0275fac=function(e){return new(e||t)(fa(Ot(()=>ow)))},t.\u0275cmp=me({type:t,selectors:[["p-contextMenuSub"]],inputs:{parentActive:"parentActive",item:"item",root:"root"},decls:2,vars:4,consts:[[1,"ui-menu-list",3,"ngClass","click"],["ngFor","",3,"ngForOf"],["class","ui-menu-separator ui-widget-content","role","separator",3,"ngClass",4,"ngIf"],["role","none",3,"ngClass","mouseenter",4,"ngIf"],["role","separator",1,"ui-menu-separator","ui-widget-content",3,"ngClass"],["role","none",3,"ngClass","mouseenter"],["item",""],[3,"href","ngClass","ngStyle","class","click",4,"ngIf"],["role","menuitem",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","class","click",4,"ngIf"],["class","ui-submenu",3,"parentActive","item",4,"ngIf"],[3,"href","ngClass","ngStyle","click"],["class","ui-submenu-icon pi pi-fw pi-caret-right",4,"ngIf"],["class","ui-menuitem-icon",3,"ngClass",4,"ngIf"],[1,"ui-menuitem-text"],[1,"ui-submenu-icon","pi","pi-fw","pi-caret-right"],[1,"ui-menuitem-icon",3,"ngClass"],["role","menuitem",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","ngStyle","click"],[1,"ui-submenu",3,"parentActive","item"]],template:function(t,e){1&t&&(ba(0,"ul",0),Ea("click",(function(t){return e.listClick(t)})),ha(1,tw,2,2,"ng-template",1),va()),2&t&&(_a("ngClass",Eu(2,ew,!e.root)),oo(1),_a("ngForOf",e.root?e.item:e.item.items))},directives:[Il,Rl,Ll,Nl,i_,r_,t],encapsulation:2}),t})(),ow=(()=>{let t=class{constructor(t,e,n){this.el=t,this.renderer=e,this.zone=n,this.autoZIndex=!0,this.baseZIndex=0,this.triggerEvent="contextmenu",this.onShow=new Vu,this.onHide=new Vu}ngAfterViewInit(){this.global?this.triggerEventListener=this.renderer.listen("document",this.triggerEvent,t=>{this.show(t),t.preventDefault()}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,t=>{this.show(t),t.preventDefault(),t.stopPropagation()})),this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Vx.appendChild(this.containerViewChild.nativeElement,this.appendTo))}show(t){this.position(t),this.moveOnTop(),this.containerViewChild.nativeElement.style.display="block",this.parentActive=!0,Vx.fadeIn(this.containerViewChild.nativeElement,250),this.bindGlobalListeners(),t&&t.preventDefault(),this.onShow.emit()}hide(){this.containerViewChild.nativeElement.style.display="none",this.parentActive=!1,this.unbindGlobalListeners(),this.onHide.emit()}moveOnTop(){this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Vx.zindex))}toggle(t){this.containerViewChild.nativeElement.offsetParent?this.hide():this.show(t)}position(t){if(t){let e=t.pageX+1,n=t.pageY+1,i=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:Vx.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),o=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:Vx.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),r=Vx.getViewport();e+i-document.body.scrollLeft>r.width&&(e-=i),n+o-document.body.scrollTop>r.height&&(n-=o),e<document.body.scrollLeft&&(e=document.body.scrollLeft),n<document.body.scrollTop&&(n=document.body.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=n+"px"}}bindGlobalListeners(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",t=>{this.containerViewChild.nativeElement.offsetParent&&2!==t.button&&this.hide()})),this.zone.runOutsideAngular(()=>{this.windowResizeListener||(this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener))})}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(t){this.containerViewChild.nativeElement.offsetParent&&this.hide()}ngOnDestroy(){this.unbindGlobalListeners(),this.triggerEventListener&&this.triggerEventListener(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement)}};return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Us),fa(Ic))},t.\u0275cmp=me({type:t,selectors:[["p-contextMenu"]],viewQuery:function(t,e){var n;1&t&&Qu(nw,!0),2&t&&Yu(n=oc())&&(e.containerViewChild=n.first)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",triggerEvent:"triggerEvent",model:"model",global:"global",target:"target",style:"style",styleClass:"styleClass",appendTo:"appendTo"},outputs:{onShow:"onShow",onHide:"onHide"},decls:3,vars:6,consts:[[3,"ngClass","ngStyle"],["container",""],["root","root",3,"item","parentActive"]],template:function(t,e){1&t&&(ba(0,"div",0,1),Ca(2,"p-contextMenuSub",2),va()),2&t&&(Ja(e.styleClass),_a("ngClass","ui-contextmenu ui-widget ui-widget-content ui-corner-all ui-shadow")("ngStyle",e.style),oo(2),_a("item",e.model)("parentActive",e.parentActive))},directives:[Il,Nl,iw],encapsulation:2}),t})(),rw=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,y_],y_]}),t})();const aw=["container"],sw=function(){return{"ui-sidebar-close ui-corner-all":!0}};function uw(t,e){if(1&t){const t=Ma();ba(0,"a",3),Ea("click",(function(e){return Be(t),Aa().close(e)}))("keydown.enter",(function(e){return Be(t),Aa().close(e)})),Ca(1,"span",4),va()}if(2&t){const t=Aa();_a("ngClass",ku(2,sw)),la("aria-label",t.ariaCloseLabel)}}const cw=function(t,e,n,i,o,r){return{"ui-sidebar ui-widget ui-widget-content ui-shadow":!0,"ui-sidebar-active":t,"ui-sidebar-left":e,"ui-sidebar-right":n,"ui-sidebar-top":i,"ui-sidebar-bottom":o,"ui-sidebar-full":r}},lw=["*"];let dw=(()=>{let t=class{constructor(t,e){this.el=t,this.renderer=e,this.position="left",this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.onShow=new Vu,this.onHide=new Vu,this.visibleChange=new Vu}ngAfterViewInit(){this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):Vx.appendChild(this.containerViewChild.nativeElement,this.appendTo)),this.visible&&this.show()}get visible(){return this._visible}set visible(t){this._visible=t,this.initialized&&this.containerViewChild&&this.containerViewChild.nativeElement&&(this._visible?this.show():this.preventVisibleChangePropagation?this.preventVisibleChangePropagation=!1:this.hide())}ngAfterViewChecked(){this.executePostDisplayActions&&(this.onShow.emit({}),this.executePostDisplayActions=!1)}show(){this.executePostDisplayActions=!0,this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++Vx.zindex)),this.modal&&this.enableModality()}hide(){this.onHide.emit({}),this.modal&&this.disableModality()}close(t){this.preventVisibleChangePropagation=!0,this.hide(),this.visibleChange.emit(!1),t.preventDefault()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),Vx.addMultipleClasses(this.mask,"ui-widget-overlay ui-sidebar-mask"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",t=>{this.dismissible&&this.close(t)})),document.body.appendChild(this.mask),this.blockScroll&&Vx.addClass(document.body,"ui-overflow-hidden"))}disableModality(){this.mask&&(this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll&&Vx.removeClass(document.body,"ui-overflow-hidden"),this.mask=null)}onAnimationStart(t){switch(t.toState){case"visible":this.closeOnEscape&&this.bindDocumentEscapeListener();break;case"hidden":this.unbindGlobalListeners()}}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen("document","keydown",t=>{27==t.which&&parseInt(this.containerViewChild.nativeElement.style.zIndex)===Vx.zindex+this.baseZIndex&&this.close(t)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindGlobalListeners(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()}ngOnDestroy(){this.initialized=!1,this.visible&&this.hide(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.unbindGlobalListeners()}};return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Us))},t.\u0275cmp=me({type:t,selectors:[["p-sidebar"]],viewQuery:function(t,e){var n;1&t&&Qu(aw,!0),2&t&&Yu(n=oc())&&(e.containerViewChild=n.first)},inputs:{position:"position",blockScroll:"blockScroll",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",modal:"modal",dismissible:"dismissible",showCloseIcon:"showCloseIcon",closeOnEscape:"closeOnEscape",visible:"visible",fullScreen:"fullScreen",appendTo:"appendTo",style:"style",styleClass:"styleClass",ariaCloseLabel:"ariaCloseLabel"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"},ngContentSelectors:lw,decls:4,vars:14,consts:[["role","complementary",3,"ngClass","ngStyle"],["container",""],["tabindex","0","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["tabindex","0","role","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"]],template:function(t,e){1&t&&(Da(),ba(0,"div",0,1),Ea("@panelState.start",(function(t){return e.onAnimationStart(t)})),ha(2,uw,2,3,"a",2),Ra(3),va()),2&t&&(Ja(e.styleClass),_a("ngClass",Du(7,cw,e.visible,"left"===e.position,"right"===e.position,"top"===e.position,"bottom"===e.position,e.fullScreen))("@panelState",e.visible?"visible":"hidden")("ngStyle",e.style),la("aria-modal",e.modal),oo(2),_a("ngIf",e.showCloseIcon))},directives:[Il,Nl,Ll],encapsulation:2,data:{animation:[Od("panelState",[Td("hidden",Sd({opacity:0})),Td("visible",Sd({opacity:1})),Ad("visible => hidden",kd("300ms ease-in")),Ad("hidden => visible",kd("300ms ease-out"))])]}}),t})(),hw=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})();const pw=["*"];var fw=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};let gw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["p-header"]],ngContentSelectors:pw,decls:1,vars:0,template:function(t,e){1&t&&(Da(),Ra(0))},encapsulation:2}),t})(),mw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["p-footer"]],ngContentSelectors:pw,decls:1,vars:0,template:function(t,e){1&t&&(Da(),Ra(0))},encapsulation:2}),t})(),_w=(()=>{let t=class{constructor(t){this.template=t}getType(){return this.name}};return t.\u0275fac=function(e){return new(e||t)(fa(su))},t.\u0275dir=xe({type:t,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),fw([cc()],t.prototype,"type",void 0),fw([cc("pTemplate")],t.prototype,"name",void 0),t})(),yw=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})();function bw(t,e){1&t&&(ba(0,"div",7),Ra(1,1),va())}function vw(t,e){if(1&t&&(ba(0,"div",8),hs(1),va()),2&t){const t=Aa();oo(1),ps(t.header)}}function Cw(t,e){if(1&t&&(ba(0,"div",9),hs(1),va()),2&t){const t=Aa();oo(1),ps(t.subheader)}}function xw(t,e){1&t&&(ba(0,"div",10),Ra(1,2),va())}const ww=["*",[["p-header"]],[["p-footer"]]],Pw=["*","p-header","p-footer"];let Mw=(()=>{let t=class{constructor(t){this.el=t}getBlockableElement(){return this.el.nativeElement.children[0]}};return t.\u0275fac=function(e){return new(e||t)(fa(zs))},t.\u0275cmp=me({type:t,selectors:[["p-card"]],contentQueries:function(t,e,n){var i;1&t&&(nc(n,gw,!0),nc(n,mw,!0)),2&t&&(Yu(i=oc())&&(e.headerFacet=i.first),Yu(i=oc())&&(e.footerFacet=i.first))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:Pw,decls:8,vars:8,consts:[[3,"ngClass","ngStyle"],["class","ui-card-header",4,"ngIf"],[1,"ui-card-body"],["class","ui-card-title",4,"ngIf"],["class","ui-card-subtitle",4,"ngIf"],[1,"ui-card-content"],["class","ui-card-footer",4,"ngIf"],[1,"ui-card-header"],[1,"ui-card-title"],[1,"ui-card-subtitle"],[1,"ui-card-footer"]],template:function(t,e){1&t&&(Da(ww),ba(0,"div",0),ha(1,bw,2,0,"div",1),ba(2,"div",2),ha(3,vw,2,1,"div",3),ha(4,Cw,2,1,"div",4),ba(5,"div",5),Ra(6),va(),ha(7,xw,2,0,"div",6),va(),va()),2&t&&(Ja(e.styleClass),_a("ngClass","ui-card ui-widget ui-widget-content ui-corner-all")("ngStyle",e.style),oo(1),_a("ngIf",e.headerFacet),oo(2),_a("ngIf",e.header),oo(1),_a("ngIf",e.subheader),oo(3),_a("ngIf",e.footerFacet))},directives:[Il,Nl,Ll],encapsulation:2}),t})(),Ow=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl],yw]}),t})();function kw(t,e){return new v(n=>{const i=t.length;if(0===i)return void n.complete();const o=new Array(i);let r=0,a=0;for(let s=0;s<i;s++){const u=U(t[s]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,a++),o[s]=t},error:t=>n.error(t),complete:()=>{r++,r!==i&&c||(a===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=o[n],t),{}):o),n.complete())}}))}})}const Ew=new Ut("NgValueAccessor"),Sw={provide:Ew,useExisting:Ot(()=>Tw),multi:!0};let Tw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[Ds([Sw])]}),t})();const Aw={provide:Ew,useExisting:Ot(()=>Dw),multi:!0},Iw=new Ut("CompositionEventMode");let Dw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=cl()?cl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs),fa(Iw,8))},t.\u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Ea("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[Ds([Aw])]}),t})(),Rw=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t}),t})(),Fw=(()=>{class t extends Rw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Lw(e||t)},t.\u0275dir=xe({type:t,features:[_s]}),t})();const Lw=Kn(Fw);function zw(){throw new Error("unimplemented")}class Bw extends Rw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return zw()}get asyncValidator(){return zw()}}let Nw=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(fa(Bw,2))},t.\u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ya("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[_s]}),t})();function Vw(t){return null==t||0===t.length}const Uw=new Ut("NgValidators"),qw=new Ut("NgAsyncValidators"),jw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gw{static min(t){return e=>{if(Vw(e.value)||Vw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Vw(e.value)||Vw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Vw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Vw(t.value)||jw.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Vw(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Gw.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Vw(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Hw);return 0==e.length?null:function(t){return Ww(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Hw);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return kw(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return kw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return kw(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(z(t=>e(...t)))}return kw(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(Zw)).pipe(z(Ww))}}}function Hw(t){return null!=t}function Zw(t){const e=Oa(t)?U(t):t;if(!ka(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Ww(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Kw(t){return t.validate?e=>t.validate(e):t}function Xw(t){return t.validate?e=>t.validate(e):t}const $w={provide:Ew,useExisting:Ot(()=>Yw),multi:!0};let Yw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ds([$w])]}),t})();const Qw={provide:Ew,useExisting:Ot(()=>tP),multi:!0};let Jw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),tP=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Bw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs),fa(Jw),fa(Wr))},t.\u0275dir=xe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ds([Qw])]}),t})();const eP={provide:Ew,useExisting:Ot(()=>nP),multi:!0};let nP=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[Ds([eP])]}),t})();const iP='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',oP='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',rP={provide:Ew,useExisting:Ot(()=>aP),multi:!0};let aP=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ea}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ds([rP])]}),t})();const sP={provide:Ew,useExisting:Ot(()=>uP),multi:!0};let uP=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=ea}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),o=this._getOptionValue(i.value);n.push(o)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(fa(Us),fa(zs))},t.\u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Ea("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ds([sP])]}),t})();function cP(t,e){return[...e.path,t]}function lP(t,e){t||hP(e,"Cannot find control with"),e.valueAccessor||hP(e,"No value accessor for form control with"),t.validator=Gw.compose([t.validator,e.validator]),t.asyncValidator=Gw.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dP(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dP(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function dP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hP(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function pP(t){return null!=t?Gw.compose(t.map(Kw)):null}function fP(t){return null!=t?Gw.composeAsync(t.map(Xw)):null}const gP=[Tw,nP,Yw,aP,uP,tP];function mP(t){const e=yP(t)?t.validators:t;return Array.isArray(e)?pP(e):e||null}function _P(t,e){const n=yP(e)?e.asyncValidators:t;return Array.isArray(n)?fP(n):n||null}function yP(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bP{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=mP(t)}setAsyncValidators(t){this.asyncValidator=_P(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=Zw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof CP?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof xP&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Vu,this.statusChanges=new Vu}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yP(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class vP extends bP{constructor(t=null,e,n){super(mP(e),_P(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class CP extends bP{constructor(t,e,n){super(mP(e),_P(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof vP?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class xP extends bP{constructor(t,e,n){super(mP(e),_P(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof vP?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wP={provide:Fw,useExisting:Ot(()=>MP)},PP=(()=>Promise.resolve(null))();let MP=(()=>{class t extends Fw{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Vu,this.form=new CP({},pP(t),fP(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){PP.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),lP(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){PP.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){PP.then(()=>{const e=this._findContainer(t.path),n=new CP({});(function(t,e){null==t&&hP(e,"Cannot find control with"),t.validator=Gw.compose([t.validator,e.validator]),t.asyncValidator=Gw.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){PP.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){PP.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(fa(Uw,10),fa(qw,10))},t.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ea("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ds([wP]),_s]}),t})(),OP=(()=>{class t extends Fw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cP(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return pP(this._validators)}get asyncValidator(){return fP(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return kP(e||t)},t.\u0275dir=xe({type:t,features:[_s]}),t})();const kP=Kn(OP);class EP{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${iP}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${oP}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${iP}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${oP}`)}}const SP={provide:Fw,useExisting:Ot(()=>TP)};let TP=(()=>{class t extends OP{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof MP||EP.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(fa(Fw,5),fa(Uw,10),fa(qw,10))},t.\u0275dir=xe({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ds([SP]),_s]}),t})();const AP={provide:Bw,useExisting:Ot(()=>DP)},IP=(()=>Promise.resolve(null))();let DP=(()=>{class t extends Bw{constructor(t,e,n,i){super(),this.control=new vP,this._registered=!1,this.update=new Vu,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||hP(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,o=void 0;return e.forEach(e=>{var r;e.constructor===Dw?n=e:(r=e,gP.some(t=>r.constructor===t)?(i&&hP(t,"More than one built-in value accessor matches form control with"),i=e):(o&&hP(t,"More than one custom value accessor matches form control with"),o=e))}),o||i||n||(hP(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!ea(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?cP(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return pP(this._rawValidators)}get asyncValidator(){return fP(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lP(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof TP)&&this._parent instanceof OP?EP.formGroupNameException():this._parent instanceof TP||this._parent instanceof MP||EP.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||EP.missingNameException()}_updateValue(t){IP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;IP.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(fa(Fw,9),fa(Uw,10),fa(qw,10),fa(Ew,10))},t.\u0275dir=xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ds([AP]),_s,ws]}),t})();const RP=new Ut("NgModelWithFormControlWarning");let FP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),LP=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,o=null,r=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new CP(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new vP(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new xP(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof vP||t instanceof CP||t instanceof xP?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),zP=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Jw],imports:[FP]}),t})(),BP=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:RP,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[LP,Jw],imports:[FP]}),t})();const NP=function(t,e){return{"ui-clickable":!0,"ui-button-icon-left":t,"ui-button-icon-right":e}};function VP(t,e){if(1&t&&Ca(0,"span",3),2&t){const t=Aa();Ja(t.icon),_a("ngClass",Su(3,NP,"left"===t.iconPos,"right"===t.iconPos))}}const UP=function(t,e,n,i,o,r){return{"ui-button ui-widget ui-state-default ui-corner-all":!0,"ui-button-icon-only":t,"ui-button-text-icon-left":e,"ui-button-text-icon-right":n,"ui-button-text-only":i,"ui-button-text-empty":o,"ui-state-disabled":r}},qP=["*"];let jP=(()=>{let t=class{constructor(){this.iconPos="left",this.onClick=new Vu,this.onFocus=new Vu,this.onBlur=new Vu}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["p-button"]],inputs:{iconPos:"iconPos",type:"type",icon:"icon",label:"label",disabled:"disabled",style:"style",styleClass:"styleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:qP,decls:5,vars:15,consts:[[3,"ngStyle","disabled","ngClass","click","focus","blur"],[3,"ngClass","class",4,"ngIf"],[1,"ui-button-text","ui-clickable"],[3,"ngClass"]],template:function(t,e){1&t&&(Da(),ba(0,"button",0),Ea("click",(function(t){return e.onClick.emit(t)}))("focus",(function(t){return e.onFocus.emit(t)}))("blur",(function(t){return e.onBlur.emit(t)})),Ra(1),ha(2,VP,1,6,"span",1),ba(3,"span",2),hs(4),va(),va()),2&t&&(Ja(e.styleClass),_a("ngStyle",e.style)("disabled",e.disabled)("ngClass",Du(8,UP,e.icon&&!e.label,e.icon&&e.label&&"left"===e.iconPos,e.icon&&e.label&&"right"===e.iconPos,!e.icon&&e.label,!e.icon&&!e.label,e.disabled)),la("type",e.type),oo(2),_a("ngIf",e.icon),oo(2),ps(e.label||"ui-btn"))},directives:[Nl,Il,Ll],encapsulation:2}),t})(),GP=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})();function HP(t,e){1&t&&Pa(0)}function ZP(t,e){if(1&t){const t=Ma();xa(0),ba(1,"a",6),Ea("click",(function(e){return Be(t),Aa().toggle(e)}))("keydown.enter",(function(e){return Be(t),Aa().toggle(e)})),ha(2,HP,1,0,"ng-container",7),va(),wa()}if(2&t){const t=Aa(),e=pa(4);oo(1),la("aria-controls",t.id+"-content")("aria-expanded",!t.collapsed),oo(1),_a("ngTemplateOutlet",e)}}const WP=function(t,e){return{"pi-minus":t,"pi-plus":e}};function KP(t,e){if(1&t&&Ca(0,"span",10),2&t){const t=Aa(2);_a("ngClass",Su(1,WP,!t.collapsed,t.collapsed))}}function XP(t,e){if(1&t&&(ha(0,KP,1,4,"span",8),ba(1,"span",9),hs(2),va(),Ra(3,1)),2&t){const t=Aa();_a("ngIf",t.toggleable),oo(2),ps(t.legend)}}const $P=["*",[["p-header"]]],YP=function(t){return{"ui-fieldset ui-widget ui-widget-content ui-corner-all":!0,"ui-fieldset-toggleable":t}},QP=function(t){return{transitionParams:t,height:"0"}},JP=function(t){return{value:"hidden",params:t}},tM=function(t){return{transitionParams:t,height:"*"}},eM=function(t){return{value:"visible",params:t}},nM=function(t){return{"ui-fieldset-content-wrapper-overflown":t}},iM=["*","p-header"];let oM=0,rM=(()=>{let t=class{constructor(t){this.el=t,this.collapsed=!1,this.collapsedChange=new Vu,this.onBeforeToggle=new Vu,this.onAfterToggle=new Vu,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id=`ui-fieldset-${oM++}`}toggle(t){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:t,collapsed:this.collapsed}),this.collapsed?this.expand(t):this.collapse(t),this.onAfterToggle.emit({originalEvent:t,collapsed:this.collapsed}),t.preventDefault()}expand(t){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(t){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(t){this.animating=!1}};return t.\u0275fac=function(e){return new(e||t)(fa(zs))},t.\u0275cmp=me({type:t,selectors:[["p-fieldset"]],inputs:{collapsed:"collapsed",transitionOptions:"transitionOptions",legend:"legend",toggleable:"toggleable",style:"style",styleClass:"styleClass"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:iM,decls:8,vars:24,consts:[[3,"ngClass","ngStyle"],[1,"ui-fieldset-legend","ui-corner-all","ui-state-default","ui-unselectable-text"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"ui-fieldset-content-wrapper",3,"ngClass"],[1,"ui-fieldset-content"],["tabindex","0",3,"click","keydown.enter"],[4,"ngTemplateOutlet"],["class","ui-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"ui-fieldset-legend-text"],[1,"ui-fieldset-toggler","pi",3,"ngClass"]],template:function(t,e){if(1&t&&(Da($P),ba(0,"fieldset",0),ba(1,"legend",1),ha(2,ZP,3,3,"ng-container",2),ha(3,XP,4,2,"ng-template",null,3,uc),va(),ba(5,"div",4),Ea("@fieldsetContent.done",(function(t){return e.onToggleDone(t)})),ba(6,"div",5),Ra(7),va(),va(),va()),2&t){const t=pa(4);Ja(e.styleClass),_a("ngClass",Eu(12,YP,e.toggleable))("ngStyle",e.style),la("id",e.id),oo(2),_a("ngIf",e.toggleable)("ngIfElse",t),oo(3),_a("@fieldsetContent",e.collapsed?Eu(16,JP,Eu(14,QP,e.transitionOptions)):Eu(20,eM,Eu(18,tM,e.animating?e.transitionOptions:"0ms")))("ngClass",Eu(22,nM,e.collapsed||e.animating)),la("id",e.id+"-content")("aria-labelledby",e.id)("aria-hidden",e.collapsed)}},directives:[Il,Nl,Ll,Vl],encapsulation:2,data:{animation:[Od("fieldsetContent",[Td("hidden",Sd({height:"0"})),Td("void",Sd({height:"{{height}}"}),{params:{height:"0"}}),Td("visible",Sd({height:"*"})),Ad("visible => hidden",kd("{{transitionParams}}")),Ad("hidden => visible",kd("{{transitionParams}}")),Ad("void => hidden",kd("{{transitionParams}}")),Ad("void => visible",kd("{{transitionParams}}"))])]}}),t})(),aM=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl],yw]}),t})();function sM(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function uM(t,e,n,o){return i(n)&&(o=n,n=void 0),o?uM(t,e,n).pipe(z(t=>u(t)?o(...t):o(t))):new v(i=>{!function t(e,n,i,o,r){let a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,r),a=()=>t.removeEventListener(n,i,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),a=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),a=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let a=0,s=e.length;a<s;a++)t(e[a],n,i,o,r)}o.add(a)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class cM extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class lM extends cM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class dM extends lM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let hM=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class pM extends hM{constructor(t,e=hM.now){super(t,()=>pM.delegate&&pM.delegate!==this?pM.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return pM.delegate&&pM.delegate!==this?pM.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class fM extends pM{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const gM=new fM(dM);let mM=1;const _M=(()=>Promise.resolve())(),yM={};function bM(t){return t in yM&&(delete yM[t],!0)}const vM={setImmediate(t){const e=mM++;return yM[e]=!0,_M.then(()=>bM(e)&&t()),e},clearImmediate(t){bM(t)}};class CM extends lM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=vM.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(vM.clearImmediate(e),t.scheduled=void 0)}}class xM extends pM{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const wM=new xM(CM);function PM(t){return!!t&&(t instanceof v||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class MM{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new OM(t,this.compare,this.keySelector))}}class OM extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const kM=new pM(lM);class EM{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new SM(t,this.durationSelector))}}class SM extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=F(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function TM(t){return!u(t)&&t-parseFloat(t)+1>=0}function AM(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function IM(t,e=kM){return n=()=>function(t=0,e,n){let i=-1;return TM(e)?i=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=kM),new v(e=>{const o=TM(t)?t:+t-n.now();return n.schedule(AM,o,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new EM(n))};var n}function DM(t){return e=>e.lift(new RM(t))}class RM{constructor(t){this.notifier=t}call(t,e){const n=new FM(t),i=F(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class FM extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,o){this.seenValue=!0,this.complete()}notifyComplete(){}}class LM{call(t,e){return e.subscribe(new zM(t))}}class zM extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class BM extends lM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class NM extends pM{}const VM=new NM(BM);let UM,qM=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Hp(this.value);case"E":return t=this.error,new v(e=>e.error(t));case"C":return Qp()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class jM extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(jM.dispatch,this.delay,new GM(t,this.destination)))}_next(t){this.scheduleMessage(qM.createNext(t))}_error(t){this.scheduleMessage(qM.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(qM.createComplete()),this.unsubscribe()}}class GM{constructor(t,e){this.notification=t,this.destination=e}}class HM extends M{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new ZM(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;let r;if(this.closed)throw new x;if(this.isStopped||this.hasError?r=d.EMPTY:(this.observers.push(t),r=new w(this,t)),i&&t.add(t=new jM(t,i)),e)for(let a=0;a<o&&!t.closed;a++)t.next(n[a]);else for(let a=0;a<o&&!t.closed;a++)t.next(n[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||VM).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,o=i.length;let r=0;for(;r<o&&!(t-i[r].time<n);)r++;return o>e&&(r=Math.max(r,o-e)),r>0&&i.splice(0,r),i}}class ZM{constructor(t,e){this.time=t,this.value=e}}try{UM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(MS){UM=!1}let WM,KM=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Yt(mc,8))},t.\u0275prov=pt({factory:function(){return new t(Yt(mc,8))},token:t,providedIn:"root"}),t})(),XM=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();function $M(){if("object"!=typeof document||!document)return 0;if(null==WM){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),WM=0,0===t.scrollLeft&&(t.scrollLeft=1,WM=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return WM}const YM=new Ut("cdk-dir-doc",{providedIn:"root",factory:function(){return Qt(ll)}});let QM=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Vu,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Yt(YM,8))},t.\u0275prov=pt({factory:function(){return new t(Yt(YM,8))},token:t,providedIn:"root"}),t})(),JM=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();class tO extends class{}{constructor(t){super(),this._data=t}connect(){return PM(this._data)?this._data:Hp(this._data)}disconnect(){}}const eO=["contentWrapper"],nO=["*"],iO=new Ut("VIRTUAL_SCROLL_STRATEGY");class oO{constructor(t,e,n){this._scrolledIndexChange=new M,this.scrolledIndexChange=this._scrolledIndexChange.pipe(t=>t.lift(new MM(void 0,void 0))),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,n){if(n<e)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.measureScrollOffset(),e=t/this._itemSize,n=this._viewport.getRenderedRange(),i={start:n.start,end:n.end},o=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),a=t-i.start*this._itemSize;if(a<this._minBufferPx&&0!=i.start){const t=Math.ceil((this._maxBufferPx-a)/this._itemSize);i.start=Math.max(0,i.start-t),i.end=Math.min(r,Math.ceil(e+(o+this._minBufferPx)/this._itemSize))}else{const n=i.end*this._itemSize-(t+o);if(n<this._minBufferPx&&i.end!=r){const t=Math.ceil((this._maxBufferPx-n)/this._itemSize);t>0&&(i.end=Math.min(r,i.end+t),i.start=Math.max(0,Math.floor(e-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(i),this._viewport.setRenderedContentOffset(this._itemSize*i.start),this._scrolledIndexChange.next(Math.floor(e))}}function rO(t){return t._scrollStrategy}let aO=(()=>{class t{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new oO(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=sM(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=sM(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=sM(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Ds([{provide:iO,useFactory:rO,deps:[Ot(()=>t)]}]),ws]}),t})(),sO=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new M,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new v(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(IM(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Hp()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ef(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uM(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic),Yt(KM))},t.\u0275prov=pt({factory:function(){return new t(Yt(Ic),Yt(KM))},token:t,providedIn:"root"}),t})(),uO=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new M,this._elementScrolled=new v(t=>this.ngZone.runOutsideAngular(()=>uM(this.elementRef.nativeElement,"scroll").pipe(DM(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=$M()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==$M()?t.left=t.right:1==$M()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&2==$M()?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&1==$M()?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(sO),fa(Ic),fa(QM,8))},t.\u0275dir=xe({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),cO=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?K(uM(window,"resize"),uM(window,"orientationchange")):Hp(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IM(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Yt(KM),Yt(Ic))},t.\u0275prov=pt({factory:function(){return new t(Yt(KM),Yt(Ic))},token:t,providedIn:"root"}),t})();const lO="undefined"!=typeof requestAnimationFrame?gM:wM;let dO=(()=>{class t extends uO{constructor(t,e,n,i,o,r,a){if(super(t,r,n,o),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=i,this._detachedSubject=new M,this._renderedRangeSubject=new M,this._orientation="vertical",this.scrolledIndexChange=new v(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject.asObservable(),this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=d.EMPTY,!i)throw Error('Error: cdk-virtual-scroll-viewport requires the "itemSize" property to be set.');a&&(this._viewportChanges=a.change().subscribe(()=>{this.checkViewportSize()}))}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Tf(null),IM(0,lO)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){if(this._forOf)throw Error("CdkVirtualScrollViewport is already attached.");this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(DM(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,n;((e=this._renderedRange).start!=(n=t).start||e.end!=n.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const n="horizontal"==this.orientation,i=n?"X":"Y";let o=`translate${i}(${Number((n&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(o+=` translate${i}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=o&&(this._renderedContentTransform=o,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const n={behavior:e};"horizontal"===this.orientation?n.start=t:n.top=t,this.scrollTo(n)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Ar),fa(Ic),fa(iO,8),fa(QM,8),fa(sO),fa(cO,8))},t.\u0275cmp=me({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){var n;1&t&&Qu(eO,!0),2&t&&Yu(n=oc())&&(e._contentWrapper=n.first)},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&Ya("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Ds([{provide:uO,useExisting:t}]),_s],ngContentSelectors:nO,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(Da(),ba(0,"div",0,1),Ra(2),va(),Ca(3,"div",2)),2&t&&(oo(3),$a("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})();function hO(t,e){if(!e.getBoundingClientRect)return 0;const n=e.getBoundingClientRect();return"horizontal"==t?n.width:n.height}let pO=(()=>{class t{constructor(t,e,n,i,o){this._viewContainerRef=t,this._template=e,this._differs=n,this._viewport=i,this.viewChange=new M,this._dataSourceChanges=new M,this.cdkVirtualForTemplateCacheSize=20,this.dataStream=this._dataSourceChanges.pipe(Tf(null),t=>t.lift(new LM),Of(([t,e])=>this._changeDataSource(t,e)),function(t,e,n){let i;return i={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let o,r,a=0,s=!1,u=!1;return function(c){a++,o&&!s||(s=!1,o=new HM(t,e,i),r=c.subscribe({next(t){o.next(t)},error(t){s=!0,o.error(t)},complete(){u=!0,r=void 0,o.complete()}}));const l=o.subscribe(this);this.add(()=>{a--,l.unsubscribe(),r&&!u&&n&&0===a&&(r.unsubscribe(),r=void 0,o=void 0)})}}(i))}()),this._differ=null,this._templateCache=[],this._needsUpdate=!1,this._destroyed=new M,this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(DM(this._destroyed)).subscribe(t=>{this._renderedRange=t,o.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(t){return t&&"function"==typeof t.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new tO(PM(t)?t:Array.prototype.slice.call(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(e,n)=>t(e+(this._renderedRange?this._renderedRange.start:0),n):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}measureRangeSize(t,e){if(t.start>=t.end)return 0;if(t.start<this._renderedRange.start||t.end>this._renderedRange.end)throw Error("Error: attempted to measure an item that isn't rendered.");const n=t.start-this._renderedRange.start;let i=0,o=t.end-t.start;for(;o--;){const t=this._viewContainerRef.get(o+n);let r=t?t.rootNodes.length:0;for(;r--;)i+=hO(e,t.rootNodes[r])}return i}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete();for(let t of this._templateCache)t.destroy()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create(this.cdkVirtualForTrackBy)),this._needsUpdate=!0)}_changeDataSource(t,e){return t&&t.disconnect(this),this._needsUpdate=!0,e?e.connect(this):Hp()}_updateContext(){const t=this._data.length;let e=this._viewContainerRef.length;for(;e--;){let n=this._viewContainerRef.get(e);n.context.index=this._renderedRange.start+e,n.context.count=t,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(t){t.forEachOperation((t,e,n)=>{if(null==t.previousIndex)this._insertViewForNewItem(n).context.$implicit=t.item;else if(null==n)this._cacheView(this._detachView(e));else{const i=this._viewContainerRef.get(e);this._viewContainerRef.move(i,n),i.context.$implicit=t.item}}),t.forEachIdentityChange(t=>{this._viewContainerRef.get(t.currentIndex).context.$implicit=t.item});const e=this._data.length;let n=this._viewContainerRef.length;for(;n--;){const t=this._viewContainerRef.get(n);t.context.index=this._renderedRange.start+n,t.context.count=e,this._updateComputedContextProperties(t.context)}}_cacheView(t){if(this._templateCache.length<this.cdkVirtualForTemplateCacheSize)this._templateCache.push(t);else{const e=this._viewContainerRef.indexOf(t);-1===e?t.destroy():this._viewContainerRef.remove(e)}}_insertViewForNewItem(t){return this._insertViewFromCache(t)||this._createEmbeddedViewAt(t)}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_createEmbeddedViewAt(t){return this._viewContainerRef.createEmbeddedView(this._template,{$implicit:null,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},t)}_insertViewFromCache(t){const e=this._templateCache.pop();return e&&this._viewContainerRef.insert(e,t),e||null}_detachView(t){return this._viewContainerRef.detach(t)}}return t.\u0275fac=function(e){return new(e||t)(fa(cu),fa(su),fa(nu),fa(dO,4),fa(Ic))},t.\u0275dir=xe({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize",cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate"}}),t})(),fO=(()=>{class t{}return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[JM,XM],JM]}),t})();class gO{static equals(t,e,n){return n?this.resolveFieldData(t,n)===this.resolveFieldData(e,n):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var n,i,o,r=Array.isArray(t),a=Array.isArray(e);if(r&&a){if((i=t.length)!=e.length)return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[n],e[n]))return!1;return!0}if(r!=a)return!1;var s=t instanceof Date,u=e instanceof Date;if(s!=u)return!1;if(s&&u)return t.getTime()==e.getTime();var c=t instanceof RegExp,l=e instanceof RegExp;if(c!=l)return!1;if(c&&l)return t.toString()==e.toString();var d=Object.keys(t);if((i=d.length)!==Object.keys(e).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,d[n]))return!1;for(n=i;0!=n--;)if(!this.equalsByValue(t[o=d[n]],e[o]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let n=e.split("."),i=t;for(let t=0,e=n.length;t<e;++t){if(null==i)return null;i=i[n[t]]}return i}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,n){t&&e!==n&&(n>=t.length&&(n%=t.length,e%=t.length),t.splice(n,0,t.splice(e,1)[0]))}static generateSelectItems(t,e){let n;if(t&&t.length){n=[];for(let i of t)n.push({label:this.resolveFieldData(i,e),value:i})}return n}static insertIntoOrderedArray(t,e,n,i){if(n.length>0){let o=!1;for(let r=0;r<n.length;r++)if(this.findIndexInList(n[r],i)>e){n.splice(r,0,t),o=!0;break}o||n.push(t)}else n.push(t)}static findIndexInList(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(e[i]==t){n=i;break}return n}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}class mO{static filter(t,e,n,i){let o=[],r=gO.removeAccents(n).toLowerCase();if(t)for(let a of t)for(let t of e){let e=gO.removeAccents(String(gO.resolveFieldData(a,t))).toLowerCase();if(mO[i](e,r)){o.push(a);break}}return o}static startsWith(t,e){if(null==e||""===e.trim())return!0;if(null==t)return!1;let n=gO.removeAccents(e.toString()).toLowerCase();return gO.removeAccents(t.toString()).toLowerCase().slice(0,n.length)===n}static contains(t,e){if(null==e||"string"==typeof e&&""===e.trim())return!0;if(null==t)return!1;let n=gO.removeAccents(e.toString()).toLowerCase();return-1!==gO.removeAccents(t.toString()).toLowerCase().indexOf(n)}static endsWith(t,e){if(null==e||""===e.trim())return!0;if(null==t)return!1;let n=gO.removeAccents(e.toString()).toLowerCase(),i=gO.removeAccents(t.toString()).toLowerCase();return-1!==i.indexOf(n,i.length-n.length)}static equals(t,e){return null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():gO.removeAccents(t.toString()).toLowerCase()==gO.removeAccents(e.toString()).toLowerCase())}static notEquals(t,e){return!(null==e||"string"==typeof e&&""===e.trim()||null!=t&&(t.getTime&&e.getTime?t.getTime()===e.getTime():gO.removeAccents(t.toString()).toLowerCase()==gO.removeAccents(e.toString()).toLowerCase()))}static in(t,e){if(null==e||0===e.length)return!0;if(null==t)return!1;for(let n=0;n<e.length;n++)if(e[n]===t||t.getTime&&e[n].getTime&&t.getTime()===e[n].getTime())return!0;return!1}static lt(t,e){return null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<e.getTime():t<e)}static lte(t,e){return null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()<=e.getTime():t<=e)}static gt(t,e){return null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>e.getTime():t>e)}static gte(t,e){return null==e||null!=t&&(t.getTime&&e.getTime?t.getTime()>=e.getTime():t>=e)}}let _O=(()=>{let t=class{constructor(t,e){this.el=t,this.zone=e,this.tooltipPosition="right",this.tooltipEvent="hover",this.appendTo="body",this.tooltipZIndex="auto",this.escape=!0}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.tooltipEvent?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}onMouseEnter(t){this.container||this.showTimeout||this.activate()}onMouseLeave(t){this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onClick(t){this.deactivate()}activate(){this.active=!0,this.clearHideTimeout(),this.showDelay?this.showTimeout=setTimeout(()=>{this.show()},this.showDelay):this.show(),this.life&&(this.hideTimeout=setTimeout(()=>{this.hide()},this.showDelay?this.life+this.showDelay:this.life))}deactivate(){this.active=!1,this.clearShowTimeout(),this.hideDelay?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.hideDelay)):this.hide()}get text(){return this._text}set text(t){this._text=t,this.active&&(this._text?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())}create(){this.container=document.createElement("div");let t=document.createElement("div");t.className="ui-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="ui-tooltip-text ui-shadow ui-corner-all",this.updateText(),this.positionStyle&&(this.container.style.position=this.positionStyle),this.container.appendChild(this.tooltipText),"body"===this.appendTo?document.body.appendChild(this.container):Vx.appendChild(this.container,"target"===this.appendTo?this.el.nativeElement:this.appendTo),this.container.style.display="inline-block"}show(){this.text&&!this.disabled&&(this.create(),this.align(),Vx.fadeIn(this.container,250),this.container.style.zIndex="auto"===this.tooltipZIndex?++Vx.zindex:this.tooltipZIndex,this.bindDocumentResizeListener())}hide(){this.remove()}updateText(){this.escape?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this._text))):this.tooltipText.innerHTML=this._text}align(){switch(this.tooltipPosition){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.appendTo||"target"===this.appendTo){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+Vx.getWindowScrollLeft(),top:t.top+Vx.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),e=t.left+Vx.getOuterWidth(this.el.nativeElement),n=t.top+(Vx.getOuterHeight(this.el.nativeElement)-Vx.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),e=t.left-Vx.getOuterWidth(this.container),n=t.top+(Vx.getOuterHeight(this.el.nativeElement)-Vx.getOuterHeight(this.container))/2;this.container.style.left=e+"px",this.container.style.top=n+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),e=t.left+(Vx.getOuterWidth(this.el.nativeElement)-Vx.getOuterWidth(this.container))/2,n=t.top-Vx.getOuterHeight(this.container);this.container.style.left=e+"px",this.container.style.top=n+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),e=t.left+(Vx.getOuterWidth(this.el.nativeElement)-Vx.getOuterWidth(this.container))/2,n=t.top+Vx.getOuterHeight(this.el.nativeElement);this.container.style.left=e+"px",this.container.style.top=n+"px"}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let e="ui-tooltip ui-widget ui-tooltip-"+t;this.container.className=this.tooltipStyleClass?e+" "+this.tooltipStyleClass:e}isOutOfBounds(){let t=this.container.getBoundingClientRect(),e=t.top,n=t.left,i=Vx.getOuterWidth(this.container),o=Vx.getOuterHeight(this.container),r=Vx.getViewport();return n+i>r.width||n<0||e<0||e+o>r.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindEvents(){"hover"===this.tooltipEvent?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.tooltipEvent&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.appendTo?document.body.removeChild(this.container):"target"===this.appendTo?this.el.nativeElement.removeChild(this.container):Vx.removeChild(this.container,this.appendTo)),this.unbindDocumentResizeListener(),this.clearTimeouts(),this.container=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.remove()}};return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Ic))},t.\u0275dir=xe({type:t,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",tooltipZIndex:"tooltipZIndex",escape:"escape",text:["pTooltip","text"],positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",disabled:["tooltipDisabled","disabled"],showDelay:"showDelay",hideDelay:"hideDelay",life:"life"}}),t})(),yO=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})();function bO(t,e){if(1&t&&(ba(0,"span"),hs(1),va()),2&t){const t=Aa();oo(1),ps(t.option.label||"empty")}}function vO(t,e){1&t&&Pa(0)}const CO=function(t){return{height:t}},xO=function(t,e,n){return{"ui-dropdown-item ui-corner-all":!0,"ui-state-highlight":t,"ui-state-disabled":e,"ui-dropdown-item-empty":n}},wO=function(t){return{$implicit:t}},PO=["container"],MO=["filter"],OO=["in"],kO=["editableInput"];function EO(t,e){if(1&t&&(ba(0,"option",16),hs(1),va()),2&t){const t=Aa();oo(1),ps(t.placeholder)}}function SO(t,e){if(1&t&&(ba(0,"option",17),hs(1),va()),2&t){const t=Aa();_a("value",t.selectedOption.value)("selected",!0),oo(1),ps(t.selectedOption.label)}}function TO(t,e){if(1&t&&(xa(0),hs(1),wa()),2&t){const t=Aa(2);oo(1),ps(t.label||"empty")}}function AO(t,e){1&t&&Pa(0)}const IO=function(t){return{"ui-dropdown-label ui-inputtext ui-corner-all":!0,"ui-dropdown-label-empty":t}};function DO(t,e){if(1&t&&(ba(0,"label",18),ha(1,TO,2,1,"ng-container",19),ha(2,AO,1,0,"ng-container",20),va()),2&t){const t=Aa();_a("ngClass",Eu(4,IO,null==t.label||0===t.label.length)),oo(1),_a("ngIf",!t.selectedItemTemplate),oo(1),_a("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Eu(6,wO,t.selectedOption))}}const RO=function(t){return{"ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder":!0,"ui-dropdown-label-empty":t}};function FO(t,e){if(1&t&&(ba(0,"label",18),hs(1),va()),2&t){const t=Aa();_a("ngClass",Eu(2,RO,null==t.placeholder||0===t.placeholder.length)),oo(1),ps(t.placeholder||"empty")}}function LO(t,e){if(1&t){const t=Ma();ba(0,"input",21,22),Ea("click",(function(e){return Be(t),Aa().onEditableInputClick(e)}))("input",(function(e){return Be(t),Aa().onEditableInputChange(e)}))("focus",(function(e){return Be(t),Aa().onEditableInputFocus(e)}))("blur",(function(e){return Be(t),Aa().onInputBlur(e)})),va()}if(2&t){const t=Aa();_a("disabled",t.disabled),la("maxlength",t.maxlength)("aria-label",t.selectedOption?t.selectedOption.label:" ")("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function zO(t,e){if(1&t){const t=Ma();ba(0,"i",23),Ea("click",(function(e){return Be(t),Aa().clear(e)})),va()}}function BO(t,e){if(1&t){const t=Ma();ba(0,"div",30),Ea("click",(function(e){return Be(t),e.stopPropagation()})),ba(1,"input",31,32),Ea("keydown.enter",(function(e){return Be(t),e.preventDefault()}))("keydown",(function(e){return Be(t),Aa(2).onKeydown(e,!1)}))("input",(function(e){return Be(t),Aa(2).onFilter(e)})),va(),Ca(3,"span",33),va()}if(2&t){const t=Aa(2);oo(1),_a("value",t.filterValue||""),la("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)}}function NO(t,e){if(1&t&&(ba(0,"span"),hs(1),va()),2&t){const t=Aa().$implicit;oo(1),ps(t.label||"empty")}}function VO(t,e){1&t&&Pa(0)}function UO(t,e){1&t&&Pa(0)}const qO=function(t,e){return{$implicit:t,selectedOption:e}};function jO(t,e){if(1&t&&(ba(0,"li",35),ha(1,NO,2,1,"span",19),ha(2,VO,1,0,"ng-container",20),va(),ha(3,UO,1,0,"ng-container",20)),2&t){const t=e.$implicit;Aa(2);const n=pa(7),i=Aa();oo(1),_a("ngIf",!i.groupTemplate),oo(1),_a("ngTemplateOutlet",i.groupTemplate)("ngTemplateOutletContext",Eu(5,wO,t)),oo(1),_a("ngTemplateOutlet",n)("ngTemplateOutletContext",Su(7,qO,t.items,i.selectedOption))}}function GO(t,e){if(1&t&&(xa(0),ha(1,jO,4,10,"ng-template",34),wa()),2&t){const t=Aa(2);oo(1),_a("ngForOf",t.optionsToDisplay)}}function HO(t,e){1&t&&Pa(0)}function ZO(t,e){if(1&t&&(xa(0),ha(1,HO,1,0,"ng-container",20),wa()),2&t){Aa();const t=pa(7),e=Aa();oo(1),_a("ngTemplateOutlet",t)("ngTemplateOutletContext",Su(2,qO,e.optionsToDisplay,e.selectedOption))}}function WO(t,e){if(1&t){const t=Ma();ba(0,"p-dropdownItem",38),Ea("onClick",(function(e){return Be(t),Aa(4).onItemClick(e)})),va()}if(2&t){const t=e.$implicit,n=Aa(2).selectedOption,i=Aa(2);_a("option",t)("selected",n==t)("template",i.itemTemplate)}}function KO(t,e){if(1&t&&(xa(0),ha(1,WO,1,3,"ng-template",34),wa()),2&t){const t=Aa().$implicit;oo(1),_a("ngForOf",t)}}function XO(t,e){if(1&t){const t=Ma();xa(0),ba(1,"p-dropdownItem",38),Ea("onClick",(function(e){return Be(t),Aa(5).onItemClick(e)})),va(),wa()}if(2&t){const t=e.$implicit,n=Aa(3).selectedOption,i=Aa(2);oo(1),_a("option",t)("selected",n==t)("template",i.itemTemplate)}}function $O(t,e){if(1&t){const t=Ma();ba(0,"cdk-virtual-scroll-viewport",40,41),Ea("scrolledIndexChange",(function(){return Be(t),Aa(4).scrollToSelectedVirtualScrollElement()})),ha(2,XO,2,3,"ng-container",42),va()}if(2&t){const t=Aa(2).$implicit,e=Aa(2);_a("ngStyle",Eu(3,CO,e.scrollHeight))("itemSize",e.itemSize),oo(2),_a("cdkVirtualForOf",t)}}function YO(t,e){if(1&t&&ha(0,$O,3,5,"cdk-virtual-scroll-viewport",39),2&t){const t=Aa(3);_a("ngIf",t.virtualScroll&&t.optionsToDisplay&&t.optionsToDisplay.length)}}function QO(t,e){if(1&t&&(ha(0,KO,2,1,"ng-container",36),ha(1,YO,1,1,"ng-template",null,37,uc)),2&t){const t=pa(2);_a("ngIf",!Aa(2).virtualScroll)("ngIfElse",t)}}function JO(t,e){if(1&t&&(ba(0,"li",43),hs(1),va()),2&t){const t=Aa(2);oo(1),ps(t.emptyFilterMessage)}}const tk=function(t,e){return{showTransitionParams:t,hideTransitionParams:e}},ek=function(t){return{value:"visible",params:t}};function nk(t,e){if(1&t){const t=Ma();ba(0,"div",24),Ea("@overlayAnimation.start",(function(e){return Be(t),Aa().onOverlayAnimationStart(e)})),ha(1,BO,4,3,"div",25),ba(2,"div",26),ba(3,"ul",27),ha(4,GO,2,1,"ng-container",19),ha(5,ZO,2,5,"ng-container",19),ha(6,QO,3,2,"ng-template",null,28,uc),ha(8,JO,2,1,"li",29),va(),va(),va()}if(2&t){const t=Aa();Ja(t.panelStyleClass),_a("ngClass","ui-dropdown-panel  ui-widget ui-widget-content ui-corner-all ui-shadow")("@overlayAnimation",Eu(14,ek,Su(11,tk,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),oo(1),_a("ngIf",t.filter),oo(1),$a("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),oo(2),_a("ngIf",t.group),oo(1),_a("ngIf",!t.group),oo(3),_a("ngIf",t.filter&&(!t.optionsToDisplay||t.optionsToDisplay&&0===t.optionsToDisplay.length))}}const ik=function(t,e,n,i){return{"ui-dropdown ui-widget ui-state-default ui-corner-all ui-helper-clearfix":!0,"ui-state-disabled":t,"ui-dropdown-open":e,"ui-state-focus":n,"ui-dropdown-clearable":i}},ok={provide:Ew,useExisting:Ot(()=>ak),multi:!0};let rk=(()=>{let t=class{constructor(){this.onClick=new Vu}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["p-dropdownItem"]],inputs:{option:"option",selected:"selected",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option",3,"ngStyle","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(ba(0,"li",0),Ea("click",(function(t){return e.onOptionClick(t)})),ha(1,bO,2,1,"span",1),ha(2,vO,1,0,"ng-container",2),va()),2&t&&(_a("ngStyle",Eu(7,CO,e.itemSize+"px"))("ngClass",Tu(9,xO,e.selected,e.option.disabled,!e.option.label||0===e.option.label.length)),la("aria-label",e.option.label)("aria-selected",e.selected),oo(1),_a("ngIf",!e.template),oo(1),_a("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Eu(13,wO,e.option)))},directives:[Nl,Il,Ll,Vl],encapsulation:2}),t})(),ak=(()=>{let t=class{constructor(t,e,n,i){this.el=t,this.renderer=e,this.cd=n,this.zone=i,this.scrollHeight="200px",this.filterBy="label",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.autoDisplayFirst=!0,this.emptyFilterMessage="No results found",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.onChange=new Vu,this.onFocus=new Vu,this.onBlur=new Vu,this.onClick=new Vu,this.onShow=new Vu,this.onHide=new Vu,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;default:this.itemTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null)}get options(){return this._options}set options(t){let e=this.optionLabel?gO.generateSelectItems(t,this.optionLabel):t;this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this.filterValue&&this.filterValue.length&&this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.selectedOption.label:null}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.selectedOption.label:this.value||"")}onItemClick(t){const e=t.option;this.itemClick=!0,e.disabled||(this.selectItem(t,e),this.focusViewChild.nativeElement.focus()),setTimeout(()=>{this.hide(t)},150)}selectItem(t,e){this.selectedOption!=e&&(this.selectedOption=e,this.value=e.value,this.filled=!0,this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort.measureScrollOffset()},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let t=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(t.start>this.virtualScrollSelectedIndex||t.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Vx.findSingle(this.overlay,"li.ui-state-highlight")&&Vx.scrollInView(this.itemsWrapper,Vx.findSingle(this.overlay,"li.ui-state-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.updateFilledState(),this.cd.markForCheck()}resetFilter(){this.filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0]),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onMouseclick(t){this.disabled||this.readonly||(this.onClick.emit(t),this.selfClick=!0,this.clearClick=Vx.hasClass(t.target,"ui-dropdown-clear-icon"),this.itemClick||this.clearClick||(this.focusViewChild.nativeElement.focus(),this.overlayVisible?this.hide(t):this.show(),this.cd.detectChanges()))}onEditableInputClick(t){this.itemClick=!0,this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(t),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=Vx.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".ui-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++Vx.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.options&&this.options.length&&!this.virtualScroll){let t=Vx.findSingle(this.itemsWrapper,".ui-dropdown-item.ui-state-highlight");t&&Vx.scrollInView(this.itemsWrapper,t)}this.filterViewChild&&this.filterViewChild.nativeElement&&this.filterViewChild.nativeElement.focus(),this.onShow.emit(t);break;case"void":this.onOverlayHide()}}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Vx.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth=Vx.getWidth(this.containerViewChild.nativeElement)+"px")}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(t){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck(),this.onHide.emit(t)}alignOverlay(){this.overlay&&(this.appendTo?Vx.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Vx.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}findPrevEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t-1;0<=n;n--){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}if(!e)for(let n=this.optionsToDisplay.length-1;n>=t;n--){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}}return e}findNextEnabledOption(t){let e;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let n=t+1;t<this.optionsToDisplay.length-1;n++){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}if(!e)for(let n=0;n<t;n++){let t=this.optionsToDisplay[n];if(!t.disabled){e=t;break}}}return e}onKeydown(t,e){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex+1;n<this.optionsToDisplay[e.groupIndex].items.length?(this.selectItem(t,this.optionsToDisplay[e.groupIndex].items[n]),this.selectedOptionUpdated=!0):this.optionsToDisplay[e.groupIndex+1]&&(this.selectItem(t,this.optionsToDisplay[e.groupIndex+1].items[0]),this.selectedOptionUpdated=!0)}else this.selectItem(t,this.optionsToDisplay[0].items[0])}else{let e=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,n=this.findNextEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let e=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):-1;if(-1!==e){let n=e.itemIndex-1;if(n>=0)this.selectItem(t,this.optionsToDisplay[e.groupIndex].items[n]),this.selectedOptionUpdated=!0;else if(n<0){let n=this.optionsToDisplay[e.groupIndex-1];n&&(this.selectItem(t,n.items[n.items.length-1]),this.selectedOptionUpdated=!0)}}}else{let e=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1,n=this.findPrevEnabledOption(e);n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 13:(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)&&this.hide(t),t.preventDefault();break;case 27:case 9:this.hide(t);break;default:e&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const e=t.key;let n;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=e,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+e:e,this.group){let t=this.selectedOption?this.findOptionGroupIndex(this.selectedOption.value,this.optionsToDisplay):{groupIndex:0,itemIndex:0};n=this.searchOptionWithinGroup(t)}else{let t=this.selectedOption?this.findOptionIndex(this.selectedOption.value,this.optionsToDisplay):-1;n=this.searchOption(++t)}n&&(this.selectItem(t,n),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let e;return this.searchValue&&(e=this.searchOptionInRange(t,this.optionsToDisplay.length),e||(e=this.searchOptionInRange(0,t))),e}searchOptionInRange(t,e){for(let n=t;n<e;n++){let t=this.optionsToDisplay[n];if(t.label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return t}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let e=t.groupIndex;e<this.optionsToDisplay.length;e++)for(let n=t.groupIndex===e?t.itemIndex+1:0;n<this.optionsToDisplay[e].items.length;n++){let t=this.optionsToDisplay[e].items[n];if(t.label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return t}for(let e=0;e<=t.groupIndex;e++)for(let n=0;n<(t.groupIndex===e?t.itemIndex:this.optionsToDisplay[e].items.length);n++){let t=this.optionsToDisplay[e].items[n];if(t.label.toLowerCase().startsWith(this.searchValue.toLowerCase()))return t}}return null}findOptionIndex(t,e){let n=-1;if(e)for(let i=0;i<e.length;i++)if(null==t&&null==e[i].value||gO.equals(t,e[i].value,this.dataKey)){n=i;break}return n}findOptionGroupIndex(t,e){let n,i;if(e)for(let o=0;o<e.length&&(n=o,i=this.findOptionIndex(t,e[o].items),-1===i);o++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}findOption(t,e,n){if(this.group&&!n){let n;if(e&&e.length)for(let i of e)if(n=this.findOption(t,i.items,!0),n)break;return n}{let n=this.findOptionIndex(t,e);return-1!=n?e[n]:null}}onFilter(t){let e=t.target.value;e&&e.length?(this.filterValue=e,this.activateFilter()):(this.filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0}activateFilter(){let t=this.filterBy.split(",");if(this.options&&this.options.length){if(this.group){let e=[];for(let n of this.options){let i=mO.filter(n.items,t,this.filterValue,this.filterMatchMode);i&&i.length&&e.push({label:n.label,value:n.value,items:i})}this.optionsToDisplay=e}else this.optionsToDisplay=mO.filter(this.options,t,this.filterValue,this.filterMatchMode);this.optionsChanged=!0}}applyFocus(){this.editable?Vx.findSingle(this.el.nativeElement,".ui-dropdown-label.ui-inputtext").focus():Vx.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",t=>{this.selfClick||this.itemClick||(this.hide(t),this.unbindDocumentClickListener()),this.clearClickState(),this.cd.markForCheck()}))}clearClickState(){this.selfClick=!1,this.itemClick=!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){Vx.isAndroid()||this.hide(event)}updateFilledState(){this.filled=null!=this.selectedOption}clear(t){this.clearClick=!0,this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.updateFilledState()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null,this.itemsWrapper=null}ngOnDestroy(){this.restoreOverlayAppend(),this.onOverlayHide()}};return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Us),fa(Ar),fa(Ic))},t.\u0275cmp=me({type:t,selectors:[["p-dropdown"]],contentQueries:function(t,e,n){var i;1&t&&ec(n,_w,!1),2&t&&Yu(i=oc())&&(e.templates=i)},viewQuery:function(t,e){var n;1&t&&(Qu(PO,!0),Ju(MO,!0),Qu(OO,!0),Ju(dO,!0),Ju(kO,!0)),2&t&&(Yu(n=oc())&&(e.containerViewChild=n.first),Yu(n=oc())&&(e.filterViewChild=n.first),Yu(n=oc())&&(e.focusViewChild=n.first),Yu(n=oc())&&(e.viewPort=n.first),Yu(n=oc())&&(e.editableInputViewChild=n.first))},hostVars:4,hostBindings:function(t,e){2&t&&Ya("ui-inputwrapper-filled",e.filled)("ui-inputwrapper-focus",e.focused)},inputs:{scrollHeight:"scrollHeight",filterBy:"filterBy",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",autoDisplayFirst:"autoDisplayFirst",emptyFilterMessage:"emptyFilterMessage",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",disabled:"disabled",options:"options",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",autofocus:"autofocus",optionLabel:"optionLabel",group:"group",showClear:"showClear",virtualScroll:"virtualScroll",itemSize:"itemSize",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",maxlength:"maxlength",tooltipStyleClass:"tooltipStyleClass"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide"},features:[Ds([ok])],decls:17,vars:31,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"ui-helper-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"ui-helper-hidden-accessible","ui-dropdown-hidden-select"],["tabindex","-1","aria-hidden","true"],["value","",4,"ngIf"],[3,"value","selected",4,"ngIf"],[1,"ui-dropdown-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass",4,"ngIf"],["type","text","class","ui-dropdown-label ui-inputtext ui-corner-all","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","ui-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"ui-dropdown-trigger","ui-state-default","ui-corner-right"],[1,"ui-dropdown-trigger-icon","ui-clickable",3,"ngClass"],[3,"ngClass","ngStyle","class",4,"ngIf"],["value",""],[3,"value","selected"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox",1,"ui-dropdown-label","ui-inputtext","ui-corner-all",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"ui-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],["class","ui-dropdown-filter-container",3,"click",4,"ngIf"],[1,"ui-dropdown-items-wrapper"],["role","listbox",1,"ui-dropdown-items","ui-dropdown-list","ui-widget-content","ui-widget","ui-corner-all","ui-helper-reset"],["itemslist",""],["class","ui-dropdown-empty-message",4,"ngIf"],[1,"ui-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"ui-dropdown-filter","ui-inputtext","ui-widget","ui-state-default","ui-corner-all",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"ui-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"ui-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"ui-dropdown-empty-message"]],template:function(t,e){1&t&&(ba(0,"div",0,1),Ea("click",(function(t){return e.onMouseclick(t)})),ba(2,"div",2),ba(3,"input",3,4),Ea("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)}))("keydown",(function(t){return e.onKeydown(t,!0)})),va(),va(),ba(5,"div",5),ba(6,"select",6),ha(7,EO,2,1,"option",7),ha(8,SO,2,3,"option",8),va(),va(),ba(9,"div",9),ha(10,DO,3,8,"label",10),ha(11,FO,2,4,"label",10),ha(12,LO,2,5,"input",11),ha(13,zO,1,0,"i",12),va(),ba(14,"div",13),Ca(15,"span",14),va(),ha(16,nk,9,16,"div",15),va()),2&t&&(Ja(e.styleClass),_a("ngClass",Au(26,ik,e.disabled,e.overlayVisible,e.focused,e.showClear&&!e.disabled))("ngStyle",e.style),oo(3),_a("disabled",e.disabled),la("id",e.inputId)("aria-label",e.selectedOption?e.selectedOption.label:" ")("aria-expanded",e.overlayVisible)("aria-labelledby",e.ariaLabelledBy)("tabindex",e.tabindex)("autofocus",e.autofocus),oo(3),la("required",e.required)("name",e.name),oo(1),_a("ngIf",e.placeholder),oo(1),_a("ngIf",e.selectedOption),oo(1),_a("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),oo(1),_a("ngIf",!e.editable&&null!=e.label),oo(1),_a("ngIf",!e.editable&&null==e.label),oo(1),_a("ngIf",e.editable),oo(1),_a("ngIf",null!=e.value&&e.showClear&&!e.disabled),oo(1),la("aria-expanded",e.overlayVisible),oo(1),_a("ngClass",e.dropdownIcon),oo(1),_a("ngIf",e.overlayVisible))},directives:[Il,Nl,Ll,_O,Vl,Rl,rk,dO,aO,pO],encapsulation:2,data:{animation:[Od("overlayAnimation",[Td("void",Sd({transform:"translateY(5%)",opacity:0})),Td("visible",Sd({transform:"translateY(0)",opacity:1})),Ad("void => visible",kd("{{showTransitionParams}}")),Ad("visible => void",kd("{{hideTransitionParams}}"))])]}}),t})(),sk=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,yw,fO,yO],yw,fO]}),t})();function uk(t,e){1&t&&Pa(0)}const ck=function(t){return{$implicit:t}};function lk(t,e){if(1&t&&(ba(0,"div",16),ha(1,uk,1,0,"ng-container",17),va()),2&t){const t=Aa(2);oo(1),_a("ngTemplateOutlet",t.templateLeft)("ngTemplateOutletContext",Eu(2,ck,t.paginatorState))}}function dk(t,e){if(1&t&&(ba(0,"span",18),hs(1),va()),2&t){const t=Aa(2);oo(1),ps(t.currentPageReport)}}const hk=function(t){return{"ui-state-active":t}};function pk(t,e){if(1&t){const t=Ma();ba(0,"a",19),Ea("click",(function(n){Be(t);const i=e.$implicit;return Aa(2).onPageLinkClick(n,i-1)}))("keydown.enter",(function(n){Be(t);const i=e.$implicit;return Aa(2).onPageLinkClick(n,i-1)})),hs(1),va()}if(2&t){const t=e.$implicit,n=Aa(2);_a("ngClass",Eu(2,hk,t-1==n.getPage())),oo(1),ps(t)}}function fk(t,e){if(1&t){const t=Ma();ba(0,"p-dropdown",20),Ea("ngModelChange",(function(e){return Be(t),Aa(2).rows=e}))("onChange",(function(e){return Be(t),Aa(2).onRppChange(e)})),va()}if(2&t){const t=Aa(2);_a("options",t.rowsPerPageItems)("ngModel",t.rows)("appendTo",t.dropdownAppendTo)("scrollHeight",t.dropdownScrollHeight)}}function gk(t,e){1&t&&Pa(0)}function mk(t,e){if(1&t&&(ba(0,"div",21),ha(1,gk,1,0,"ng-container",17),va()),2&t){const t=Aa(2);oo(1),_a("ngTemplateOutlet",t.templateRight)("ngTemplateOutletContext",Eu(2,ck,t.paginatorState))}}const _k=function(t){return{"ui-state-disabled":t}};function yk(t,e){if(1&t){const t=Ma();ba(0,"div",1),ha(1,lk,2,4,"div",2),ha(2,dk,2,1,"span",3),ba(3,"a",4),Ea("click",(function(e){return Be(t),Aa().changePageToFirst(e)}))("keydown.enter",(function(e){return Be(t),Aa().changePageToFirst(e)})),Ca(4,"span",5),va(),ba(5,"a",6),Ea("click",(function(e){return Be(t),Aa().changePageToPrev(e)}))("keydown.enter",(function(e){return Be(t),Aa().changePageToPrev(e)})),Ca(6,"span",7),va(),ba(7,"span",8),ha(8,pk,2,4,"a",9),va(),ba(9,"a",10),Ea("click",(function(e){return Be(t),Aa().changePageToNext(e)}))("keydown.enter",(function(e){return Be(t),Aa().changePageToNext(e)})),Ca(10,"span",11),va(),ba(11,"a",12),Ea("click",(function(e){return Be(t),Aa().changePageToLast(e)}))("keydown.enter",(function(e){return Be(t),Aa().changePageToLast(e)})),Ca(12,"span",13),va(),ha(13,fk,1,4,"p-dropdown",14),ha(14,mk,2,4,"div",15),va()}if(2&t){const t=Aa();Ja(t.styleClass),_a("ngStyle",t.style)("ngClass","ui-paginator ui-widget ui-widget-header ui-unselectable-text ui-helper-clearfix"),oo(1),_a("ngIf",t.templateLeft),oo(1),_a("ngIf",t.showCurrentPageReport),oo(1),_a("ngClass",Eu(21,_k,t.isFirstPage()))("tabindex",t.isFirstPage()?-1:null),la("tabindex",t.isFirstPage()?null:"0"),oo(2),_a("ngClass",Eu(23,_k,t.isFirstPage()))("tabindex",t.isFirstPage()?-1:null),la("tabindex",t.isFirstPage()?null:"0"),oo(3),_a("ngForOf",t.pageLinks),oo(1),_a("ngClass",Eu(25,_k,t.isLastPage()))("tabindex",t.isLastPage()?-1:null),la("tabindex",t.isLastPage()?null:"0"),oo(2),_a("ngClass",Eu(27,_k,t.isLastPage()))("tabindex",t.isLastPage()?-1:null),la("tabindex",t.isLastPage()?null:"0"),oo(2),_a("ngIf",t.rowsPerPageOptions),oo(1),_a("ngIf",t.templateRight)}}let bk=(()=>{let t=class{constructor(t){this.cd=t,this.pageLinkSize=5,this.onPageChange=new Vu,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.totalRecords=0,this.rows=0,this._first=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(t){t.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),t.first&&(this._first=t.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),t.rows&&(this.updatePageLinks(),this.updatePaginatorState()),t.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(t){this._first=t}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let t of this.rowsPerPageOptions)this.rowsPerPageItems.push("object"==typeof t&&t.showAll?{label:t.showAll,value:this.totalRecords}:{label:String(t),value:t})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)||1}calculatePageLinkBoundaries(){let t=this.getPageCount(),e=Math.min(this.pageLinkSize,t),n=Math.max(0,Math.ceil(this.getPage()-e/2)),i=Math.min(t-1,n+e-1);return n=Math.max(0,n-(this.pageLinkSize-(i-n+1))),[n,i]}updatePageLinks(){this.pageLinks=[];let t=this.calculatePageLinkBoundaries(),e=t[1];for(let n=t[0];n<=e;n++)this.pageLinks.push(n+1)}changePage(t){var e=this.getPageCount();if(t>=0&&t<e){this._first=this.rows*t;var n={page:t,first:this.first,rows:this.rows,pageCount:e};this.updatePageLinks(),this.onPageChange.emit(n),this.updatePaginatorState()}}updateFirst(){const t=this.getPage();t>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(t-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(t){this.isFirstPage()||this.changePage(0),t.preventDefault()}changePageToPrev(t){this.changePage(this.getPage()-1),t.preventDefault()}changePageToNext(t){this.changePage(this.getPage()+1),t.preventDefault()}changePageToLast(t){this.isLastPage()||this.changePage(this.getPageCount()-1),t.preventDefault()}onPageLinkClick(t,e){this.changePage(e),t.preventDefault()}onRppChange(t){this.changePage(this.getPage())}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",(this.getPage()+1).toString()).replace("{totalPages}",this.getPageCount().toString())}};return t.\u0275fac=function(e){return new(e||t)(fa(Ar))},t.\u0275cmp=me({type:t,selectors:[["p-paginator"]],inputs:{pageLinkSize:"pageLinkSize",alwaysShow:"alwaysShow",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",totalRecords:"totalRecords",rows:"rows",first:"first",style:"style",styleClass:"styleClass",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",showCurrentPageReport:"showCurrentPageReport",rowsPerPageOptions:"rowsPerPageOptions"},outputs:{onPageChange:"onPageChange"},features:[ws],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","ui-paginator-left-content",4,"ngIf"],["class","ui-paginator-current",4,"ngIf"],[1,"ui-paginator-first","ui-paginator-element","ui-state-default","ui-corner-all",3,"ngClass","tabindex","click","keydown.enter"],[1,"ui-paginator-icon","pi","pi-step-backward"],["tabindex","0",1,"ui-paginator-prev","ui-paginator-element","ui-state-default","ui-corner-all",3,"ngClass","tabindex","click","keydown.enter"],[1,"ui-paginator-icon","pi","pi-caret-left"],[1,"ui-paginator-pages"],["tabindex","0","class","ui-paginator-page ui-paginator-element ui-state-default ui-corner-all",3,"ngClass","click","keydown.enter",4,"ngFor","ngForOf"],[1,"ui-paginator-next","ui-paginator-element","ui-state-default","ui-corner-all",3,"ngClass","tabindex","click","keydown.enter"],[1,"ui-paginator-icon","pi","pi-caret-right"],[1,"ui-paginator-last","ui-paginator-element","ui-state-default","ui-corner-all",3,"ngClass","tabindex","click","keydown.enter"],[1,"ui-paginator-icon","pi","pi-step-forward"],[3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","ui-paginator-right-content",4,"ngIf"],[1,"ui-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ui-paginator-current"],["tabindex","0",1,"ui-paginator-page","ui-paginator-element","ui-state-default","ui-corner-all",3,"ngClass","click","keydown.enter"],[3,"options","ngModel","appendTo","scrollHeight","ngModelChange","onChange"],[1,"ui-paginator-right-content"]],template:function(t,e){1&t&&ha(0,yk,15,29,"div",0),2&t&&_a("ngIf",!!e.alwaysShow||e.pageLinks&&e.pageLinks.length>1)},directives:[Ll,Nl,Il,Rl,Vl,ak,Nw,DP],encapsulation:2}),t})(),vk=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,sk,zP,yw],sk,zP,yw]}),t})();const Ck=["container"],xk=["resizeHelper"],wk=["reorderIndicatorUp"],Pk=["reorderIndicatorDown"],Mk=["table"];function Ok(t,e){1&t&&Ca(0,"div",13)}function kk(t,e){if(1&t&&(ba(0,"div",14),Ca(1,"i"),va()),2&t){const t=Aa();oo(1),Ja("ui-table-loading-icon pi-spin "+t.loadingIcon)}}function Ek(t,e){1&t&&Pa(0)}function Sk(t,e){if(1&t&&(ba(0,"div",15),ha(1,Ek,1,0,"ng-container",16),va()),2&t){const t=Aa();oo(1),_a("ngTemplateOutlet",t.captionTemplate)}}function Tk(t,e){if(1&t){const t=Ma();ba(0,"p-paginator",17),Ea("onPageChange",(function(e){return Be(t),Aa().onPageChange(e)})),va()}if(2&t){const t=Aa();_a("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showCurrentPageReport",t.showCurrentPageReport)}}function Ak(t,e){1&t&&Pa(0)}function Ik(t,e){1&t&&Pa(0)}function Dk(t,e){1&t&&Pa(0)}const Rk=function(t){return{$implicit:t}};function Fk(t,e){if(1&t&&(ba(0,"tfoot",25),ha(1,Dk,1,0,"ng-container",21),va()),2&t){const t=Aa(2);oo(1),_a("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",Eu(2,Rk,t.columns))}}function Lk(t,e){if(1&t&&(ba(0,"div",18),ba(1,"table",19,20),ha(3,Ak,1,0,"ng-container",21),ba(4,"thead",22),ha(5,Ik,1,0,"ng-container",21),va(),Ca(6,"tbody",23),ha(7,Fk,2,4,"tfoot",24),va(),va()),2&t){const t=Aa();oo(1),_a("ngClass",t.tableStyleClass)("ngStyle",t.tableStyle),oo(2),_a("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",Eu(9,Rk,t.columns)),oo(2),_a("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",Eu(11,Rk,t.columns)),oo(1),_a("pTableBody",t.columns)("pTableBodyTemplate",t.bodyTemplate),oo(1),_a("ngIf",t.footerTemplate)}}const zk=function(t){return{width:t}};function Bk(t,e){if(1&t&&Ca(0,"div",29),2&t){const t=Aa(2);_a("pScrollableView",t.frozenColumns)("frozen",!0)("ngStyle",Eu(4,zk,t.frozenWidth))("scrollHeight",t.scrollHeight)}}const Nk=function(t,e){return{left:t,width:e}};function Vk(t,e){if(1&t&&(ba(0,"div",26),ha(1,Bk,1,6,"div",27),Ca(2,"div",28),va()),2&t){const t=Aa();oo(1),_a("ngIf",t.frozenColumns||t.frozenBodyTemplate),oo(1),_a("pScrollableView",t.columns)("frozen",!1)("scrollHeight",t.scrollHeight)("ngStyle",Su(5,Nk,t.frozenWidth,"calc(100% - "+t.frozenWidth+")"))}}function Uk(t,e){if(1&t){const t=Ma();ba(0,"p-paginator",30),Ea("onPageChange",(function(e){return Be(t),Aa().onPageChange(e)})),va()}if(2&t){const t=Aa();_a("rows",t.rows)("first",t.first)("totalRecords",t.totalRecords)("pageLinkSize",t.pageLinks)("alwaysShow",t.alwaysShowPaginator)("rowsPerPageOptions",t.rowsPerPageOptions)("templateLeft",t.paginatorLeftTemplate)("templateRight",t.paginatorRightTemplate)("dropdownAppendTo",t.paginatorDropdownAppendTo)("dropdownScrollHeight",t.paginatorDropdownScrollHeight)("currentPageReportTemplate",t.currentPageReportTemplate)("showCurrentPageReport",t.showCurrentPageReport)}}function qk(t,e){1&t&&Pa(0)}function jk(t,e){if(1&t&&(ba(0,"div",31),ha(1,qk,1,0,"ng-container",16),va()),2&t){const t=Aa();oo(1),_a("ngTemplateOutlet",t.summaryTemplate)}}function Gk(t,e){1&t&&Ca(0,"div",32,33)}function Hk(t,e){1&t&&Ca(0,"span",34,35)}function Zk(t,e){1&t&&Ca(0,"span",36,37)}const Wk=function(t,e,n,i,o){return{"ui-table ui-widget":!0,"ui-table-responsive":t,"ui-table-resizable":e,"ui-table-resizable-fit":n,"ui-table-hoverable-rows":i,"ui-table-auto-layout":o}},Kk=["pTableBody",""];function Xk(t,e){1&t&&Pa(0)}const $k=function(t,e,n,i){return{$implicit:t,rowIndex:e,columns:n,editing:i}};function Yk(t,e){if(1&t&&ha(0,Xk,1,0,"ng-container",2),2&t){const t=e.$implicit,n=e.index,i=Aa(2);_a("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Au(2,$k,t,i.dt.paginator?i.dt.first+n:n,i.columns,"row"===i.dt.editMode&&i.dt.isRowEditing(t)))}}function Qk(t,e){if(1&t&&(xa(0),ha(1,Yk,1,7,"ng-template",1),Lu(2,"slice"),wa()),2&t){const t=Aa();oo(1),_a("ngForOf",t.dt.paginator&&!t.dt.lazy?zu(2,2,t.dt.filteredValue||t.dt.value,t.dt.first,t.dt.first+t.dt.rows):t.dt.filteredValue||t.dt.value)("ngForTrackBy",t.dt.rowTrackBy)}}function Jk(t,e){1&t&&Pa(0)}function tE(t,e){1&t&&Pa(0)}const eE=function(t,e,n){return{$implicit:t,rowIndex:e,columns:n}};function nE(t,e){if(1&t&&(xa(0),ha(1,tE,1,0,"ng-container",2),wa()),2&t){const t=Aa(),e=t.$implicit,n=t.index,i=Aa(2);oo(1),_a("ngTemplateOutlet",i.dt.expandedRowTemplate)("ngTemplateOutletContext",Tu(2,eE,e,i.dt.paginator?i.dt.first+n:n,i.columns))}}const iE=function(t,e,n,i,o){return{$implicit:t,rowIndex:e,columns:n,expanded:i,editing:o}};function oE(t,e){if(1&t&&(ha(0,Jk,1,0,"ng-container",2),ha(1,nE,2,6,"ng-container",0)),2&t){const t=e.$implicit,n=e.index,i=Aa(2);_a("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Iu(3,iE,t,i.dt.paginator?i.dt.first+n:n,i.columns,i.dt.isRowExpanded(t),"row"===i.dt.editMode&&i.dt.isRowEditing(t))),oo(1),_a("ngIf",i.dt.isRowExpanded(t))}}function rE(t,e){if(1&t&&(xa(0),ha(1,oE,2,9,"ng-template",1),Lu(2,"slice"),wa()),2&t){const t=Aa();oo(1),_a("ngForOf",t.dt.paginator&&!t.dt.lazy?zu(2,2,t.dt.filteredValue||t.dt.value,t.dt.first,t.dt.first+t.dt.rows):t.dt.filteredValue||t.dt.value)("ngForTrackBy",t.dt.rowTrackBy)}}function aE(t,e){1&t&&Pa(0)}const sE=function(t,e){return{$implicit:t,frozen:e}};function uE(t,e){if(1&t&&(xa(0),ha(1,aE,1,0,"ng-container",2),wa()),2&t){const t=Aa();oo(1),_a("ngTemplateOutlet",t.dt.emptyMessageTemplate)("ngTemplateOutletContext",Su(2,sE,t.columns,t.frozen))}}const cE=["scrollHeader"],lE=["scrollHeaderBox"],dE=["scrollBody"],hE=["scrollTable"],pE=["loadingTable"],fE=["scrollFooter"],gE=["scrollFooterBox"],mE=["virtualScroller"],_E=["scrollableAligner"],yE=["pScrollableView",""];function bE(t,e){1&t&&Pa(0)}function vE(t,e){1&t&&Pa(0)}function CE(t,e){1&t&&Pa(0)}function xE(t,e){if(1&t&&ha(0,CE,1,0,"ng-container",5),2&t){const t=e.$implicit,n=e.index,i=Aa();_a("ngTemplateOutlet",i.dt.frozenRowsTemplate)("ngTemplateOutletContext",Tu(2,eE,t,n,i.columns))}}function wE(t,e){1&t&&Pa(0)}function PE(t,e){1&t&&Pa(0)}const ME=function(t){return{columns:t}};function OE(t,e){if(1&t&&ha(0,PE,1,0,"ng-container",5),2&t){const t=Aa(2);_a("ngTemplateOutlet",t.dt.loadingBodyTemplate)("ngTemplateOutletContext",Eu(2,ME,t.columns))}}const kE=function(t){return{"ui-table-scrollable-body-table ui-table-loading-virtual-table":!0,"ui-table-virtual-table":t}};function EE(t,e){if(1&t&&(ba(0,"table",23,24),ba(2,"tbody",7),ha(3,OE,1,4,"ng-template",25),va(),va()),2&t){const t=Aa();_a("ngClass",Eu(2,kE,t.dt.virtualScroll)),oo(3),_a("ngForOf",t.loadingArray)}}function SE(t,e){1&t&&Ca(0,"div",26,27)}function TE(t,e){1&t&&Ca(0,"div",28,29)}function AE(t,e){1&t&&Pa(0)}function IE(t,e){1&t&&Pa(0)}const DE=function(t){return{"ui-table-scrollable-body-table":!0,"ui-table-virtual-table":t}},RE=["box"],FE=function(t,e){return{"ui-chkbox-box ui-widget ui-state-default":!0,"ui-state-active":t,"ui-state-disabled":e}},LE=function(t){return{"pi pi-check":t}};let zE=(()=>{let t=class{constructor(){this.sortSource=new M,this.selectionSource=new M,this.contextMenuSource=new M,this.valueSource=new M,this.totalRecordsSource=new M,this.columnsSource=new M,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable()}onSort(t){this.sortSource.next(t)}onSelectionChange(){this.selectionSource.next()}onContextMenu(t){this.contextMenuSource.next(t)}onValueChange(t){this.valueSource.next(t)}onTotalRecordsChange(t){this.totalRecordsSource.next(t)}onColumnsChange(t){this.columnsSource.next(t)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),BE=(()=>{let t=class{constructor(t,e,n,i){this.el=t,this.zone=e,this.tableService=n,this.cd=i,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new Vu,this.contextMenuSelectionChange=new Vu,this.contextMenuSelectionMode="separate",this.rowTrackBy=(t,e)=>e,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.virtualScrollDelay=150,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.stateStorage="session",this.editMode="cell",this.onRowSelect=new Vu,this.onRowUnselect=new Vu,this.onPage=new Vu,this.onSort=new Vu,this.onFilter=new Vu,this.onLazyLoad=new Vu,this.onRowExpand=new Vu,this.onRowCollapse=new Vu,this.onContextMenuSelect=new Vu,this.onColResize=new Vu,this.onColReorder=new Vu,this.onRowReorder=new Vu,this.onEditInit=new Vu,this.onEditComplete=new Vu,this.onEditCancel=new Vu,this.onHeaderCheckboxToggle=new Vu,this.sortFunction=new Vu,this.firstChange=new Vu,this.rowsChange=new Vu,this.onStateSave=new Vu,this.onStateRestore=new Vu,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"caption":this.captionTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"body":this.bodyTemplate=t.template;break;case"loadingbody":this.loadingBodyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"summary":this.summaryTemplate=t.template;break;case"colgroup":this.colGroupTemplate=t.template;break;case"rowexpansion":this.expandedRowTemplate=t.template;break;case"frozenrows":this.frozenRowsTemplate=t.template;break;case"frozenheader":this.frozenHeaderTemplate=t.template;break;case"frozenbody":this.frozenBodyTemplate=t.template;break;case"frozenfooter":this.frozenFooterTemplate=t.template;break;case"frozencolgroup":this.frozenColGroupTemplate=t.template;break;case"emptymessage":this.emptyMessageTemplate=t.template;break;case"paginatorleft":this.paginatorLeftTemplate=t.template;break;case"paginatorright":this.paginatorRightTemplate=t.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(t){t.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=t.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.virtualScroll&&this.virtualScrollCallback&&this.virtualScrollCallback(),this.tableService.onValueChange(t.value.currentValue)),t.columns&&(this._columns=t.columns.currentValue,this.tableService.onColumnsChange(t.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),t.sortField&&(this._sortField=t.sortField.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.sortOrder&&(this._sortOrder=t.sortOrder.currentValue,this.lazy&&!this.initialized||"single"===this.sortMode&&this.sortSingle()),t.multiSortMeta&&(this._multiSortMeta=t.multiSortMeta.currentValue,"multiple"===this.sortMode&&this.sortMultiple()),t.selection&&(this._selection=t.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(t){this._value=t}get columns(){return this._columns}set columns(t){this._columns=t}get first(){return this._first}set first(t){this._first=t}get rows(){return this._rows}set rows(t){this._rows=t}get totalRecords(){return this._totalRecords}set totalRecords(t){this._totalRecords=t,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(t){this._sortField=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(t){this._multiSortMeta=t}get selection(){return this._selection}set selection(t){this._selection=t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let t of this._selection)this.selectionKeys[String(gO.resolveFieldData(t,this.dataKey))]=1;else this.selectionKeys[String(gO.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(t){this.first=t.first,this.rows=t.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sort(t){let e=t.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===t.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=t.field,this.sortSingle(),this.resetPageOnSort&&(this.first=0,this.firstChange.emit(this.first))),"multiple"===this.sortMode){let n=e.metaKey||e.ctrlKey,i=this.getSortMeta(t.field);i?n?i.order=-1*i.order:this._multiSortMeta=[{field:t.field,order:-1*i.order}]:(n&&this.multiSortMeta||(this._multiSortMeta=[]),this._multiSortMeta.push({field:t.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){if(this.sortField&&this.sortOrder){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):this.value.sort((t,e)=>{let n=gO.resolveFieldData(t,this.sortField),i=gO.resolveFieldData(e,this.sortField),o=null;return o=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,this.sortOrder*o}),this.hasFilter()&&this._filter());let t={field:this.sortField,order:this.sortOrder};this.onSort.emit(t),this.tableService.onSort(t)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):this.value.sort((t,e)=>this.multisortField(t,e,this.multiSortMeta,0)),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(t,e,n,i){let o=gO.resolveFieldData(t,n[i].field),r=gO.resolveFieldData(e,n[i].field),a=null;if(null==o&&null!=r)a=-1;else if(null!=o&&null==r)a=1;else if(null==o&&null==r)a=0;else if("string"==typeof o||o instanceof String){if(o.localeCompare&&o!=r)return n[i].order*o.localeCompare(r)}else a=o<r?-1:1;return o==r?n.length-1>i?this.multisortField(t,e,n,i+1):0:n[i].order*a}getSortMeta(t){if(this.multiSortMeta&&this.multiSortMeta.length)for(let e=0;e<this.multiSortMeta.length;e++)if(this.multiSortMeta[e].field===t)return this.multiSortMeta[e];return null}isSorted(t){if("single"===this.sortMode)return this.sortField&&this.sortField===t;if("multiple"===this.sortMode){let e=!1;if(this.multiSortMeta)for(let n=0;n<this.multiSortMeta.length;n++)if(this.multiSortMeta[n].field==t){e=!0;break}return e}}handleRowClick(t){let e=t.originalEvent.target,n=e.nodeName,i=e.parentElement&&e.parentElement.nodeName;if("INPUT"!=n&&"BUTTON"!=n&&"A"!=n&&"INPUT"!=i&&"BUTTON"!=i&&"A"!=i&&!Vx.hasClass(t.originalEvent.target,"ui-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&t.originalEvent.shiftKey&&null!=this.anchorRowIndex)Vx.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(t.originalEvent),this.rangeRowIndex=t.rowIndex,this.selectRange(t.originalEvent,t.rowIndex);else{let e=t.rowData,n=this.isSelected(e),i=!this.rowTouched&&this.metaKeySelection,o=this.dataKey?String(gO.resolveFieldData(e,this.dataKey)):null;if(this.anchorRowIndex=t.rowIndex,this.rangeRowIndex=t.rowIndex,i){let i=t.originalEvent.metaKey||t.originalEvent.ctrlKey;if(n&&i){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let t=this.findIndexInSelection(e);this._selection=this.selection.filter((e,n)=>n!=t),this.selectionChange.emit(this.selection),o&&delete this.selectionKeys[o]}this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row"})}else this.isSingleSelectionMode()?(this._selection=e,this.selectionChange.emit(e),o&&(this.selectionKeys={},this.selectionKeys[o]=1)):this.isMultipleSelectionMode()&&(i?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,e],this.selectionChange.emit(this.selection),o&&(this.selectionKeys[o]=1)),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex})}else if("single"===this.selectionMode)n?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row"})):(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),o&&(this.selectionKeys={},this.selectionKeys[o]=1));else if("multiple"===this.selectionMode)if(n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,data:e,type:"row"}),o&&delete this.selectionKeys[o]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,data:e,type:"row",index:t.rowIndex}),o&&(this.selectionKeys[o]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(t){this.rowTouched=!0}handleRowRightClick(t){if(this.contextMenu){const e=t.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=e,this.contextMenuSelectionChange.emit(e),this.onContextMenuSelect.emit({originalEvent:t.originalEvent,data:e,index:t.rowIndex}),this.contextMenu.show(t.originalEvent),this.tableService.onContextMenu(e);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let n=this.isSelected(e),i=this.dataKey?String(gO.resolveFieldData(e,this.dataKey)):null;n||(this.isSingleSelectionMode()?(this.selection=e,this.selectionChange.emit(e)):this.isMultipleSelectionMode()&&(this.selection=[e],this.selectionChange.emit(this.selection)),i&&(this.selectionKeys[i]=1)),this.contextMenu.show(t.originalEvent),this.onContextMenuSelect.emit({originalEvent:t,data:e,index:t.rowIndex})}}}selectRange(t,e){let n,i;this.anchorRowIndex>e?(n=e,i=this.anchorRowIndex):this.anchorRowIndex<e?(n=this.anchorRowIndex,i=e):(n=e,i=e),this.lazy&&this.paginator&&(n-=this.first,i-=this.first);for(let o=n;o<=i;o++){let e=this.filteredValue?this.filteredValue[o]:this.value[o];if(!this.isSelected(e)){this._selection=[...this.selection,e];let n=this.dataKey?String(gO.resolveFieldData(e,this.dataKey)):null;n&&(this.selectionKeys[n]=1),this.onRowSelect.emit({originalEvent:t,data:e,type:"row"})}}this.selectionChange.emit(this.selection)}clearSelectionRange(t){let e,n;this.rangeRowIndex>this.anchorRowIndex?(e=this.anchorRowIndex,n=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(e=this.rangeRowIndex,n=this.anchorRowIndex):(e=this.rangeRowIndex,n=this.rangeRowIndex);for(let i=e;i<=n;i++){let e=this.value[i],n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n);let o=this.dataKey?String(gO.resolveFieldData(e,this.dataKey)):null;o&&delete this.selectionKeys[o],this.onRowUnselect.emit({originalEvent:t,data:e,type:"row"})}}isSelected(t){return!(!t||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[gO.resolveFieldData(t,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(t)>-1:this.equals(t,this.selection))}findIndexInSelection(t){let e=-1;if(this.selection&&this.selection.length)for(let n=0;n<this.selection.length;n++)if(this.equals(t,this.selection[n])){e=n;break}return e}toggleRowWithRadio(t,e){this.preventSelectionSetterPropagation=!0,this.selection!=e?(this._selection=e,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(gO.resolveFieldData(e,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(t,e){this.selection=this.selection||[];let n=this.isSelected(e),i=this.dataKey?String(gO.resolveFieldData(e,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,n){let n=this.findIndexInSelection(e);this._selection=this.selection.filter((t,e)=>e!=n),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&delete this.selectionKeys[i]}else this._selection=this.selection?[...this.selection,e]:[e],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:t.originalEvent,index:t.rowIndex,data:e,type:"checkbox"}),i&&(this.selectionKeys[i]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(t,e){this._selection=e?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:t,checked:e}),this.isStateful()&&this.saveState()}equals(t,e){return"equals"===this.compareSelectionBy?t===e:gO.equals(t,e,this.dataKey)}filter(t,e,n){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(t)?this.filters[e]&&delete this.filters[e]:this.filters[e]={value:t,matchMode:n},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(t,e){this.filter(t,"global",e)}isFilterBlank(t){return null==t||"string"==typeof t&&0==t.trim().length||t instanceof Array&&0==t.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredValue=[];for(let e=0;e<this.value.length;e++){let n,i=!0,o=!1,r=!1;for(let t in this.filters)if(this.filters.hasOwnProperty(t)&&"global"!==t){r=!0;let n=this.filters[t],o=n.value,a=n.matchMode||"startsWith",s=gO.resolveFieldData(this.value[e],t);if((0,mO[a])(s,o)||(i=!1),!i)break}if(this.filters.global&&!o&&t)for(let a=0;a<t.length&&(o=mO[this.filters.global.matchMode](gO.resolveFieldData(this.value[e],t[a].field||t[a]),this.filters.global.value),!o);a++);n=this.filters.global?r?r&&i&&o:o:r&&i,n&&this.filteredValue.push(this.value[e])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.detectChanges()}hasFilter(){let t=!0;for(let e in this.filters)if(this.filters.hasOwnProperty(e)){t=!1;break}return!t}createLazyLoadMetadata(){return{first:this.first,rows:this.virtualScroll?2*this.rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}reset(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.filters={},this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}exportCSV(t){let e=this.filteredValue||this.value,n="";t&&t.selectionOnly&&(e=this.selection||[]);for(let o=0;o<this.columns.length;o++){let t=this.columns[o];!1!==t.exportable&&t.field&&(n+='"'+(t.header||t.field)+'"',o<this.columns.length-1&&(n+=this.csvSeparator))}e.forEach((t,e)=>{n+="\n";for(let i=0;i<this.columns.length;i++){let e=this.columns[i];if(!1!==e.exportable&&e.field){let o=gO.resolveFieldData(t,e.field);o=null!=o?this.exportFunction?this.exportFunction({data:o,field:e.field}):String(o).replace(/"/g,'""'):"",n+='"'+o+'"',i<this.columns.length-1&&(n+=this.csvSeparator)}}});let i=new Blob([n],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(i,this.exportFilename+".csv");else{let t=document.createElement("a");t.style.display="none",document.body.appendChild(t),void 0!==t.download?(t.setAttribute("href",URL.createObjectURL(i)),t.setAttribute("download",this.exportFilename+".csv"),t.click()):(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n))),document.body.removeChild(t)}}updateEditingCell(t,e,n){this.editingCell=t,this.editingCellData=e,this.editingCellField=n,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Vx.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=t=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(Vx.removeClass(this.editingCell,"ui-editing-cell"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:t}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(t){let e=String(gO.resolveFieldData(t,this.dataKey));this.editingRowKeys[e]=!0}saveRowEdit(t,e){if(0===Vx.find(e,".ng-invalid.ng-dirty").length){let e=String(gO.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}}cancelRowEdit(t){let e=String(gO.resolveFieldData(t,this.dataKey));delete this.editingRowKeys[e]}toggleRow(t,e){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let n=String(gO.resolveFieldData(t,this.dataKey));null!=this.expandedRowKeys[n]?(delete this.expandedRowKeys[n],this.onRowCollapse.emit({originalEvent:e,data:t})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[n]=!0,this.onRowExpand.emit({originalEvent:e,data:t})),e&&e.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(t){return!0===this.expandedRowKeys[String(gO.resolveFieldData(t,this.dataKey))]}isRowEditing(t){return!0===this.editingRowKeys[String(gO.resolveFieldData(t,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(t){let e=Vx.getOffset(this.containerViewChild.nativeElement).left;this.lastResizerHelperX=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft,t.preventDefault()}onColumnResize(t){let e=Vx.getOffset(this.containerViewChild.nativeElement).left;Vx.addClass(this.containerViewChild.nativeElement,"ui-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=t.pageX-e+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(t,e){let n=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,i=e.offsetWidth,o=parseInt(e.style.minWidth||15);i+n<o&&(n=o-i);const r=i+n;if(r>=o){if("fit"===this.columnResizeMode){let t=e.nextElementSibling;for(;!t.offsetParent;)t=t.nextElementSibling;if(t){let i=t.offsetWidth-n,o=t.style.minWidth||15;if(r>15&&i>parseInt(o))if(this.scrollable){let t=this.findParentScrollableView(e),n=Vx.findSingle(t,"table.ui-table-scrollable-body-table"),o=Vx.findSingle(t,"table.ui-table-scrollable-header-table"),a=Vx.findSingle(t,"table.ui-table-scrollable-footer-table"),s=Vx.index(e);this.resizeColGroup(o,s,r,i),this.resizeColGroup(n,s,r,i),this.resizeColGroup(a,s,r,i)}else e.style.width=r+"px",t&&(t.style.width=i+"px")}}else"expand"===this.columnResizeMode&&r>o&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(e,r,n):(this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.offsetWidth+n+"px",e.style.width=r+"px",this.containerViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.style.width+"px"));this.onColResize.emit({element:e,delta:n}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Vx.removeClass(this.containerViewChild.nativeElement,"ui-unselectable-text")}setScrollableItemsWidthOnExpandResize(t,e,n){let i=t?this.findParentScrollableView(t):this.containerViewChild.nativeElement,o=Vx.findSingle(i,".ui-table-scrollable-body"),r=Vx.findSingle(i,".ui-table-scrollable-header"),a=Vx.findSingle(i,".ui-table-scrollable-footer"),s=Vx.findSingle(o,"table.ui-table-scrollable-body-table"),u=Vx.findSingle(r,"table.ui-table-scrollable-header-table"),c=Vx.findSingle(a,"table.ui-table-scrollable-footer-table");const l=t?s.offsetWidth+n:e,d=t?u.offsetWidth+n:e,h=this.containerViewChild.nativeElement.offsetWidth>=l;let p=(t,e,n,i)=>{t&&e&&(t.style.width=i?n+Vx.calculateScrollbarWidth(o)+"px":"auto",e.style.width=n+"px")};if(p(o,s,l,h),p(r,u,d,h),p(a,c,d,h),t){let n=Vx.index(t);this.resizeColGroup(u,n,e,null),this.resizeColGroup(s,n,e,null),this.resizeColGroup(c,n,e,null)}}findParentScrollableView(t){if(t){let e=t.parentElement;for(;e&&!Vx.hasClass(e,"ui-table-scrollable-view");)e=e.parentElement;return e}return null}resizeColGroup(t,e,n,i){if(t){let o="COLGROUP"===t.children[0].nodeName?t.children[0]:null;if(!o)throw"Scrollable tables require a colgroup to support resizable columns";{let t=o.children[e],r=t.nextElementSibling;t.style.width=n+"px",r&&i&&(r.style.width=i+"px")}}}onColumnDragStart(t,e){this.reorderIconWidth=Vx.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Vx.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=e,t.dataTransfer.setData("text","b")}onColumnDragEnter(t,e){if(this.reorderableColumns&&this.draggedColumn&&e){t.preventDefault();let n=Vx.getOffset(this.containerViewChild.nativeElement),i=Vx.getOffset(e);if(this.draggedColumn!=e){let o=Vx.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),r=Vx.indexWithinGroup(e,"preorderablecolumn"),a=i.left-n.left,s=i.left+e.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=i.top-n.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=i.top-n.top+e.offsetHeight+"px",t.pageX>s?(this.reorderIndicatorUpViewChild.nativeElement.style.left=a+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=a+e.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=a-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=a-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),r-o==1&&-1===this.dropPosition||r-o==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else t.dataTransfer.dropEffect="none"}}onColumnDragLeave(t){this.reorderableColumns&&this.draggedColumn&&(t.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(t,e){if(t.preventDefault(),this.draggedColumn){let t=Vx.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),n=Vx.indexWithinGroup(e,"preorderablecolumn"),i=t!=n;i&&(n-t==1&&-1===this.dropPosition||t-n==1&&1===this.dropPosition)&&(i=!1),i&&n<t&&1===this.dropPosition&&(n+=1),i&&n>t&&-1===this.dropPosition&&(n-=1),i&&(gO.reorderArray(this.columns,t,n),this.onColReorder.emit({dragIndex:t,dropIndex:n,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(t,e){this.rowDragging=!0,this.draggedRowIndex=e,t.dataTransfer.setData("text","b")}onRowDragOver(t,e,n){if(this.rowDragging&&this.draggedRowIndex!==e){let i=Vx.getOffset(n).top+Vx.getWindowScrollTop(),o=t.pageY,r=i+Vx.getOuterHeight(n)/2,a=n.previousElementSibling;o<r?(Vx.removeClass(n,"ui-table-dragpoint-bottom"),this.droppedRowIndex=e,a?Vx.addClass(a,"ui-table-dragpoint-bottom"):Vx.addClass(n,"ui-table-dragpoint-top")):(a?Vx.removeClass(a,"ui-table-dragpoint-bottom"):Vx.addClass(n,"ui-table-dragpoint-top"),this.droppedRowIndex=e+1,Vx.addClass(n,"ui-table-dragpoint-bottom"))}}onRowDragLeave(t,e){let n=e.previousElementSibling;n&&Vx.removeClass(n,"ui-table-dragpoint-bottom"),Vx.removeClass(e,"ui-table-dragpoint-bottom"),Vx.removeClass(e,"ui-table-dragpoint-top")}onRowDragEnd(t){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(t,e){if(null!=this.droppedRowIndex){let t=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;gO.reorderArray(this.value,this.draggedRowIndex,t),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:t})}this.onRowDragLeave(t,e),this.onRowDragEnd(t)}handleVirtualScroll(t){this.first=(t.page-1)*this.rows,this.firstChange.emit(this.first),this.virtualScrollCallback=t.callback,this.zone.run(()=>{this.virtualScrollTimer&&clearTimeout(this.virtualScrollTimer),this.virtualScrollTimer=setTimeout(()=>{this.onLazyLoad.emit(this.createLazyLoadMetadata())},this.virtualScrollDelay)})}isEmpty(){let t=this.filteredValue||this.value;return null==t||0==t.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const t=this.getStorage();let e={};this.paginator&&(e.first=this.first,e.rows=this.rows),this.sortField&&(e.sortField=this.sortField,e.sortOrder=this.sortOrder),this.multiSortMeta&&(e.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(e.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(e),this.reorderableColumns&&this.saveColumnOrder(e),this.selection&&(e.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(e.expandedRowKeys=this.expandedRowKeys),Object.keys(e).length&&t.setItem(this.stateKey,JSON.stringify(e)),this.onStateSave.emit(e)}clearState(){const t=this.getStorage();this.stateKey&&t.removeItem(this.stateKey)}restoreState(){const t=this.getStorage().getItem(this.stateKey);if(t){let e=JSON.parse(t);this.paginator&&(this.first=e.first,this.rows=e.rows,this.firstChange.emit(this.first),this.rowsChange.emit(this.rows)),e.sortField&&(this.restoringSort=!0,this._sortField=e.sortField,this._sortOrder=e.sortOrder),e.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=e.multiSortMeta),e.filters&&(this.restoringFilter=!0,this.filters=e.filters),this.resizableColumns&&(this.columnWidthsState=e.columnWidths,this.tableWidthState=e.tableWidth),e.expandedRowKeys&&(this.expandedRowKeys=e.expandedRowKeys),e.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(e.selection)),this.stateRestored=!0,this.onStateRestore.emit(e)}}saveColumnWidths(t){let e=[];Vx.find(this.containerViewChild.nativeElement,".ui-table-thead > tr:first-child > th").map(t=>e.push(Vx.getOuterWidth(t))),t.columnWidths=e.join(","),"expand"===this.columnResizeMode&&(t.tableWidth=this.scrollable?Vx.findSingle(this.containerViewChild.nativeElement,".ui-table-scrollable-header-table").style.width:Vx.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let t=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.scrollable?this.setScrollableItemsWidthOnExpandResize(null,this.tableWidthState,0):(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState)),this.scrollable){let e=Vx.find(this.containerViewChild.nativeElement,".ui-table-scrollable-header-table > colgroup > col"),n=Vx.find(this.containerViewChild.nativeElement,".ui-table-scrollable-body-table > colgroup > col");e.map((e,n)=>e.style.width=t[n]+"px"),n.map((e,n)=>e.style.width=t[n]+"px")}else Vx.find(this.tableViewChild.nativeElement,".ui-table-thead > tr:first-child > th").map((e,n)=>e.style.width=t[n]+"px")}}saveColumnOrder(t){if(this.columns){let e=[];this.columns.map(t=>{e.push(t.field||t.key)}),t.columnOrder=e}}restoreColumnOrder(){const t=this.getStorage().getItem(this.stateKey);if(t){let e=JSON.parse(t).columnOrder;if(e){let t=[];e.map(e=>t.push(this.findColumnByKey(e))),this.columnOrderStateRestored=!0,this.columns=t}}}findColumnByKey(t){if(!this.columns)return null;for(let e of this.columns)if(e.key===t||e.field===t)return e}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null}};return t.\u0275fac=function(e){return new(e||t)(fa(zs),fa(Ic),fa(zE),fa(Ar))},t.\u0275cmp=me({type:t,selectors:[["p-table"]],contentQueries:function(t,e,n){var i;1&t&&ec(n,_w,!1),2&t&&Yu(i=oc())&&(e.templates=i)},viewQuery:function(t,e){var n;1&t&&(Ju(Ck,!0),Ju(xk,!0),Ju(wk,!0),Ju(Pk,!0),Ju(Mk,!0)),2&t&&(Yu(n=oc())&&(e.containerViewChild=n.first),Yu(n=oc())&&(e.resizeHelperViewChild=n.first),Yu(n=oc())&&(e.reorderIndicatorUpViewChild=n.first),Yu(n=oc())&&(e.reorderIndicatorDownViewChild=n.first),Yu(n=oc())&&(e.tableViewChild=n.first))},inputs:{pageLinks:"pageLinks",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",contextMenuSelectionMode:"contextMenuSelectionMode",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",filterDelay:"filterDelay",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",columnResizeMode:"columnResizeMode",loadingIcon:"loadingIcon",showLoader:"showLoader",stateStorage:"stateStorage",editMode:"editMode",totalRecords:"totalRecords",value:"value",columns:"columns",first:"first",rows:"rows",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",contextMenuSelection:"contextMenuSelection",frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",rowsPerPageOptions:"rowsPerPageOptions",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",showCurrentPageReport:"showCurrentPageReport",selectionMode:"selectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",globalFilterFields:"globalFilterFields",scrollable:"scrollable",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",reorderableColumns:"reorderableColumns",loading:"loading",rowHover:"rowHover",customSort:"customSort",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Ds([zE]),ws],decls:13,vars:21,consts:[[3,"ngStyle","ngClass"],["container",""],["class","ui-table-loading ui-widget-overlay",4,"ngIf"],["class","ui-table-loading-content",4,"ngIf"],["class","ui-table-caption ui-widget-header",4,"ngIf"],["styleClass","ui-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showCurrentPageReport","onPageChange",4,"ngIf"],["class","ui-table-wrapper",4,"ngIf"],["class","ui-table-scrollable-wrapper",4,"ngIf"],["styleClass","ui-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showCurrentPageReport","onPageChange",4,"ngIf"],["class","ui-table-summary ui-widget-header",4,"ngIf"],["class","ui-column-resizer-helper ui-state-highlight","style","display:none",4,"ngIf"],["class","pi pi-arrow-down ui-table-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up ui-table-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"ui-table-loading","ui-widget-overlay"],[1,"ui-table-loading-content"],[1,"ui-table-caption","ui-widget-header"],[4,"ngTemplateOutlet"],["styleClass","ui-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showCurrentPageReport","onPageChange"],[1,"ui-table-wrapper"],["role","grid",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ui-table-thead"],[1,"ui-table-tbody",3,"pTableBody","pTableBodyTemplate"],["class","ui-table-tfoot",4,"ngIf"],[1,"ui-table-tfoot"],[1,"ui-table-scrollable-wrapper"],["class","ui-table-scrollable-view ui-table-frozen-view",3,"pScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"ui-table-scrollable-view",3,"pScrollableView","frozen","scrollHeight","ngStyle"],[1,"ui-table-scrollable-view","ui-table-frozen-view",3,"pScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","ui-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showCurrentPageReport","onPageChange"],[1,"ui-table-summary","ui-widget-header"],[1,"ui-column-resizer-helper","ui-state-highlight",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","ui-table-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","ui-table-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(t,e){1&t&&(ba(0,"div",0,1),ha(2,Ok,1,0,"div",2),ha(3,kk,2,2,"div",3),ha(4,Sk,2,1,"div",4),ha(5,Tk,1,12,"p-paginator",5),ha(6,Lk,8,13,"div",6),ha(7,Vk,3,8,"div",7),ha(8,Uk,1,12,"p-paginator",8),ha(9,jk,2,1,"div",9),ha(10,Gk,2,0,"div",10),ha(11,Hk,2,0,"span",11),ha(12,Zk,2,0,"span",12),va()),2&t&&(Ja(e.styleClass),_a("ngStyle",e.style)("ngClass",Iu(15,Wk,e.responsive,e.resizableColumns,e.resizableColumns&&"fit"===e.columnResizeMode,e.rowHover||e.selectionMode,e.autoLayout)),oo(2),_a("ngIf",e.loading&&e.showLoader),oo(1),_a("ngIf",e.loading&&e.showLoader),oo(1),_a("ngIf",e.captionTemplate),oo(1),_a("ngIf",e.paginator&&("top"===e.paginatorPosition||"both"==e.paginatorPosition)),oo(1),_a("ngIf",!e.scrollable),oo(1),_a("ngIf",e.scrollable),oo(1),_a("ngIf",e.paginator&&("bottom"===e.paginatorPosition||"both"==e.paginatorPosition)),oo(1),_a("ngIf",e.summaryTemplate),oo(1),_a("ngIf",e.resizableColumns),oo(1),_a("ngIf",e.reorderableColumns),oo(1),_a("ngIf",e.reorderableColumns))},directives:function(){return[Nl,Il,Ll,Vl,bk,NE,VE]},encapsulation:2}),t})(),NE=(()=>{let t=class{constructor(t){this.dt=t}};return t.\u0275fac=function(e){return new(e||t)(fa(BE))},t.\u0275cmp=me({type:t,selectors:[["","pTableBody",""]],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],frozen:"frozen"},attrs:Kk,decls:3,vars:3,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(ha(0,Qk,3,6,"ng-container",0),ha(1,rE,3,6,"ng-container",0),ha(2,uE,2,5,"ng-container",0)),2&t&&(_a("ngIf",!e.dt.expandedRowTemplate),oo(1),_a("ngIf",e.dt.expandedRowTemplate),oo(1),_a("ngIf",e.dt.isEmpty()))},directives:[Ll,Rl,Vl],pipes:[Gl],encapsulation:2}),t})(),VE=(()=>{let t=class{constructor(t,e,n){this.dt=t,this.el=e,this.zone=n,this.loadingArray=[],this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignScrollBar(),this.scrollLoadingTableViewChild&&this.scrollLoadingTableViewChild.nativeElement&&(this.scrollLoadingTableViewChild.nativeElement.style.display="none")},50)})}),this.dt.virtualScroll&&(this.totalRecordsSubscription=this.dt.tableService.totalRecordsSource$.subscribe(()=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.setVirtualScrollerHeight()},50)})})),this.loadingArray=Array(this.dt.rows).fill(1),this.initialized=!1}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t,this.setScrollHeight()}ngAfterViewChecked(){!this.initialized&&this.el.nativeElement.offsetParent&&(this.alignScrollBar(),this.setScrollHeight(),this.initialized=!0)}ngAfterViewInit(){if(this.frozen){this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=Vx.calculateScrollbarHeight()+"px");let t=this.el.nativeElement.nextElementSibling;t&&(this.scrollableSiblingBody=Vx.findSingle(t,".ui-table-scrollable-body"))}else{(this.dt.frozenColumns||this.dt.frozenBodyTemplate)&&Vx.addClass(this.el.nativeElement,"ui-table-unfrozen-view");let t=this.el.nativeElement.previousElementSibling;t&&(this.frozenSiblingBody=Vx.findSingle(t,".ui-table-scrollable-body"))}this.bindEvents(),this.setScrollHeight(),this.alignScrollBar(),this.frozen&&(this.columnsSubscription=this.dt.tableService.columnsSource$.subscribe(()=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.setScrollHeight()},50)})})),this.dt.virtualScroll&&(this.setVirtualScrollerHeight(),this.scrollLoadingTableViewChild&&this.scrollLoadingTableViewChild.nativeElement&&(this.scrollLoadingTableViewChild.nativeElement.style.display="table"))}bindEvents(){this.zone.runOutsideAngular(()=>{Vx.calculateScrollbarWidth(),this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.onHeaderScroll.bind(this),this.scrollHeaderViewChild.nativeElement.addEventListener("scroll",this.headerScrollListener)),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.onFooterScroll.bind(this),this.scrollFooterViewChild.nativeElement.addEventListener("scroll",this.footerScrollListener)),this.frozen||(this.bodyScrollListener=this.onBodyScroll.bind(this),this.scrollBodyViewChild.nativeElement.addEventListener("scroll",this.bodyScrollListener))})}unbindEvents(){this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.scrollHeaderViewChild.nativeElement.removeEventListener("scroll",this.headerScrollListener),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.scrollFooterViewChild.nativeElement.removeEventListener("scroll",this.footerScrollListener),this.scrollBodyViewChild.nativeElement.removeEventListener("scroll",this.bodyScrollListener)}onHeaderScroll(t){const e=this.scrollHeaderViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(t){const e=this.scrollFooterViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(t){if(this.preventBodyScrollPropagation)this.preventBodyScrollPropagation=!1;else if(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*this.scrollBodyViewChild.nativeElement.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*this.scrollBodyViewChild.nativeElement.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=this.scrollBodyViewChild.nativeElement.scrollTop),this.dt.virtualScroll){let t=Vx.getOuterHeight(this.scrollBodyViewChild.nativeElement),e=Vx.getOuterHeight(this.scrollTableViewChild.nativeElement),n=this.dt.virtualRowHeight*this.dt.rows,i=Vx.getOuterHeight(this.virtualScrollerViewChild.nativeElement)/n||1,o=this.scrollTableViewChild.nativeElement.style.top||"0";if(this.scrollBodyViewChild.nativeElement.scrollTop+t>parseFloat(o)+e||this.scrollBodyViewChild.nativeElement.scrollTop<parseFloat(o)){this.scrollLoadingTableViewChild&&this.scrollLoadingTableViewChild.nativeElement&&(this.scrollLoadingTableViewChild.nativeElement.style.display="table",this.scrollLoadingTableViewChild.nativeElement.style.top=this.scrollBodyViewChild.nativeElement.scrollTop+"px");let t=Math.floor(this.scrollBodyViewChild.nativeElement.scrollTop*i/this.scrollBodyViewChild.nativeElement.scrollHeight)+1;this.dt.handleVirtualScroll({page:t,callback:()=>{this.scrollLoadingTableViewChild&&this.scrollLoadingTableViewChild.nativeElement&&(this.scrollLoadingTableViewChild.nativeElement.style.display="none"),this.scrollTableViewChild.nativeElement.style.top=(t-1)*n+"px",this.frozenSiblingBody&&(this.frozenSiblingBody.children[0].style.top=this.scrollTableViewChild.nativeElement.style.top),this.dt.anchorRowIndex=null}})}}}setScrollHeight(){if(this.scrollHeight&&this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement)if(-1!==this.scrollHeight.indexOf("%")){let t;this.scrollBodyViewChild.nativeElement.style.visibility="hidden",this.scrollBodyViewChild.nativeElement.style.height="100px";let e=Vx.getOuterHeight(this.dt.el.nativeElement.children[0]);if(this.scrollHeight.includes("calc")){let e=parseInt(this.scrollHeight.slice(this.scrollHeight.indexOf("(")+1,this.scrollHeight.indexOf("%"))),n=parseInt(this.scrollHeight.slice(this.scrollHeight.indexOf("-")+1,this.scrollHeight.indexOf(")")));t=Vx.getOuterHeight(this.dt.el.nativeElement.parentElement)*e/100-n}else t=Vx.getOuterHeight(this.dt.el.nativeElement.parentElement)*parseInt(this.scrollHeight)/100;let n=t-(e-100);this.frozen&&(n-=Vx.calculateScrollbarWidth()),this.scrollBodyViewChild.nativeElement.style.height="auto",this.scrollBodyViewChild.nativeElement.style.maxHeight=n+"px",this.scrollBodyViewChild.nativeElement.style.visibility="visible"}else this.scrollBodyViewChild.nativeElement.style.maxHeight=this.scrollHeight}setVirtualScrollerHeight(){this.virtualScrollerViewChild.nativeElement&&(this.virtualScrollerViewChild.nativeElement.style.height=this.dt.totalRecords*this.dt.virtualRowHeight+"px")}hasVerticalOverflow(){return Vx.getOuterHeight(this.scrollTableViewChild.nativeElement)>Vx.getOuterHeight(this.scrollBodyViewChild.nativeElement)}alignScrollBar(){if(!this.frozen){let t=this.hasVerticalOverflow()?Vx.calculateScrollbarWidth():0;this.scrollHeaderBoxViewChild.nativeElement.style.marginRight=t+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginRight=t+"px")}this.initialized=!1}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null,this.subscription&&this.subscription.unsubscribe(),this.totalRecordsSubscription&&this.totalRecordsSubscription.unsubscribe(),this.columnsSubscription&&this.columnsSubscription.unsubscribe(),this.initialized=!1}};return t.\u0275fac=function(e){return new(e||t)(fa(BE),fa(zs),fa(Ic))},t.\u0275cmp=me({type:t,selectors:[["","pScrollableView",""]],viewQuery:function(t,e){var n;1&t&&(Qu(cE,!0),Qu(lE,!0),Qu(dE,!0),Qu(hE,!0),Ju(pE,!0),Qu(fE,!0),Qu(gE,!0),Ju(mE,!0),Ju(_E,!0)),2&t&&(Yu(n=oc())&&(e.scrollHeaderViewChild=n.first),Yu(n=oc())&&(e.scrollHeaderBoxViewChild=n.first),Yu(n=oc())&&(e.scrollBodyViewChild=n.first),Yu(n=oc())&&(e.scrollTableViewChild=n.first),Yu(n=oc())&&(e.scrollLoadingTableViewChild=n.first),Yu(n=oc())&&(e.scrollFooterViewChild=n.first),Yu(n=oc())&&(e.scrollFooterBoxViewChild=n.first),Yu(n=oc())&&(e.virtualScrollerViewChild=n.first),Yu(n=oc())&&(e.scrollableAlignerViewChild=n.first))},inputs:{scrollHeight:"scrollHeight",columns:["pScrollableView","columns"],frozen:"frozen"},attrs:yE,decls:27,vars:38,consts:[[1,"ui-table-scrollable-header","ui-widget-header"],["scrollHeader",""],[1,"ui-table-scrollable-header-box"],["scrollHeaderBox",""],[1,"ui-table-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ui-table-thead"],[1,"ui-table-tbody"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"ui-table-scrollable-body"],["scrollBody",""],[3,"ngClass","ngStyle"],["scrollTable",""],[1,"ui-table-tbody",3,"pTableBody","pTableBodyTemplate","frozen"],[3,"ngClass",4,"ngIf"],["style","background-color:transparent",4,"ngIf"],["class","ui-table-virtual-scroller",4,"ngIf"],[1,"ui-table-scrollable-footer","ui-widget-header"],["scrollFooter",""],[1,"ui-table-scrollable-footer-box"],["scrollFooterBox",""],[1,"ui-table-scrollable-footer-table",3,"ngClass","ngStyle"],[1,"ui-table-tfoot"],[3,"ngClass"],["loadingTable",""],["ngFor","",3,"ngForOf"],[2,"background-color","transparent"],["scrollableAligner",""],[1,"ui-table-virtual-scroller"],["virtualScroller",""]],template:function(t,e){1&t&&(ba(0,"div",0,1),ba(2,"div",2,3),ba(4,"table",4),ha(5,bE,1,0,"ng-container",5),ba(6,"thead",6),ha(7,vE,1,0,"ng-container",5),va(),ba(8,"tbody",7),ha(9,xE,1,6,"ng-template",8),va(),va(),va(),va(),ba(10,"div",9,10),ba(12,"table",11,12),ha(14,wE,1,0,"ng-container",5),Ca(15,"tbody",13),va(),ha(16,EE,4,4,"table",14),ha(17,SE,2,0,"div",15),ha(18,TE,2,0,"div",16),va(),ba(19,"div",17,18),ba(21,"div",19,20),ba(23,"table",21),ha(24,AE,1,0,"ng-container",5),ba(25,"tfoot",22),ha(26,IE,1,0,"ng-container",5),va(),va(),va(),va()),2&t&&(oo(4),_a("ngClass",e.dt.tableStyleClass)("ngStyle",e.dt.tableStyle),oo(1),_a("ngTemplateOutlet",e.frozen&&e.dt.frozenColGroupTemplate||e.dt.colGroupTemplate)("ngTemplateOutletContext",Eu(26,Rk,e.columns)),oo(2),_a("ngTemplateOutlet",e.frozen&&e.dt.frozenHeaderTemplate||e.dt.headerTemplate)("ngTemplateOutletContext",Eu(28,Rk,e.columns)),oo(2),_a("ngForOf",e.dt.frozenValue)("ngForTrackBy",e.dt.rowTrackBy),oo(3),Ja(e.dt.tableStyleClass),_a("ngClass",Eu(30,DE,e.dt.virtualScroll))("ngStyle",e.dt.tableStyle),oo(2),_a("ngTemplateOutlet",e.frozen&&e.dt.frozenColGroupTemplate||e.dt.colGroupTemplate)("ngTemplateOutletContext",Eu(32,Rk,e.columns)),oo(1),_a("pTableBody",e.columns)("pTableBodyTemplate",e.frozen&&e.dt.frozenBodyTemplate||e.dt.bodyTemplate)("frozen",e.frozen),oo(1),_a("ngIf",e.dt.virtualScroll&&null!=e.dt.loadingBodyTemplate),oo(1),_a("ngIf",e.frozen),oo(1),_a("ngIf",e.dt.virtualScroll),oo(5),_a("ngClass",e.dt.tableStyleClass)("ngStyle",e.dt.tableStyle),oo(1),_a("ngTemplateOutlet",e.frozen&&e.dt.frozenColGroupTemplate||e.dt.colGroupTemplate)("ngTemplateOutletContext",Eu(34,Rk,e.columns)),oo(2),_a("ngTemplateOutlet",e.frozen&&e.dt.frozenFooterTemplate||e.dt.footerTemplate)("ngTemplateOutletContext",Eu(36,Rk,e.columns)))},directives:[Il,Nl,Vl,Rl,NE,Ll],encapsulation:2}),t})(),UE=(()=>{let t=class{constructor(t,e){this.dt=t,this.tableService=e,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(t){this.isEnabled()&&this.dt.handleRowClick({originalEvent:t,rowData:this.data,rowIndex:this.index})}onTouchEnd(t){this.isEnabled()&&this.dt.handleRowTouchEnd(t)}onKeyDown(t){if(this.isEnabled()){const e=t.target;switch(t.which){case 40:let n=this.findNextSelectableRow(e);n&&n.focus(),t.preventDefault();break;case 38:let i=this.findPrevSelectableRow(e);i&&i.focus(),t.preventDefault();break;case 13:this.dt.handleRowClick({originalEvent:t,rowData:this.data,rowIndex:this.index})}}}findNextSelectableRow(t){let e=t.nextElementSibling;return e?Vx.hasClass(e,"ui-selectable-row")?e:this.findNextSelectableRow(e):null}findPrevSelectableRow(t){let e=t.previousElementSibling;return e?Vx.hasClass(e,"ui-selectable-row")?e:this.findPrevSelectableRow(e):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(fa(BE),fa(zE))},t.\u0275dir=xe({type:t,selectors:[["","pSelectableRow",""]],hostVars:5,hostBindings:function(t,e){1&t&&Ea("click",(function(t){return e.onClick(t)}))("touchend",(function(t){return e.onTouchEnd(t)}))("keydown",(function(t){return e.onKeyDown(t)})),2&t&&(la("tabindex",e.isEnabled()?0:void 0),Ya("ui-selectable-row",e.isEnabled())("ui-state-highlight",e.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),t})(),qE=(()=>{let t=class{constructor(t,e){this.dt=t,this.tableService=e,this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.checked=this.dt.isSelected(this.value)})}ngOnInit(){this.checked=this.dt.isSelected(this.value)}onClick(t){this.disabled||this.dt.toggleRowWithCheckbox({originalEvent:t,rowIndex:this.index},this.value),Vx.clearSelection()}onFocus(){Vx.addClass(this.boxViewChild.nativeElement,"ui-state-focus")}onBlur(){Vx.removeClass(this.boxViewChild.nativeElement,"ui-state-focus")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(fa(BE),fa(zE))},t.\u0275cmp=me({type:t,selectors:[["p-tableCheckbox"]],viewQuery:function(t,e){var n;1&t&&Qu(RE,!0),2&t&&Yu(n=oc())&&(e.boxViewChild=n.first)},inputs:{disabled:"disabled",value:"value",index:"index"},decls:6,vars:10,consts:[[1,"ui-chkbox","ui-widget",3,"click"],[1,"ui-helper-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[1,"ui-chkbox-icon","ui-clickable",3,"ngClass"]],template:function(t,e){1&t&&(ba(0,"div",0),Ea("click",(function(t){return e.onClick(t)})),ba(1,"div",1),ba(2,"input",2),Ea("focus",(function(){return e.onFocus()}))("blur",(function(){return e.onBlur()})),va(),va(),ba(3,"div",3,4),Ca(5,"span",5),va(),va()),2&t&&(oo(2),_a("checked",e.checked)("disabled",e.disabled),oo(1),_a("ngClass",Su(5,FE,e.checked,e.disabled)),la("aria-checked",e.checked),oo(2),_a("ngClass",Eu(8,LE,e.checked)))},directives:[Il],encapsulation:2}),t})(),jE=(()=>{let t=class{constructor(t){this.el=t}ngAfterViewInit(){Vx.addClass(this.el.nativeElement,"ui-table-reorderablerow-handle")}};return t.\u0275fac=function(e){return new(e||t)(fa(zs))},t.\u0275dir=xe({type:t,selectors:[["","pReorderableRowHandle",""]],inputs:{index:["pReorderableRowHandle","index"]}}),t})(),GE=(()=>{let t=class{constructor(t,e,n){this.dt=t,this.el=e,this.zone=n}ngAfterViewInit(){this.isEnabled()&&(this.el.nativeElement.droppable=!0,this.bindEvents())}bindEvents(){this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.dragStartListener=this.onDragStart.bind(this),this.el.nativeElement.addEventListener("dragstart",this.dragStartListener),this.dragEndListener=this.onDragEnd.bind(this),this.el.nativeElement.addEventListener("dragend",this.dragEndListener),this.dragOverListener=this.onDragOver.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener),this.dragLeaveListener=this.onDragLeave.bind(this),this.el.nativeElement.addEventListener("dragleave",this.dragLeaveListener)})}unbindEvents(){this.mouseDownListener&&(document.removeEventListener("mousedown",this.mouseDownListener),this.mouseDownListener=null),this.dragStartListener&&(document.removeEventListener("dragstart",this.dragStartListener),this.dragStartListener=null),this.dragEndListener&&(document.removeEventListener("dragend",this.dragEndListener),this.dragEndListener=null),this.dragOverListener&&(document.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null),this.dragLeaveListener&&(document.removeEventListener("dragleave",this.dragLeaveListener),this.dragLeaveListener=null)}onMouseDown(t){this.el.nativeElement.draggable=!!Vx.hasClass(t.target,"ui-table-reorderablerow-handle")}onDragStart(t){this.dt.onRowDragStart(t,this.index)}onDragEnd(t){this.dt.onRowDragEnd(t),this.el.nativeElement.draggable=!1}onDragOver(t){this.dt.onRowDragOver(t,this.index,this.el.nativeElement),t.preventDefault()}onDragLeave(t){this.dt.onRowDragLeave(t,this.el.nativeElement)}isEnabled(){return!0!==this.pReorderableRowDisabled}onDrop(t){this.isEnabled()&&this.dt.rowDragging&&this.dt.onRowDrop(t,this.el.nativeElement),t.preventDefault()}};return t.\u0275fac=function(e){return new(e||t)(fa(BE),fa(zs),fa(Ic))},t.\u0275dir=xe({type:t,selectors:[["","pReorderableRow",""]],hostBindings:function(t,e){1&t&&Ea("drop",(function(t){return e.onDrop(t)}))},inputs:{index:["pReorderableRow","index"],pReorderableRowDisabled:"pReorderableRowDisabled"}}),t})(),HE=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,vk],yw]}),t})();function ZE(t,e){if(1&t&&(ba(0,"p-fieldset",9),ba(1,"p-header"),hs(2,"Redevelopment Area"),va(),ba(3,"p",9),Ca(4,"span",3),va(),va()),2&t){const t=Aa(2);oo(4),Fa("innerHTML",t.propInfo.redevelopm,Si)}}function WE(t,e){if(1&t&&(ba(0,"p",9),Ca(1,"span",3),va()),2&t){const t=Aa(3);oo(1),La("innerHTML","",t.propInfo.historic_d," Historic District",Si)}}function KE(t,e){if(1&t&&(ba(0,"p",9),Ca(1,"span",3),va()),2&t){const t=Aa(3);oo(1),Fa("innerHTML",t.propInfo.landmark,Si)}}function XE(t,e){if(1&t&&(ba(0,"p-fieldset",9),ba(1,"p-header"),hs(2,"Historic Designations"),va(),ha(3,WE,2,1,"p",8),ha(4,KE,2,1,"p",8),va()),2&t){const t=Aa(2);oo(3),_a("ngIf","N/A"!=t.propInfo.historic_d),oo(1),_a("ngIf","N/A"!=t.propInfo.landmark)}}function $E(t,e){1&t&&(ba(0,"tr"),ba(1,"th"),hs(2,"Accessory Use"),va(),va())}function YE(t,e){if(1&t&&(ba(0,"tr"),ba(1,"td"),hs(2),va(),va()),2&t){const t=e.$implicit;oo(2),ps(t)}}const QE=function(){return{"text-align":"left",margin:".85rem .85rem 0 1.85rem"}};function JE(t,e){if(1&t){const t=Ma();ba(0,"p-card",2),ba(1,"p-header"),Ca(2,"h2",3),Lu(3,"titlecase"),va(),ba(4,"p-subheader",4),Ca(5,"p-button",5),Ca(6,"br"),ba(7,"p-button",6),Ea("onClick",(function(){Be(t);const e=Aa();return e.copyVal(e.mapInput)})),va(),va(),ba(8,"div",7),ha(9,ZE,5,1,"p-fieldset",8),ha(10,XE,5,2,"p-fieldset",8),ba(11,"p-fieldset",9),ba(12,"p-header"),hs(13,"Description"),va(),Ca(14,"p",10),va(),ba(15,"p-fieldset",11),ba(16,"p-header"),hs(17," Allowed Building Types"),va(),Ca(18,"p",10),va(),ba(19,"p-fieldset",12),ba(20,"p-header"),hs(21," Allowed Primary Uses"),va(),Ca(22,"p",10),va(),ba(23,"p-fieldset",12),ba(24,"p-header"),hs(25," Allowed Accessory Uses"),va(),ba(26,"p-table",13),ha(27,$E,3,0,"ng-template",14),ha(28,YE,3,1,"ng-template",15),va(),va(),va(),va()}if(2&t){const t=Aa();oo(2),ns(ss,Qa,ku(18,QE),!1),Fa("innerHTML",t.propInfo.proploc?t.propInfo.proploc:function(t,e,n){const i=Le(),o=Li(i,3);return Nu(i,Bu(i,3)?Ru(i,He(),16,o.transform,n,o):o.transform(n))}(0,0,t.propInfo.blocklot),Si),oo(3),La("label","Zone ",t.propInfo.code,""),Fa("styleClass",t.propInfo.code),oo(2),za("label","Block ",t.mapInput.block," |  Lot ",t.mapInput.lot,""),oo(2),_a("ngIf","N/A"!=t.propInfo.redevelopm),oo(1),_a("ngIf","N/A"!=t.propInfo.historic_d||"N/A"!=t.propInfo.landmark),oo(4),Fa("innerHTML",t.propInfo.property_d,Si),oo(1),_a("toggleable",!0),oo(3),Fa("innerHTML",t.propInfo.building_t,Si),oo(1),_a("toggleable",!0),oo(3),Fa("innerHTML",t.propInfo.primary_us,Si),oo(1),_a("toggleable",!0),oo(3),_a("value",t.propInfo.accessory)}}let tS=(()=>{class t{constructor(t,e){this.blocklot=t,this.clipboard=e,this.mapInput={hood:"Click on a neighborhood to learn about it",zoneColor:"black"}}copyVal(t){this.clipboard.copy(`Block ${t.block}, Lot ${t.lot}`)}}return t.\u0275fac=function(e){return new(e||t)(fa(ly),fa(Xl))},t.\u0275cmp=me({type:t,selectors:[["app-sidepanel"]],inputs:{mapInput:"mapInput",propInfo:"propInfo"},decls:3,vars:3,consts:[["ngDefaultControl","",1,"p-md-6","p-col-12",3,"header"],["class","p-md-6 p-col-12","ngDefaultControl","",4,"ngIf"],["ngDefaultControl","",1,"p-md-6","p-col-12"],[3,"innerHTML"],[1,"p-grid"],["icon","pi pi-copy",1,"p-col-12",3,"label","styleClass"],["icon","pi pi-copy","styleClass","ui-button-info",1,"p-col-12",3,"label","onClick"],[1,"p-grid","p-justify-center"],["class","p-col-12",4,"ngIf"],[1,"p-col-12"],[1,"p-col-12",3,"innerHTML"],["collapsed","false",1,"p-col-12",3,"toggleable"],["collapsed","true",1,"p-col-12",3,"toggleable"],[1,"p-col-12",3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&(ba(0,"p-card",0),hs(1),va(),ha(2,JE,29,19,"p-card",1)),2&t&&(Fa("header",e.mapInput.hood),oo(1),fs(" ",e.mapInput.hood,"\n"),oo(1),_a("ngIf",e.mapInput.block&&e.mapInput.lot))},directives:[Mw,Dw,Ll,gw,jP,rM,BE,_w],pipes:[jl],styles:['@charset "UTF-8";.p-grid{display:flex;flex-wrap:wrap;margin-right:-.5em;margin-left:-.5em;margin-top:-.5em}.p-grid>.p-col,.p-grid>[class*=p-col]{box-sizing:border-box}.p-nogutter{margin-right:0;margin-left:0;margin-top:0}.p-nogutter>.p-col,.p-nogutter>[class*=p-col-]{padding:0}.p-dir-row{flex-direction:row}.p-dir-rev{flex-direction:row-reverse}.p-dir-col{flex-direction:column}.p-dir-col-rev{flex-direction:column-reverse}.p-justify-start{justify-content:flex-start}.p-justify-end{justify-content:flex-end}.p-justify-center{justify-content:center}.p-justify-between{justify-content:space-between}.p-justify-around{justify-content:space-around}.p-justify-even{justify-content:space-evenly}.p-align-start{align-items:flex-start}.p-align-end{align-items:flex-end}.p-align-center{align-items:center}.p-align-baseline{align-items:baseline}.p-align-stretch{align-items:stretch}.p-col{flex-grow:1;flex-basis:0;padding:.5em}.p-col-fixed{flex:0 0 auto;padding:.5em}.p-col-align-start{align-self:flex-start}.p-col-align-end{align-self:flex-end}.p-col-align-center{align-self:center}.p-col-align-baseline{align-self:baseline}.p-col-align-stretch{align-self:stretch}.p-dir-col-rev>.p-col,.p-dir-col>.p-col{flex-basis:auto}.p-col-1,.p-col-2,.p-col-3,.p-col-4,.p-col-5,.p-col-6,.p-col-7,.p-col-8,.p-col-9,.p-col-10,.p-col-11,.p-col-12{flex:0 0 auto;padding:.5em}.p-col-1{width:8.3333%}.p-col-2{width:16.6667%}.p-col-3{width:25%}.p-col-4{width:33.3333%}.p-col-5{width:41.6667%}.p-col-6{width:50%}.p-col-7{width:58.3333%}.p-col-8{width:66.6667%}.p-col-9{width:75%}.p-col-10{width:83.3333%}.p-col-11{width:91.6667%}.p-col-12{width:100%}.p-col-order-first{order:-1}.p-col-order-last{order:13}.p-col-order-0{order:0}.p-col-order-1{order:1}.p-col-order-2{order:2}.p-col-order-3{order:3}.p-col-order-4{order:4}.p-col-order-5{order:5}.p-col-order-6{order:6}.p-col-order-7{order:7}.p-col-order-8{order:8}.p-col-order-9{order:9}.p-col-order-10{order:10}.p-col-order-11{order:11}.p-col-order-12{order:12}.p-offset-12{margin-left:100%}.p-offset-11{margin-left:91.66666667%}.p-offset-10{margin-left:83.33333333%}.p-offset-9{margin-left:75%}.p-offset-8{margin-left:66.66666667%}.p-offset-7{margin-left:58.33333333%}.p-offset-6{margin-left:50%}.p-offset-5{margin-left:41.66666667%}.p-offset-4{margin-left:33.33333333%}.p-offset-3{margin-left:25%}.p-offset-2{margin-left:16.66666667%}.p-offset-1{margin-left:8.33333333%}.p-offset-0{margin-left:0}.p-lg-1,.p-lg-2,.p-lg-3,.p-lg-4,.p-lg-5,.p-lg-6,.p-lg-7,.p-lg-8,.p-lg-9,.p-lg-10,.p-lg-11,.p-lg-12,.p-md-1,.p-md-2,.p-md-3,.p-md-4,.p-md-5,.p-md-6,.p-md-7,.p-md-8,.p-md-9,.p-md-10,.p-md-11,.p-md-12,.p-sm-1,.p-sm-2,.p-sm-3,.p-sm-4,.p-sm-5,.p-sm-6,.p-sm-7,.p-sm-8,.p-sm-9,.p-sm-10,.p-sm-11,.p-sm-12,.p-xl-1,.p-xl-2,.p-xl-3,.p-xl-4,.p-xl-5,.p-xl-6,.p-xl-7,.p-xl-8,.p-xl-9,.p-xl-10,.p-xl-11,.p-xl-12{padding:.5em}.p-col-nogutter{padding:0}@media screen and (min-width:576px){.p-sm-1,.p-sm-2,.p-sm-3,.p-sm-4,.p-sm-5,.p-sm-6,.p-sm-7,.p-sm-8,.p-sm-9,.p-sm-10,.p-sm-11,.p-sm-12{flex:0 0 auto}.p-sm-1{width:8.3333%}.p-sm-2{width:16.6667%}.p-sm-3{width:25%}.p-sm-4{width:33.3333%}.p-sm-5{width:41.6667%}.p-sm-6{width:50%}.p-sm-7{width:58.3333%}.p-sm-8{width:66.6667%}.p-sm-9{width:75%}.p-sm-10{width:83.3333%}.p-sm-11{width:91.6667%}.p-sm-12{width:100%}.p-sm-offset-12{margin-left:100%}.p-sm-offset-11{margin-left:91.66666667%}.p-sm-offset-10{margin-left:83.33333333%}.p-sm-offset-9{margin-left:75%}.p-sm-offset-8{margin-left:66.66666667%}.p-sm-offset-7{margin-left:58.33333333%}.p-sm-offset-6{margin-left:50%}.p-sm-offset-5{margin-left:41.66666667%}.p-sm-offset-4{margin-left:33.33333333%}.p-sm-offset-3{margin-left:25%}.p-sm-offset-2{margin-left:16.66666667%}.p-sm-offset-1{margin-left:8.33333333%}.p-sm-offset-0{margin-left:0}.p-sm-order-first{order:-1}.p-sm-order-last{order:13}.p-sm-order-0{order:0}.p-sm-order-1{order:1}.p-sm-order-2{order:2}.p-sm-order-3{order:3}.p-sm-order-4{order:4}.p-sm-order-5{order:5}.p-sm-order-6{order:6}.p-sm-order-7{order:7}.p-sm-order-8{order:8}.p-sm-order-9{order:9}.p-sm-order-10{order:10}.p-sm-order-11{order:11}.p-sm-order-12{order:12}}@media screen and (min-width:768px){.p-md-1,.p-md-2,.p-md-3,.p-md-4,.p-md-5,.p-md-6,.p-md-7,.p-md-8,.p-md-9,.p-md-10,.p-md-11,.p-md-12{flex:0 0 auto}.p-md-1{width:8.3333%}.p-md-2{width:16.6667%}.p-md-3{width:25%}.p-md-4{width:33.3333%}.p-md-5{width:41.6667%}.p-md-6{width:50%}.p-md-7{width:58.3333%}.p-md-8{width:66.6667%}.p-md-9{width:75%}.p-md-10{width:83.3333%}.p-md-11{width:91.6667%}.p-md-12{width:100%}.p-md-offset-12{margin-left:100%}.p-md-offset-11{margin-left:91.66666667%}.p-md-offset-10{margin-left:83.33333333%}.p-md-offset-9{margin-left:75%}.p-md-offset-8{margin-left:66.66666667%}.p-md-offset-7{margin-left:58.33333333%}.p-md-offset-6{margin-left:50%}.p-md-offset-5{margin-left:41.66666667%}.p-md-offset-4{margin-left:33.33333333%}.p-md-offset-3{margin-left:25%}.p-md-offset-2{margin-left:16.66666667%}.p-md-offset-1{margin-left:8.33333333%}.p-md-offset-0{margin-left:0}.p-md-order-first{order:-1}.p-md-order-last{order:13}.p-md-order-0{order:0}.p-md-order-1{order:1}.p-md-order-2{order:2}.p-md-order-3{order:3}.p-md-order-4{order:4}.p-md-order-5{order:5}.p-md-order-6{order:6}.p-md-order-7{order:7}.p-md-order-8{order:8}.p-md-order-9{order:9}.p-md-order-10{order:10}.p-md-order-11{order:11}.p-md-order-12{order:12}}@media screen and (min-width:992px){.p-lg-1,.p-lg-2,.p-lg-3,.p-lg-4,.p-lg-5,.p-lg-6,.p-lg-7,.p-lg-8,.p-lg-9,.p-lg-10,.p-lg-11,.p-lg-12{flex:0 0 auto}.p-lg-1{width:8.3333%}.p-lg-2{width:16.6667%}.p-lg-3{width:25%}.p-lg-4{width:33.3333%}.p-lg-5{width:41.6667%}.p-lg-6{width:50%}.p-lg-7{width:58.3333%}.p-lg-8{width:66.6667%}.p-lg-9{width:75%}.p-lg-10{width:83.3333%}.p-lg-11{width:91.6667%}.p-lg-12{width:100%}.p-lg-offset-12{margin-left:100%}.p-lg-offset-11{margin-left:91.66666667%}.p-lg-offset-10{margin-left:83.33333333%}.p-lg-offset-9{margin-left:75%}.p-lg-offset-8{margin-left:66.66666667%}.p-lg-offset-7{margin-left:58.33333333%}.p-lg-offset-6{margin-left:50%}.p-lg-offset-5{margin-left:41.66666667%}.p-lg-offset-4{margin-left:33.33333333%}.p-lg-offset-3{margin-left:25%}.p-lg-offset-2{margin-left:16.66666667%}.p-lg-offset-1{margin-left:8.33333333%}.p-lg-offset-0{margin-left:0}.p-lg-order-first{order:-1}.p-lg-order-last{order:13}.p-lg-order-0{order:0}.p-lg-order-1{order:1}.p-lg-order-2{order:2}.p-lg-order-3{order:3}.p-lg-order-4{order:4}.p-lg-order-5{order:5}.p-lg-order-6{order:6}.p-lg-order-7{order:7}.p-lg-order-8{order:8}.p-lg-order-9{order:9}.p-lg-order-10{order:10}.p-lg-order-11{order:11}.p-lg-order-12{order:12}}@media screen and (min-width:1200px){.p-xl-1,.p-xl-2,.p-xl-3,.p-xl-4,.p-xl-5,.p-xl-6,.p-xl-7,.p-xl-8,.p-xl-9,.p-xl-10,.p-xl-11,.p-xl-12{flex:0 0 auto}.p-xl-1{width:8.3333%}.p-xl-2{width:16.6667%}.p-xl-3{width:25%}.p-xl-4{width:33.3333%}.p-xl-5{width:41.6667%}.p-xl-6{width:50%}.p-xl-7{width:58.3333%}.p-xl-8{width:66.6667%}.p-xl-9{width:75%}.p-xl-10{width:83.3333%}.p-xl-11{width:91.6667%}.p-xl-12{width:100%}.p-xl-offset-12{margin-left:100%}.p-xl-offset-11{margin-left:91.66666667%}.p-xl-offset-10{margin-left:83.33333333%}.p-xl-offset-9{margin-left:75%}.p-xl-offset-8{margin-left:66.66666667%}.p-xl-offset-7{margin-left:58.33333333%}.p-xl-offset-6{margin-left:50%}.p-xl-offset-5{margin-left:41.66666667%}.p-xl-offset-4{margin-left:33.33333333%}.p-xl-offset-3{margin-left:25%}.p-xl-offset-2{margin-left:16.66666667%}.p-xl-offset-1{margin-left:8.33333333%}.p-xl-offset-0{margin-left:0}.p-xl-order-first{order:-1}.p-xl-order-last{order:13}.p-xl-order-0{order:0}.p-xl-order-1{order:1}.p-xl-order-2{order:2}.p-xl-order-3{order:3}.p-xl-order-4{order:4}.p-xl-order-5{order:5}.p-xl-order-6{order:6}.p-xl-order-7{order:7}.p-xl-order-8{order:8}.p-xl-order-9{order:9}.p-xl-order-10{order:10}.p-xl-order-11{order:11}.p-xl-order-12{order:12}}*{box-sizing:border-box}body .ui-widget{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;text-decoration:none}body .ui-corner-all{border-radius:2px}body .ui-corner-top{border-top-left-radius:2px;border-top-right-radius:2px}body .ui-corner-bottom{border-bottom-left-radius:2px;border-bottom-right-radius:2px}body .ui-corner-left{border-top-left-radius:2px;border-bottom-left-radius:2px}body .ui-corner-right{border-top-right-radius:2px;border-bottom-right-radius:2px}body a{color:#7b95a3;text-decoration:none}body a:hover{color:#6c8999}body a:active{color:#617c8a}body .ui-helper-reset{line-height:normal}body .ui-state-disabled,body .ui-widget:disabled{opacity:.5;filter:alpha(opacity=50)}body .pi{font-size:1.25em}body .ui-inputtext{font-size:14px;color:#666;background:#f4f4f4;padding:.429em;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none;-moz-appearance:none;appearance:none}body .ui-inputtext:enabled:hover:not(.ui-state-error){border-color:#a6a6a6}body .ui-inputtext:enabled:focus:not(.ui-state-error){outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-chkbox{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body .ui-chkbox .ui-chkbox-box{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;border-radius:2px;transition:background-color .2s,border-color .2s,box-shadow .2s}body .ui-chkbox .ui-chkbox-box:not(.ui-state-disabled):hover{border-color:#a6a6a6}body .ui-chkbox .ui-chkbox-box.ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-chkbox .ui-chkbox-box.ui-state-active{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body .ui-chkbox .ui-chkbox-box.ui-state-active:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body .ui-chkbox .ui-chkbox-box .ui-chkbox-icon{overflow:hidden;position:relative;font-size:18px}body .ui-chkbox-label{margin:0 0 0 .5em}body .ui-radiobutton{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body .ui-radiobutton .ui-radiobutton-box{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;position:relative;transition:background-color .2s,border-color .2s,box-shadow .2s;border-radius:50%}body .ui-radiobutton .ui-radiobutton-box:not(.ui-state-disabled):not(.ui-state-active):hover{border-color:#a6a6a6}body .ui-radiobutton .ui-radiobutton-box.ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-radiobutton .ui-radiobutton-box.ui-state-active{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body .ui-radiobutton .ui-radiobutton-box.ui-state-active .ui-radiobutton-icon{background-color:#fff}body .ui-radiobutton .ui-radiobutton-box.ui-state-active:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body .ui-radiobutton .ui-radiobutton-box .ui-radiobutton-icon{background:transparent;width:10px;height:10px;display:inline-block;position:absolute;left:50%;top:50%;margin-left:-5px;margin-top:-5px;transition:background-color .2s;border-radius:50%}body .ui-radiobutton .ui-radiobutton-box .ui-radiobutton-icon:before{display:none}body .ui-radiobutton-label{margin:0 0 0 .5em}body .ui-inputswitch{width:3em;height:1.75em}body .ui-inputswitch .ui-inputswitch-slider{transition:background-color .2s,box-shadow .2s;border-radius:30px;background:#f4f4f4}body .ui-inputswitch .ui-inputswitch-slider:before{background-color:#7b95a3;height:1.25em;width:1.25em;left:.25em;bottom:.25em;border-radius:50%;transition:.2s}body .ui-inputswitch.ui-inputswitch-checked .ui-inputswitch-slider:before{transform:translateX(1.25em)}body .ui-inputswitch.ui-inputswitch-focus .ui-inputswitch-slider{background:#d8dae2;outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-inputswitch:not(.ui-state-disabled):hover .ui-inputswitch-slider{background-color:#d8dae2}body .ui-inputswitch.ui-inputswitch-checked .ui-inputswitch-slider,body .ui-inputswitch.ui-inputswitch-checked:not(.ui-state-disabled):hover .ui-inputswitch-slider{background-color:#afd3c8}body .ui-inputswitch.ui-inputswitch-checked.ui-inputswitch-focus .ui-inputswitch-slider{background:#afd3c8}body .ui-autocomplete .ui-autocomplete-input{padding:.429em}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container{padding:.2145em .429em}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container:not(.ui-state-disabled):hover{border-color:#a6a6a6}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container .ui-autocomplete-input-token{margin:0;padding:.2145em 0;color:#666}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container .ui-autocomplete-input-token input{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0}body .ui-autocomplete.ui-autocomplete-multiple .ui-autocomplete-multiple-container .ui-autocomplete-token{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body .ui-autocomplete-panel{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-autocomplete-panel .ui-autocomplete-items{padding:0}body .ui-autocomplete-panel .ui-autocomplete-items .ui-autocomplete-list-item{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body .ui-autocomplete-panel .ui-autocomplete-items .ui-autocomplete-list-item.ui-state-highlight{color:#385048;background-color:#afd3c8}body .ui-autocomplete-panel .ui-autocomplete-items .ui-autocomplete-group{padding:.429em .857em;background-color:#dadada;color:#666}body .ui-fluid .ui-autocomplete .ui-autocomplete-dropdown.ui-button{width:2.357em}body .ui-fluid .ui-autocomplete.ui-autocomplete-dd .ui-inputtext,body .ui-fluid .ui-autocomplete.ui-autocomplete-multiple.ui-autocomplete-dd .ui-autocomplete-multiple-container{border-right:0;width:calc(100% - 2.357em)}body .ui-chips>ul.ui-inputtext{padding:.2145em .429em;display:inline-block}body .ui-chips>ul.ui-inputtext:not(.ui-state-disabled):hover{border-color:#a6a6a6}body .ui-chips>ul.ui-inputtext:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-chips>ul.ui-inputtext .ui-chips-input-token{padding:.2145em 0}body .ui-chips>ul.ui-inputtext .ui-chips-input-token input{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0;color:#666}body .ui-chips>ul.ui-inputtext .ui-chips-input-token input:focus,body .ui-chips>ul.ui-inputtext .ui-chips-input-token input:hover{border:0}body .ui-chips>ul.ui-inputtext .ui-chips-token{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body .ui-dropdown{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body .ui-dropdown:not(.ui-state-disabled):hover{border-color:#a6a6a6}body .ui-dropdown:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-dropdown .ui-dropdown-label{padding-right:2em}body .ui-dropdown .ui-dropdown-trigger{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body .ui-dropdown .ui-dropdown-clear-icon{color:#666}body .ui-dropdown.ui-dropdown-clearable .ui-dropdown-label{padding-right:4em}body .ui-dropdown-panel{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-dropdown-panel .ui-dropdown-filter-container{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body .ui-dropdown-panel .ui-dropdown-filter-container .ui-dropdown-filter{width:100%;padding-right:2em}body .ui-dropdown-panel .ui-dropdown-filter-container .ui-dropdown-filter-icon{top:50%;margin-top:-.5em;right:1.357em;color:#a6a6a6}body .ui-dropdown-panel .ui-dropdown-items{padding:0}body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item,body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item-group{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item-group.ui-state-highlight,body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item.ui-state-highlight{color:#385048;background-color:#afd3c8}body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item-group:not(.ui-state-highlight):not(.ui-state-disabled):hover,body .ui-dropdown-panel .ui-dropdown-items .ui-dropdown-item:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body .ui-multiselect{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body .ui-multiselect:not(.ui-state-disabled):hover{border-color:#a6a6a6}body .ui-multiselect:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body .ui-multiselect .ui-multiselect-label{padding:.429em 2em .429em .429em;color:#666}body .ui-multiselect .ui-multiselect-trigger{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body .ui-multiselect-panel{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-multiselect-panel .ui-multiselect-header{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-filter-container{float:none;width:70%;display:inline-block;vertical-align:middle;margin-left:0}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-filter-container .ui-inputtext{padding:.429em 2em .429em .429em}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-filter-container .ui-multiselect-filter-icon{color:#a6a6a6;top:50%;margin-top:-.5em;right:.5em;left:auto}body .ui-multiselect-panel .ui-multiselect-header .ui-chkbox{margin-right:.5em;float:none;vertical-align:middle}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-close{color:#666;top:50%;margin-top:-.5em;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-close:hover{color:#7b95a3}body .ui-multiselect-panel .ui-multiselect-header .ui-multiselect-close:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-multiselect-panel .ui-multiselect-items{padding:0}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item.ui-state-highlight{color:#385048;background-color:#afd3c8}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item.ui-state-disabled .ui-chkbox-box{cursor:auto}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item.ui-state-disabled .ui-chkbox-box:hover{border:1px solid #dadada}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item.ui-state-disabled .ui-chkbox-box.ui-state-active:hover{border-color:#7b95a3}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item .ui-chkbox{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body .ui-multiselect-panel .ui-multiselect-items .ui-multiselect-item label{display:inline-block;vertical-align:middle}body .ui-listbox{padding:0;min-width:12em;background:#fff;border:1px solid #eaeaea}body .ui-listbox .ui-chkbox{margin:0 .5em 0 0}body .ui-listbox .ui-listbox-header{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body .ui-listbox .ui-listbox-header .ui-listbox-filter-container{width:calc(100% - 2.214em)}body .ui-listbox .ui-listbox-header .ui-listbox-filter-container input{padding:.429em 2em .429em .429em}body .ui-listbox .ui-listbox-header .ui-listbox-filter-container .ui-listbox-filter-icon{top:50%;left:auto;margin-top:-.5em;right:.5em;color:#a6a6a6}body .ui-listbox .ui-listbox-list{background-color:#fff}body .ui-listbox .ui-listbox-list .ui-listbox-item{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body .ui-listbox .ui-listbox-list .ui-listbox-item.ui-state-highlight{color:#385048;background-color:#afd3c8}body .ui-listbox .ui-listbox-list .ui-listbox-item:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-listbox .ui-listbox-list .ui-listbox-item .ui-chkbox{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body .ui-listbox .ui-listbox-list .ui-listbox-item label{display:inline-block;vertical-align:middle}body .ui-listbox:not(.ui-state-disabled) .ui-listbox-item:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body .ui-listbox.ui-state-disabled .ui-chkbox-box:not(.ui-state-disabled):not(.ui-state-active):hover{border:1px solid #dadada}body .ui-listbox .ui-listbox-footer{padding:.429em .857em;border-top:1px solid #eaeaea;color:#666;background-color:#fff}body .ui-editor-container .ui-editor-toolbar{border:1px solid #7b95a3;background-color:#7b95a3}body .ui-editor-container .ui-editor-content{border:1px solid #dadada}body .ui-editor-container .ui-editor-content .ql-editor{background-color:#f4f4f4;color:#666}body .ui-editor-container .ql-picker.ql-expanded .ql-picker-label{color:#fff}body .ui-editor-container .ql-stroke{stroke:#fff}body .ui-editor-container .ql-picker-label{color:#fff}body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item.ql-selected,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item.ql-selected,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item:hover,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item:hover,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label.ql-active,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label.ql-active,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label:hover,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label:hover,body .ui-editor-container .ql-snow.ql-toolbar button.ql-active,body .ui-editor-container .ql-snow .ql-toolbar button.ql-active,body .ui-editor-container .ql-snow.ql-toolbar button:hover,body .ui-editor-container .ql-snow .ql-toolbar button:hover{color:#afd3c8}body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,body .ui-editor-container .ql-snow.ql-toolbar button.ql-active .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar button.ql-active .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,body .ui-editor-container .ql-snow.ql-toolbar button:hover .ql-stroke,body .ui-editor-container .ql-snow .ql-toolbar button:hover .ql-stroke,body .ui-editor-container .ql-snow.ql-toolbar button:hover .ql-stroke-miter,body .ui-editor-container .ql-snow .ql-toolbar button:hover .ql-stroke-miter{stroke:#afd3c8}body .ui-rating a{text-align:center;display:inline-block;color:#666;border-radius:2px;line-height:1;transition:color .2s,box-shadow .2s}body .ui-rating a.ui-rating-cancel{color:#f3b9b9}body .ui-rating a .ui-rating-icon{font-size:1.429em}body .ui-rating:not(.ui-state-disabled):not(.ui-rating-readonly) a:hover{color:#7b95a3}body .ui-rating:not(.ui-state-disabled):not(.ui-rating-readonly) a.ui-rating-cancel:hover{color:#d66161}body .ui-rating:not(.ui-state-disabled):not(.ui-rating-readonly) a:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-spinner .ui-spinner-input{padding-right:1.858em}body .ui-spinner .ui-spinner-button{width:1.429em}body .ui-spinner .ui-spinner-button.ui-spinner-up{border-top-right-radius:2px}body .ui-spinner .ui-spinner-button.ui-spinner-down{border-bottom-right-radius:2px}body .ui-spinner .ui-spinner-button .ui-spinner-button-icon{position:absolute;top:50%;left:50%;margin-top:-.5em;margin-left:-.5em;width:1em}body .ui-fluid .ui-spinner .ui-spinner-input{padding-right:1.858em}body .ui-fluid .ui-spinner .ui-spinner-button{width:1.429em}body .ui-fluid .ui-spinner .ui-spinner-button .ui-spinner-button-icon{left:50%}body .ui-slider{background-color:#c4c4c4;border:0}body .ui-slider.ui-slider-horizontal{height:.286em}body .ui-slider.ui-slider-horizontal .ui-slider-handle{top:50%;margin-top:-.7145em}body .ui-slider.ui-slider-vertical{width:.286em}body .ui-slider.ui-slider-vertical .ui-slider-handle{left:50%;margin-left:-.7145em}body .ui-slider .ui-slider-handle{height:1.429em;width:1.429em;background-color:#fff;border:2px solid #7f7f7f;border-radius:50%;transition:box-shadow .2s}body .ui-slider .ui-slider-handle:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-slider .ui-slider-range{background-color:#7b95a3}body .ui-slider:not(.ui-state-disabled) .ui-slider-handle:hover{background-color:2px solid #7f7f7f;border:2px solid #7b95a3}body .ui-datepicker{padding:.857em;min-width:18.571em;background-color:#fff;color:#666;border:1px solid #eaeaea}body .ui-datepicker:not(.ui-datepicker-inline){border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-datepicker:not(.ui-state-disabled) .ui-datepicker-header .ui-datepicker-next:hover,body .ui-datepicker:not(.ui-state-disabled) .ui-datepicker-header .ui-datepicker-prev:hover{color:#666}body .ui-datepicker:not(.ui-state-disabled) .ui-datepicker-header .ui-datepicker-next:focus,body .ui-datepicker:not(.ui-state-disabled) .ui-datepicker-header .ui-datepicker-prev:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-datepicker:not(.ui-state-disabled) .ui-monthpicker a.ui-monthpicker-month:not(.ui-state-active):hover,body .ui-datepicker:not(.ui-state-disabled) table td a:not(.ui-state-active):not(.ui-state-highlight):hover{background-color:#f4f4f4}body .ui-datepicker .ui-datepicker-header{padding:.429em .857em;background-color:#fff;color:#666;border-radius:0}body .ui-datepicker .ui-datepicker-header .ui-datepicker-next,body .ui-datepicker .ui-datepicker-header .ui-datepicker-prev{cursor:pointer;top:0;color:#a6a6a6;transition:color .2s,box-shadow .2s}body .ui-datepicker .ui-datepicker-header .ui-datepicker-title{margin:0;padding:0;line-height:1}body .ui-datepicker .ui-datepicker-header .ui-datepicker-title select{margin-top:-.35em;margin-bottom:0;transition:color .2s,box-shadow .2s}body .ui-datepicker .ui-datepicker-header .ui-datepicker-title select:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-datepicker table{font-size:14px;margin:.857em 0 0}body .ui-datepicker table th{padding:.5em}body .ui-datepicker table th.ui-datepicker-weekheader{border-right:1px solid #eaeaea}body .ui-datepicker table td{padding:.5em}body .ui-datepicker table td>a,body .ui-datepicker table td>span{display:block;text-align:center;color:#666;padding:.5em;transition:box-shadow .2s;border-radius:2px}body .ui-datepicker table td>a.ui-state-active,body .ui-datepicker table td>span.ui-state-active{color:#fff;background-color:#7b95a3}body .ui-datepicker table td>a{cursor:pointer}body .ui-datepicker table td>a:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-datepicker table td.ui-datepicker-today>a,body .ui-datepicker table td.ui-datepicker-today>span{background-color:#d0d0d0;color:#666}body .ui-datepicker table td.ui-datepicker-today>a.ui-state-active,body .ui-datepicker table td.ui-datepicker-today>span.ui-state-active{color:#fff;background-color:#7b95a3}body .ui-datepicker table td.ui-datepicker-weeknumber{border-right:1px solid #eaeaea}body .ui-datepicker .ui-datepicker-buttonbar{border-top:1px solid #d8dae2}body .ui-datepicker .ui-timepicker{border:0;border-top:1px solid #a6a6a6;padding:.857em}body .ui-datepicker .ui-timepicker a{color:#666;font-size:1.286em}body .ui-datepicker .ui-timepicker a:hover{color:#666}body .ui-datepicker .ui-timepicker span{font-size:1.286em}body .ui-datepicker .ui-monthpicker .ui-monthpicker-month{color:#666}body .ui-datepicker .ui-monthpicker .ui-monthpicker-month.ui-state-active{color:#fff;background-color:#7b95a3}body .ui-datepicker.ui-datepicker-timeonly{padding:0}body .ui-datepicker.ui-datepicker-timeonly .ui-timepicker{border-top:0}body .ui-datepicker.ui-datepicker-multiple-month .ui-datepicker-group{border-right:1px solid #d8dae2;padding:0 .857em}body .ui-datepicker.ui-datepicker-multiple-month .ui-datepicker-group:first-child{padding-left:0}body .ui-datepicker.ui-datepicker-multiple-month .ui-datepicker-group:last-child{padding-right:0;border-right:0}body .ui-calendar.ui-calendar-w-btn .ui-inputtext{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}body .ui-calendar.ui-calendar-w-btn .ui-inputtext:enabled:focus:not(.ui-state-error),body .ui-calendar.ui-calendar-w-btn .ui-inputtext:enabled:hover:not(.ui-state-error){border-right:0}body .ui-calendar.ui-calendar-w-btn .ui-datepicker-trigger.ui-button{width:2.357em;border-top-left-radius:0;border-bottom-left-radius:0}body .ui-fluid .ui-calendar.ui-calendar-w-btn input.ui-inputtext{width:calc(100% - 2.357em)}body .ui-fileupload .ui-fileupload-buttonbar{background-color:#7b95a3;padding:.571em 1em;color:#fff;border:1px solid #7b95a3;border-bottom:0}body .ui-fileupload .ui-fileupload-buttonbar .ui-button{margin-right:8px}body .ui-fileupload .ui-fileupload-content{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body .ui-fileupload .ui-progressbar{top:0}body .ui-fileupload-choose:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body .ui-fileupload-choose:not(.ui-state-disabled):active{background-color:#617c8a;color:#fff;border-color:#617c8a}body .ui-fileupload-choose.ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-password-panel{padding:12px;background-color:#fff;color:#666;border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-inputgroup .ui-inputgroup-addon{border-color:#dadada;background-color:#dbdbdb;color:#666;padding:.429em;min-width:2em}body .ui-inputgroup .ui-inputgroup-addon:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body .ui-inputgroup .ui-inputgroup-addon:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body .ui-inputgroup .ui-inputgroup-addon.ui-inputgroup-addon-checkbox{position:relative}body .ui-inputgroup .ui-inputgroup-addon.ui-inputgroup-addon-checkbox .ui-chkbox{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body .ui-inputgroup .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton{position:relative}body .ui-inputgroup .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton .ui-radiobutton{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body .ui-inputgroup .ui-button:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body .ui-inputgroup .ui-button:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body .ui-fluid .ui-inputgroup .ui-button{width:auto}body .ui-fluid .ui-inputgroup .ui-button.ui-button-icon-only{width:2.357em}body ::-webkit-input-placeholder{color:#a6a6a6}body :-moz-placeholder,body ::-moz-placeholder{color:#a6a6a6}body :-ms-input-placeholder{color:#a6a6a6}body .ui-inputtext.ng-dirty.ng-invalid,body p-autocomplete.ng-dirty.ng-invalid>.ui-autocomplete>.ui-inputtext,body p-calendar.ng-dirty.ng-invalid>.ui-calendar>.ui-inputtext,body p-checkbox.ng-dirty.ng-invalid .ui-chkbox-box,body p-chips.ng-dirty.ng-invalid>.ui-inputtext,body p-dropdown.ng-dirty.ng-invalid>.ui-dropdown,body p-inputmask.ng-dirty.ng-invalid>.ui-inputtext,body p-inputswitch.ng-dirty.ng-invalid .ui-inputswitch,body p-listbox.ng-dirty.ng-invalid .ui-inputtext,body p-multiselect.ng-dirty.ng-invalid>.ui-multiselect,body p-radiobutton.ng-dirty.ng-invalid .ui-radiobutton-box,body p-selectbutton.ng-dirty.ng-invalid .ui-button,body p-spinner.ng-dirty.ng-invalid>.ui-inputtext,body p-togglebutton.ng-dirty.ng-invalid .ui-button{border:1px solid #e7a3a3}body .ui-button{margin:0;color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s}body .ui-button:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body .ui-button:enabled:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-button:enabled:active{background-color:#617c8a;color:#fff;border-color:#617c8a}body .ui-button.ui-button-text-only .ui-button-text{padding:.429em 1em}body .ui-button.ui-button-text-icon-left .ui-button-text{padding:.429em 1em .429em 2em}body .ui-button.ui-button-text-icon-right .ui-button-text{padding:.429em 2em .429em 1em}body .ui-button.ui-button-icon-only{width:2.357em}body .ui-button.ui-button-icon-only .ui-button-text{padding:.429em}body .ui-button.ui-button-raised{box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}body .ui-button.ui-button-rounded{border-radius:15px}body .ui-fluid .ui-button-icon-only{width:2.357em}body .ui-togglebutton{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;transition:background-color .2s,box-shadow .2s}body .ui-togglebutton .ui-button-icon-left{color:#666}body .ui-togglebutton:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body .ui-togglebutton:not(.ui-state-disabled):not(.ui-state-active):hover .ui-button-icon-left{color:#666}body .ui-togglebutton:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7}body .ui-togglebutton.ui-state-active{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body .ui-togglebutton.ui-state-active .ui-button-icon-left{color:#385048}body .ui-togglebutton.ui-state-active:hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body .ui-togglebutton.ui-state-active:hover .ui-button-icon-left{color:#385048}body .ui-selectbutton .ui-button{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;overflow:hidden;transition:background-color .2s,box-shadow .2s}body .ui-selectbutton .ui-button .ui-button-icon-left{color:#666}body .ui-selectbutton .ui-button:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body .ui-selectbutton .ui-button:not(.ui-state-disabled):not(.ui-state-active):hover .ui-button-icon-left{color:#666}body .ui-selectbutton .ui-button:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body .ui-selectbutton .ui-button.ui-state-active{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body .ui-selectbutton .ui-button.ui-state-active .ui-button-icon-left{color:#385048}body .ui-selectbutton .ui-button.ui-state-active:not(.ui-state-disabled):hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body .ui-selectbutton .ui-button.ui-state-active:not(.ui-state-disabled):hover .ui-button-icon-left{color:#385048}body .ui-selectbutton .ui-button:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body .ui-selectbutton .ui-button:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}@media (max-width:640px){body .ui-buttonset:not(.ui-splitbutton) .ui-button{margin-bottom:1px;border-radius:2px}}body .ui-splitbutton.ui-buttonset .ui-button{border:1px solid transparent}body .ui-splitbutton.ui-buttonset .ui-menu{min-width:100%}body .ui-button.ui-state-default.ui-button-secondary,body .ui-buttonset.ui-button-secondary>.ui-button.ui-state-default{color:#333;background-color:#f3f3f3;border:1px solid #f3f3f3}body .ui-button.ui-state-default.ui-button-secondary:enabled:hover,body .ui-buttonset.ui-button-secondary>.ui-button.ui-state-default:enabled:hover{background-color:#d1d1d1;color:#212121;border-color:#d1d1d1}body .ui-button.ui-state-default.ui-button-secondary:enabled:focus,body .ui-buttonset.ui-button-secondary>.ui-button.ui-state-default:enabled:focus{box-shadow:0 0 0 .2em #99adb8}body .ui-button.ui-state-default.ui-button-secondary:enabled:active,body .ui-buttonset.ui-button-secondary>.ui-button.ui-state-default:enabled:active{background-color:#7b95a3;color:#fff;border-color:#7b95a3}body .ui-button.ui-state-default.ui-button-info,body .ui-buttonset.ui-button-info>.ui-button.ui-state-default{color:#3d4447;background-color:#a3def8;border:1px solid #79c8eb}body .ui-button.ui-state-default.ui-button-info:enabled:hover,body .ui-buttonset.ui-button-info>.ui-button.ui-state-default:enabled:hover{background-color:#81cbec;color:#3d4447;border-color:#60b7de}body .ui-button.ui-state-default.ui-button-info:enabled:focus,body .ui-buttonset.ui-button-info>.ui-button.ui-state-default:enabled:focus{box-shadow:0 0 0 .2em #d2effc}body .ui-button.ui-state-default.ui-button-info:enabled:active,body .ui-buttonset.ui-button-info>.ui-button.ui-state-default:enabled:active{background-color:#3ea9db;color:#3d4447;border-color:#2987b1}body .ui-button.ui-state-default.ui-button-success,body .ui-buttonset.ui-button-success>.ui-button.ui-state-default{color:#323e39;background-color:#a3e2c6;border:1px solid #80caaa}body .ui-button.ui-state-default.ui-button-success:enabled:hover,body .ui-buttonset.ui-button-success>.ui-button.ui-state-default:enabled:hover{background-color:#80caaa;color:#323e39;border-color:#5ea285}body .ui-button.ui-state-default.ui-button-success:enabled:focus,body .ui-buttonset.ui-button-success>.ui-button.ui-state-default:enabled:focus{box-shadow:0 0 0 .2em #caeede}body .ui-button.ui-state-default.ui-button-success:enabled:active,body .ui-buttonset.ui-button-success>.ui-button.ui-state-default:enabled:active{background-color:#31b57c;color:#323e39;border-color:#5ea285}body .ui-button.ui-state-default.ui-button-warning,body .ui-buttonset.ui-button-warning>.ui-button.ui-state-default{color:#333;background-color:#feedbc;border:1px solid #f7db8a}body .ui-button.ui-state-default.ui-button-warning:enabled:hover,body .ui-buttonset.ui-button-warning>.ui-button.ui-state-default:enabled:hover{background-color:#ffde87;color:#333;border-color:#f3ce61}body .ui-button.ui-state-default.ui-button-warning:enabled:focus,body .ui-buttonset.ui-button-warning>.ui-button.ui-state-default:enabled:focus{box-shadow:0 0 0 .2em #fef4d5}body .ui-button.ui-state-default.ui-button-warning:enabled:active,body .ui-buttonset.ui-button-warning>.ui-button.ui-state-default:enabled:active{background-color:#fdc328;color:#333;border-color:#dea818}body .ui-button.ui-state-default.ui-button-danger,body .ui-buttonset.ui-button-danger>.ui-button.ui-state-default{color:#262222;background-color:#f4b6b6;border:1px solid #e38787}body .ui-button.ui-state-default.ui-button-danger:enabled:hover,body .ui-buttonset.ui-button-danger>.ui-button.ui-state-default:enabled:hover{background-color:#ef9999;color:#262222;border-color:#cb5858}body .ui-button.ui-state-default.ui-button-danger:enabled:focus,body .ui-buttonset.ui-button-danger>.ui-button.ui-state-default:enabled:focus{box-shadow:0 0 0 .2em #fbe2e2}body .ui-button.ui-state-default.ui-button-danger:enabled:active,body .ui-buttonset.ui-button-danger>.ui-button.ui-state-default:enabled:active{background-color:#eb5656;color:#262222;border-color:#b73737}body .ui-widget-content p{line-height:1.5;margin:0}body .ui-panel{padding:0;border:0}body .ui-panel .ui-panel-titlebar{border:1px solid #7b95a3;padding:.571em 1em;background-color:#7b95a3;color:#fff;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0}body .ui-panel .ui-panel-titlebar .ui-panel-title{vertical-align:middle;font-weight:700}body .ui-panel .ui-panel-titlebar .ui-panel-titlebar-icon{margin:0;position:relative;font-size:14px;color:#fff;border:1px solid transparent;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body .ui-panel .ui-panel-titlebar .ui-panel-titlebar-icon:hover{color:#fff}body .ui-panel .ui-panel-titlebar .ui-panel-titlebar-icon:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-panel .ui-panel-content,body .ui-panel .ui-panel-footer{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body .ui-panel .ui-panel-footer{margin:0}body .ui-fieldset{border:1px solid #dadada;background-color:#fff;color:#666}body .ui-fieldset .ui-fieldset-legend a{padding:.571em 1em;border:1px solid #7b95a3;color:#fff;background-color:#7b95a3;border-radius:2px;transition:background-color .2s,box-shadow .2s}body .ui-fieldset .ui-fieldset-legend a .ui-fieldset-toggler{float:none;display:inline-block;vertical-align:middle;margin-right:.5em;color:#fff}body .ui-fieldset .ui-fieldset-legend a .ui-fieldset-legend-text{padding:0}body .ui-fieldset .ui-fieldset-legend a:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-fieldset.ui-fieldset-toggleable .ui-fieldset-legend a:hover{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body .ui-fieldset.ui-fieldset-toggleable .ui-fieldset-legend a:hover .ui-fieldset-toggler{color:#fff}body .ui-fieldset .ui-fieldset-content{padding:0}body .ui-accordion .ui-accordion-header{margin-bottom:2px}body .ui-accordion .ui-accordion-header a{padding:.571em 1em;border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;font-weight:700;border-radius:2px;transition:background-color .2s,box-shadow .2s}body .ui-accordion .ui-accordion-header a .ui-accordion-toggle-icon{color:#fff}body .ui-accordion .ui-accordion-header a:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-accordion .ui-accordion-header:not(.ui-state-active):not(.ui-state-disabled):hover a{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body .ui-accordion .ui-accordion-header:not(.ui-state-active):not(.ui-state-disabled):hover a .ui-accordion-toggle-icon{color:#fff}body .ui-accordion .ui-accordion-header:not(.ui-state-disabled).ui-state-active a{background-color:#afd3c8;border:1px solid #dadada;color:#385048}body .ui-accordion .ui-accordion-header:not(.ui-state-disabled).ui-state-active a .ui-accordion-toggle-icon{color:#385048}body .ui-accordion .ui-accordion-header:not(.ui-state-disabled).ui-state-active:hover a{border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body .ui-accordion .ui-accordion-header:not(.ui-state-disabled).ui-state-active:hover a .ui-accordion-toggle-icon{color:#385048}body .ui-accordion .ui-accordion-content{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-tabview.ui-tabview-bottom,body .ui-tabview.ui-tabview-left,body .ui-tabview.ui-tabview-right,body .ui-tabview.ui-tabview-top{border:0}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav,body .ui-tabview.ui-tabview-left .ui-tabview-nav,body .ui-tabview.ui-tabview-right .ui-tabview-nav,body .ui-tabview.ui-tabview-top .ui-tabview-nav{padding:0;background:#fff;border:0}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li,body .ui-tabview.ui-tabview-left .ui-tabview-nav li,body .ui-tabview.ui-tabview-right .ui-tabview-nav li,body .ui-tabview.ui-tabview-top .ui-tabview-nav li{border:1px solid #7b95a3;background-color:#7b95a3;transition:background-color .2s,box-shadow .2s}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li a,body .ui-tabview.ui-tabview-left .ui-tabview-nav li a,body .ui-tabview.ui-tabview-right .ui-tabview-nav li a,body .ui-tabview.ui-tabview-top .ui-tabview-nav li a{float:none;display:inline-block;color:#fff;padding:.571em 1em;font-weight:700}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-left .ui-tabview-nav li a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-right .ui-tabview-nav li a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-top .ui-tabview-nav li a .ui-tabview-left-icon{margin-right:.5em}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-left .ui-tabview-nav li a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-right .ui-tabview-nav li a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-top .ui-tabview-nav li a .ui-tabview-right-icon{margin-left:.5em}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li .ui-tabview-close,body .ui-tabview.ui-tabview-left .ui-tabview-nav li .ui-tabview-close,body .ui-tabview.ui-tabview-right .ui-tabview-nav li .ui-tabview-close,body .ui-tabview.ui-tabview-top .ui-tabview-nav li .ui-tabview-close{color:#fff;margin:0 .5em 0 0;vertical-align:middle}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li .ui-tabview-close:focus,body .ui-tabview.ui-tabview-left .ui-tabview-nav li .ui-tabview-close:focus,body .ui-tabview.ui-tabview-right .ui-tabview-nav li .ui-tabview-close:focus,body .ui-tabview.ui-tabview-top .ui-tabview-nav li .ui-tabview-close:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover,body .ui-tabview.ui-tabview-left .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover,body .ui-tabview.ui-tabview-right .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover,body .ui-tabview.ui-tabview-top .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover .ui-tabview-close,body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover a,body .ui-tabview.ui-tabview-left .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover .ui-tabview-close,body .ui-tabview.ui-tabview-left .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover a,body .ui-tabview.ui-tabview-right .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover .ui-tabview-close,body .ui-tabview.ui-tabview-right .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover a,body .ui-tabview.ui-tabview-top .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover .ui-tabview-close,body .ui-tabview.ui-tabview-top .ui-tabview-nav li:not(.ui-state-active):not(.ui-state-disabled):hover a{color:#fff}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active{background-color:#afd3c8;border:1px solid #dadada}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active .ui-tabview-close,body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active a,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active .ui-tabview-close,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active a,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active .ui-tabview-close,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active a,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active .ui-tabview-close,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active a{color:#385048}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active:hover,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active:hover,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active:hover,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active:hover{border:1px solid #8dc8b5;background-color:#8dc8b5}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active:hover a,body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active:hover a,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active:hover a,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-right-icon,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active:hover a,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-left-icon,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-state-active:hover a .ui-tabview-right-icon{color:#385048}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li.ui-tabview-selected a,body .ui-tabview.ui-tabview-left .ui-tabview-nav li.ui-tabview-selected a,body .ui-tabview.ui-tabview-right .ui-tabview-nav li.ui-tabview-selected a,body .ui-tabview.ui-tabview-top .ui-tabview-nav li.ui-tabview-selected a{cursor:pointer}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li:focus,body .ui-tabview.ui-tabview-left .ui-tabview-nav li:focus,body .ui-tabview.ui-tabview-right .ui-tabview-nav li:focus,body .ui-tabview.ui-tabview-top .ui-tabview-nav li:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-tabview.ui-tabview-top .ui-tabview-nav{margin-bottom:-1px}body .ui-tabview.ui-tabview-top .ui-tabview-nav li{margin-right:.214em}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav{margin-top:-1px}body .ui-tabview.ui-tabview-bottom .ui-tabview-nav li{margin-right:.214em}body .ui-tabview.ui-tabview-left .ui-tabview-nav{margin-right:-px}body .ui-tabview.ui-tabview-left .ui-tabview-nav li{margin-bottom:.214em}body .ui-tabview.ui-tabview-right .ui-tabview-nav{margin-right:-1px}body .ui-tabview.ui-tabview-right .ui-tabview-nav li{margin-bottom:.214em}body .ui-tabview .ui-tabview-panels{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body .ui-tabview .ui-tabview-panels .ui-tabview-panel{padding:0}body .ui-toolbar{background-color:#7b95a3;border:1px solid #7b95a3;padding:.571em 1em}body .ui-toolbar button{vertical-align:middle}body .ui-toolbar .ui-toolbar-separator{vertical-align:middle;color:#fff;margin:0 .5em}body .ui-card{background-color:#fff;color:#666;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-paginator{background-color:#fff;border:1px solid #dadada;padding:0}body .ui-paginator .ui-paginator-first,body .ui-paginator .ui-paginator-last,body .ui-paginator .ui-paginator-next,body .ui-paginator .ui-paginator-prev{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body .ui-paginator .ui-paginator-first:not(.ui-state-disabled):not(.ui-state-active):hover,body .ui-paginator .ui-paginator-last:not(.ui-state-disabled):not(.ui-state-active):hover,body .ui-paginator .ui-paginator-next:not(.ui-state-disabled):not(.ui-state-active):hover,body .ui-paginator .ui-paginator-prev:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body .ui-paginator .ui-paginator-first:focus,body .ui-paginator .ui-paginator-last:focus,body .ui-paginator .ui-paginator-next:focus,body .ui-paginator .ui-paginator-prev:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-paginator .ui-paginator-current{color:#666;height:2.286em;min-width:2.286em;line-height:2.286em}body .ui-paginator .ui-dropdown{border:0}body .ui-paginator .ui-dropdown .ui-dropdown-label,body .ui-paginator .ui-dropdown .ui-dropdown-trigger,body .ui-paginator .ui-dropdown:hover .ui-dropdown-label,body .ui-paginator .ui-dropdown:hover .ui-dropdown-trigger{color:#666}body .ui-paginator .ui-paginator-first:before{position:relative;top:1px}body .ui-paginator .ui-paginator-prev:before{position:relative}body .ui-paginator .ui-paginator-last:before,body .ui-paginator .ui-paginator-next:before{position:relative;top:1px}body .ui-paginator .ui-paginator-pages{vertical-align:top;display:inline-block;padding:0}body .ui-paginator .ui-paginator-pages .ui-paginator-page{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body .ui-paginator .ui-paginator-pages .ui-paginator-page.ui-state-active{background-color:#afd3c8;color:#385048}body .ui-paginator .ui-paginator-pages .ui-paginator-page:not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body .ui-paginator .ui-paginator-pages .ui-paginator-page:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-paginator .ui-dropdown{margin-left:.5em;height:2.286em;min-width:auto}body .ui-table .ui-table-caption,body .ui-table .ui-table-summary{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body .ui-table .ui-table-caption{border-bottom:0;font-weight:700}body .ui-table .ui-table-summary{border-top:0;font-weight:700}body .ui-table .ui-table-thead>tr>th{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body .ui-table .ui-table-tbody>tr>td{padding:.571em .857em}body .ui-table .ui-table-tfoot>tr>td{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body .ui-table .ui-sortable-column{transition:box-shadow .2s}body .ui-table .ui-sortable-column:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-table .ui-sortable-column .ui-sortable-column-icon{color:#666}body .ui-table .ui-sortable-column:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body .ui-table .ui-sortable-column:not(.ui-state-highlight):hover .ui-sortable-column-icon{color:#666}body .ui-table .ui-sortable-column.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-table .ui-sortable-column.ui-state-highlight .ui-sortable-column-icon{color:#385048}body .ui-table .ui-editable-column input{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body .ui-table .ui-editable-column input:focus{outline:1px solid #dadada;outline-offset:2px}body .ui-table .ui-table-tbody>tr{background-color:#fff;color:#666}body .ui-table .ui-table-tbody>tr>td{background-color:inherit;border:1px solid #dadada}body .ui-table .ui-table-tbody>tr.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-table .ui-table-tbody>tr.ui-state-highlight a{color:#385048}body .ui-table .ui-table-tbody>tr.ui-contextmenu-selected{background-color:#afd3c8;color:#385048}body .ui-table .ui-table-tbody>tr.ui-table-dragpoint-top>td{box-shadow:inset 0 2px 0 0 #afd3c8}body .ui-table .ui-table-tbody>tr.ui-table-dragpoint-bottom>td{box-shadow:inset 0 -2px 0 0 #afd3c8}body .ui-table .ui-table-tbody>tr:nth-child(2n){background-color:#f8f8f8}body .ui-table .ui-table-tbody>tr:nth-child(2n).ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-table .ui-table-tbody>tr:nth-child(2n).ui-state-highlight a{color:#385048}body .ui-table .ui-table-tbody>tr:nth-child(2n).ui-contextmenu-selected{background-color:#afd3c8;color:#385048}body .ui-table.ui-table-hoverable-rows .ui-table-tbody>tr.ui-selectable-row:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body .ui-table .ui-column-resizer-helper{background-color:#7b95a3}@media screen and (max-width:40em){body .ui-table.ui-table-responsive .ui-paginator-top{border-bottom:1px solid #dadada}body .ui-table.ui-table-responsive .ui-paginator-bottom{border-top:1px solid #dadada}body .ui-table.ui-table-responsive .ui-table-tbody>tr>td{border:0}}body .ui-datagrid .ui-datagrid-header{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-datagrid .ui-datagrid-content,body .ui-datagrid .ui-datagrid-footer{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-datagrid .ui-datagrid-footer{border-top:0}body .ui-datalist .ui-datalist-header{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-datalist .ui-datalist-content,body .ui-datalist .ui-datalist-footer{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-datalist .ui-datalist-footer{border-top:0}body .ui-datascroller .ui-datascroller-header{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-datascroller .ui-datascroller-content,body .ui-datascroller .ui-datascroller-footer{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-datascroller .ui-datascroller-footer{border-top:0}body .ui-virtualscroller .ui-virtualscroller-header{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-virtualscroller .ui-virtualscroller-content{border:1px solid #dadada;background-color:#fff;color:#666}body .ui-virtualscroller .ui-virtualscroller-content .ui-virtualscroller-list li{border-bottom:1px solid #7b95a3}body .ui-virtualscroller .ui-virtualscroller-footer{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body .ui-dataview .ui-dataview-header{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-dataview .ui-dataview-content,body .ui-dataview .ui-dataview-footer{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-dataview .ui-dataview-footer{border-top:0}body .ui-dataview .ui-dataview-layout-options .ui-button{transition:background-color .2s,box-shadow .2s}body .ui-dataview .ui-dataview-layout-options .ui-button:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body .fc th{background-color:#7b95a3;border:1px solid #7b95a3;color:#fff;padding:.571em 1em}body .fc td.ui-widget-content{background-color:#fff;border:1px solid #dadada;color:#666}body .fc td.fc-head-container{border:1px solid #7b95a3}body .fc .fc-row{border-right:1px solid #7b95a3}body .fc .fc-event{background-color:#afd3c8;border:1px solid #6c8999;color:#385048;transition:box-shadow .2s}body .fc .fc-event:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .fc .fc-toolbar .fc-button{color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s;border-radius:2px}body .fc .fc-toolbar .fc-button:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body .fc .fc-toolbar .fc-button .fc-icon-chevron-left{font-family:PrimeIcons!important;text-indent:0}body .fc .fc-toolbar .fc-button .fc-icon-chevron-left:before{content:"\ue900"}body .fc .fc-toolbar .fc-button .fc-icon-chevron-right{font-family:PrimeIcons!important;text-indent:0}body .fc .fc-toolbar .fc-button .fc-icon-chevron-right:before{content:"\ue901"}body .fc .fc-toolbar .fc-button:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .fc .fc-toolbar .fc-button-group .fc-button{border-radius:0}body .fc .fc-toolbar .fc-button-group .fc-button:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body .fc .fc-toolbar .fc-button-group .fc-button:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body .fc .fc-divider{background-color:#7b95a3;border:1px solid #7b95a3}body .ui-fluid .fc .fc-toolbar .fc-button{width:auto}body .ui-picklist .ui-picklist-buttons button{font-size:16px}body .ui-picklist .ui-picklist-caption{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body .ui-picklist .ui-picklist-filter-container{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body .ui-picklist .ui-picklist-filter-container input.ui-picklist-filter{width:100%;padding-right:2em;text-indent:0}body .ui-picklist .ui-picklist-filter-container .ui-picklist-filter-icon{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body .ui-picklist .ui-picklist-buttons{padding:.571em 1em}body .ui-picklist .ui-picklist-list{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body .ui-picklist .ui-picklist-list .ui-picklist-item{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body .ui-picklist .ui-picklist-list .ui-picklist-item:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body .ui-picklist .ui-picklist-list .ui-picklist-item.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-picklist .ui-picklist-list .ui-picklist-item:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-picklist .ui-picklist-list .ui-picklist-droppoint-highlight{background-color:#afd3c8}@media (max-width:40em){body .ui-picklist.ui-picklist-responsive .ui-picklist-buttons{padding:.571em 1em}}body .ui-orderlist .ui-orderlist-controls{padding:.571em 1em}body .ui-orderlist .ui-orderlist-controls button{font-size:16px}body .ui-orderlist .ui-orderlist-caption{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body .ui-orderlist .ui-orderlist-filter-container{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body .ui-orderlist .ui-orderlist-filter-container input.ui-inputtext{width:100%;padding-right:2em;text-indent:0}body .ui-orderlist .ui-orderlist-filter-container .ui-orderlist-filter-icon{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body .ui-orderlist .ui-orderlist-list{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body .ui-orderlist .ui-orderlist-list .ui-orderlist-item{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body .ui-orderlist .ui-orderlist-list .ui-orderlist-item:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body .ui-orderlist .ui-orderlist-list .ui-orderlist-item.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-orderlist .ui-orderlist-list .ui-orderlist-item:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-orderlist .ui-orderlist-list .ui-orderlist-droppoint-highlight{background-color:#afd3c8}body .ui-tree{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-tree .ui-tree-container{padding:.286em;margin:0}body .ui-tree .ui-tree-container .ui-treenode{padding:.143em 0}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content{padding:0;border:1px solid transparent;transition:background-color .2s,box-shadow .2s;border-radius:2px}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-tree-toggler{vertical-align:middle;display:inline-block;float:none;margin:0 .143em 0 0;color:#a6a6a6}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-treenode-icon{vertical-align:middle;display:inline-block;margin:0 .143em 0 0;color:#a6a6a6}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-treenode-label{margin:0;vertical-align:middle;display:inline-block;padding:.286em}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-treenode-label.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-chkbox{margin:0 .5em 0 0}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content .ui-chkbox .ui-chkbox-icon{margin:1px 0 0}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content.ui-treenode-selectable .ui-treenode-label:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content>span{line-height:inherit}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content.ui-treenode-dragover{background-color:#f4f4f4;color:#666}body .ui-tree .ui-tree-container .ui-treenode .ui-treenode-content:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-tree .ui-tree-container .ui-treenode-droppoint.ui-treenode-droppoint-active{background-color:#afd3c8}body .ui-tree.ui-tree-horizontal{padding-left:0;padding-right:0}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content .ui-chkbox .ui-icon{color:#7b95a3}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content .ui-treenode-label:not(.ui-state-highlight):hover{background-color:inherit;color:inherit}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content.ui-treenode-selectable:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body .ui-tree.ui-tree-horizontal .ui-treenode .ui-treenode-content:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-tree .ui-tree-filter-container .ui-tree-filter{width:100%;padding-right:2em}body .ui-tree .ui-tree-filter-container .ui-tree-filter-icon{top:50%;left:auto;margin-top:-.5em;right:.8em;color:#a6a6a6}body .ui-organizationchart .ui-organizationchart-node-content.ui-organizationchart-selectable-node:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body .ui-organizationchart .ui-organizationchart-node-content.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-organizationchart .ui-organizationchart-node-content.ui-state-highlight .ui-node-toggler i{color:#5da68f}body .ui-organizationchart .ui-organizationchart-line-down{background-color:#c8c8c8}body .ui-organizationchart .ui-organizationchart-line-left{border-right:1px solid;border-color:#c8c8c8}body .ui-organizationchart .ui-organizationchart-line-top{border-color:#dadada #c8c8c8 #c8c8c8;border-top:1px solid #c8c8c8}body .ui-organizationchart .ui-organizationchart-node-content{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body .ui-organizationchart .ui-organizationchart-node-content .ui-node-toggler{bottom:-.7em;margin-left:-.46em;color:#a6a6a6;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body .ui-organizationchart .ui-organizationchart-node-content .ui-node-toggler:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-treetable .ui-treetable-caption,body .ui-treetable .ui-treetable-summary{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body .ui-treetable .ui-treetable-caption{border-bottom:0;font-weight:700}body .ui-treetable .ui-treetable-summary{border-top:0;font-weight:700}body .ui-treetable .ui-treetable-thead>tr>th{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body .ui-treetable .ui-treetable-tbody>tr>td{padding:.571em .857em}body .ui-treetable .ui-treetable-tfoot>tr>td{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body .ui-treetable .ui-sortable-column{transition:box-shadow .2s}body .ui-treetable .ui-sortable-column:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-treetable .ui-sortable-column .ui-sortable-column-icon{color:#666}body .ui-treetable .ui-sortable-column:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body .ui-treetable .ui-sortable-column:not(.ui-state-highlight):hover .ui-sortable-column-icon{color:#666}body .ui-treetable .ui-sortable-column.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-treetable .ui-sortable-column.ui-state-highlight .ui-sortable-column-icon{color:#385048}body .ui-treetable .ui-editable-column input{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body .ui-treetable .ui-editable-column input:focus{outline:1px solid #dadada;outline-offset:2px}body .ui-treetable .ui-treetable-tbody>tr{background-color:#fff;color:#666}body .ui-treetable .ui-treetable-tbody>tr>td{background-color:inherit;border:1px solid #dadada}body .ui-treetable .ui-treetable-tbody>tr>td .ui-treetable-toggler{color:#a6a6a6;vertical-align:middle}body .ui-treetable .ui-treetable-tbody>tr>td .ui-treetable-chkbox{vertical-align:middle;margin-right:.5em}body .ui-treetable .ui-treetable-tbody>tr.ui-state-highlight{background-color:#afd3c8;color:#385048}body .ui-treetable .ui-treetable-tbody>tr.ui-state-highlight>td{background-color:inherit;border:1px solid #dadada}body .ui-treetable .ui-treetable-tbody>tr.ui-state-highlight>td .ui-treetable-toggler{color:#385048}body .ui-treetable .ui-treetable-tbody>tr.ui-contextmenu-selected{background-color:#afd3c8;color:#385048}body .ui-treetable .ui-treetable-tbody>tr.ui-contextmenu-selected>td{background-color:inherit;border:1px solid #dadada}body .ui-treetable .ui-treetable-tbody>tr.ui-contextmenu-selected>td .ui-treetable-toggler{color:#385048}body .ui-treetable.ui-treetable-hoverable-rows .ui-treetable-tbody>tr:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body .ui-treetable .ui-column-resizer-helper{background-color:#7b95a3}body .ui-carousel .ui-carousel-content .ui-carousel-next,body .ui-carousel .ui-carousel-content .ui-carousel-prev{background-color:#7b95a3;border:1px solid #617c8a;border-radius:50%;margin:.2em;color:#fff;transition:background-color .2s,box-shadow .2s}body .ui-carousel .ui-carousel-content .ui-carousel-next:not(.ui-state-disabled):hover,body .ui-carousel .ui-carousel-content .ui-carousel-prev:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body .ui-carousel .ui-carousel-dots-container .ui-carousel-dot-item>.ui-button{border-color:transparent;background-color:transparent}body .ui-carousel .ui-carousel-dots-container .ui-carousel-dot-item .ui-carousel-dot-icon{width:20px;height:6px;background-color:#b2c1cd;margin:0 .2em}body .ui-carousel .ui-carousel-dots-container .ui-carousel-dot-item .ui-carousel-dot-icon:before{content:" "}body .ui-carousel .ui-carousel-dots-container .ui-carousel-dot-item.ui-state-highlight .ui-carousel-dot-icon{background-color:#7b95a3}body .ui-messages{padding:1em;margin:1em 0}body .ui-messages.ui-messages-info{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body .ui-messages.ui-messages-info .ui-messages-close,body .ui-messages.ui-messages-info .ui-messages-icon{color:#212121}body .ui-messages.ui-messages-success{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body .ui-messages.ui-messages-success .ui-messages-close,body .ui-messages.ui-messages-success .ui-messages-icon{color:#212121}body .ui-messages.ui-messages-warn{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body .ui-messages.ui-messages-warn .ui-messages-close,body .ui-messages.ui-messages-warn .ui-messages-icon{color:#212121}body .ui-messages.ui-messages-error{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body .ui-messages.ui-messages-error .ui-messages-close,body .ui-messages.ui-messages-error .ui-messages-icon{color:#212121}body .ui-messages .ui-messages-close{top:.25em;right:.5em;font-size:1.5em;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body .ui-messages .ui-messages-close:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-messages .ui-messages-icon{font-size:2em}body .ui-message{padding:.429em;margin:0}body .ui-message.ui-message-info{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body .ui-message.ui-message-info .ui-message-icon{color:#212121}body .ui-message.ui-message-success{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body .ui-message.ui-message-success .ui-message-icon{color:#212121}body .ui-message.ui-message-warn{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body .ui-message.ui-message-warn .ui-message-icon{color:#212121}body .ui-message.ui-message-error{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body .ui-message.ui-message-error .ui-message-icon{color:#212121}body .ui-message .ui-message-icon{font-size:1.714em}body .ui-message .ui-message-text{font-size:14px}body .ui-growl{top:120px}body .ui-growl .ui-growl-item-container{margin:0 0 1em;opacity:.9;filter:alpha(opacity=90);box-shadow:0 3px 6px 0 rgba(0,0,0,.16)}body .ui-growl .ui-growl-item-container .ui-growl-item{padding:1em}body .ui-growl .ui-growl-item-container .ui-growl-item .ui-growl-message{margin:0 0 0 4em}body .ui-growl .ui-growl-item-container .ui-growl-item .ui-growl-image{font-size:3.429em}body .ui-growl .ui-growl-item-container.ui-growl-message-info{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-info .ui-growl-image{color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-success{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-success .ui-growl-image{color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-warn{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-warn .ui-growl-image{color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-error{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body .ui-growl .ui-growl-item-container.ui-growl-message-error .ui-growl-image{color:#212121}body .ui-toast .ui-toast-message{box-shadow:0 3px .429em 0 rgba(0,0,0,.16);margin:0 0 1em}body .ui-toast .ui-toast-message.ui-toast-message-info{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-info .ui-toast-close-icon{color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-success{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-success .ui-toast-close-icon{color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-warn{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-warn .ui-toast-close-icon{color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-error{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body .ui-toast .ui-toast-message.ui-toast-message-error .ui-toast-close-icon{color:#212121}body .ui-widget-overlay{background-color:rgba(0,0,0,.4)}body .ui-overlaypanel{background-color:#fff;color:#666;padding:0;border:1px solid #f1f1f1;border-radius:0}body .ui-overlaypanel .ui-overlaypanel-content{padding:.571em 1em}body .ui-overlaypanel .ui-overlaypanel-close{background-color:#7b95a3;color:#fff;width:1.538em;height:1.538em;line-height:1.538em;text-align:center;position:absolute;top:-.769em;right:-.769em;transition:color .2s,background-color .2s,box-shadow .2s}body .ui-overlaypanel .ui-overlaypanel-close .ui-overlaypanel-close-icon{line-height:inherit}body .ui-overlaypanel .ui-overlaypanel-close:hover{background-color:#617c8a;color:#fff}body .ui-overlaypanel .ui-overlaypanel-close:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-overlaypanel:after{border-color:hsla(0,0%,100%,0) hsla(0,0%,100%,0) #fff}body .ui-overlaypanel:before{border-color:hsla(0,0%,94.5%,0) hsla(0,0%,94.5%,0) #f1f1f1}body .ui-overlaypanel.ui-overlaypanel-flipped:after{border-top-color:#fff}body .ui-overlaypanel.ui-overlaypanel-flipped:before{border-top-color:#f1f1f1}body .ui-dialog{padding:0;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-dialog .ui-dialog-titlebar{background-color:#7b95a3;color:#fff;padding:1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body .ui-dialog .ui-dialog-titlebar .ui-dialog-title{margin:0;float:none}body .ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-icon{color:#fff;border:0;padding:0;margin-left:.5em;transition:color .2s,background-color .2s,box-shadow .2s}body .ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-icon span{width:auto}body .ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-icon:hover{color:#fff}body .ui-dialog .ui-dialog-titlebar .ui-dialog-titlebar-icon:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-dialog .ui-dialog-content{background-color:#fff;color:#666;border:1px solid #f1f1f1;padding:.571em 1em}body .ui-dialog .ui-dialog-footer{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;margin:0;text-align:right;position:relative;top:-1px}body .ui-dialog .ui-dialog-footer button{margin:0 .5em 0 0;width:auto}body .ui-dialog.ui-confirm-dialog .ui-dialog-content{padding:1.5em}body .ui-dialog.ui-confirm-dialog .ui-dialog-content>span{float:none;display:inline-block;vertical-align:middle;line-height:14px;margin:0}body .ui-dialog.ui-confirm-dialog .ui-dialog-content>span.ui-icon{margin-right:.35em;font-size:16px}body .ui-sidebar{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #f1f1f1;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-sidebar .ui-sidebar-close{color:#a6a6a6}body .ui-sidebar .ui-sidebar-close:hover{color:#666}body .ui-tooltip .ui-tooltip-text{background-color:#afd3c8;color:#385048;padding:.429em;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-tooltip.ui-tooltip-right .ui-tooltip-arrow{border-right-color:#afd3c8}body .ui-tooltip.ui-tooltip-left .ui-tooltip-arrow{border-left-color:#afd3c8}body .ui-tooltip.ui-tooltip-top .ui-tooltip-arrow{border-top-color:#afd3c8}body .ui-tooltip.ui-tooltip-bottom .ui-tooltip-arrow{border-bottom-color:#afd3c8}body .ui-lightbox{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-lightbox .ui-lightbox-caption{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700}body .ui-lightbox .ui-lightbox-caption .ui-lightbox-caption-text{color:#fff;margin:0}body .ui-lightbox .ui-lightbox-caption .ui-lightbox-close{padding:0;color:#fff;overflow:hidden;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body .ui-lightbox .ui-lightbox-caption .ui-lightbox-close:hover{color:#fff}body .ui-lightbox .ui-lightbox-caption .ui-lightbox-close:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-lightbox .ui-lightbox-content-wrapper{overflow:hidden;background-color:#fff;color:#666;border:0;padding:0;border-radius:0}body .ui-lightbox .ui-lightbox-content-wrapper .ui-lightbox-nav-left,body .ui-lightbox .ui-lightbox-content-wrapper .ui-lightbox-nav-right{transition:all .2s;font-size:3em;color:#fff;margin-top:-.5em}body .ui-lightbox .ui-lightbox-content-wrapper .ui-lightbox-nav-left:hover,body .ui-lightbox .ui-lightbox-content-wrapper .ui-lightbox-nav-right:hover{transform:scale(1.2)}body .ui-lightbox .ui-lightbox-content-wrapper .ui-lightbox-content.ui-lightbox-loading~a{display:none}body .ui-breadcrumb{background-color:#fff;border:1px solid #dadada;padding:.571em 1em}body .ui-breadcrumb ul li .ui-menuitem-link{color:#666;margin:0;border-radius:2px;transition:box-shadow .2s}body .ui-breadcrumb ul li .ui-menuitem-link:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-breadcrumb ul li.ui-breadcrumb-chevron{margin:0 .5em;color:#a6a6a6}body .ui-breadcrumb ul li:first-child a{color:#a6a6a6;margin:0}body .ui-breadcrumb ul li .ui-menuitem-icon{color:#a6a6a6}body .ui-steps{position:relative}body .ui-steps .ui-steps-item{background-color:transparent;text-align:center}body .ui-steps .ui-steps-item .ui-menuitem-link{display:inline-block;text-align:center;background-color:transparent;overflow:hidden;border-radius:2px;transition:box-shadow .2s}body .ui-steps .ui-steps-item .ui-menuitem-link:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-steps .ui-steps-item .ui-menuitem-link .ui-steps-number{border-radius:50%;display:inline-block;color:#a6a6a6;background-color:#fff;border:1px solid #c8c8c8;position:relative;top:16px;margin-bottom:14px;width:28px;height:28px;font-size:16px;line-height:24px;text-align:center}body .ui-steps .ui-steps-item .ui-menuitem-link .ui-steps-title{display:block;margin-top:6px;color:#a6a6a6}body .ui-steps .ui-steps-item.ui-state-highlight .ui-steps-number{background:#afd3c8;color:#385048}body .ui-steps .ui-steps-item.ui-state-highlight .ui-steps-title{font-weight:700;color:#666}body .ui-steps:before{content:" ";border-top:1px solid #dadada;width:100%;top:45%;left:0;display:block;position:absolute}body .ui-contextmenu .ui-menuitem-link,body .ui-megamenu .ui-menuitem-link,body .ui-menu .ui-menuitem-link,body .ui-menubar .ui-menuitem-link,body .ui-slidemenu .ui-menuitem-link,body .ui-tieredmenu .ui-menuitem-link{padding:.714em .857em;color:#666;font-weight:400;border-radius:0;transition:box-shadow .2s}body .ui-contextmenu .ui-menuitem-link .ui-menuitem-text,body .ui-megamenu .ui-menuitem-link .ui-menuitem-text,body .ui-menu .ui-menuitem-link .ui-menuitem-text,body .ui-menubar .ui-menuitem-link .ui-menuitem-text,body .ui-slidemenu .ui-menuitem-link .ui-menuitem-text,body .ui-tieredmenu .ui-menuitem-link .ui-menuitem-text{color:#666}body .ui-contextmenu .ui-menuitem-link .ui-menuitem-icon,body .ui-megamenu .ui-menuitem-link .ui-menuitem-icon,body .ui-menu .ui-menuitem-link .ui-menuitem-icon,body .ui-menubar .ui-menuitem-link .ui-menuitem-icon,body .ui-slidemenu .ui-menuitem-link .ui-menuitem-icon,body .ui-tieredmenu .ui-menuitem-link .ui-menuitem-icon{color:#666;margin-right:.5em}body .ui-contextmenu .ui-menuitem-link:hover,body .ui-megamenu .ui-menuitem-link:hover,body .ui-menu .ui-menuitem-link:hover,body .ui-menubar .ui-menuitem-link:hover,body .ui-slidemenu .ui-menuitem-link:hover,body .ui-tieredmenu .ui-menuitem-link:hover{background-color:#eaeaea}body .ui-contextmenu .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-contextmenu .ui-menuitem-link:hover .ui-menuitem-text,body .ui-megamenu .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-megamenu .ui-menuitem-link:hover .ui-menuitem-text,body .ui-menu .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-menu .ui-menuitem-link:hover .ui-menuitem-text,body .ui-menubar .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-menubar .ui-menuitem-link:hover .ui-menuitem-text,body .ui-slidemenu .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-slidemenu .ui-menuitem-link:hover .ui-menuitem-text,body .ui-tieredmenu .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-tieredmenu .ui-menuitem-link:hover .ui-menuitem-text{color:#666}body .ui-contextmenu .ui-menuitem-link:focus,body .ui-megamenu .ui-menuitem-link:focus,body .ui-menu .ui-menuitem-link:focus,body .ui-menubar .ui-menuitem-link:focus,body .ui-slidemenu .ui-menuitem-link:focus,body .ui-tieredmenu .ui-menuitem-link:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body .ui-menu{padding:0;background-color:#fff;border:1px solid #c8c8c8}body .ui-menu .ui-menuitem{margin:0}body .ui-menu.ui-shadow{border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-menu .ui-submenu-header{margin:0;padding:.714em .857em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body .ui-menu .ui-menu-separator{border:solid #c8c8c8;border-width:1px 0 0}body .ui-menubar{padding:0;background-color:#fff;border:1px solid #c8c8c8}body .ui-menubar .ui-menubar-root-list>.ui-menuitem>.ui-menuitem-link{padding:.714em .857em}body .ui-menubar .ui-menubar-root-list>.ui-menu-separator{border:solid #c8c8c8;border-width:0 0 0 1px}body .ui-menubar .ui-submenu-list{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-menubar .ui-submenu-list .ui-menuitem{margin:0}body .ui-menubar .ui-submenu-list .ui-menu-separator{border:solid #c8c8c8;border-width:1px 0 0}body .ui-menubar .ui-menuitem{margin:0}body .ui-menubar .ui-menuitem.ui-menuitem-active>.ui-menuitem-link{background-color:#eaeaea}body .ui-menubar .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-icon,body .ui-menubar .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-text,body .ui-menubar .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-submenu-icon{color:#666}body .ui-contextmenu,body .ui-contextmenu .ui-submenu-list{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-contextmenu .ui-menuitem{margin:0}body .ui-contextmenu .ui-menuitem .ui-menuitem-link .ui-submenu-icon{right:.429em}body .ui-contextmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link{background-color:#eaeaea}body .ui-contextmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-icon,body .ui-contextmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-text,body .ui-contextmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-submenu-icon{color:#666}body .ui-contextmenu .ui-menu-separator{border:solid #c8c8c8;border-width:1px 0 0}body .ui-tieredmenu,body .ui-tieredmenu .ui-submenu-list{padding:0;background-color:#fff;border:1px solid #c8c8c8}body .ui-tieredmenu .ui-submenu-list{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-tieredmenu .ui-menuitem{margin:0}body .ui-tieredmenu .ui-menuitem .ui-menuitem-link .ui-submenu-icon{right:.429em}body .ui-tieredmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link{background-color:#eaeaea}body .ui-tieredmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-icon,body .ui-tieredmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-text,body .ui-tieredmenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-submenu-icon{color:#666}body .ui-tieredmenu .ui-menu-separator{border:solid #c8c8c8;border-width:1px 0 0}body .ui-slidemenu{padding:0;background-color:#fff;border:1px solid #c8c8c8}body .ui-slidemenu .ui-submenu-list{padding:0;background-color:#fff;border:0}body .ui-slidemenu .ui-menuitem{margin:0}body .ui-slidemenu .ui-menuitem .ui-menuitem-link .ui-submenu-icon{right:.429em}body .ui-slidemenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link{background-color:#eaeaea}body .ui-slidemenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-icon,body .ui-slidemenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-text,body .ui-slidemenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-submenu-icon{color:#666}body .ui-slidemenu .ui-slidemenu-backward{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body .ui-slidemenu .ui-slidemenu-backward:hover{background-color:#617c8a;color:#fff}body .ui-slidemenu .ui-menu-separator{border:solid #c8c8c8;border-width:1px 0 0}body .ui-tabmenu{border:0}body .ui-tabmenu .ui-tabmenu-nav{padding:0;background:#fff;border-bottom:1px solid #7b95a3}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem{position:static;border:1px solid #7b95a3;background-color:#7b95a3;margin-right:.214em;margin-bottom:-1px;transition:background-color .2s,box-shadow .2s}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem .ui-menuitem-link{color:#fff;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem .ui-menuitem-link .ui-menuitem-icon,body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem .ui-menuitem-link .ui-menuitem-text{color:#fff;margin-right:.5em}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem .ui-menuitem-link:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem:not(.ui-state-active):not(.ui-state-disabled):hover .ui-menuitem-link .ui-menuitem-icon,body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem:not(.ui-state-active):not(.ui-state-disabled):hover .ui-menuitem-link .ui-menuitem-text{color:#fff}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem.ui-state-active{background-color:#afd3c8;border:1px solid #dadada}body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem.ui-state-active .ui-menuitem-link .ui-menuitem-icon,body .ui-tabmenu .ui-tabmenu-nav .ui-tabmenuitem.ui-state-active .ui-menuitem-link .ui-menuitem-text{color:#385048}body .ui-megamenu{padding:0;background-color:#fff;border:1px solid #c8c8c8}body .ui-megamenu .ui-megamenu-submenu-header{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body .ui-megamenu .ui-megamenu-panel{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body .ui-megamenu .ui-menuitem{margin:0}body .ui-megamenu .ui-menuitem .ui-menuitem-link .ui-submenu-icon{right:.429em}body .ui-megamenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link{background-color:#eaeaea}body .ui-megamenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-icon,body .ui-megamenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-menuitem-text,body .ui-megamenu .ui-menuitem.ui-menuitem-active>.ui-menuitem-link .ui-submenu-icon{color:#666}body .ui-megamenu.ui-megamenu-vertical .ui-megamenu-root-list>.ui-menuitem>.ui-menuitem-link>.ui-submenu-icon{right:.429em}body .ui-panelmenu .ui-icon{position:static}body .ui-panelmenu .ui-panelmenu-header{padding:0}body .ui-panelmenu .ui-panelmenu-header>a{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.714em .857em;font-weight:700;position:static;font-size:14px;border-radius:2px;transition:background-color .2s,box-shadow .2s}body .ui-panelmenu .ui-panelmenu-header>a .ui-panelmenu-icon{color:#fff}body .ui-panelmenu .ui-panelmenu-header>a:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-panelmenu .ui-panelmenu-header:not(.ui-state-active)>a:hover{outline:0 none;border:1px solid #617c8a;background-color:#617c8a;color:#fff}body .ui-panelmenu .ui-panelmenu-header:not(.ui-state-active)>a:hover .ui-panelmenu-icon{color:#fff}body .ui-panelmenu .ui-panelmenu-header.ui-state-active>a{border:1px solid #dadada;background-color:#afd3c8;color:#385048;border-bottom-left-radius:0;border-bottom-right-radius:0}body .ui-panelmenu .ui-panelmenu-header.ui-state-active>a .ui-panelmenu-icon{color:#385048}body .ui-panelmenu .ui-panelmenu-header.ui-state-active>a:hover{outline:0 none;border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body .ui-panelmenu .ui-panelmenu-header.ui-state-active>a:hover .ui-panelmenu-icon{color:#385048}body .ui-panelmenu .ui-panelmenu-panel{margin-top:2px}body .ui-panelmenu .ui-panelmenu-panel:first-child{margin-top:0}body .ui-panelmenu .ui-panelmenu-content{padding:0;background-color:#fff;margin-top:0;position:static;border:1px solid #c8c8c8;border-top:0}body .ui-panelmenu .ui-panelmenu-content .ui-menuitem{margin:0}body .ui-panelmenu .ui-panelmenu-content .ui-menuitem .ui-menuitem-link{padding:.714em .857em;color:#666}body .ui-panelmenu .ui-panelmenu-content .ui-menuitem .ui-menuitem-link:hover{background-color:#eaeaea}body .ui-panelmenu .ui-panelmenu-content .ui-menuitem .ui-menuitem-link:hover .ui-menuitem-icon,body .ui-panelmenu .ui-panelmenu-content .ui-menuitem .ui-menuitem-link:hover .ui-menuitem-text,body .ui-panelmenu .ui-panelmenu-content .ui-menuitem .ui-menuitem-link:hover .ui-panelmenu-icon{color:#666}body .ui-progressbar{border:0;height:1.714em;background-color:#efefef}body .ui-progressbar .ui-progressbar-value{border:0;margin:0;background:#7b95a3}body .ui-progressbar .ui-progressbar-label{margin-top:0;color:#666;line-height:1.714em}body .ui-galleria .ui-galleria-nav-next,body .ui-galleria .ui-galleria-nav-prev{transition:all .2s;position:absolute;color:#a6a6a6}body .ui-galleria .ui-galleria-nav-next:hover,body .ui-galleria .ui-galleria-nav-prev:hover{transform:scale(1.2)}body .ui-galleria .ui-galleria-nav-next,body .ui-galleria .ui-galleria-nav-prev{font-size:16px}body .ui-terminal{background-color:#fff;color:#666;border:1px solid #dadada;padding:.571em 1em}body .ui-terminal .ui-terminal-input{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif;height:16px}body .ui-terminal .ui-terminal-command{height:16px}body .ui-inplace{min-height:2.357em}body .ui-inplace .ui-inplace-display{padding:.429em;border-radius:2px;transition:background-color .2s,box-shadow .2s}body .ui-inplace .ui-inplace-display:not(.ui-state-disabled):hover{background-color:#f4f4f4;color:#666}body .ui-inplace .ui-inplace-display:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body .ui-fluid .ui-inplace.ui-inplace-closable .ui-inplace-content>:first-child{display:inline-block;width:calc(100% - 2.357em)}body,html{margin:0}.mapboxgl-canvas-container{height:100vh;color:#fff}@media (min-width:640px) and (max-width:767px){.menuToggleBtnText{display:none}}.menuBtns{display:flex;margin:1vh 0;height:5vh;justify-content:space-between;align-items:center;font-size:1.25rem;background:none;border:none;border-top:2px solid!important;border-radius:.25rem;cursor:pointer;box-shadow:0 3px 10px #d3d3d3}.menuBtns span{display:flex;flex-direction:row;margin-left:.5rem}.menuBtns i{font-size:1.5em}.menuBtns:hover{background-color:#6a5acd;box-shadow:none;color:#fff}.menuBtns:active{background-color:#ff0;box-shadow:none;color:#789}.menuPanel{padding-top:.15em}.menuPanel .ui-panel-titlebar{border:none;background:none;color:#000;padding-top:0;margin-top:0;top:0}#map{border-radius:.5rem;display:flex;height:75vh;margin:auto;position:relative}.mapboxgl-popup-tip{border-top-color:rgba(0,0,0,.5)!important}.mapboxgl-popup-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 .1rem;color:#fff;background-color:rgba(0,0,0,.5)}.mapboxgl-popup-content .map-popup{text-align:center;margin:auto}.mapboxgl-popup-content .map-popup h3{padding:0;margin:.25rem;line-height:normal}.mapboxgl-popup-content .map-popup p{line-height:normal;padding:.25rem;margin:auto}.ui-button.R-1{color:#000;background-color:#fffaca!important}.ui-button.R-2{color:#000;background-color:#fff68f!important}.ui-button.R-3{color:#000;background-color:#fff100!important}.ui-button.R-4{color:#000;background-color:#ebd417!important}.ui-button.C-1{color:#000;background-color:#a18aad!important}.ui-button.C-2{color:#fff;background-color:#da2028!important}.ui-button.C-3{background-color:#850204!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.MX-1{color:#000;background-color:#e4a024!important}.ui-button.MX-2{color:#000;background-color:#f37520!important}.ui-button.MX-3{color:#fff;background-color:#ff2900!important}.ui-button.I-1{color:#000;background-color:#e1c3dd!important}.ui-button.I-2{color:#fff;background-color:#a53ed5!important}.ui-button.I-3{color:#fff;background-color:#c0188c!important}.ui-button.RDV{color:#000;background-color:#ddd!important}.ui-button.PARK{color:#fff;background-color:#229a00!important}.ui-button.INST{color:#fff;background-color:#0063ff!important}.ui-button.CEM{background-color:#561818!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.PORT{color:#fff;background-color:#b81609!important}.ui-button.EWR{background-color:#820c0c!important;color:#fff!important;-webkit-text-fill-color:#fff!important}'],encapsulation:2}),t})(),eS=(()=>{class t{constructor(t,e,n){this.cartodata=t,this.google=e,this.mapEls=n,this.mapStyle={display:"flex",height:"100vh",width:"100vw",margin:"0",position:"absolute"},this.hoodClicked="",this.lotClicked="",this.clicked={hood:"",lot:""},this.propInfo={code:""},this.mainLayer=new T_.a.Layer("mainLayer",Fx,Nx),this.sideBarDisplay=!1,this.contextMenu=[{icon:"pi pi-info-circle",label:"info"},{icon:"pi pi-download",label:"Show Street View",command:()=>{this.google.openStreetView(this.contextMenuCoords.lat,this.contextMenuCoords.lng)}}],this.zoneLabel=t=>`<a class="btn ${t}">${t}</a>`}ngOnInit(){fetch("assets/data/NwkNeighborhoods.geojson").then(t=>t.json()).then(t=>this.addGeoLayer(t)),this.map=new A_.Map({center:[-74.1723667,40.735657],container:"map",dragRotate:!1,maxZoom:18,style:T_.a.basemaps.voyager,touchZoomRotate:!1,zoom:12});const t=new A_.NavigationControl({showCompass:!1,showZoom:!0});this.map.addControl(t,"bottom-right"),T_.a.setDefaultAuth({apiKey:"0c3e2b7cbff1b34a35e1f2ce3ff94114493bd681",user:"nzlur"});const e=new T_.a.Interactivity(this.mainLayer);this.popup=new A_.Popup({closeButton:!1,closeOnClick:!1}),e.on("featureEnter",t=>{if(t.features.length>0){const e=t.features[0].variables;this.popup.setHTML(`\n                  <div class="map-popup">\n                    <h3>${e.proploc.value}</h3>\n                    <p>Block ${e.blocklot.value.split("-")[0]}, Lot ${e.blocklot.value.split("-")[1]}</p>\n                  </div>\n                `),this.popup.setLngLat([t.coordinates.lng,t.coordinates.lat]),this.popup.isOpen()||this.popup.addTo(this.map)}else this.popup.remove()}),e.on("featureClick",t=>{t.features.length>0?(this.lotClicked=t.features[0].variables.blocklot.value,this.clicked.block=this.lotClicked.split("-")[0],this.clicked.lot=this.lotClicked.split("-")[1],this.getPropInfo(this.clicked),this.sideBarDisplay=!0):this.sideBarDisplay=!1}),this.mainLayer.addTo(this.map,"watername_ocean"),this.map.on("contextmenu",t=>this.contextMenuCoords=t.lngLat)}updateViz(t){switch(t){case"landuse":this.mainLayer.update(zx,Bx);break;case"zoning":this.mainLayer.update(Fx,Lx);break;default:return this.mainLayer.update(Fx,Nx)}}addGeoLayer(t){const e=new T_.a.source.GeoJSON(t);this.geoLayer=new T_.a.Layer("geoLayer",e,Rx),this.geoLayer.addTo(this.map,"watername_ocean"),this.mapEls.addLabels(this.map,t),this.map.resize()}changeGeo(t){fetch(`assets/data/${t}.geojson`).then(t=>t.json()).then(t=>{const e=new T_.a.source.GeoJSON(t);this.geoLayer.update(e,Rx),this.map.getSource("GeoLabelSource").setData(t)})}getPropInfo(t){this.cartodata.getZoning("*",t.block,t.lot).subscribe(t=>{this.propInfo=t.rows[0],this.clicked.labelStyle=this.zoneLabel(this.propInfo.code?this.propInfo.code:"")})}}return t.\u0275fac=function(e){return new(e||t)(fa(ly),fa(dy),fa(Ix))},t.\u0275cmp=me({type:t,selectors:[["app-map"]],inputs:{parcelView:"parcelView"},decls:5,vars:6,consts:[["id","map",3,"ngStyle"],["map",""],[3,"target","model"],["position","right","styleClass","p-col-12 p-md-10 p-lg-8 p-xl-6",3,"visible","visibleChange"],[3,"mapInput","propInfo"]],template:function(t,e){if(1&t&&(Ca(0,"div",0,1),Ca(2,"p-contextMenu",2),ba(3,"p-sidebar",3),Ea("visibleChange",(function(t){return e.sideBarDisplay=t})),Ca(4,"app-sidepanel",4),va()),2&t){const t=pa(1);_a("ngStyle",e.mapStyle),oo(2),_a("target",t)("model",e.contextMenu),oo(1),_a("visible",e.sideBarDisplay),oo(1),_a("mapInput",e.clicked)("propInfo",e.propInfo)}},directives:[Nl,ow,dw,tS],encapsulation:2}),t})();const nS=["rb"],iS=function(t,e,n){return{"ui-radiobutton-label":!0,"ui-label-active":t,"ui-label-disabled":e,"ui-label-focus":n}};function oS(t,e){if(1&t){const t=Ma();ba(0,"label",7),Ea("click",(function(e){return Be(t),Aa().select(e)})),hs(1),va()}if(2&t){const t=Aa(),e=pa(3);Ja(t.labelStyleClass),_a("ngClass",Tu(5,iS,e.checked,t.disabled,t.focused)),la("for",t.inputId),oo(1),ps(t.label)}}const rS=function(t,e,n){return{"ui-radiobutton-box ui-widget ui-state-default":!0,"ui-state-active":t,"ui-state-disabled":e,"ui-state-focus":n}},aS=function(t){return{"pi pi-circle-on":t}},sS={provide:Ew,useExisting:Ot(()=>uS),multi:!0};let uS=(()=>{let t=class{constructor(t){this.cd=t,this.onClick=new Vu,this.onFocus=new Vu,this.onBlur=new Vu,this.onModelChange=()=>{},this.onModelTouched=()=>{}}handleClick(t,e,n){t.preventDefault(),this.disabled||(this.select(t),n&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.onClick.emit(t))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}};return t.\u0275fac=function(e){return new(e||t)(fa(Ar))},t.\u0275cmp=me({type:t,selectors:[["p-radioButton"]],viewQuery:function(t,e){var n;1&t&&Qu(nS,!0),2&t&&Yu(n=oc())&&(e.inputViewChild=n.first)},inputs:{disabled:"disabled",value:"value",name:"name",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Ds([sS])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"ui-helper-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],["role","radio",3,"ngClass","click"],[1,"ui-radiobutton-icon","ui-clickable",3,"ngClass"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,e){if(1&t){const t=Ma();ba(0,"div",0),ba(1,"div",1),ba(2,"input",2,3),Ea("change",(function(t){return e.onChange(t)}))("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)})),va(),va(),ba(4,"div",4),Ea("click",(function(n){Be(t);const i=pa(3);return e.handleClick(n,i,!0)})),Ca(5,"span",5),va(),va(),ha(6,oS,2,9,"label",6)}if(2&t){const t=pa(3);Ja(e.styleClass),_a("ngStyle",e.style)("ngClass","ui-radiobutton ui-widget"),oo(2),_a("checked",e.checked)("disabled",e.disabled),la("id",e.inputId)("name",e.name)("value",e.value)("tabindex",e.tabindex)("aria-labelledby",e.ariaLabelledBy),oo(2),_a("ngClass",Tu(15,rS,t.checked,e.disabled,e.focused)),la("aria-checked",e.checked),oo(1),_a("ngClass",Eu(19,aS,t.checked)),oo(1),_a("ngIf",e.label)}},directives:[Nl,Il,Ll],encapsulation:2}),t})(),cS=(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})();const lS=["menu"],dS=["menuBtns"];function hS(t,e){if(1&t){const t=Ma();ba(0,"button",9),Ea("click",(function(){Be(t);const n=e.$implicit;return Aa().menuBtnClick(n.id)})),Ca(1,"i"),ba(2,"span"),hs(3),va(),va()}if(2&t){const t=e.$implicit,n=Aa();Ja(t.styleClass),_a("id",t.id),oo(1),Ja(t.icon),oo(1),$a("display",n.btnTextDisplay),oo(1),ps(t.label)}}function pS(t,e){if(1&t){const t=Ma();ba(0,"div",16),ba(1,"p-radioButton",17),Ea("ngModelChange",(function(n){return Be(t),e.$implicit.status=n}))("onClick",(function(n){Be(t);const i=e.$implicit;return Aa(3).valueChanged(i,"geo",n)})),va(),va()}if(2&t){const t=e.$implicit;oo(1),Fa("name",t.name),Fa("value",t.value),Fa("label",t.label),Fa("inputId",t.id),_a("ngModel",t.status)}}function fS(t,e){if(1&t&&(ba(0,"div",14),ha(1,pS,2,5,"div",15),va()),2&t){const t=Aa(2);oo(1),_a("ngForOf",t.geoStyles)}}function gS(t,e){if(1&t){const t=Ma();ba(0,"div",16),ba(1,"p-radioButton",17),Ea("ngModelChange",(function(n){return Be(t),e.$implicit.status=n}))("onClick",(function(n){Be(t);const i=e.$implicit;return Aa(3).valueChanged(i,"parcel",n)})),va(),va()}if(2&t){const t=e.$implicit;oo(1),Fa("name",t.name),Fa("value",t.value),Fa("label",t.label),Fa("inputId",t.id),_a("ngModel",t.status)}}function mS(t,e){if(1&t&&(ba(0,"div",14),ha(1,gS,2,5,"div",15),va()),2&t){const t=Aa(2);oo(1),_a("ngForOf",t.parcelStyles)}}function _S(t,e){1&t&&(ba(0,"tr"),Ca(1,"th"),ba(2,"th",21),hs(3,"Layer Name"),va(),ba(4,"th",22),Ca(5,"i",23),va(),va())}function yS(t,e){if(1&t){const t=Ma();ba(0,"tr",24),ba(1,"td"),Ca(2,"i",25),va(),ba(3,"td"),hs(4),va(),ba(5,"td"),ba(6,"p-tableCheckbox",26),Ea("ngModelChange",(function(n){return Be(t),e.$implicit.status=n})),va(),va(),va()}if(2&t){const t=e.$implicit,n=e.rowIndex;_a("pReorderableRow",n)("pSelectableRow",t),oo(4),ps(t.name),oo(2),_a("index",n)("ngModel",t.status)}}function bS(t,e){1&t&&(ba(0,"p-table",18),ha(1,_S,6,0,"ng-template",19),ha(2,yS,7,5,"ng-template",20),va()),2&t&&_a("value",Aa(2).layers)}function vS(t,e){if(1&t){const t=Ma();ba(0,"p-card",10),ba(1,"p-header",6),Ea("click",(function(){return Be(t),Aa().menuReset()})),Ca(2,"i",11),hs(3," back "),va(),ha(4,fS,2,1,"div",12),ha(5,mS,2,1,"div",12),ha(6,bS,3,1,"p-table",13),va()}if(2&t){const t=Aa();oo(4),_a("ngIf",t.geoVisible),oo(1),_a("ngIf",t.parcelVisible),oo(1),_a("ngIf",t.layersVisible)}}let CS=(()=>{class t{constructor(){this.geoVisible=!1,this.geoValChange=new Vu,this.parcelVisible=!1,this.parcelValChange=new Vu,this.layersVisible=!1,this.layerStatusChange=new vP,this.menuClicked=!1}valueChanged(t,e,n){switch(e){case"geo":this.geoValChange.emit(t.status);break;case"parcels":this.parcelValChange.emit(t.status);break;default:this.layerStatusChange.setValue(!t.status)}}layerVizChange(t){}menuBtnClick(t){switch(this.menuClicked=!0,this.btnTextDisplay="none",t){case"geo":this.parcelVisible=!1,this.geoVisible=!0,this.layersVisible=!1;break;case"parcels":this.parcelVisible=!0,this.geoVisible=!1,this.layersVisible=!1;break;default:this.parcelVisible=!1,this.geoVisible=!1,this.layersVisible=!0}}menuReset(){this.menuClicked=!1,this.btnTextDisplay="flex"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["app-menu"]],viewQuery:function(t,e){var n;1&t&&(Ju(lS,!0),Ju(dS,!0)),2&t&&(Yu(n=oc())&&(e.menu=n.first),Yu(n=oc())&&(e.menuBtns=n.first))},inputs:{geoVisible:"geoVisible",geoStyles:"geoStyles",parcelVisible:"parcelVisible",parcelStyles:"parcelStyles",layersVisible:"layersVisible",layers:"layers",menuDisplay:"menuDisplay",menuButtons:"menuButtons"},outputs:{geoValChange:"geoValChange",parcelValChange:"parcelValChange",layerStatusChange:"layerStatusChange"},decls:12,vars:6,consts:[["styleClass","p-col-10 p-md-8 p-lg-6 p-xl-4",3,"visible","visibleChange","onShow","onHide"],["menu",""],["legend","Newark Planning & Zoning",3,"toggleable"],[2,"display","flex","flex-direction","row"],[1,"p-col","p-grid","p-justify-start"],[3,"id","class","click",4,"ngFor","ngForOf"],[1,"p-col-12","menuBtns",3,"click"],[1,"pi","pi-times"],["class","menuPanel p-col-10",4,"ngIf"],[3,"id","click"],[1,"menuPanel","p-col-10"],[1,"pi","pi-chevron-left"],["class","p-grid menupanel",4,"ngIf"],["class","p-grid menupanel","selectionMode","multiple",3,"value",4,"ngIf"],[1,"p-grid","menupanel"],["class","p-col-12",4,"ngFor","ngForOf"],[1,"p-col-12"],[3,"name","value","label","ngModel","inputId","ngModelChange","onClick"],["selectionMode","multiple",1,"p-grid","menupanel",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"p-col-8"],[1,"p-col-2"],[1,"pi","pi-eye"],[3,"pReorderableRow","pSelectableRow"],["pReorderableRowHandle","",1,"pi","pi-sort",2,"display","flex","justify-content","center"],[2,"display","flex","justify-content","center",3,"index","ngModel","ngModelChange"]],template:function(t,e){1&t&&(ba(0,"p-sidebar",0,1),Ea("visibleChange",(function(t){return e.menuDisplay=t}))("onShow",(function(){return e.btnTextDisplay="flex"}))("onHide",(function(){return e.menuClicked=!1})),ba(2,"p-fieldset",2),hs(3," Department of Economic & Housing Development "),va(),ba(4,"div",3),ba(5,"div",4),ha(6,hS,4,8,"button",5),ba(7,"button",6),Ea("click",(function(){return e.menuDisplay=!1})),Ca(8,"i",7),ba(9,"span"),hs(10,"Back"),va(),va(),va(),ha(11,vS,7,3,"p-card",8),va(),va()),2&t&&(_a("visible",e.menuDisplay),oo(2),_a("toggleable",!1),oo(4),_a("ngForOf",e.menuButtons),oo(3),$a("display",e.btnTextDisplay),oo(2),_a("ngIf",e.menuClicked))},directives:[dw,rM,Rl,Ll,Mw,gw,uS,Nw,DP,BE,_w,GE,UE,jE,qE],styles:['@charset "UTF-8";.p-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-.5em;margin-left:-.5em;margin-top:-.5em}.p-grid[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-grid[_ngcontent-%COMP%] > [class*=p-col][_ngcontent-%COMP%]{box-sizing:border-box}.p-nogutter[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:0}.p-nogutter[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-nogutter[_ngcontent-%COMP%] > [class*=p-col-][_ngcontent-%COMP%]{padding:0}.p-dir-row[_ngcontent-%COMP%]{flex-direction:row}.p-dir-rev[_ngcontent-%COMP%]{flex-direction:row-reverse}.p-dir-col[_ngcontent-%COMP%]{flex-direction:column}.p-dir-col-rev[_ngcontent-%COMP%]{flex-direction:column-reverse}.p-justify-start[_ngcontent-%COMP%]{justify-content:flex-start}.p-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.p-justify-center[_ngcontent-%COMP%]{justify-content:center}.p-justify-between[_ngcontent-%COMP%]{justify-content:space-between}.p-justify-around[_ngcontent-%COMP%]{justify-content:space-around}.p-justify-even[_ngcontent-%COMP%]{justify-content:space-evenly}.p-align-start[_ngcontent-%COMP%]{align-items:flex-start}.p-align-end[_ngcontent-%COMP%]{align-items:flex-end}.p-align-center[_ngcontent-%COMP%]{align-items:center}.p-align-baseline[_ngcontent-%COMP%]{align-items:baseline}.p-align-stretch[_ngcontent-%COMP%]{align-items:stretch}.p-col[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;padding:.5em}.p-col-fixed[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5em}.p-col-align-start[_ngcontent-%COMP%]{align-self:flex-start}.p-col-align-end[_ngcontent-%COMP%]{align-self:flex-end}.p-col-align-center[_ngcontent-%COMP%]{align-self:center}.p-col-align-baseline[_ngcontent-%COMP%]{align-self:baseline}.p-col-align-stretch[_ngcontent-%COMP%]{align-self:stretch}.p-dir-col-rev[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-dir-col[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%]{flex-basis:auto}.p-col-1[_ngcontent-%COMP%], .p-col-2[_ngcontent-%COMP%], .p-col-3[_ngcontent-%COMP%], .p-col-4[_ngcontent-%COMP%], .p-col-5[_ngcontent-%COMP%], .p-col-6[_ngcontent-%COMP%], .p-col-7[_ngcontent-%COMP%], .p-col-8[_ngcontent-%COMP%], .p-col-9[_ngcontent-%COMP%], .p-col-10[_ngcontent-%COMP%], .p-col-11[_ngcontent-%COMP%], .p-col-12[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5em}.p-col-1[_ngcontent-%COMP%]{width:8.3333%}.p-col-2[_ngcontent-%COMP%]{width:16.6667%}.p-col-3[_ngcontent-%COMP%]{width:25%}.p-col-4[_ngcontent-%COMP%]{width:33.3333%}.p-col-5[_ngcontent-%COMP%]{width:41.6667%}.p-col-6[_ngcontent-%COMP%]{width:50%}.p-col-7[_ngcontent-%COMP%]{width:58.3333%}.p-col-8[_ngcontent-%COMP%]{width:66.6667%}.p-col-9[_ngcontent-%COMP%]{width:75%}.p-col-10[_ngcontent-%COMP%]{width:83.3333%}.p-col-11[_ngcontent-%COMP%]{width:91.6667%}.p-col-12[_ngcontent-%COMP%]{width:100%}.p-col-order-first[_ngcontent-%COMP%]{order:-1}.p-col-order-last[_ngcontent-%COMP%]{order:13}.p-col-order-0[_ngcontent-%COMP%]{order:0}.p-col-order-1[_ngcontent-%COMP%]{order:1}.p-col-order-2[_ngcontent-%COMP%]{order:2}.p-col-order-3[_ngcontent-%COMP%]{order:3}.p-col-order-4[_ngcontent-%COMP%]{order:4}.p-col-order-5[_ngcontent-%COMP%]{order:5}.p-col-order-6[_ngcontent-%COMP%]{order:6}.p-col-order-7[_ngcontent-%COMP%]{order:7}.p-col-order-8[_ngcontent-%COMP%]{order:8}.p-col-order-9[_ngcontent-%COMP%]{order:9}.p-col-order-10[_ngcontent-%COMP%]{order:10}.p-col-order-11[_ngcontent-%COMP%]{order:11}.p-col-order-12[_ngcontent-%COMP%]{order:12}.p-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-lg-1[_ngcontent-%COMP%], .p-lg-2[_ngcontent-%COMP%], .p-lg-3[_ngcontent-%COMP%], .p-lg-4[_ngcontent-%COMP%], .p-lg-5[_ngcontent-%COMP%], .p-lg-6[_ngcontent-%COMP%], .p-lg-7[_ngcontent-%COMP%], .p-lg-8[_ngcontent-%COMP%], .p-lg-9[_ngcontent-%COMP%], .p-lg-10[_ngcontent-%COMP%], .p-lg-11[_ngcontent-%COMP%], .p-lg-12[_ngcontent-%COMP%], .p-md-1[_ngcontent-%COMP%], .p-md-2[_ngcontent-%COMP%], .p-md-3[_ngcontent-%COMP%], .p-md-4[_ngcontent-%COMP%], .p-md-5[_ngcontent-%COMP%], .p-md-6[_ngcontent-%COMP%], .p-md-7[_ngcontent-%COMP%], .p-md-8[_ngcontent-%COMP%], .p-md-9[_ngcontent-%COMP%], .p-md-10[_ngcontent-%COMP%], .p-md-11[_ngcontent-%COMP%], .p-md-12[_ngcontent-%COMP%], .p-sm-1[_ngcontent-%COMP%], .p-sm-2[_ngcontent-%COMP%], .p-sm-3[_ngcontent-%COMP%], .p-sm-4[_ngcontent-%COMP%], .p-sm-5[_ngcontent-%COMP%], .p-sm-6[_ngcontent-%COMP%], .p-sm-7[_ngcontent-%COMP%], .p-sm-8[_ngcontent-%COMP%], .p-sm-9[_ngcontent-%COMP%], .p-sm-10[_ngcontent-%COMP%], .p-sm-11[_ngcontent-%COMP%], .p-sm-12[_ngcontent-%COMP%], .p-xl-1[_ngcontent-%COMP%], .p-xl-2[_ngcontent-%COMP%], .p-xl-3[_ngcontent-%COMP%], .p-xl-4[_ngcontent-%COMP%], .p-xl-5[_ngcontent-%COMP%], .p-xl-6[_ngcontent-%COMP%], .p-xl-7[_ngcontent-%COMP%], .p-xl-8[_ngcontent-%COMP%], .p-xl-9[_ngcontent-%COMP%], .p-xl-10[_ngcontent-%COMP%], .p-xl-11[_ngcontent-%COMP%], .p-xl-12[_ngcontent-%COMP%]{padding:.5em}.p-col-nogutter[_ngcontent-%COMP%]{padding:0}@media screen and (min-width:576px){.p-sm-1[_ngcontent-%COMP%], .p-sm-2[_ngcontent-%COMP%], .p-sm-3[_ngcontent-%COMP%], .p-sm-4[_ngcontent-%COMP%], .p-sm-5[_ngcontent-%COMP%], .p-sm-6[_ngcontent-%COMP%], .p-sm-7[_ngcontent-%COMP%], .p-sm-8[_ngcontent-%COMP%], .p-sm-9[_ngcontent-%COMP%], .p-sm-10[_ngcontent-%COMP%], .p-sm-11[_ngcontent-%COMP%], .p-sm-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-sm-1[_ngcontent-%COMP%]{width:8.3333%}.p-sm-2[_ngcontent-%COMP%]{width:16.6667%}.p-sm-3[_ngcontent-%COMP%]{width:25%}.p-sm-4[_ngcontent-%COMP%]{width:33.3333%}.p-sm-5[_ngcontent-%COMP%]{width:41.6667%}.p-sm-6[_ngcontent-%COMP%]{width:50%}.p-sm-7[_ngcontent-%COMP%]{width:58.3333%}.p-sm-8[_ngcontent-%COMP%]{width:66.6667%}.p-sm-9[_ngcontent-%COMP%]{width:75%}.p-sm-10[_ngcontent-%COMP%]{width:83.3333%}.p-sm-11[_ngcontent-%COMP%]{width:91.6667%}.p-sm-12[_ngcontent-%COMP%]{width:100%}.p-sm-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-sm-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-sm-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-sm-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-sm-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-sm-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-sm-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-sm-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-sm-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-sm-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-sm-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-sm-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-sm-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-sm-order-first[_ngcontent-%COMP%]{order:-1}.p-sm-order-last[_ngcontent-%COMP%]{order:13}.p-sm-order-0[_ngcontent-%COMP%]{order:0}.p-sm-order-1[_ngcontent-%COMP%]{order:1}.p-sm-order-2[_ngcontent-%COMP%]{order:2}.p-sm-order-3[_ngcontent-%COMP%]{order:3}.p-sm-order-4[_ngcontent-%COMP%]{order:4}.p-sm-order-5[_ngcontent-%COMP%]{order:5}.p-sm-order-6[_ngcontent-%COMP%]{order:6}.p-sm-order-7[_ngcontent-%COMP%]{order:7}.p-sm-order-8[_ngcontent-%COMP%]{order:8}.p-sm-order-9[_ngcontent-%COMP%]{order:9}.p-sm-order-10[_ngcontent-%COMP%]{order:10}.p-sm-order-11[_ngcontent-%COMP%]{order:11}.p-sm-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:768px){.p-md-1[_ngcontent-%COMP%], .p-md-2[_ngcontent-%COMP%], .p-md-3[_ngcontent-%COMP%], .p-md-4[_ngcontent-%COMP%], .p-md-5[_ngcontent-%COMP%], .p-md-6[_ngcontent-%COMP%], .p-md-7[_ngcontent-%COMP%], .p-md-8[_ngcontent-%COMP%], .p-md-9[_ngcontent-%COMP%], .p-md-10[_ngcontent-%COMP%], .p-md-11[_ngcontent-%COMP%], .p-md-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-md-1[_ngcontent-%COMP%]{width:8.3333%}.p-md-2[_ngcontent-%COMP%]{width:16.6667%}.p-md-3[_ngcontent-%COMP%]{width:25%}.p-md-4[_ngcontent-%COMP%]{width:33.3333%}.p-md-5[_ngcontent-%COMP%]{width:41.6667%}.p-md-6[_ngcontent-%COMP%]{width:50%}.p-md-7[_ngcontent-%COMP%]{width:58.3333%}.p-md-8[_ngcontent-%COMP%]{width:66.6667%}.p-md-9[_ngcontent-%COMP%]{width:75%}.p-md-10[_ngcontent-%COMP%]{width:83.3333%}.p-md-11[_ngcontent-%COMP%]{width:91.6667%}.p-md-12[_ngcontent-%COMP%]{width:100%}.p-md-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-md-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-md-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-md-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-md-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-md-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-md-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-md-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-md-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-md-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-md-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-md-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-md-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-md-order-first[_ngcontent-%COMP%]{order:-1}.p-md-order-last[_ngcontent-%COMP%]{order:13}.p-md-order-0[_ngcontent-%COMP%]{order:0}.p-md-order-1[_ngcontent-%COMP%]{order:1}.p-md-order-2[_ngcontent-%COMP%]{order:2}.p-md-order-3[_ngcontent-%COMP%]{order:3}.p-md-order-4[_ngcontent-%COMP%]{order:4}.p-md-order-5[_ngcontent-%COMP%]{order:5}.p-md-order-6[_ngcontent-%COMP%]{order:6}.p-md-order-7[_ngcontent-%COMP%]{order:7}.p-md-order-8[_ngcontent-%COMP%]{order:8}.p-md-order-9[_ngcontent-%COMP%]{order:9}.p-md-order-10[_ngcontent-%COMP%]{order:10}.p-md-order-11[_ngcontent-%COMP%]{order:11}.p-md-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:992px){.p-lg-1[_ngcontent-%COMP%], .p-lg-2[_ngcontent-%COMP%], .p-lg-3[_ngcontent-%COMP%], .p-lg-4[_ngcontent-%COMP%], .p-lg-5[_ngcontent-%COMP%], .p-lg-6[_ngcontent-%COMP%], .p-lg-7[_ngcontent-%COMP%], .p-lg-8[_ngcontent-%COMP%], .p-lg-9[_ngcontent-%COMP%], .p-lg-10[_ngcontent-%COMP%], .p-lg-11[_ngcontent-%COMP%], .p-lg-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-lg-1[_ngcontent-%COMP%]{width:8.3333%}.p-lg-2[_ngcontent-%COMP%]{width:16.6667%}.p-lg-3[_ngcontent-%COMP%]{width:25%}.p-lg-4[_ngcontent-%COMP%]{width:33.3333%}.p-lg-5[_ngcontent-%COMP%]{width:41.6667%}.p-lg-6[_ngcontent-%COMP%]{width:50%}.p-lg-7[_ngcontent-%COMP%]{width:58.3333%}.p-lg-8[_ngcontent-%COMP%]{width:66.6667%}.p-lg-9[_ngcontent-%COMP%]{width:75%}.p-lg-10[_ngcontent-%COMP%]{width:83.3333%}.p-lg-11[_ngcontent-%COMP%]{width:91.6667%}.p-lg-12[_ngcontent-%COMP%]{width:100%}.p-lg-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-lg-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-lg-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-lg-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-lg-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-lg-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-lg-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-lg-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-lg-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-lg-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-lg-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-lg-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-lg-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-lg-order-first[_ngcontent-%COMP%]{order:-1}.p-lg-order-last[_ngcontent-%COMP%]{order:13}.p-lg-order-0[_ngcontent-%COMP%]{order:0}.p-lg-order-1[_ngcontent-%COMP%]{order:1}.p-lg-order-2[_ngcontent-%COMP%]{order:2}.p-lg-order-3[_ngcontent-%COMP%]{order:3}.p-lg-order-4[_ngcontent-%COMP%]{order:4}.p-lg-order-5[_ngcontent-%COMP%]{order:5}.p-lg-order-6[_ngcontent-%COMP%]{order:6}.p-lg-order-7[_ngcontent-%COMP%]{order:7}.p-lg-order-8[_ngcontent-%COMP%]{order:8}.p-lg-order-9[_ngcontent-%COMP%]{order:9}.p-lg-order-10[_ngcontent-%COMP%]{order:10}.p-lg-order-11[_ngcontent-%COMP%]{order:11}.p-lg-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:1200px){.p-xl-1[_ngcontent-%COMP%], .p-xl-2[_ngcontent-%COMP%], .p-xl-3[_ngcontent-%COMP%], .p-xl-4[_ngcontent-%COMP%], .p-xl-5[_ngcontent-%COMP%], .p-xl-6[_ngcontent-%COMP%], .p-xl-7[_ngcontent-%COMP%], .p-xl-8[_ngcontent-%COMP%], .p-xl-9[_ngcontent-%COMP%], .p-xl-10[_ngcontent-%COMP%], .p-xl-11[_ngcontent-%COMP%], .p-xl-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-xl-1[_ngcontent-%COMP%]{width:8.3333%}.p-xl-2[_ngcontent-%COMP%]{width:16.6667%}.p-xl-3[_ngcontent-%COMP%]{width:25%}.p-xl-4[_ngcontent-%COMP%]{width:33.3333%}.p-xl-5[_ngcontent-%COMP%]{width:41.6667%}.p-xl-6[_ngcontent-%COMP%]{width:50%}.p-xl-7[_ngcontent-%COMP%]{width:58.3333%}.p-xl-8[_ngcontent-%COMP%]{width:66.6667%}.p-xl-9[_ngcontent-%COMP%]{width:75%}.p-xl-10[_ngcontent-%COMP%]{width:83.3333%}.p-xl-11[_ngcontent-%COMP%]{width:91.6667%}.p-xl-12[_ngcontent-%COMP%]{width:100%}.p-xl-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-xl-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-xl-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-xl-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-xl-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-xl-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-xl-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-xl-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-xl-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-xl-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-xl-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-xl-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-xl-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-xl-order-first[_ngcontent-%COMP%]{order:-1}.p-xl-order-last[_ngcontent-%COMP%]{order:13}.p-xl-order-0[_ngcontent-%COMP%]{order:0}.p-xl-order-1[_ngcontent-%COMP%]{order:1}.p-xl-order-2[_ngcontent-%COMP%]{order:2}.p-xl-order-3[_ngcontent-%COMP%]{order:3}.p-xl-order-4[_ngcontent-%COMP%]{order:4}.p-xl-order-5[_ngcontent-%COMP%]{order:5}.p-xl-order-6[_ngcontent-%COMP%]{order:6}.p-xl-order-7[_ngcontent-%COMP%]{order:7}.p-xl-order-8[_ngcontent-%COMP%]{order:8}.p-xl-order-9[_ngcontent-%COMP%]{order:9}.p-xl-order-10[_ngcontent-%COMP%]{order:10}.p-xl-order-11[_ngcontent-%COMP%]{order:11}.p-xl-order-12[_ngcontent-%COMP%]{order:12}}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]   .ui-widget[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;text-decoration:none}body[_ngcontent-%COMP%]   .ui-corner-all[_ngcontent-%COMP%]{border-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-top[_ngcontent-%COMP%]{border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-bottom[_ngcontent-%COMP%]{border-bottom-left-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-left[_ngcontent-%COMP%]{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-right[_ngcontent-%COMP%]{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7b95a3;text-decoration:none}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6c8999}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#617c8a}body[_ngcontent-%COMP%]   .ui-helper-reset[_ngcontent-%COMP%]{line-height:normal}body[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-widget[_ngcontent-%COMP%]:disabled{opacity:.5;filter:alpha(opacity=50)}body[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.25em}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{font-size:14px;color:#666;background:#f4f4f4;padding:.429em;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none;-moz-appearance:none;appearance:none}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:hover:not(.ui-state-error){border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:focus:not(.ui-state-error){outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;border-radius:2px;transition:background-color .2s,border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]   .ui-chkbox-icon[_ngcontent-%COMP%]{overflow:hidden;position:relative;font-size:18px}body[_ngcontent-%COMP%]   .ui-chkbox-label[_ngcontent-%COMP%]{margin:0 0 0 .5em}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;position:relative;transition:background-color .2s,border-color .2s,box-shadow .2s;border-radius:50%}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]{background-color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]{background:transparent;width:10px;height:10px;display:inline-block;position:absolute;left:50%;top:50%;margin-left:-5px;margin-top:-5px;transition:background-color .2s;border-radius:50%}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]:before{display:none}body[_ngcontent-%COMP%]   .ui-radiobutton-label[_ngcontent-%COMP%]{margin:0 0 0 .5em}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]{width:3em;height:1.75em}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{transition:background-color .2s,box-shadow .2s;border-radius:30px;background:#f4f4f4}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]:before{background-color:#7b95a3;height:1.25em;width:1.25em;left:.25em;bottom:.25em;border-radius:50%;transition:.2s}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]:before{transform:translateX(1.25em)}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-focus[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{background:#d8dae2;outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-inputswitch-slider[_ngcontent-%COMP%]{background-color:#d8dae2}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-inputswitch-slider[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked.ui-inputswitch-focus[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{background:#afd3c8}body[_ngcontent-%COMP%]   .ui-autocomplete[_ngcontent-%COMP%]   .ui-autocomplete-input[_ngcontent-%COMP%]{padding:.429em}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]{padding:.2145em .429em}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-input-token[_ngcontent-%COMP%]{margin:0;padding:.2145em 0;color:#666}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-token[_ngcontent-%COMP%]{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-list-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-list-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-group[_ngcontent-%COMP%]{padding:.429em .857em;background-color:#dadada;color:#666}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete[_ngcontent-%COMP%]   .ui-autocomplete-dropdown.ui-button[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-dd[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple.ui-autocomplete-dd[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]{border-right:0;width:calc(100% - 2.357em)}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]{padding:.2145em .429em;display:inline-block}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]{padding:.2145em 0}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0;color:#666}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border:0}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-token[_ngcontent-%COMP%]{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%]{padding-right:2em}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-trigger[_ngcontent-%COMP%]{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-clear-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-dropdown.ui-dropdown-clearable[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%]{padding-right:4em}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]   .ui-dropdown-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]   .ui-dropdown-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group.ui-state-highlight[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]   .ui-multiselect-label[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em;color:#666}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]   .ui-multiselect-trigger[_ngcontent-%COMP%]{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]{float:none;width:70%;display:inline-block;vertical-align:middle;margin-left:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]   .ui-multiselect-filter-icon[_ngcontent-%COMP%]{color:#a6a6a6;top:50%;margin-top:-.5em;right:.5em;left:auto}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin-right:.5em;float:none;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]{color:#666;top:50%;margin-top:-.5em;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]:hover{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]{cursor:auto}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:hover{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]:hover{border-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]{padding:0;min-width:12em;background:#fff;border:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]{width:calc(100% - 2.214em)}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]   .ui-listbox-filter-icon[_ngcontent-%COMP%]{top:50%;left:auto;margin-top:-.5em;right:.5em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]{background-color:#fff}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-listbox-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-listbox.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-footer[_ngcontent-%COMP%]{padding:.429em .857em;border-top:1px solid #eaeaea;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-toolbar[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-content[_ngcontent-%COMP%]{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-content[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-picker.ql-expanded[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%]{stroke:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#afd3c8}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%]{stroke:#afd3c8}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;display:inline-block;color:#666;border-radius:2px;line-height:1;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a.ui-rating-cancel[_ngcontent-%COMP%]{color:#f3b9b9}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-rating-icon[_ngcontent-%COMP%]{font-size:1.429em}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a[_ngcontent-%COMP%]:hover{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a.ui-rating-cancel[_ngcontent-%COMP%]:hover{color:#d66161}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-input[_ngcontent-%COMP%]{padding-right:1.858em}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]{width:1.429em}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button.ui-spinner-up[_ngcontent-%COMP%]{border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button.ui-spinner-down[_ngcontent-%COMP%]{border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]   .ui-spinner-button-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-.5em;margin-left:-.5em;width:1em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-input[_ngcontent-%COMP%]{padding-right:1.858em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]{width:1.429em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]   .ui-spinner-button-icon[_ngcontent-%COMP%]{left:50%}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]{background-color:#c4c4c4;border:0}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-horizontal[_ngcontent-%COMP%]{height:.286em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-horizontal[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{top:50%;margin-top:-.7145em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-vertical[_ngcontent-%COMP%]{width:.286em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-vertical[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{left:50%;margin-left:-.7145em}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{height:1.429em;width:1.429em;background-color:#fff;border:2px solid #7f7f7f;border-radius:50%;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-range[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-slider-handle[_ngcontent-%COMP%]:hover{background-color:2px solid #7f7f7f;border:2px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]{padding:.857em;min-width:18.571em;background-color:#fff;color:#666;border:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-datepicker-inline){border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-monthpicker[_ngcontent-%COMP%]   a.ui-monthpicker-month[_ngcontent-%COMP%]:not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-highlight):hover{background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]{padding:.429em .857em;background-color:#fff;color:#666;border-radius:0}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]{cursor:pointer;top:0;color:#a6a6a6;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]{margin:0;padding:0;line-height:1}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:-.35em;margin-bottom:0;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px;margin:.857em 0 0}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.ui-datepicker-weekheader[_ngcontent-%COMP%]{border-right:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;text-align:center;color:#666;padding:.5em;transition:box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#d0d0d0;color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > a.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > span.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-weeknumber[_ngcontent-%COMP%]{border-right:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-buttonbar[_ngcontent-%COMP%]{border-top:1px solid #d8dae2}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]{border:0;border-top:1px solid #a6a6a6;padding:.857em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;font-size:1.286em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.286em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-monthpicker[_ngcontent-%COMP%]   .ui-monthpicker-month[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-monthpicker[_ngcontent-%COMP%]   .ui-monthpicker-month.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-timeonly[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-timeonly[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]{border-right:1px solid #d8dae2;padding:0 .857em}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]:first-child{padding-left:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]:last-child{padding-right:0;border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:focus:not(.ui-state-error), body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:hover:not(.ui-state-error){border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-datepicker-trigger.ui-button[_ngcontent-%COMP%]{width:2.357em;border-top-left-radius:0;border-bottom-left-radius:0}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]{width:calc(100% - 2.357em)}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-buttonbar[_ngcontent-%COMP%]{background-color:#7b95a3;padding:.571em 1em;color:#fff;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-buttonbar[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{margin-right:8px}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-content[_ngcontent-%COMP%]{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]{top:0}body[_ngcontent-%COMP%]   .ui-fileupload-choose[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-fileupload-choose[_ngcontent-%COMP%]:not(.ui-state-disabled):active{background-color:#617c8a;color:#fff;border-color:#617c8a}body[_ngcontent-%COMP%]   .ui-fileupload-choose.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-password-panel[_ngcontent-%COMP%]{padding:12px;background-color:#fff;color:#666;border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]{border-color:#dadada;background-color:#dbdbdb;color:#666;padding:.429em;min-width:2em}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-checkbox[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-checkbox[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder, body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-inputtext.ng-dirty.ng-invalid[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-autocomplete.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-autocomplete[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-calendar.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-calendar[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-checkbox.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-chips.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-dropdown.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-dropdown[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-inputmask.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-inputswitch.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-listbox.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-multiselect.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-multiselect[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-radiobutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-selectbutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-spinner.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-togglebutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{border:1px solid #e7a3a3}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{margin:0;color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:active{background-color:#617c8a;color:#fff;border-color:#617c8a}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-only[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 1em}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-icon-left[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 1em .429em 2em}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-icon-right[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 2em .429em 1em}body[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em}body[_ngcontent-%COMP%]   .ui-button.ui-button-raised[_ngcontent-%COMP%]{box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}body[_ngcontent-%COMP%]   .ui-button.ui-button-rounded[_ngcontent-%COMP%]{border-radius:15px}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]:hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]:hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;overflow:hidden;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}@media (max-width:640px){body[_ngcontent-%COMP%]   .ui-buttonset[_ngcontent-%COMP%]:not(.ui-splitbutton)   .ui-button[_ngcontent-%COMP%]{margin-bottom:1px;border-radius:2px}}body[_ngcontent-%COMP%]   .ui-splitbutton.ui-buttonset[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{border:1px solid transparent}body[_ngcontent-%COMP%]   .ui-splitbutton.ui-buttonset[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]{min-width:100%}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#333;background-color:#f3f3f3;border:1px solid #f3f3f3}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#d1d1d1;color:#212121;border-color:#d1d1d1}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #99adb8}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#7b95a3;color:#fff;border-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#3d4447;background-color:#a3def8;border:1px solid #79c8eb}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#81cbec;color:#3d4447;border-color:#60b7de}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #d2effc}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#3ea9db;color:#3d4447;border-color:#2987b1}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#323e39;background-color:#a3e2c6;border:1px solid #80caaa}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#80caaa;color:#323e39;border-color:#5ea285}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #caeede}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#31b57c;color:#323e39;border-color:#5ea285}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#333;background-color:#feedbc;border:1px solid #f7db8a}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#ffde87;color:#333;border-color:#f3ce61}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #fef4d5}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#fdc328;color:#333;border-color:#dea818}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#262222;background-color:#f4b6b6;border:1px solid #e38787}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#ef9999;color:#262222;border-color:#cb5858}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #fbe2e2}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#eb5656;color:#262222;border-color:#b73737}body[_ngcontent-%COMP%]   .ui-widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;margin:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]{padding:0;border:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]{border:1px solid #7b95a3;padding:.571em 1em;background-color:#7b95a3;color:#fff;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-title[_ngcontent-%COMP%]{vertical-align:middle;font-weight:700}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]{margin:0;position:relative;font-size:14px;color:#fff;border:1px solid transparent;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-footer[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-footer[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.571em 1em;border:1px solid #7b95a3;color:#fff;background-color:#7b95a3;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-fieldset-toggler[_ngcontent-%COMP%]{float:none;display:inline-block;vertical-align:middle;margin-right:.5em;color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-fieldset-legend-text[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-fieldset.ui-fieldset-toggleable[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset.ui-fieldset-toggleable[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .ui-fieldset-toggler[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-content[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]{margin-bottom:2px}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.571em 1em;border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;font-weight:700;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active   a[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada;color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active:hover   a[_ngcontent-%COMP%]{border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active:hover   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{padding:0;background:#fff;border:0}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;display:inline-block;color:#fff;padding:.571em 1em;font-weight:700}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%]{margin-right:.5em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%]{margin-left:.5em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]{color:#fff;margin:0 .5em 0 0;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover{border:1px solid #8dc8b5;background-color:#8dc8b5}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-bottom:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-top:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-right:-px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-right:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.214em}body[_ngcontent-%COMP%]   .ui-tabview[_ngcontent-%COMP%]   .ui-tabview-panels[_ngcontent-%COMP%]{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .ui-tabview[_ngcontent-%COMP%]   .ui-tabview-panels[_ngcontent-%COMP%]   .ui-tabview-panel[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{vertical-align:middle}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]   .ui-toolbar-separator[_ngcontent-%COMP%]{vertical-align:middle;color:#fff;margin:0 .5em}body[_ngcontent-%COMP%]   .ui-card[_ngcontent-%COMP%]{background-color:#fff;color:#666;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;padding:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-current[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;line-height:2.286em}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-trigger[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:hover   .ui-dropdown-label[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:hover   .ui-dropdown-trigger[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:before{position:relative;top:1px}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:before{position:relative}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:before, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:before{position:relative;top:1px}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;padding:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]:not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{margin-left:.5em;height:2.286em;min-width:auto}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-caption[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-summary[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-caption[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-summary[_ngcontent-%COMP%]{border-top:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]{transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid #dadada;outline-offset:2px}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-table-dragpoint-top[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{box-shadow:inset 0 2px 0 0 #afd3c8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-table-dragpoint-bottom[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{box-shadow:inset 0 -2px 0 0 #afd3c8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f8f8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-state-highlight{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-state-highlight   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-contextmenu-selected{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table.ui-table-hoverable-rows[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-selectable-row[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-column-resizer-helper[_ngcontent-%COMP%]{background-color:#7b95a3}@media screen and (max-width:40em){body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-paginator-top[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-paginator-bottom[_ngcontent-%COMP%]{border-top:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:0}}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-content[_ngcontent-%COMP%]   .ui-virtualscroller-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-footer[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-layout-options[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-layout-options[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3;color:#fff;padding:.571em 1em}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   td.ui-widget-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   td.fc-head-container[_ngcontent-%COMP%]{border:1px solid #7b95a3}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-row[_ngcontent-%COMP%]{border-right:1px solid #7b95a3}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #6c8999;color:#385048;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-left[_ngcontent-%COMP%]{font-family:PrimeIcons!important;text-indent:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-left[_ngcontent-%COMP%]:before{content:"\ue900"}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-right[_ngcontent-%COMP%]{font-family:PrimeIcons!important;text-indent:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-right[_ngcontent-%COMP%]:before{content:"\ue901"}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{border-radius:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-divider[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-caption[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]   input.ui-picklist-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em;text-indent:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]   .ui-picklist-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-droppoint-highlight[_ngcontent-%COMP%]{background-color:#afd3c8}@media (max-width:40em){body[_ngcontent-%COMP%]   .ui-picklist.ui-picklist-responsive[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]{padding:.571em 1em}}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-controls[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-caption[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]{width:100%;padding-right:2em;text-indent:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]   .ui-orderlist-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-droppoint-highlight[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]{padding:.286em;margin:0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]{padding:.143em 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]{padding:0;border:1px solid transparent;transition:background-color .2s,box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-tree-toggler[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;float:none;margin:0 .143em 0 0;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-icon[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin:0 .143em 0 0;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]{margin:0;vertical-align:middle;display:inline-block;padding:.286em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-icon[_ngcontent-%COMP%]{margin:1px 0 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-selectable[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:inherit}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-dragover[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode-droppoint.ui-treenode-droppoint-active[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:inherit;color:inherit}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-selectable[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-filter-container[_ngcontent-%COMP%]   .ui-tree-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-filter-container[_ngcontent-%COMP%]   .ui-tree-filter-icon[_ngcontent-%COMP%]{top:50%;left:auto;margin-top:-.5em;right:.8em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-organizationchart-selectable-node[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-state-highlight[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5da68f}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-down[_ngcontent-%COMP%]{background-color:#c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-left[_ngcontent-%COMP%]{border-right:1px solid;border-color:#c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-top[_ngcontent-%COMP%]{border-color:#dadada #c8c8c8 #c8c8c8;border-top:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]{bottom:-.7em;margin-left:-.46em;color:#a6a6a6;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-caption[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-summary[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-caption[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-summary[_ngcontent-%COMP%]{border-top:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]{transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid #dadada;outline-offset:2px}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#a6a6a6;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-chkbox[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable.ui-treetable-hoverable-rows[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-column-resizer-helper[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-prev[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #617c8a;border-radius:50%;margin:.2em;color:#fff;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-next[_ngcontent-%COMP%]:not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-prev[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%] > .ui-button[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]{width:20px;height:6px;background-color:#b2c1cd;margin:0 .2em}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]:before{content:" "}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]{padding:1em;margin:1em 0}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%]{top:.25em;right:.5em;font-size:1.5em;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{font-size:2em}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]{padding:.429em;margin:0}body[_ngcontent-%COMP%]   .ui-message.ui-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-info[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-success[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-warn[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-error[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{font-size:1.714em}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]   .ui-message-text[_ngcontent-%COMP%]{font-size:14px}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]{top:120px}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]{margin:0 0 1em;opacity:.9;filter:alpha(opacity=90);box-shadow:0 3px 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]{padding:1em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]   .ui-growl-message[_ngcontent-%COMP%]{margin:0 0 0 4em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{font-size:3.429em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-info[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-success[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-warn[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-error[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message[_ngcontent-%COMP%]{box-shadow:0 3px .429em 0 rgba(0,0,0,.16);margin:0 0 1em}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-info[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-success[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-warn[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-error[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-widget-overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4)}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:0;border:1px solid #f1f1f1;border-radius:0}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-content[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;width:1.538em;height:1.538em;line-height:1.538em;text-align:center;position:absolute;top:-.769em;right:-.769em;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]   .ui-overlaypanel-close-icon[_ngcontent-%COMP%]{line-height:inherit}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]:hover{background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]:after{border-color:hsla(0,0%,100%,0) hsla(0,0%,100%,0) #fff}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]:before{border-color:hsla(0,0%,94.5%,0) hsla(0,0%,94.5%,0) #f1f1f1}body[_ngcontent-%COMP%]   .ui-overlaypanel.ui-overlaypanel-flipped[_ngcontent-%COMP%]:after{border-top-color:#fff}body[_ngcontent-%COMP%]   .ui-overlaypanel.ui-overlaypanel-flipped[_ngcontent-%COMP%]:before{border-top-color:#f1f1f1}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]{padding:0;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-title[_ngcontent-%COMP%]{margin:0;float:none}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]{color:#fff;border:0;padding:0;margin-left:.5em;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{background-color:#fff;color:#666;border:1px solid #f1f1f1;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;margin:0;text-align:right;position:relative;top:-1px}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .5em 0 0;width:auto}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{padding:1.5em}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{float:none;display:inline-block;vertical-align:middle;line-height:14px;margin:0}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%] > span.ui-icon[_ngcontent-%COMP%]{margin-right:.35em;font-size:16px}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #f1f1f1;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]   .ui-sidebar-close[_ngcontent-%COMP%]{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]   .ui-sidebar-close[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-tooltip[_ngcontent-%COMP%]   .ui-tooltip-text[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048;padding:.429em;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-right[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-right-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-left[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-left-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-top[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-top-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-bottom[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-bottom-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-caption-text[_ngcontent-%COMP%]{color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]{padding:0;color:#fff;overflow:hidden;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;color:#666;border:0;padding:0;border-radius:0}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-left[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-right[_ngcontent-%COMP%]{transition:all .2s;font-size:3em;color:#fff;margin-top:-.5em}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-left[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-right[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-content.ui-lightbox-loading[_ngcontent-%COMP%] ~ a[_ngcontent-%COMP%]{display:none}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{color:#666;margin:0;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.ui-breadcrumb-chevron[_ngcontent-%COMP%]{margin:0 .5em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{color:#a6a6a6;margin:0}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%]{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]{background-color:transparent;text-align:center}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{display:inline-block;text-align:center;background-color:transparent;overflow:hidden;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-steps-number[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;color:#a6a6a6;background-color:#fff;border:1px solid #c8c8c8;position:relative;top:16px;margin-bottom:14px;width:28px;height:28px;font-size:16px;line-height:24px;text-align:center}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-steps-title[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-steps-number[_ngcontent-%COMP%]{background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-steps-title[_ngcontent-%COMP%]{font-weight:700;color:#666}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]:before{content:" ";border-top:1px solid #dadada;width:100%;top:45%;left:0;display:block;position:absolute}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em;color:#666;font-weight:400;border-radius:0;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%]{color:#666;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menu.ui-shadow[_ngcontent-%COMP%]{border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-submenu-header[_ngcontent-%COMP%]{margin:0;padding:.714em .857em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menubar-root-list[_ngcontent-%COMP%] > .ui-menuitem[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menubar-root-list[_ngcontent-%COMP%] > .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:0 0 0 1px}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-slidemenu-backward[_ngcontent-%COMP%]{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-slidemenu-backward[_ngcontent-%COMP%]:hover{background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]{padding:0;background:#fff;border-bottom:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]{position:static;border:1px solid #7b95a3;background-color:#7b95a3;margin-right:.214em;margin-bottom:-1px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{color:#fff;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#fff;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-megamenu-submenu-header[_ngcontent-%COMP%]{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-megamenu-panel[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-megamenu.ui-megamenu-vertical[_ngcontent-%COMP%]   .ui-megamenu-root-list[_ngcontent-%COMP%] > .ui-menuitem[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%] > .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{position:static}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.714em .857em;font-weight:700;position:static;font-size:14px;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]:not(.ui-state-active) > a[_ngcontent-%COMP%]:hover{outline:0 none;border:1px solid #617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]:not(.ui-state-active) > a[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#afd3c8;color:#385048;border-bottom-left-radius:0;border-bottom-right-radius:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{outline:0 none;border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-panel[_ngcontent-%COMP%]{margin-top:2px}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-panel[_ngcontent-%COMP%]:first-child{margin-top:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]{padding:0;background-color:#fff;margin-top:0;position:static;border:1px solid #c8c8c8;border-top:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em;color:#666}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]{border:0;height:1.714em;background-color:#efefef}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]   .ui-progressbar-value[_ngcontent-%COMP%]{border:0;margin:0;background:#7b95a3}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]   .ui-progressbar-label[_ngcontent-%COMP%]{margin-top:0;color:#666;line-height:1.714em}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]{transition:all .2s;position:absolute;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]{background-color:#fff;color:#666;border:1px solid #dadada;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]   .ui-terminal-input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif;height:16px}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]   .ui-terminal-command[_ngcontent-%COMP%]{height:16px}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]{min-height:2.357em}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]{padding:.429em;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inplace.ui-inplace-closable[_ngcontent-%COMP%]   .ui-inplace-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{display:inline-block;width:calc(100% - 2.357em)}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0}.mapboxgl-canvas-container[_ngcontent-%COMP%]{height:100vh;color:#fff}@media (min-width:640px) and (max-width:767px){.menuToggleBtnText[_ngcontent-%COMP%]{display:none}}.menuBtns[_ngcontent-%COMP%]{display:flex;margin:1vh 0;height:5vh;justify-content:space-between;align-items:center;font-size:1.25rem;background:none;border:none;border-top:2px solid!important;border-radius:.25rem;cursor:pointer;box-shadow:0 3px 10px #d3d3d3}.menuBtns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:.5rem}.menuBtns[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.menuBtns[_ngcontent-%COMP%]:hover{background-color:#6a5acd;box-shadow:none;color:#fff}.menuBtns[_ngcontent-%COMP%]:active{background-color:#ff0;box-shadow:none;color:#789}.menuPanel[_ngcontent-%COMP%]{padding-top:.15em}.menuPanel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]{border:none;background:none;color:#000;padding-top:0;margin-top:0;top:0}#map[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;height:75vh;margin:auto;position:relative}.mapboxgl-popup-tip[_ngcontent-%COMP%]{border-top-color:rgba(0,0,0,.5)!important}.mapboxgl-popup-content[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 .1rem;color:#fff;background-color:rgba(0,0,0,.5)}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]{text-align:center;margin:auto}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:.25rem;line-height:normal}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal;padding:.25rem;margin:auto}.ui-button.R-1[_ngcontent-%COMP%]{color:#000;background-color:#fffaca!important}.ui-button.R-2[_ngcontent-%COMP%]{color:#000;background-color:#fff68f!important}.ui-button.R-3[_ngcontent-%COMP%]{color:#000;background-color:#fff100!important}.ui-button.R-4[_ngcontent-%COMP%]{color:#000;background-color:#ebd417!important}.ui-button.C-1[_ngcontent-%COMP%]{color:#000;background-color:#a18aad!important}.ui-button.C-2[_ngcontent-%COMP%]{color:#fff;background-color:#da2028!important}.ui-button.C-3[_ngcontent-%COMP%]{background-color:#850204!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.MX-1[_ngcontent-%COMP%]{color:#000;background-color:#e4a024!important}.ui-button.MX-2[_ngcontent-%COMP%]{color:#000;background-color:#f37520!important}.ui-button.MX-3[_ngcontent-%COMP%]{color:#fff;background-color:#ff2900!important}.ui-button.I-1[_ngcontent-%COMP%]{color:#000;background-color:#e1c3dd!important}.ui-button.I-2[_ngcontent-%COMP%]{color:#fff;background-color:#a53ed5!important}.ui-button.I-3[_ngcontent-%COMP%]{color:#fff;background-color:#c0188c!important}.ui-button.RDV[_ngcontent-%COMP%]{color:#000;background-color:#ddd!important}.ui-button.PARK[_ngcontent-%COMP%]{color:#fff;background-color:#229a00!important}.ui-button.INST[_ngcontent-%COMP%]{color:#fff;background-color:#0063ff!important}.ui-button.CEM[_ngcontent-%COMP%]{background-color:#561818!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.PORT[_ngcontent-%COMP%]{color:#fff;background-color:#b81609!important}.ui-button.EWR[_ngcontent-%COMP%]{background-color:#820c0c!important;color:#fff!important;-webkit-text-fill-color:#fff!important}']}),t})(),xS=(()=>{class t{constructor(){this.collapsed=!0,this.mapNavStyle={"border-radius":".25rem",top:"1rem"},this.menuDisplay=!1}ngOnInit(){this.menu=[{label:"Geographies",icon:"pi pi-compass",id:"geo",styleClass:"p-col-12 menuBtns",command:t=>this.menuComp.menuBtnClick(t.item.id)},{label:"Parcel Style",icon:"pi pi-palette",id:"parcels",styleClass:"p-col-12 menuBtns",command:t=>this.menuComp.menuBtnClick(t.item.id)},{label:"Overlays",icon:"pi pi-list",id:"overlays",styleClass:"p-col-12 menuBtns",command:t=>this.menuComp.menuBtnClick(t.item.id)}],this.geoStyleList=[{id:"NwkNeighborhoods",label:"Neighborhoods",name:"geos",status:!0,value:"hoods"},{id:"NwkWards",label:"Wards",name:"geos",status:!1,value:"wards"}],this.parcelStylesList=[{id:"base",label:"Base",name:"geos",status:!0,value:"base"},{id:"zoning",label:"Zoning",name:"geos",status:!1,value:"zoning"},{id:"landuse",label:"Land Use",name:"geos",status:!1,value:"landuse"}],this.layersList=[{index:0,name:"Historic Districts",status:!0},{index:1,name:"Redevelopment Areas",status:!0},{index:2,name:"Transit",status:!0}]}changeLayer(t){this.map.updateViz(t)}changeGeo(t){this.map.changeGeo(t)}toggleMenu(){this.menuComp.menuDisplay=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=me({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&(Ju(eS,!0),Ju(CS,!0)),2&t&&(Yu(n=oc())&&(e.map=n.first),Yu(n=oc())&&(e.menuComp=n.first))},decls:7,vars:4,consts:[["type","text","icon","pi pi-bars","label","Menu",3,"click"],[1,"menuBtns",2,"margin","1.5rem",3,"click"],[1,"pi","pi-bars"],[1,"p-col","menuToggleBtnText"],[3,"menuButtons","geoStyles","parcelStyles","layers"]],template:function(t,e){1&t&&(ba(0,"button",0),Ea("click",(function(){return e.toggleMenu()})),va(),ba(1,"button",1),Ea("click",(function(){return e.menuDisplay=!1})),Ca(2,"i",2),ba(3,"span",3),hs(4,"Menu"),va(),va(),Ca(5,"app-menu",4),Ca(6,"app-map")),2&t&&(oo(5),_a("menuButtons",e.menu)("geoStyles",e.geoStyleList)("parcelStyles",e.parcelStylesList)("layers",e.layersList))},directives:[CS,eS],styles:['@charset "UTF-8";.p-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-.5em;margin-left:-.5em;margin-top:-.5em}.p-grid[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-grid[_ngcontent-%COMP%] > [class*=p-col][_ngcontent-%COMP%]{box-sizing:border-box}.p-nogutter[_ngcontent-%COMP%]{margin-right:0;margin-left:0;margin-top:0}.p-nogutter[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-nogutter[_ngcontent-%COMP%] > [class*=p-col-][_ngcontent-%COMP%]{padding:0}.p-dir-row[_ngcontent-%COMP%]{flex-direction:row}.p-dir-rev[_ngcontent-%COMP%]{flex-direction:row-reverse}.p-dir-col[_ngcontent-%COMP%]{flex-direction:column}.p-dir-col-rev[_ngcontent-%COMP%]{flex-direction:column-reverse}.p-justify-start[_ngcontent-%COMP%]{justify-content:flex-start}.p-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.p-justify-center[_ngcontent-%COMP%]{justify-content:center}.p-justify-between[_ngcontent-%COMP%]{justify-content:space-between}.p-justify-around[_ngcontent-%COMP%]{justify-content:space-around}.p-justify-even[_ngcontent-%COMP%]{justify-content:space-evenly}.p-align-start[_ngcontent-%COMP%]{align-items:flex-start}.p-align-end[_ngcontent-%COMP%]{align-items:flex-end}.p-align-center[_ngcontent-%COMP%]{align-items:center}.p-align-baseline[_ngcontent-%COMP%]{align-items:baseline}.p-align-stretch[_ngcontent-%COMP%]{align-items:stretch}.p-col[_ngcontent-%COMP%]{flex-grow:1;flex-basis:0;padding:.5em}.p-col-fixed[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5em}.p-col-align-start[_ngcontent-%COMP%]{align-self:flex-start}.p-col-align-end[_ngcontent-%COMP%]{align-self:flex-end}.p-col-align-center[_ngcontent-%COMP%]{align-self:center}.p-col-align-baseline[_ngcontent-%COMP%]{align-self:baseline}.p-col-align-stretch[_ngcontent-%COMP%]{align-self:stretch}.p-dir-col-rev[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%], .p-dir-col[_ngcontent-%COMP%] > .p-col[_ngcontent-%COMP%]{flex-basis:auto}.p-col-1[_ngcontent-%COMP%], .p-col-2[_ngcontent-%COMP%], .p-col-3[_ngcontent-%COMP%], .p-col-4[_ngcontent-%COMP%], .p-col-5[_ngcontent-%COMP%], .p-col-6[_ngcontent-%COMP%], .p-col-7[_ngcontent-%COMP%], .p-col-8[_ngcontent-%COMP%], .p-col-9[_ngcontent-%COMP%], .p-col-10[_ngcontent-%COMP%], .p-col-11[_ngcontent-%COMP%], .p-col-12[_ngcontent-%COMP%]{flex:0 0 auto;padding:.5em}.p-col-1[_ngcontent-%COMP%]{width:8.3333%}.p-col-2[_ngcontent-%COMP%]{width:16.6667%}.p-col-3[_ngcontent-%COMP%]{width:25%}.p-col-4[_ngcontent-%COMP%]{width:33.3333%}.p-col-5[_ngcontent-%COMP%]{width:41.6667%}.p-col-6[_ngcontent-%COMP%]{width:50%}.p-col-7[_ngcontent-%COMP%]{width:58.3333%}.p-col-8[_ngcontent-%COMP%]{width:66.6667%}.p-col-9[_ngcontent-%COMP%]{width:75%}.p-col-10[_ngcontent-%COMP%]{width:83.3333%}.p-col-11[_ngcontent-%COMP%]{width:91.6667%}.p-col-12[_ngcontent-%COMP%]{width:100%}.p-col-order-first[_ngcontent-%COMP%]{order:-1}.p-col-order-last[_ngcontent-%COMP%]{order:13}.p-col-order-0[_ngcontent-%COMP%]{order:0}.p-col-order-1[_ngcontent-%COMP%]{order:1}.p-col-order-2[_ngcontent-%COMP%]{order:2}.p-col-order-3[_ngcontent-%COMP%]{order:3}.p-col-order-4[_ngcontent-%COMP%]{order:4}.p-col-order-5[_ngcontent-%COMP%]{order:5}.p-col-order-6[_ngcontent-%COMP%]{order:6}.p-col-order-7[_ngcontent-%COMP%]{order:7}.p-col-order-8[_ngcontent-%COMP%]{order:8}.p-col-order-9[_ngcontent-%COMP%]{order:9}.p-col-order-10[_ngcontent-%COMP%]{order:10}.p-col-order-11[_ngcontent-%COMP%]{order:11}.p-col-order-12[_ngcontent-%COMP%]{order:12}.p-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-lg-1[_ngcontent-%COMP%], .p-lg-2[_ngcontent-%COMP%], .p-lg-3[_ngcontent-%COMP%], .p-lg-4[_ngcontent-%COMP%], .p-lg-5[_ngcontent-%COMP%], .p-lg-6[_ngcontent-%COMP%], .p-lg-7[_ngcontent-%COMP%], .p-lg-8[_ngcontent-%COMP%], .p-lg-9[_ngcontent-%COMP%], .p-lg-10[_ngcontent-%COMP%], .p-lg-11[_ngcontent-%COMP%], .p-lg-12[_ngcontent-%COMP%], .p-md-1[_ngcontent-%COMP%], .p-md-2[_ngcontent-%COMP%], .p-md-3[_ngcontent-%COMP%], .p-md-4[_ngcontent-%COMP%], .p-md-5[_ngcontent-%COMP%], .p-md-6[_ngcontent-%COMP%], .p-md-7[_ngcontent-%COMP%], .p-md-8[_ngcontent-%COMP%], .p-md-9[_ngcontent-%COMP%], .p-md-10[_ngcontent-%COMP%], .p-md-11[_ngcontent-%COMP%], .p-md-12[_ngcontent-%COMP%], .p-sm-1[_ngcontent-%COMP%], .p-sm-2[_ngcontent-%COMP%], .p-sm-3[_ngcontent-%COMP%], .p-sm-4[_ngcontent-%COMP%], .p-sm-5[_ngcontent-%COMP%], .p-sm-6[_ngcontent-%COMP%], .p-sm-7[_ngcontent-%COMP%], .p-sm-8[_ngcontent-%COMP%], .p-sm-9[_ngcontent-%COMP%], .p-sm-10[_ngcontent-%COMP%], .p-sm-11[_ngcontent-%COMP%], .p-sm-12[_ngcontent-%COMP%], .p-xl-1[_ngcontent-%COMP%], .p-xl-2[_ngcontent-%COMP%], .p-xl-3[_ngcontent-%COMP%], .p-xl-4[_ngcontent-%COMP%], .p-xl-5[_ngcontent-%COMP%], .p-xl-6[_ngcontent-%COMP%], .p-xl-7[_ngcontent-%COMP%], .p-xl-8[_ngcontent-%COMP%], .p-xl-9[_ngcontent-%COMP%], .p-xl-10[_ngcontent-%COMP%], .p-xl-11[_ngcontent-%COMP%], .p-xl-12[_ngcontent-%COMP%]{padding:.5em}.p-col-nogutter[_ngcontent-%COMP%]{padding:0}@media screen and (min-width:576px){.p-sm-1[_ngcontent-%COMP%], .p-sm-2[_ngcontent-%COMP%], .p-sm-3[_ngcontent-%COMP%], .p-sm-4[_ngcontent-%COMP%], .p-sm-5[_ngcontent-%COMP%], .p-sm-6[_ngcontent-%COMP%], .p-sm-7[_ngcontent-%COMP%], .p-sm-8[_ngcontent-%COMP%], .p-sm-9[_ngcontent-%COMP%], .p-sm-10[_ngcontent-%COMP%], .p-sm-11[_ngcontent-%COMP%], .p-sm-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-sm-1[_ngcontent-%COMP%]{width:8.3333%}.p-sm-2[_ngcontent-%COMP%]{width:16.6667%}.p-sm-3[_ngcontent-%COMP%]{width:25%}.p-sm-4[_ngcontent-%COMP%]{width:33.3333%}.p-sm-5[_ngcontent-%COMP%]{width:41.6667%}.p-sm-6[_ngcontent-%COMP%]{width:50%}.p-sm-7[_ngcontent-%COMP%]{width:58.3333%}.p-sm-8[_ngcontent-%COMP%]{width:66.6667%}.p-sm-9[_ngcontent-%COMP%]{width:75%}.p-sm-10[_ngcontent-%COMP%]{width:83.3333%}.p-sm-11[_ngcontent-%COMP%]{width:91.6667%}.p-sm-12[_ngcontent-%COMP%]{width:100%}.p-sm-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-sm-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-sm-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-sm-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-sm-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-sm-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-sm-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-sm-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-sm-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-sm-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-sm-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-sm-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-sm-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-sm-order-first[_ngcontent-%COMP%]{order:-1}.p-sm-order-last[_ngcontent-%COMP%]{order:13}.p-sm-order-0[_ngcontent-%COMP%]{order:0}.p-sm-order-1[_ngcontent-%COMP%]{order:1}.p-sm-order-2[_ngcontent-%COMP%]{order:2}.p-sm-order-3[_ngcontent-%COMP%]{order:3}.p-sm-order-4[_ngcontent-%COMP%]{order:4}.p-sm-order-5[_ngcontent-%COMP%]{order:5}.p-sm-order-6[_ngcontent-%COMP%]{order:6}.p-sm-order-7[_ngcontent-%COMP%]{order:7}.p-sm-order-8[_ngcontent-%COMP%]{order:8}.p-sm-order-9[_ngcontent-%COMP%]{order:9}.p-sm-order-10[_ngcontent-%COMP%]{order:10}.p-sm-order-11[_ngcontent-%COMP%]{order:11}.p-sm-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:768px){.p-md-1[_ngcontent-%COMP%], .p-md-2[_ngcontent-%COMP%], .p-md-3[_ngcontent-%COMP%], .p-md-4[_ngcontent-%COMP%], .p-md-5[_ngcontent-%COMP%], .p-md-6[_ngcontent-%COMP%], .p-md-7[_ngcontent-%COMP%], .p-md-8[_ngcontent-%COMP%], .p-md-9[_ngcontent-%COMP%], .p-md-10[_ngcontent-%COMP%], .p-md-11[_ngcontent-%COMP%], .p-md-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-md-1[_ngcontent-%COMP%]{width:8.3333%}.p-md-2[_ngcontent-%COMP%]{width:16.6667%}.p-md-3[_ngcontent-%COMP%]{width:25%}.p-md-4[_ngcontent-%COMP%]{width:33.3333%}.p-md-5[_ngcontent-%COMP%]{width:41.6667%}.p-md-6[_ngcontent-%COMP%]{width:50%}.p-md-7[_ngcontent-%COMP%]{width:58.3333%}.p-md-8[_ngcontent-%COMP%]{width:66.6667%}.p-md-9[_ngcontent-%COMP%]{width:75%}.p-md-10[_ngcontent-%COMP%]{width:83.3333%}.p-md-11[_ngcontent-%COMP%]{width:91.6667%}.p-md-12[_ngcontent-%COMP%]{width:100%}.p-md-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-md-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-md-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-md-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-md-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-md-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-md-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-md-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-md-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-md-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-md-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-md-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-md-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-md-order-first[_ngcontent-%COMP%]{order:-1}.p-md-order-last[_ngcontent-%COMP%]{order:13}.p-md-order-0[_ngcontent-%COMP%]{order:0}.p-md-order-1[_ngcontent-%COMP%]{order:1}.p-md-order-2[_ngcontent-%COMP%]{order:2}.p-md-order-3[_ngcontent-%COMP%]{order:3}.p-md-order-4[_ngcontent-%COMP%]{order:4}.p-md-order-5[_ngcontent-%COMP%]{order:5}.p-md-order-6[_ngcontent-%COMP%]{order:6}.p-md-order-7[_ngcontent-%COMP%]{order:7}.p-md-order-8[_ngcontent-%COMP%]{order:8}.p-md-order-9[_ngcontent-%COMP%]{order:9}.p-md-order-10[_ngcontent-%COMP%]{order:10}.p-md-order-11[_ngcontent-%COMP%]{order:11}.p-md-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:992px){.p-lg-1[_ngcontent-%COMP%], .p-lg-2[_ngcontent-%COMP%], .p-lg-3[_ngcontent-%COMP%], .p-lg-4[_ngcontent-%COMP%], .p-lg-5[_ngcontent-%COMP%], .p-lg-6[_ngcontent-%COMP%], .p-lg-7[_ngcontent-%COMP%], .p-lg-8[_ngcontent-%COMP%], .p-lg-9[_ngcontent-%COMP%], .p-lg-10[_ngcontent-%COMP%], .p-lg-11[_ngcontent-%COMP%], .p-lg-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-lg-1[_ngcontent-%COMP%]{width:8.3333%}.p-lg-2[_ngcontent-%COMP%]{width:16.6667%}.p-lg-3[_ngcontent-%COMP%]{width:25%}.p-lg-4[_ngcontent-%COMP%]{width:33.3333%}.p-lg-5[_ngcontent-%COMP%]{width:41.6667%}.p-lg-6[_ngcontent-%COMP%]{width:50%}.p-lg-7[_ngcontent-%COMP%]{width:58.3333%}.p-lg-8[_ngcontent-%COMP%]{width:66.6667%}.p-lg-9[_ngcontent-%COMP%]{width:75%}.p-lg-10[_ngcontent-%COMP%]{width:83.3333%}.p-lg-11[_ngcontent-%COMP%]{width:91.6667%}.p-lg-12[_ngcontent-%COMP%]{width:100%}.p-lg-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-lg-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-lg-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-lg-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-lg-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-lg-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-lg-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-lg-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-lg-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-lg-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-lg-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-lg-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-lg-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-lg-order-first[_ngcontent-%COMP%]{order:-1}.p-lg-order-last[_ngcontent-%COMP%]{order:13}.p-lg-order-0[_ngcontent-%COMP%]{order:0}.p-lg-order-1[_ngcontent-%COMP%]{order:1}.p-lg-order-2[_ngcontent-%COMP%]{order:2}.p-lg-order-3[_ngcontent-%COMP%]{order:3}.p-lg-order-4[_ngcontent-%COMP%]{order:4}.p-lg-order-5[_ngcontent-%COMP%]{order:5}.p-lg-order-6[_ngcontent-%COMP%]{order:6}.p-lg-order-7[_ngcontent-%COMP%]{order:7}.p-lg-order-8[_ngcontent-%COMP%]{order:8}.p-lg-order-9[_ngcontent-%COMP%]{order:9}.p-lg-order-10[_ngcontent-%COMP%]{order:10}.p-lg-order-11[_ngcontent-%COMP%]{order:11}.p-lg-order-12[_ngcontent-%COMP%]{order:12}}@media screen and (min-width:1200px){.p-xl-1[_ngcontent-%COMP%], .p-xl-2[_ngcontent-%COMP%], .p-xl-3[_ngcontent-%COMP%], .p-xl-4[_ngcontent-%COMP%], .p-xl-5[_ngcontent-%COMP%], .p-xl-6[_ngcontent-%COMP%], .p-xl-7[_ngcontent-%COMP%], .p-xl-8[_ngcontent-%COMP%], .p-xl-9[_ngcontent-%COMP%], .p-xl-10[_ngcontent-%COMP%], .p-xl-11[_ngcontent-%COMP%], .p-xl-12[_ngcontent-%COMP%]{flex:0 0 auto}.p-xl-1[_ngcontent-%COMP%]{width:8.3333%}.p-xl-2[_ngcontent-%COMP%]{width:16.6667%}.p-xl-3[_ngcontent-%COMP%]{width:25%}.p-xl-4[_ngcontent-%COMP%]{width:33.3333%}.p-xl-5[_ngcontent-%COMP%]{width:41.6667%}.p-xl-6[_ngcontent-%COMP%]{width:50%}.p-xl-7[_ngcontent-%COMP%]{width:58.3333%}.p-xl-8[_ngcontent-%COMP%]{width:66.6667%}.p-xl-9[_ngcontent-%COMP%]{width:75%}.p-xl-10[_ngcontent-%COMP%]{width:83.3333%}.p-xl-11[_ngcontent-%COMP%]{width:91.6667%}.p-xl-12[_ngcontent-%COMP%]{width:100%}.p-xl-offset-12[_ngcontent-%COMP%]{margin-left:100%}.p-xl-offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.p-xl-offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.p-xl-offset-9[_ngcontent-%COMP%]{margin-left:75%}.p-xl-offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.p-xl-offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.p-xl-offset-6[_ngcontent-%COMP%]{margin-left:50%}.p-xl-offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.p-xl-offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.p-xl-offset-3[_ngcontent-%COMP%]{margin-left:25%}.p-xl-offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.p-xl-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.p-xl-offset-0[_ngcontent-%COMP%]{margin-left:0}.p-xl-order-first[_ngcontent-%COMP%]{order:-1}.p-xl-order-last[_ngcontent-%COMP%]{order:13}.p-xl-order-0[_ngcontent-%COMP%]{order:0}.p-xl-order-1[_ngcontent-%COMP%]{order:1}.p-xl-order-2[_ngcontent-%COMP%]{order:2}.p-xl-order-3[_ngcontent-%COMP%]{order:3}.p-xl-order-4[_ngcontent-%COMP%]{order:4}.p-xl-order-5[_ngcontent-%COMP%]{order:5}.p-xl-order-6[_ngcontent-%COMP%]{order:6}.p-xl-order-7[_ngcontent-%COMP%]{order:7}.p-xl-order-8[_ngcontent-%COMP%]{order:8}.p-xl-order-9[_ngcontent-%COMP%]{order:9}.p-xl-order-10[_ngcontent-%COMP%]{order:10}.p-xl-order-11[_ngcontent-%COMP%]{order:11}.p-xl-order-12[_ngcontent-%COMP%]{order:12}}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]   .ui-widget[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;text-decoration:none}body[_ngcontent-%COMP%]   .ui-corner-all[_ngcontent-%COMP%]{border-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-top[_ngcontent-%COMP%]{border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-bottom[_ngcontent-%COMP%]{border-bottom-left-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-left[_ngcontent-%COMP%]{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-corner-right[_ngcontent-%COMP%]{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7b95a3;text-decoration:none}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6c8999}body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#617c8a}body[_ngcontent-%COMP%]   .ui-helper-reset[_ngcontent-%COMP%]{line-height:normal}body[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-widget[_ngcontent-%COMP%]:disabled{opacity:.5;filter:alpha(opacity=50)}body[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.25em}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{font-size:14px;color:#666;background:#f4f4f4;padding:.429em;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none;-moz-appearance:none;appearance:none}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:hover:not(.ui-state-error){border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:focus:not(.ui-state-error){outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;border-radius:2px;transition:background-color .2s,border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]   .ui-chkbox-icon[_ngcontent-%COMP%]{overflow:hidden;position:relative;font-size:18px}body[_ngcontent-%COMP%]   .ui-chkbox-label[_ngcontent-%COMP%]{margin:0 0 0 .5em}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin:0;width:20px;height:20px}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#f4f4f4;width:20px;height:20px;text-align:center;position:relative;transition:background-color .2s,border-color .2s,box-shadow .2s;border-radius:50%}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]{border-color:#7b95a3;background-color:#7b95a3;color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]{background-color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]{background:transparent;width:10px;height:10px;display:inline-block;position:absolute;left:50%;top:50%;margin-left:-5px;margin-top:-5px;transition:background-color .2s;border-radius:50%}body[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%]   .ui-radiobutton-icon[_ngcontent-%COMP%]:before{display:none}body[_ngcontent-%COMP%]   .ui-radiobutton-label[_ngcontent-%COMP%]{margin:0 0 0 .5em}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]{width:3em;height:1.75em}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{transition:background-color .2s,box-shadow .2s;border-radius:30px;background:#f4f4f4}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]:before{background-color:#7b95a3;height:1.25em;width:1.25em;left:.25em;bottom:.25em;border-radius:50%;transition:.2s}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]:before{transform:translateX(1.25em)}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-focus[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{background:#d8dae2;outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-inputswitch-slider[_ngcontent-%COMP%]{background-color:#d8dae2}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-inputswitch-slider[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-inputswitch.ui-inputswitch-checked.ui-inputswitch-focus[_ngcontent-%COMP%]   .ui-inputswitch-slider[_ngcontent-%COMP%]{background:#afd3c8}body[_ngcontent-%COMP%]   .ui-autocomplete[_ngcontent-%COMP%]   .ui-autocomplete-input[_ngcontent-%COMP%]{padding:.429em}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]{padding:.2145em .429em}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-input-token[_ngcontent-%COMP%]{margin:0;padding:.2145em 0;color:#666}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0}body[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]   .ui-autocomplete-token[_ngcontent-%COMP%]{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-list-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-list-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-autocomplete-panel[_ngcontent-%COMP%]   .ui-autocomplete-items[_ngcontent-%COMP%]   .ui-autocomplete-group[_ngcontent-%COMP%]{padding:.429em .857em;background-color:#dadada;color:#666}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete[_ngcontent-%COMP%]   .ui-autocomplete-dropdown.ui-button[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-dd[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-autocomplete.ui-autocomplete-multiple.ui-autocomplete-dd[_ngcontent-%COMP%]   .ui-autocomplete-multiple-container[_ngcontent-%COMP%]{border-right:0;width:calc(100% - 2.357em)}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]{padding:.2145em .429em;display:inline-block}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]{padding:.2145em 0}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica Neue,sans-serif;font-size:14px;padding:0;margin:0;color:#666}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-input-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{border:0}body[_ngcontent-%COMP%]   .ui-chips[_ngcontent-%COMP%] > ul.ui-inputtext[_ngcontent-%COMP%]   .ui-chips-token[_ngcontent-%COMP%]{font-size:14px;padding:.2145em .429em;margin:0 .286em 0 0;background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%]{padding-right:2em}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-trigger[_ngcontent-%COMP%]{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-clear-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-dropdown.ui-dropdown-clearable[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%]{padding-right:4em}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]   .ui-dropdown-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-filter-container[_ngcontent-%COMP%]   .ui-dropdown-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;border-radius:0}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group.ui-state-highlight[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item-group[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-dropdown-panel[_ngcontent-%COMP%]   .ui-dropdown-items[_ngcontent-%COMP%]   .ui-dropdown-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]{background:#f4f4f4;border:1px solid #dadada;transition:border-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{border-color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;border-color:#dadada}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]   .ui-multiselect-label[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em;color:#666}body[_ngcontent-%COMP%]   .ui-multiselect[_ngcontent-%COMP%]   .ui-multiselect-trigger[_ngcontent-%COMP%]{background-color:#f4f4f4;width:2em;line-height:2em;text-align:center;padding:0;color:#666}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #eaeaea;background-color:#fff;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]{float:none;width:70%;display:inline-block;vertical-align:middle;margin-left:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-filter-container[_ngcontent-%COMP%]   .ui-multiselect-filter-icon[_ngcontent-%COMP%]{color:#a6a6a6;top:50%;margin-top:-.5em;right:.5em;left:auto}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin-right:.5em;float:none;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]{color:#666;top:50%;margin-top:-.5em;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]:hover{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-header[_ngcontent-%COMP%]   .ui-multiselect-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]{cursor:auto}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:hover{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box.ui-state-active[_ngcontent-%COMP%]:hover{border-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-multiselect-panel[_ngcontent-%COMP%]   .ui-multiselect-items[_ngcontent-%COMP%]   .ui-multiselect-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]{padding:0;min-width:12em;background:#fff;border:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]{padding:.429em .857em;border-bottom:1px solid #eaeaea;color:#666;background-color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]{width:calc(100% - 2.214em)}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.429em 2em .429em .429em}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-header[_ngcontent-%COMP%]   .ui-listbox-filter-container[_ngcontent-%COMP%]   .ui-listbox-filter-icon[_ngcontent-%COMP%]{top:50%;left:auto;margin-top:-.5em;right:.5em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]{background-color:#fff}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]{margin:0;padding:.429em .857em;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item.ui-state-highlight[_ngcontent-%COMP%]{color:#385048;background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:static;display:inline-block;vertical-align:middle;margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-list[_ngcontent-%COMP%]   .ui-listbox-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-listbox-item[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-state-disabled):hover{color:#666;background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-listbox.ui-state-disabled[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-listbox[_ngcontent-%COMP%]   .ui-listbox-footer[_ngcontent-%COMP%]{padding:.429em .857em;border-top:1px solid #eaeaea;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-toolbar[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-content[_ngcontent-%COMP%]{border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ui-editor-content[_ngcontent-%COMP%]   .ql-editor[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-picker.ql-expanded[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%]{stroke:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#afd3c8}body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item.ql-selected[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-item[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   .ql-picker-label[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button.ql-active[_ngcontent-%COMP%]   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow.ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-editor-container[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]   .ql-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .ql-stroke-miter[_ngcontent-%COMP%]{stroke:#afd3c8}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;display:inline-block;color:#666;border-radius:2px;line-height:1;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a.ui-rating-cancel[_ngcontent-%COMP%]{color:#f3b9b9}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-rating-icon[_ngcontent-%COMP%]{font-size:1.429em}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a[_ngcontent-%COMP%]:hover{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a.ui-rating-cancel[_ngcontent-%COMP%]:hover{color:#d66161}body[_ngcontent-%COMP%]   .ui-rating[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-rating-readonly)   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-input[_ngcontent-%COMP%]{padding-right:1.858em}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]{width:1.429em}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button.ui-spinner-up[_ngcontent-%COMP%]{border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button.ui-spinner-down[_ngcontent-%COMP%]{border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]   .ui-spinner-button-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-.5em;margin-left:-.5em;width:1em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-input[_ngcontent-%COMP%]{padding-right:1.858em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]{width:1.429em}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-spinner[_ngcontent-%COMP%]   .ui-spinner-button[_ngcontent-%COMP%]   .ui-spinner-button-icon[_ngcontent-%COMP%]{left:50%}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]{background-color:#c4c4c4;border:0}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-horizontal[_ngcontent-%COMP%]{height:.286em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-horizontal[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{top:50%;margin-top:-.7145em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-vertical[_ngcontent-%COMP%]{width:.286em}body[_ngcontent-%COMP%]   .ui-slider.ui-slider-vertical[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{left:50%;margin-left:-.7145em}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]{height:1.429em;width:1.429em;background-color:#fff;border:2px solid #7f7f7f;border-radius:50%;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-handle[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]   .ui-slider-range[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-slider[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-slider-handle[_ngcontent-%COMP%]:hover{background-color:2px solid #7f7f7f;border:2px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]{padding:.857em;min-width:18.571em;background-color:#fff;color:#666;border:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-datepicker-inline){border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   .ui-monthpicker[_ngcontent-%COMP%]   a.ui-monthpicker-month[_ngcontent-%COMP%]:not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]:not(.ui-state-disabled)   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-highlight):hover{background-color:#f4f4f4}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]{padding:.429em .857em;background-color:#fff;color:#666;border-radius:0}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-prev[_ngcontent-%COMP%]{cursor:pointer;top:0;color:#a6a6a6;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]{margin:0;padding:0;line-height:1}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:-.35em;margin-bottom:0;transition:color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-header[_ngcontent-%COMP%]   .ui-datepicker-title[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px;margin:.857em 0 0}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th.ui-datepicker-weekheader[_ngcontent-%COMP%]{border-right:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;text-align:center;color:#666;padding:.5em;transition:box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > span.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#d0d0d0;color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > a.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-today[_ngcontent-%COMP%] > span.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.ui-datepicker-weeknumber[_ngcontent-%COMP%]{border-right:1px solid #eaeaea}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-datepicker-buttonbar[_ngcontent-%COMP%]{border-top:1px solid #d8dae2}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]{border:0;border-top:1px solid #a6a6a6;padding:.857em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;font-size:1.286em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.286em}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-monthpicker[_ngcontent-%COMP%]   .ui-monthpicker-month[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-datepicker[_ngcontent-%COMP%]   .ui-monthpicker[_ngcontent-%COMP%]   .ui-monthpicker-month.ui-state-active[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-timeonly[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-timeonly[_ngcontent-%COMP%]   .ui-timepicker[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]{border-right:1px solid #d8dae2;padding:0 .857em}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]:first-child{padding-left:0}body[_ngcontent-%COMP%]   .ui-datepicker.ui-datepicker-multiple-month[_ngcontent-%COMP%]   .ui-datepicker-group[_ngcontent-%COMP%]:last-child{padding-right:0;border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:focus:not(.ui-state-error), body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%]:enabled:hover:not(.ui-state-error){border-right:0}body[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   .ui-datepicker-trigger.ui-button[_ngcontent-%COMP%]{width:2.357em;border-top-left-radius:0;border-bottom-left-radius:0}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-calendar.ui-calendar-w-btn[_ngcontent-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]{width:calc(100% - 2.357em)}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-buttonbar[_ngcontent-%COMP%]{background-color:#7b95a3;padding:.571em 1em;color:#fff;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-buttonbar[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{margin-right:8px}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-fileupload-content[_ngcontent-%COMP%]{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .ui-fileupload[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]{top:0}body[_ngcontent-%COMP%]   .ui-fileupload-choose[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-fileupload-choose[_ngcontent-%COMP%]:not(.ui-state-disabled):active{background-color:#617c8a;color:#fff;border-color:#617c8a}body[_ngcontent-%COMP%]   .ui-fileupload-choose.ui-state-focus[_ngcontent-%COMP%]{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-password-panel[_ngcontent-%COMP%]{padding:12px;background-color:#fff;color:#666;border:1px solid #eaeaea;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]{border-color:#dadada;background-color:#dbdbdb;color:#666;padding:.429em;min-width:2em}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-checkbox[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-checkbox[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-inputgroup-addon.ui-inputgroup-addon-radiobutton[_ngcontent-%COMP%]   .ui-radiobutton[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-left:-10px;margin-top:-10px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inputgroup[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-input-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-moz-placeholder, body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:-ms-input-placeholder{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-inputtext.ng-dirty.ng-invalid[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-autocomplete.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-autocomplete[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-calendar.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-calendar[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-checkbox.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-chkbox-box[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-chips.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-dropdown.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-dropdown[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-inputmask.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-inputswitch.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-inputswitch[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-listbox.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-multiselect.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-multiselect[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-radiobutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-radiobutton-box[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-selectbutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-spinner.ng-dirty.ng-invalid[_ngcontent-%COMP%] > .ui-inputtext[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p-togglebutton.ng-dirty.ng-invalid[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{border:1px solid #e7a3a3}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{margin:0;color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:enabled:active{background-color:#617c8a;color:#fff;border-color:#617c8a}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-only[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 1em}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-icon-left[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 1em .429em 2em}body[_ngcontent-%COMP%]   .ui-button.ui-button-text-icon-right[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em 2em .429em 1em}body[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-button.ui-button-icon-only[_ngcontent-%COMP%]   .ui-button-text[_ngcontent-%COMP%]{padding:.429em}body[_ngcontent-%COMP%]   .ui-button.ui-button-raised[_ngcontent-%COMP%]{box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}body[_ngcontent-%COMP%]   .ui-button.ui-button-rounded[_ngcontent-%COMP%]{border-radius:15px}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-button-icon-only[_ngcontent-%COMP%]{width:2.357em}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-togglebutton[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]:hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-togglebutton.ui-state-active[_ngcontent-%COMP%]:hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{background-color:#eaeaea;border:1px solid #eaeaea;color:#333;overflow:hidden;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#c8c8c8;border-color:#c8c8c8;color:#333}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active).ui-state-focus{box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#8dc8b5;border-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button.ui-state-active[_ngcontent-%COMP%]:not(.ui-state-disabled):hover   .ui-button-icon-left[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .ui-selectbutton[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}@media (max-width:640px){body[_ngcontent-%COMP%]   .ui-buttonset[_ngcontent-%COMP%]:not(.ui-splitbutton)   .ui-button[_ngcontent-%COMP%]{margin-bottom:1px;border-radius:2px}}body[_ngcontent-%COMP%]   .ui-splitbutton.ui-buttonset[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{border:1px solid transparent}body[_ngcontent-%COMP%]   .ui-splitbutton.ui-buttonset[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]{min-width:100%}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#333;background-color:#f3f3f3;border:1px solid #f3f3f3}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#d1d1d1;color:#212121;border-color:#d1d1d1}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #99adb8}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-secondary[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-secondary[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#7b95a3;color:#fff;border-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#3d4447;background-color:#a3def8;border:1px solid #79c8eb}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#81cbec;color:#3d4447;border-color:#60b7de}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #d2effc}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-info[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-info[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#3ea9db;color:#3d4447;border-color:#2987b1}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#323e39;background-color:#a3e2c6;border:1px solid #80caaa}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#80caaa;color:#323e39;border-color:#5ea285}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #caeede}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-success[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-success[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#31b57c;color:#323e39;border-color:#5ea285}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#333;background-color:#feedbc;border:1px solid #f7db8a}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#ffde87;color:#333;border-color:#f3ce61}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #fef4d5}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-warning[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-warning[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#fdc328;color:#333;border-color:#dea818}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]{color:#262222;background-color:#f4b6b6;border:1px solid #e38787}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:hover, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:hover{background-color:#ef9999;color:#262222;border-color:#cb5858}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:focus, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:focus{box-shadow:0 0 0 .2em #fbe2e2}body[_ngcontent-%COMP%]   .ui-button.ui-state-default.ui-button-danger[_ngcontent-%COMP%]:enabled:active, body[_ngcontent-%COMP%]   .ui-buttonset.ui-button-danger[_ngcontent-%COMP%] > .ui-button.ui-state-default[_ngcontent-%COMP%]:enabled:active{background-color:#eb5656;color:#262222;border-color:#b73737}body[_ngcontent-%COMP%]   .ui-widget-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.5;margin:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]{padding:0;border:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]{border:1px solid #7b95a3;padding:.571em 1em;background-color:#7b95a3;color:#fff;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-title[_ngcontent-%COMP%]{vertical-align:middle;font-weight:700}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]{margin:0;position:relative;font-size:14px;color:#fff;border:1px solid transparent;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]   .ui-panel-titlebar-icon[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-footer[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body[_ngcontent-%COMP%]   .ui-panel[_ngcontent-%COMP%]   .ui-panel-footer[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.571em 1em;border:1px solid #7b95a3;color:#fff;background-color:#7b95a3;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-fieldset-toggler[_ngcontent-%COMP%]{float:none;display:inline-block;vertical-align:middle;margin-right:.5em;color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-fieldset-legend-text[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-fieldset.ui-fieldset-toggleable[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset.ui-fieldset-toggleable[_ngcontent-%COMP%]   .ui-fieldset-legend[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .ui-fieldset-toggler[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-fieldset[_ngcontent-%COMP%]   .ui-fieldset-content[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]{margin-bottom:2px}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.571em 1em;border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;font-weight:700;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]{background-color:#617c8a;border:1px solid #617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active   a[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada;color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active:hover   a[_ngcontent-%COMP%]{border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-header[_ngcontent-%COMP%]:not(.ui-state-disabled).ui-state-active:hover   a[_ngcontent-%COMP%]   .ui-accordion-toggle-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-accordion[_ngcontent-%COMP%]   .ui-accordion-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{padding:0;background:#fff;border:0}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;display:inline-block;color:#fff;padding:.571em 1em;font-weight:700}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%]{margin-right:.5em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%]{margin-left:.5em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]{color:#fff;margin:0 .5em 0 0;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   a[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   .ui-tabview-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover{border:1px solid #8dc8b5;background-color:#8dc8b5}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-left-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-state-active[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   .ui-tabview-right-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li.ui-tabview-selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-bottom:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-top[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-top:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-bottom[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-right:-px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-left[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.214em}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]{margin-right:-1px}body[_ngcontent-%COMP%]   .ui-tabview.ui-tabview-right[_ngcontent-%COMP%]   .ui-tabview-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.214em}body[_ngcontent-%COMP%]   .ui-tabview[_ngcontent-%COMP%]   .ui-tabview-panels[_ngcontent-%COMP%]{background-color:#fff;padding:.571em 1em;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .ui-tabview[_ngcontent-%COMP%]   .ui-tabview-panels[_ngcontent-%COMP%]   .ui-tabview-panel[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{vertical-align:middle}body[_ngcontent-%COMP%]   .ui-toolbar[_ngcontent-%COMP%]   .ui-toolbar-separator[_ngcontent-%COMP%]{vertical-align:middle;color:#fff;margin:0 .5em}body[_ngcontent-%COMP%]   .ui-card[_ngcontent-%COMP%]{background-color:#fff;color:#666;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;padding:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:not(.ui-state-disabled):not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-current[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;line-height:2.286em}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-label[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]   .ui-dropdown-trigger[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:hover   .ui-dropdown-label[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]:hover   .ui-dropdown-trigger[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-first[_ngcontent-%COMP%]:before{position:relative;top:1px}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-prev[_ngcontent-%COMP%]:before{position:relative}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-last[_ngcontent-%COMP%]:before, body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-next[_ngcontent-%COMP%]:before{position:relative;top:1px}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]{vertical-align:top;display:inline-block;padding:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]{color:#666;height:2.286em;min-width:2.286em;border:0;line-height:2.286em;padding:0;margin:0;vertical-align:top;transition:box-shadow .2s;border-radius:0}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]:not(.ui-state-active):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-paginator-pages[_ngcontent-%COMP%]   .ui-paginator-page[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-paginator[_ngcontent-%COMP%]   .ui-dropdown[_ngcontent-%COMP%]{margin-left:.5em;height:2.286em;min-width:auto}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-caption[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-summary[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-caption[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-summary[_ngcontent-%COMP%]{border-top:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]{transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid #dadada;outline-offset:2px}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-table-dragpoint-top[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{box-shadow:inset 0 2px 0 0 #afd3c8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-table-dragpoint-bottom[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{box-shadow:inset 0 -2px 0 0 #afd3c8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f8f8}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-state-highlight{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-state-highlight   a[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(2n).ui-contextmenu-selected{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-table.ui-table-hoverable-rows[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr.ui-selectable-row[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-column-resizer-helper[_ngcontent-%COMP%]{background-color:#7b95a3}@media screen and (max-width:40em){body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-paginator-top[_ngcontent-%COMP%]{border-bottom:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-paginator-bottom[_ngcontent-%COMP%]{border-top:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-table.ui-table-responsive[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:0}}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datagrid[_ngcontent-%COMP%]   .ui-datagrid-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datalist[_ngcontent-%COMP%]   .ui-datalist-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-datascroller[_ngcontent-%COMP%]   .ui-datascroller-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-content[_ngcontent-%COMP%]   .ui-virtualscroller-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-virtualscroller[_ngcontent-%COMP%]   .ui-virtualscroller-footer[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #dadada;border-top:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-header[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-footer[_ngcontent-%COMP%]{border-top:0}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-layout-options[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]{transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dataview[_ngcontent-%COMP%]   .ui-dataview-layout-options[_ngcontent-%COMP%]   .ui-button[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7;z-index:1}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3;color:#fff;padding:.571em 1em}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   td.ui-widget-content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;color:#666}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   td.fc-head-container[_ngcontent-%COMP%]{border:1px solid #7b95a3}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-row[_ngcontent-%COMP%]{border-right:1px solid #7b95a3}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #6c8999;color:#385048;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-event[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{color:#fff;background-color:#7b95a3;border:1px solid #617c8a;font-size:14px;transition:background-color .2s,box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:enabled:hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-left[_ngcontent-%COMP%]{font-family:PrimeIcons!important;text-indent:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-left[_ngcontent-%COMP%]:before{content:"\ue900"}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-right[_ngcontent-%COMP%]{font-family:PrimeIcons!important;text-indent:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]   .fc-icon-chevron-right[_ngcontent-%COMP%]:before{content:"\ue901"}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{border-radius:0}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button-group[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}body[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-divider[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .fc[_ngcontent-%COMP%]   .fc-toolbar[_ngcontent-%COMP%]   .fc-button[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-caption[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]   input.ui-picklist-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em;text-indent:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-filter-container[_ngcontent-%COMP%]   .ui-picklist-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-picklist[_ngcontent-%COMP%]   .ui-picklist-list[_ngcontent-%COMP%]   .ui-picklist-droppoint-highlight[_ngcontent-%COMP%]{background-color:#afd3c8}@media (max-width:40em){body[_ngcontent-%COMP%]   .ui-picklist.ui-picklist-responsive[_ngcontent-%COMP%]   .ui-picklist-buttons[_ngcontent-%COMP%]{padding:.571em 1em}}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-controls[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-caption[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0;border-top-left-radius:2px;border-top-right-radius:2px}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]{padding:.429em .857em;color:#666;background-color:#fff;margin:0;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]{width:100%;padding-right:2em;text-indent:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-filter-container[_ngcontent-%COMP%]   .ui-orderlist-filter-icon[_ngcontent-%COMP%]{top:50%;margin-top:-.5em;left:auto;right:1.357em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:0}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]{padding:.429em .857em;margin:0;border:0;color:#666;background-color:transparent;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-item[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-orderlist[_ngcontent-%COMP%]   .ui-orderlist-list[_ngcontent-%COMP%]   .ui-orderlist-droppoint-highlight[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]{padding:.286em;margin:0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]{padding:.143em 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]{padding:0;border:1px solid transparent;transition:background-color .2s,box-shadow .2s;border-radius:2px}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-tree-toggler[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;float:none;margin:0 .143em 0 0;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-icon[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin:0 .143em 0 0;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]{margin:0;vertical-align:middle;display:inline-block;padding:.286em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]{margin:0 .5em 0 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-chkbox-icon[_ngcontent-%COMP%]{margin:1px 0 0}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-selectable[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:inherit}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-dragover[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-container[_ngcontent-%COMP%]   .ui-treenode-droppoint.ui-treenode-droppoint-active[_ngcontent-%COMP%]{background-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-chkbox[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{color:#7b95a3}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]   .ui-treenode-label[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:inherit;color:inherit}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content.ui-treenode-selectable[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-tree.ui-tree-horizontal[_ngcontent-%COMP%]   .ui-treenode[_ngcontent-%COMP%]   .ui-treenode-content[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-filter-container[_ngcontent-%COMP%]   .ui-tree-filter[_ngcontent-%COMP%]{width:100%;padding-right:2em}body[_ngcontent-%COMP%]   .ui-tree[_ngcontent-%COMP%]   .ui-tree-filter-container[_ngcontent-%COMP%]   .ui-tree-filter-icon[_ngcontent-%COMP%]{top:50%;left:auto;margin-top:-.5em;right:.8em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-organizationchart-selectable-node[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content.ui-state-highlight[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5da68f}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-down[_ngcontent-%COMP%]{background-color:#c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-left[_ngcontent-%COMP%]{border-right:1px solid;border-color:#c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-line-top[_ngcontent-%COMP%]{border-color:#dadada #c8c8c8 #c8c8c8;border-top:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]{bottom:-.7em;margin-left:-.46em;color:#a6a6a6;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-organizationchart[_ngcontent-%COMP%]   .ui-organizationchart-node-content[_ngcontent-%COMP%]   .ui-node-toggler[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-caption[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-summary[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;border:1px solid #7b95a3;padding:.571em 1em;text-align:center}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-caption[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-summary[_ngcontent-%COMP%]{border-top:0;font-weight:700}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:.571em .857em;border:1px solid #dadada;font-weight:700;color:#666;background-color:#fff}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]{transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover{background-color:#eaeaea;color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column[_ngcontent-%COMP%]:not(.ui-state-highlight):hover   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-sortable-column.ui-state-highlight[_ngcontent-%COMP%]   .ui-sortable-column-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-editable-column[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid #dadada;outline-offset:2px}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:#fff;color:#666}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#a6a6a6;vertical-align:middle}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-chkbox[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-state-highlight[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background-color:inherit;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr.ui-contextmenu-selected[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]   .ui-treetable-toggler[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-treetable.ui-treetable-hoverable-rows[_ngcontent-%COMP%]   .ui-treetable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:not(.ui-state-highlight):not(.ui-contextmenu-selected):hover{cursor:pointer;background-color:#eaeaea;color:#333}body[_ngcontent-%COMP%]   .ui-treetable[_ngcontent-%COMP%]   .ui-column-resizer-helper[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-prev[_ngcontent-%COMP%]{background-color:#7b95a3;border:1px solid #617c8a;border-radius:50%;margin:.2em;color:#fff;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-next[_ngcontent-%COMP%]:not(.ui-state-disabled):hover, body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-content[_ngcontent-%COMP%]   .ui-carousel-prev[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#6c8999;color:#fff;border-color:#6c8999}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%] > .ui-button[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]{width:20px;height:6px;background-color:#b2c1cd;margin:0 .2em}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]:before{content:" "}body[_ngcontent-%COMP%]   .ui-carousel[_ngcontent-%COMP%]   .ui-carousel-dots-container[_ngcontent-%COMP%]   .ui-carousel-dot-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-carousel-dot-icon[_ngcontent-%COMP%]{background-color:#7b95a3}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]{padding:1em;margin:1em 0}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-info[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-success[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-warn[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-messages.ui-messages-error[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%]{top:.25em;right:.5em;font-size:1.5em;overflow:hidden;line-height:1;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-messages[_ngcontent-%COMP%]   .ui-messages-icon[_ngcontent-%COMP%]{font-size:2em}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]{padding:.429em;margin:0}body[_ngcontent-%COMP%]   .ui-message.ui-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-info[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-success[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-warn[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-message.ui-message-error[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]   .ui-message-icon[_ngcontent-%COMP%]{font-size:1.714em}body[_ngcontent-%COMP%]   .ui-message[_ngcontent-%COMP%]   .ui-message-text[_ngcontent-%COMP%]{font-size:14px}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]{top:120px}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]{margin:0 0 1em;opacity:.9;filter:alpha(opacity=90);box-shadow:0 3px 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]{padding:1em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]   .ui-growl-message[_ngcontent-%COMP%]{margin:0 0 0 4em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container[_ngcontent-%COMP%]   .ui-growl-item[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{font-size:3.429em}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-info[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-success[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-warn[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-growl[_ngcontent-%COMP%]   .ui-growl-item-container.ui-growl-message-error[_ngcontent-%COMP%]   .ui-growl-image[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message[_ngcontent-%COMP%]{box-shadow:0 3px .429em 0 rgba(0,0,0,.16);margin:0 0 1em}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-info[_ngcontent-%COMP%]{background-color:#a3def8;border:1px solid #79c8eb;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-info[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-success[_ngcontent-%COMP%]{background-color:#a3e2c6;border:1px solid #a3e2c6;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-success[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-warn[_ngcontent-%COMP%]{background-color:#ffe277;border:1px solid #ffe277;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-warn[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-error[_ngcontent-%COMP%]{background-color:#ff8b8b;border:1px solid #ff8b8b;color:#212121}body[_ngcontent-%COMP%]   .ui-toast[_ngcontent-%COMP%]   .ui-toast-message.ui-toast-message-error[_ngcontent-%COMP%]   .ui-toast-close-icon[_ngcontent-%COMP%]{color:#212121}body[_ngcontent-%COMP%]   .ui-widget-overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4)}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:0;border:1px solid #f1f1f1;border-radius:0}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-content[_ngcontent-%COMP%]{padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;width:1.538em;height:1.538em;line-height:1.538em;text-align:center;position:absolute;top:-.769em;right:-.769em;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]   .ui-overlaypanel-close-icon[_ngcontent-%COMP%]{line-height:inherit}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]:hover{background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]   .ui-overlaypanel-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]:after{border-color:hsla(0,0%,100%,0) hsla(0,0%,100%,0) #fff}body[_ngcontent-%COMP%]   .ui-overlaypanel[_ngcontent-%COMP%]:before{border-color:hsla(0,0%,94.5%,0) hsla(0,0%,94.5%,0) #f1f1f1}body[_ngcontent-%COMP%]   .ui-overlaypanel.ui-overlaypanel-flipped[_ngcontent-%COMP%]:after{border-top-color:#fff}body[_ngcontent-%COMP%]   .ui-overlaypanel.ui-overlaypanel-flipped[_ngcontent-%COMP%]:before{border-top-color:#f1f1f1}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]{padding:0;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]{background-color:#7b95a3;color:#fff;padding:1em;font-weight:700;border:1px solid #7b95a3;border-bottom:0}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-title[_ngcontent-%COMP%]{margin:0;float:none}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]{color:#fff;border:0;padding:0;margin-left:.5em;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-titlebar[_ngcontent-%COMP%]   .ui-dialog-titlebar-icon[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{background-color:#fff;color:#666;border:1px solid #f1f1f1;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#fff;color:#666;padding:.571em 1em;margin:0;text-align:right;position:relative;top:-1px}body[_ngcontent-%COMP%]   .ui-dialog[_ngcontent-%COMP%]   .ui-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .5em 0 0;width:auto}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%]{padding:1.5em}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{float:none;display:inline-block;vertical-align:middle;line-height:14px;margin:0}body[_ngcontent-%COMP%]   .ui-dialog.ui-confirm-dialog[_ngcontent-%COMP%]   .ui-dialog-content[_ngcontent-%COMP%] > span.ui-icon[_ngcontent-%COMP%]{margin-right:.35em;font-size:16px}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]{background-color:#fff;color:#666;padding:.571em 1em;border:1px solid #f1f1f1;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]   .ui-sidebar-close[_ngcontent-%COMP%]{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-sidebar[_ngcontent-%COMP%]   .ui-sidebar-close[_ngcontent-%COMP%]:hover{color:#666}body[_ngcontent-%COMP%]   .ui-tooltip[_ngcontent-%COMP%]   .ui-tooltip-text[_ngcontent-%COMP%]{background-color:#afd3c8;color:#385048;padding:.429em;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-right[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-right-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-left[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-left-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-top[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-top-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-tooltip.ui-tooltip-bottom[_ngcontent-%COMP%]   .ui-tooltip-arrow[_ngcontent-%COMP%]{border-bottom-color:#afd3c8}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.571em 1em;font-weight:700}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-caption-text[_ngcontent-%COMP%]{color:#fff;margin:0}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]{padding:0;color:#fff;overflow:hidden;line-height:1;transition:color .2s,background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]:hover{color:#fff}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-caption[_ngcontent-%COMP%]   .ui-lightbox-close[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;color:#666;border:0;padding:0;border-radius:0}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-left[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-right[_ngcontent-%COMP%]{transition:all .2s;font-size:3em;color:#fff;margin-top:-.5em}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-left[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-nav-right[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%]   .ui-lightbox[_ngcontent-%COMP%]   .ui-lightbox-content-wrapper[_ngcontent-%COMP%]   .ui-lightbox-content.ui-lightbox-loading[_ngcontent-%COMP%] ~ a[_ngcontent-%COMP%]{display:none}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dadada;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{color:#666;margin:0;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.ui-breadcrumb-chevron[_ngcontent-%COMP%]{margin:0 .5em;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{color:#a6a6a6;margin:0}body[_ngcontent-%COMP%]   .ui-breadcrumb[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%]{color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]{position:relative}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]{background-color:transparent;text-align:center}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{display:inline-block;text-align:center;background-color:transparent;overflow:hidden;border-radius:2px;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-steps-number[_ngcontent-%COMP%]{border-radius:50%;display:inline-block;color:#a6a6a6;background-color:#fff;border:1px solid #c8c8c8;position:relative;top:16px;margin-bottom:14px;width:28px;height:28px;font-size:16px;line-height:24px;text-align:center}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-steps-title[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-steps-number[_ngcontent-%COMP%]{background:#afd3c8;color:#385048}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]   .ui-steps-item.ui-state-highlight[_ngcontent-%COMP%]   .ui-steps-title[_ngcontent-%COMP%]{font-weight:700;color:#666}body[_ngcontent-%COMP%]   .ui-steps[_ngcontent-%COMP%]:before{content:" ";border-top:1px solid #dadada;width:100%;top:45%;left:0;display:block;position:absolute}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em;color:#666;font-weight:400;border-radius:0;transition:box-shadow .2s}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%]{color:#666;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus, body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:inset 0 0 0 .2em #e4e9ec}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menu.ui-shadow[_ngcontent-%COMP%]{border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-submenu-header[_ngcontent-%COMP%]{margin:0;padding:.714em .857em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-menu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menubar-root-list[_ngcontent-%COMP%] > .ui-menuitem[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menubar-root-list[_ngcontent-%COMP%] > .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:0 0 0 1px}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-menubar[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-contextmenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-tieredmenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-submenu-list[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-slidemenu-backward[_ngcontent-%COMP%]{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-slidemenu-backward[_ngcontent-%COMP%]:hover{background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-slidemenu[_ngcontent-%COMP%]   .ui-menu-separator[_ngcontent-%COMP%]{border:solid #c8c8c8;border-width:1px 0 0}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]{border:0}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]{padding:0;background:#fff;border-bottom:1px solid #7b95a3}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]{position:static;border:1px solid #7b95a3;background-color:#7b95a3;margin-right:.214em;margin-bottom:-1px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{color:#fff;padding:.571em 1em;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#fff;margin-right:.5em}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover{background-color:#617c8a;border:1px solid #617c8a}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem[_ngcontent-%COMP%]:not(.ui-state-active):not(.ui-state-disabled):hover   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]{background-color:#afd3c8;border:1px solid #dadada}body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-tabmenu[_ngcontent-%COMP%]   .ui-tabmenu-nav[_ngcontent-%COMP%]   .ui-tabmenuitem.ui-state-active[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-megamenu-submenu-header[_ngcontent-%COMP%]{margin:0;padding:.571em 1em;color:#fff;background-color:#7b95a3;font-weight:700;border:0}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-megamenu-panel[_ngcontent-%COMP%]{padding:0;background-color:#fff;border:1px solid #c8c8c8;box-shadow:0 0 6px 0 rgba(0,0,0,.16)}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-megamenu[_ngcontent-%COMP%]   .ui-menuitem.ui-menuitem-active[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%]   .ui-submenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-megamenu.ui-megamenu-vertical[_ngcontent-%COMP%]   .ui-megamenu-root-list[_ngcontent-%COMP%] > .ui-menuitem[_ngcontent-%COMP%] > .ui-menuitem-link[_ngcontent-%COMP%] > .ui-submenu-icon[_ngcontent-%COMP%]{right:.429em}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{position:static}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:1px solid #7b95a3;background-color:#7b95a3;color:#fff;padding:.714em .857em;font-weight:700;position:static;font-size:14px;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]:not(.ui-state-active) > a[_ngcontent-%COMP%]:hover{outline:0 none;border:1px solid #617c8a;background-color:#617c8a;color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header[_ngcontent-%COMP%]:not(.ui-state-active) > a[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#fff}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{border:1px solid #dadada;background-color:#afd3c8;color:#385048;border-bottom-left-radius:0;border-bottom-right-radius:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{outline:0 none;border:1px solid #8dc8b5;background-color:#8dc8b5;color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-header.ui-state-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#385048}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-panel[_ngcontent-%COMP%]{margin-top:2px}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-panel[_ngcontent-%COMP%]:first-child{margin-top:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]{padding:0;background-color:#fff;margin-top:0;position:static;border:1px solid #c8c8c8;border-top:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]{padding:.714em .857em;color:#666}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover{background-color:#eaeaea}body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-icon[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-menuitem-text[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-panelmenu[_ngcontent-%COMP%]   .ui-panelmenu-content[_ngcontent-%COMP%]   .ui-menuitem[_ngcontent-%COMP%]   .ui-menuitem-link[_ngcontent-%COMP%]:hover   .ui-panelmenu-icon[_ngcontent-%COMP%]{color:#666}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]{border:0;height:1.714em;background-color:#efefef}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]   .ui-progressbar-value[_ngcontent-%COMP%]{border:0;margin:0;background:#7b95a3}body[_ngcontent-%COMP%]   .ui-progressbar[_ngcontent-%COMP%]   .ui-progressbar-label[_ngcontent-%COMP%]{margin-top:0;color:#666;line-height:1.714em}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]{transition:all .2s;position:absolute;color:#a6a6a6}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%]:hover, body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]:hover{transform:scale(1.2)}body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-next[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   .ui-galleria[_ngcontent-%COMP%]   .ui-galleria-nav-prev[_ngcontent-%COMP%]{font-size:16px}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]{background-color:#fff;color:#666;border:1px solid #dadada;padding:.571em 1em}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]   .ui-terminal-input[_ngcontent-%COMP%]{font-size:14px;font-family:Open Sans,Helvetica Neue,sans-serif;height:16px}body[_ngcontent-%COMP%]   .ui-terminal[_ngcontent-%COMP%]   .ui-terminal-command[_ngcontent-%COMP%]{height:16px}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]{min-height:2.357em}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]{padding:.429em;border-radius:2px;transition:background-color .2s,box-shadow .2s}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]:not(.ui-state-disabled):hover{background-color:#f4f4f4;color:#666}body[_ngcontent-%COMP%]   .ui-inplace[_ngcontent-%COMP%]   .ui-inplace-display[_ngcontent-%COMP%]:focus{outline:0 none;outline-offset:0;box-shadow:0 0 0 .2em #c6d1d7}body[_ngcontent-%COMP%]   .ui-fluid[_ngcontent-%COMP%]   .ui-inplace.ui-inplace-closable[_ngcontent-%COMP%]   .ui-inplace-content[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{display:inline-block;width:calc(100% - 2.357em)}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0}.mapboxgl-canvas-container[_ngcontent-%COMP%]{height:100vh;color:#fff}@media (min-width:640px) and (max-width:767px){.menuToggleBtnText[_ngcontent-%COMP%]{display:none}}.menuBtns[_ngcontent-%COMP%]{display:flex;margin:1vh 0;height:5vh;justify-content:space-between;align-items:center;font-size:1.25rem;background:none;border:none;border-top:2px solid!important;border-radius:.25rem;cursor:pointer;box-shadow:0 3px 10px #d3d3d3}.menuBtns[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-left:.5rem}.menuBtns[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.menuBtns[_ngcontent-%COMP%]:hover{background-color:#6a5acd;box-shadow:none;color:#fff}.menuBtns[_ngcontent-%COMP%]:active{background-color:#ff0;box-shadow:none;color:#789}.menuPanel[_ngcontent-%COMP%]{padding-top:.15em}.menuPanel[_ngcontent-%COMP%]   .ui-panel-titlebar[_ngcontent-%COMP%]{border:none;background:none;color:#000;padding-top:0;margin-top:0;top:0}#map[_ngcontent-%COMP%]{border-radius:.5rem;display:flex;height:75vh;margin:auto;position:relative}.mapboxgl-popup-tip[_ngcontent-%COMP%]{border-top-color:rgba(0,0,0,.5)!important}.mapboxgl-popup-content[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 .1rem;color:#fff;background-color:rgba(0,0,0,.5)}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]{text-align:center;margin:auto}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:.25rem;line-height:normal}.mapboxgl-popup-content[_ngcontent-%COMP%]   .map-popup[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal;padding:.25rem;margin:auto}.ui-button.R-1[_ngcontent-%COMP%]{color:#000;background-color:#fffaca!important}.ui-button.R-2[_ngcontent-%COMP%]{color:#000;background-color:#fff68f!important}.ui-button.R-3[_ngcontent-%COMP%]{color:#000;background-color:#fff100!important}.ui-button.R-4[_ngcontent-%COMP%]{color:#000;background-color:#ebd417!important}.ui-button.C-1[_ngcontent-%COMP%]{color:#000;background-color:#a18aad!important}.ui-button.C-2[_ngcontent-%COMP%]{color:#fff;background-color:#da2028!important}.ui-button.C-3[_ngcontent-%COMP%]{background-color:#850204!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.MX-1[_ngcontent-%COMP%]{color:#000;background-color:#e4a024!important}.ui-button.MX-2[_ngcontent-%COMP%]{color:#000;background-color:#f37520!important}.ui-button.MX-3[_ngcontent-%COMP%]{color:#fff;background-color:#ff2900!important}.ui-button.I-1[_ngcontent-%COMP%]{color:#000;background-color:#e1c3dd!important}.ui-button.I-2[_ngcontent-%COMP%]{color:#fff;background-color:#a53ed5!important}.ui-button.I-3[_ngcontent-%COMP%]{color:#fff;background-color:#c0188c!important}.ui-button.RDV[_ngcontent-%COMP%]{color:#000;background-color:#ddd!important}.ui-button.PARK[_ngcontent-%COMP%]{color:#fff;background-color:#229a00!important}.ui-button.INST[_ngcontent-%COMP%]{color:#fff;background-color:#0063ff!important}.ui-button.CEM[_ngcontent-%COMP%]{background-color:#561818!important;color:#fff!important;-webkit-text-fill-color:#fff!important}.ui-button.PORT[_ngcontent-%COMP%]{color:#fff;background-color:#b81609!important}.ui-button.EWR[_ngcontent-%COMP%]{background-color:#820c0c!important;color:#fff!important;-webkit-text-fill-color:#fff!important}']}),t})();const wS=[GP,Ow,rw,sk,aM,(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,y_],y_]}),t})(),(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl]]}),t})(),(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl],yw]}),t})(),cS,hw,(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,GP,y_],GP,y_]}),t})(),(()=>{let t=class{};return t.\u0275mod=ve({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Hl,y_],y_]}),t})(),HE];let PS=(()=>{class t{}return t.\u0275mod=ve({type:t,bootstrap:[xS]}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Dx],imports:[[Pd,Gp,Hl,zP,BP,cy,$l,wS,E_]]}),t})();(function(){if(ii)throw new Error("Cannot enable prod mode after platform setup.");ni=!1})(),xd().bootstrapModule(PS).then(t=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=t}).catch(t=>{console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);